/*version: 0.1.3*/
export function SeenEditor(id, parent, opts) { 
                opts.mode = 'editor'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(o,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(o=o||self,o.CodeMirror=a())})(void 0,function(){var o=navigator.userAgent,a=navigator.platform,d=/gecko\\/\\d/i.test(o),A=/MSIE \\d/.test(o),L=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(o),E=/Edge\\/(\\d+)/.exec(o),S=A||L||E,k=S&&(A?document.documentMode||6:+(E||L)[1]),p=!E&&/WebKit\\//.test(o),h=p&&/Qt\\/\\d+\\.\\d+/.test(o),l=!E&&/Chrome\\/(\\d+)/.exec(o),f=l&&+l[1],b=/Opera\\//.test(o),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(o),g=/PhantomJS/.test(o),y=F&&(/Mobile\\/\\w+/.test(o)||navigator.maxTouchPoints>2),W=/Android/.test(o),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),z=y||/Mac/.test(a),H=/\\bCrOS\\b/.test(o),U=/win/i.test(a),Z=b&&o.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,p=!0);var ot=z&&(h||b&&(Z==null||Z<12.11)),rt=d||S&&k>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function x(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return x(t).appendChild(e)}function C(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var s=0;s<e.length;++s)r.appendChild(e[s]);return r}function Q(t,e,i,n){var r=C(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function T(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var s=n||0,u=r||0;;){var c=t.indexOf("	",s);if(c<0||c>=e)return u+(e-s);u+=c-s,u+=i-u%i,s=c+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function vt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ne=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ce={origin:"*mouse"},ke={origin:"+move"};function Se(t,e,i){for(var n=0,r=0;;){var s=t.indexOf("	",n);s==-1&&(s=t.length);var u=s-n;if(s==t.length||r+u>=e)return n+Math.min(u,e-r);if(r+=s-n,r+=i-r%i,n=s+1,r>=e)return n}}var _e=[""];function It(t){for(;_e.length<=t;)_e.push(mt(_e)+" ");return _e[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function on(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function ci(){}function Yi(t,e){var i;return Object.create?i=Object.create(t):(ci.prototype=t,i=new ci),e&&ft(e,i),i}var Ur=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function fi(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ur.test(t))}function In(t,e){return e?e.source.indexOf("\\\\w")>-1&&fi(t)?!0:e.test(t):fi(t)}function Qi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Bn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function _i(t){return t.charCodeAt(0)>=768&&Bn.test(t)}function We(t,e,i){for(;(i<0?e>0:e<t.length)&&_i(t.charAt(e));)e+=i;return e}function Bt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,s=n<0?Math.ceil(r):Math.floor(r);if(s==e)return t(s)?e:i;t(s)?i=s:e=s+n}}function Sn(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,s=0;s<t.length;++s){var u=t[s];(u.from<i&&u.to>e||e==i&&u.to==e)&&(n(Math.max(u.from,e),Math.min(u.to,i),u.level==1?"rtl":"ltr",s),r=!0)}r||n(e,i,"ltr")}var Ie=null;function Ae(t,e,i){var n;Ie=null;for(var r=0;r<t.length;++r){var s=t[r];if(s.from<e&&s.to>e)return r;s.to==e&&(s.from!=s.to&&i=="before"?n=r:Ie=r),s.from==e&&(s.from!=s.to&&i!="before"?n=r:Ie=r)}return n??Ie}var Kr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,s=/[LRr]/,u=/[Lb1n]/,c=/[1n]/;function _(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":s.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var xe=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",ve=Dt;ve<Wt;++ve)q[ve]=xe;Dt=Wt-1}}for(var Ut=0,me=M;Ut<j;++Ut){var ie=q[Ut];me=="L"&&ie=="1"?q[Ut]="L":s.test(ie)&&(me=ie)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",be=(Kt<j?q[Kt]:M)=="L",ai=qt==be?qt?"L":"R":M,yn=\$t;yn<Kt;++yn)q[yn]=ai;\$t=Kt-1}for(var oe=[],Ke,te=0;te<j;)if(u.test(q[te])){var Bs=te;for(++te;te<j&&u.test(q[te]);++te);oe.push(new _(0,Bs,te))}else{var nn=te,Dn=oe.length,Mn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var fe=nn;fe<te;)if(c.test(q[fe])){nn<fe&&(oe.splice(Dn,0,new _(1,nn,fe)),Dn+=Mn);var oi=fe;for(++fe;fe<te&&c.test(q[fe]);++fe);oe.splice(Dn,0,new _(2,oi,fe)),Dn+=Mn,nn=fe}else++fe;nn<te&&oe.splice(Dn,0,new _(1,nn,te))}return N=="ltr"&&(oe[0].level==1&&(Ke=m.match(/^\\s+/))&&(oe[0].from=Ke[0].length,oe.unshift(new _(0,0,Ke[0].length))),mt(oe).level==1&&(Ke=m.match(/\\s+\$/))&&(mt(oe).to-=Ke[0].length,oe.push(new _(0,j-Ke[0].length,j)))),N=="rtl"?oe.reverse():oe}}();function Le(t,e){var i=t.order;return i==null&&(i=t.order=Kr(t.text,e)),i}var Zi=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Zi).concat(i)}};function pi(t,e){return t._handlers&&t._handlers[e]||Zi}function re(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var s=vt(r,i);s>-1&&(n[e]=r.slice(0,s).concat(r.slice(s+1)))}}}function Mt(t,e){var i=pi(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function zt(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,i||e.type,t,e),di(e)||e.codemirrorIgnore}function Ji(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)vt(i,e[n])==-1&&i.push(e[n])}function le(t,e){return pi(t,e).length>0}function he(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){re(this,e,i)}}function se(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function En(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function di(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){se(t),En(t)}function pe(t){return t.target||t.srcElement}function gi(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var Gr=function(){if(S&&k<9)return!1;var t=C("div");return"draggable"in t||"dragDrop"in t}(),Oe;function Xr(t){if(Oe==null){var e=C("span","​");K(t,C("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Oe=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&k<8))}var i=Oe?C("span","​"):C("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var zn;function Vi(t){if(zn!=null)return zn;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return x(t),!i||i.left==i.right?!1:zn=n.right-i.right<3}var vi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var s=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),u=s.indexOf("\\r");u!=-1?(i.push(s.slice(0,u)),e+=u+1):(i.push(s),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},un=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Be=function(){var t=C("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),ze=null;function tr(t){if(ze!=null)return ze;var e=K(t,C("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return ze=Math.abs(i.left-n.left)>1}var Re={},ln={};function er(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Re[t]=e}function Hn(t,e){ln[t]=e}function ye(t){if(typeof t=="string"&&ln.hasOwnProperty(t))t=ln[t];else if(t&&typeof t.name=="string"&&ln.hasOwnProperty(t.name)){var e=ln[t.name];typeof e=="string"&&(e={name:e}),t=Yi(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return ye("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return ye("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=ye(e);var i=Re[e.name];if(!i)return \$e(t,"text/plain");var n=i(t,e);if(hn.hasOwnProperty(e.name)){var r=hn[e.name];for(var s in r)r.hasOwnProperty(s)&&(n.hasOwnProperty(s)&&(n["_"+s]=n[s]),n[s]=r[s])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var u in e.modeProps)n[u]=e.modeProps[u];return n}var hn={};function nr(t,e){var i=hn.hasOwnProperty(t)?hn[t]:hn[t]={};ft(e,i)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function cn(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function mi(t,e,i){return t.startState?t.startState(e,i):!0}var Ht=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(u){return i?u.toLowerCase():u},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var s=this.string.slice(this.pos).match(t);return s&&s.index>0?null:(s&&e!==!1&&(this.pos+=s[0].length),s)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],s=r.chunkSize();if(e<s){i=r;break}e-=s}return i.lines[e]}function Qe(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(s){var u=s.text;r==i.line&&(u=u.slice(0,i.ch)),r==e.line&&(u=u.slice(e.ch)),n.push(u),++r}),n}function qn(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Ne(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,i=vt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function He(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],s=r.height;if(e<s){t=r;continue t}e-=s,i+=r.chunkSize()}return i}while(!t.lines);for(var u=0;u<t.lines.length;++u){var c=t.lines[u],_=c.height;if(e<_)break;e-=_}return i+u}function w(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,i){if(i===void 0&&(i=null),!(this instanceof B))return new B(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function Ee(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var i=t.first+t.size-1;return e.line>i?B(i,ct(t,i).text.length):Ku(e,ct(t,e.line).text.length)}function Ku(t,e){var i=t.ch;return i==null||i>e?B(t.line,e):i<0?B(t.line,0):t}function fa(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=yt(t,e[n]);return i}var ir=function(t,e){this.state=t,this.lookAhead=e},qe=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};qe.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},qe.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},qe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},qe.fromSaved=function(t,e,i){return e instanceof ir?new qe(t,Ye(t.mode,e.state),i,e.lookAhead):new qe(t,Ye(t.mode,e),i)},qe.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ir(e,this.maxLookAhead):e};function _a(t,e,i,n){var r=[t.state.modeGen],s={};ba(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},s,n);for(var u=i.state,c=function(m){i.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;i.state=!0,ba(t,e.text,N.mode,i,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},s),i.state=u,i.baseTokens=null,i.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)c(_);return{styles:r,classes:s.bgClass||s.textClass?s:null}}function pa(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=bi(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,n.state),s=_a(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=s.styles,s.classes?e.styleClasses=s.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function bi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new qe(n,!0,e);var s=Gu(t,e,i),u=s>n.first&&ct(n,s-1).stateAfter,c=u?qe.fromSaved(n,u,s):new qe(n,mi(n.mode),s);return n.iter(s,e,function(_){\$r(t,_.text,c);var m=c.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?c.save():null,c.nextLine()}),i&&(n.modeFrontier=c.line),c}function \$r(t,e,i,n){var r=t.doc.mode,s=new Ht(e,t.options.tabSize,i);for(s.start=s.pos=n||0,e==""&&da(r,i.state);!s.eol();)Yr(r,s,i.state),s.start=s.pos}function da(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=cn(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function Yr(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=cn(t,i).mode);var s=t.token(e,i);if(e.pos>e.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}var ga=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function va(t,e,i,n){var r=t.doc,s=r.mode,u;e=yt(r,e);var c=ct(r,e.line),_=bi(t,e.line,i),m=new Ht(c.text,t.options.tabSize,_),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,u=Yr(s,m,_.state),n&&N.push(new ga(m,u,Ye(r.mode,_.state)));return n?N:new ga(m,u,_.state)}function ma(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ba(t,e,i,n,r,s,u){var c=i.flattenSpans;c==null&&(c=t.options.flattenSpans);var _=0,m=null,N=new Ht(e,t.options.tabSize,n),M,j=t.options.addModeClass&&[null];for(e==""&&ma(da(i,n.state),s);!N.eol();){if(N.pos>t.options.maxHighlightLength?(c=!1,u&&\$r(t,e,n,N.pos),N.pos=e.length,M=null):M=ma(Yr(i,N,n.state,j),s),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!c||m!=M){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=M}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function Gu(t,e,i){for(var n,r,s=t.doc,u=i?-1:e-(t.doc.mode.innerMode?1e3:100),c=e;c>u;--c){if(c<=s.first)return s.first;var _=ct(s,c-1),m=_.stateAfter;if(m&&(!i||c+(m instanceof ir?m.lookAhead:0)<=s.modeFrontier))return c;var N=at(_.text,null,t.options.tabSize);(r==null||n>N)&&(r=c-1,n=N)}return r}function Xu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof ir)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var ya=!1,Ze=!1;function \$u(){ya=!0}function Yu(){Ze=!0}function rr(t,e,i){this.marker=t,this.from=e,this.to=i}function yi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Qu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function Zu(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function Ju(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var s=t[r],u=s.marker,c=s.from==null||(u.inclusiveLeft?s.from<=e:s.from<e);if(c||s.from==e&&u.type=="bookmark"&&(!i||!s.marker.insertLeft)){var _=s.to==null||(u.inclusiveRight?s.to>=e:s.to>e);(n||(n=[])).push(new rr(u,s.from,_?null:s.to))}}return n}function Vu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var s=t[r],u=s.marker,c=s.to==null||(u.inclusiveRight?s.to>=e:s.to>e);if(c||s.from==e&&u.type=="bookmark"&&(!i||s.marker.insertLeft)){var _=s.from==null||(u.inclusiveLeft?s.from<=e:s.from<e);(n||(n=[])).push(new rr(u,_?null:s.from-e,s.to==null?null:s.to-e))}}return n}function Qr(t,e){if(e.full)return null;var i=w(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=w(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,s=e.to.ch,u=G(e.from,e.to)==0,c=Ju(i,r,u),_=Vu(n,s,u),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(c)for(var M=0;M<c.length;++M){var j=c[M];if(j.to==null){var q=yi(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=yi(c,Y.marker);V||(Y.from=N,m&&(c||(c=[])).push(Y))}else Y.from+=N,m&&(c||(c=[])).push(Y)}c&&(c=wa(c)),_&&_!=c&&(_=wa(_));var tt=[c];if(!m){var st=e.text.length-2,et;if(st>0&&c)for(var ut=0;ut<c.length;++ut)c[ut].to==null&&(et||(et=[])).push(new rr(c[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(_)}return tt}function wa(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function tl(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||vt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],s=0;s<n.length;++s)for(var u=n[s],c=u.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,c.from)<0||G(m.from,c.to)>0)){var N=[_,1],M=G(m.from,c.from),j=G(m.to,c.to);(M<0||!u.inclusiveLeft&&!M)&&N.push({from:m.from,to:c.from}),(j>0||!u.inclusiveRight&&!j)&&N.push({from:c.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function xa(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function ka(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function sr(t){return t.inclusiveLeft?-1:0}function ar(t){return t.inclusiveRight?1:0}function Zr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),s=G(n.from,r.from)||sr(t)-sr(e);if(s)return-s;var u=G(n.to,r.to)||ar(t)-ar(e);return u||e.id-t.id}function Sa(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=void 0,s=0;s<i.length;++s)r=i[s],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Zr(n,r.marker)<0)&&(n=r.marker);return n}function Ea(t){return Sa(t,!0)}function or(t){return Sa(t,!1)}function el(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var s=i[r];s.marker.collapsed&&(s.from==null||s.from<e)&&(s.to==null||s.to>e)&&(!n||Zr(n,s.marker)<0)&&(n=s.marker)}return n}function Ta(t,e,i,n,r){var s=ct(t,e),u=Ze&&s.markedSpans;if(u)for(var c=0;c<u.length;++c){var _=u[c];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,i)||sr(_.marker)-sr(r),M=G(m.to,n)||ar(_.marker)-ar(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Fe(t){for(var e;e=Ea(t);)t=e.find(-1,!0).line;return t}function nl(t){for(var e;e=or(t);)t=e.find(1,!0).line;return t}function il(t){for(var e,i;e=or(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Jr(t,e){var i=ct(t,e),n=Fe(i);return i==n?e:Lt(n)}function Ca(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!fn(t,i))return e;for(;n=or(i);)i=n.find(1,!0).line;return Lt(i)+1}function fn(t,e){var i=Ze&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Vr(t,e,n))return!0}}}function Vr(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return Vr(t,n.line,yi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,s=0;s<e.markedSpans.length;++s)if(r=e.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Vr(t,e,r))return!0}function Je(t){t=Fe(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var s=i.parent;s;i=s,s=i.parent)for(var u=0;u<s.children.length;++u){var c=s.children[u];if(c==i)break;e+=c.height}return e}function ur(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=Ea(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=or(n);){var s=i.find(0,!0);e-=n.text.length-s.from.ch,n=s.to.line,e+=n.text.length-s.to.ch}return e}function ts(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=ur(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=ur(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var jn=function(t,e,i){this.text=t,ka(this,e),this.height=i?i(this):1};jn.prototype.lineNo=function(){return Lt(this)},he(jn);function rl(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),xa(t),ka(t,i);var r=n?n(t):1;r!=t.height&&Ne(t,r)}function sl(t){t.parent=null,xa(t)}var al={},ol={};function Aa(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?ol:al;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function La(t,e){var i=Q("span",null,null,p?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var s=r?e.rest[r-1]:e.line,u=void 0;n.pos=0,n.addToken=ll,Vi(t.display.measure)&&(u=Le(s,t.doc.direction))&&(n.addToken=cl(n.addToken,u)),n.map=[];var c=e!=t.display.externalMeasured&&Lt(s);fl(s,n,pa(t,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=\$(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=\$(s.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Xr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(p){var _=n.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function ul(t){var e=C("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ll(t,e,i,n,r,s,u){if(e){var c=t.splitSpaces?hl(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,N),S&&k<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){_.lastIndex=M;var j=_.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(c.slice(M,M+q));S&&k<9?N.appendChild(C("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(C("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(C("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&k<9?N.appendChild(C("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=c.charCodeAt(e.length-1)==32,i||n||r||m||s||u){var st=i||"";n&&(st+=n),r&&(st+=r);var et=C("span",[N],st,s);if(u)for(var ut in u)u.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,u[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function hl(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var s=t.charAt(r);s==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(s=" "),n+=s,i=s==" "}return n}function cl(t,e){return function(i,n,r,s,u,c,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(i,n,r,s,u,c,_);t(i,n.slice(0,M.to-m),r,s,null,c,_),s=null,n=n.slice(M.to-m),m=M.to}}}function Oa(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function fl(t,e,i){var n=t.markedSpans,r=t.text,s=0;if(!n){for(var u=1;u<i.length;u+=2)e.addToken(e,r.slice(s,s=i[u]),Aa(i[u+1],e.cm.options));return}for(var c=r.length,_=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<n.length;++gt){var pt=n[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==_&&xt.widgetNode)et.push(xt);else if(pt.from<=_&&(pt.to==null||pt.to>_||xt.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==_&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Zr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)Oa(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(Oa(e,(tt.to==null?c+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=c)break;for(var xe=Math.min(c,q);;){if(N){var ve=_+N.length;if(!tt){var Ut=ve>xe?N.slice(0,xe-_):N;e.addToken(e,Ut,M?M+X:X,V,_+Ut.length==q?Y:"",j,st)}if(ve>=xe){N=N.slice(xe-_),_=xe;break}_=ve,V=""}N=r.slice(s,s=i[m++]),M=Aa(i[m++],e.cm.options)}}}function Na(t,e,i){this.line=e,this.rest=il(e),this.size=this.rest?Lt(mt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=fn(t,e)}function lr(t,e,i){for(var n=[],r,s=e;s<i;s=r){var u=new Na(t.doc,ct(t.doc,s),s);r=s+u.size,n.push(u)}return n}var Un=null;function _l(t){Un?Un.ops.push(t):t.ownsGroup=Un={ops:[t],delayedCallbacks:[]}}function pl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function dl(t,e){var i=t.ownsGroup;if(i)try{pl(i)}finally{Un=null,e(i)}}var wi=null;function Qt(t,e){var i=pi(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;Un?r=Un.delayedCallbacks:wi?r=wi:(r=wi=[],setTimeout(gl,0));for(var s=function(c){r.push(function(){return i[c].apply(null,n)})},u=0;u<i.length;++u)s(u)}}function gl(){var t=wi;wi=null;for(var e=0;e<t.length;++e)t[e]()}function Ra(t,e,i,n){for(var r=0;r<e.changes.length;r++){var s=e.changes[r];s=="text"?ml(t,e):s=="gutter"?Da(t,e,i,n):s=="class"?es(t,e):s=="widget"&&bl(t,e,n)}e.changes=null}function xi(t){return t.node==t.text&&(t.node=C("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&k<8&&(t.node.style.zIndex=2)),t.node}function vl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=xi(e);e.background=n.insertBefore(C("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Fa(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):La(t,e)}function ml(t,e){var i=e.text.className,n=Fa(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,es(t,e)):i&&(e.text.className=i)}function es(t,e){vl(t,e),e.line.wrapClass?xi(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Da(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=xi(e);e.gutterBackground=C("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var u=xi(e),c=e.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(c.setAttribute("aria-hidden","true"),t.display.input.setUneditable(c),u.insertBefore(c,e.text),e.line.gutterClass&&(c.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!s||!s["CodeMirror-linenumbers"])&&(e.lineNumber=c.appendChild(C("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=s.hasOwnProperty(m)&&s[m];N&&c.appendChild(C("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function bl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,s=void 0;r;r=s)s=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Ma(t,e,i)}function yl(t,e,i,n){var r=Fa(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),es(t,e),Da(t,e,i,n),Ma(t,e,n),e.node}function Ma(t,e,i){if(Pa(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Pa(t,e.rest[n],e,i,!1)}function Pa(t,e,i,n,r){if(e.widgets)for(var s=xi(i),u=0,c=e.widgets;u<c.length;++u){var _=c[u],m=C("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),wl(_,m,i,n),t.display.input.setUneditable(m),r&&_.above?s.insertBefore(m,i.gutter||i.text):s.appendChild(m),Qt(_,"redraw")}}function wl(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function ki(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,C("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var i=pe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function hr(t){return t.lineSpace.offsetTop}function ns(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Wa(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,C("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function je(t){return ne-t.display.nativeBarWidth}function Tn(t){return t.display.scroller.clientWidth-je(t)-t.display.barWidth}function is(t){return t.display.scroller.clientHeight-je(t)-t.display.barHeight}function xl(t,e,i){var n=t.options.lineWrapping,r=n&&Tn(t);if(!e.measure.heights||n&&e.measure.width!=r){var s=e.measure.heights=[];if(n){e.measure.width=r;for(var u=e.text.firstChild.getClientRects(),c=0;c<u.length-1;c++){var _=u[c],m=u[c+1];Math.abs(_.bottom-m.bottom)>2&&s.push((_.bottom+m.top)/2-i.top)}}s.push(i.bottom-i.top)}}function Ia(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function kl(t,e){e=Fe(e);var i=Lt(e),n=t.display.externalMeasured=new Na(t.doc,e,i);n.lineN=i;var r=n.built=La(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function Ba(t,e,i,n){return Ue(t,Kn(t,e),i,n)}function rs(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ln(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function Kn(t,e){var i=Lt(e),n=rs(t,i);n&&!n.text?n=null:n&&n.changes&&(Ra(t,n,i,ls(t)),t.curOp.forceUpdate=!0),n||(n=kl(t,e));var r=Ia(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ue(t,e,i,n,r){e.before&&(i=-1);var s=i+(n||""),u;return e.cache.hasOwnProperty(s)?u=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(xl(t,e.view,e.rect),e.hasHeights=!0),u=El(t,e,i,n),u.bogus||(e.cache[s]=u)),{left:u.left,right:u.right,top:r?u.rtop:u.top,bottom:r?u.rbottom:u.bottom}}var za={left:0,right:0,top:0,bottom:0};function Ha(t,e,i){for(var n,r,s,u,c,_,m=0;m<t.length;m+=3)if(c=t[m],_=t[m+1],e<c?(r=0,s=1,u="left"):e<_?(r=e-c,s=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(s=_-c,r=s-1,e>=_&&(u="right")),r!=null){if(n=t[m+2],c==_&&i==(n.insertLeft?"left":"right")&&(u=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],u="left";if(i=="right"&&r==_-c)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],u="right";break}return{node:n,start:r,end:s,collapse:u,coverStart:c,coverEnd:_}}function Sl(t,e){var i=za;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function El(t,e,i,n){var r=Ha(e.map,i,n),s=r.node,u=r.start,c=r.end,_=r.collapse,m;if(s.nodeType==3){for(var N=0;N<4;N++){for(;u&&_i(e.line.text.charAt(r.coverStart+u));)--u;for(;r.coverStart+c<r.coverEnd&&_i(e.line.text.charAt(r.coverStart+c));)++c;if(S&&k<9&&u==0&&c==r.coverEnd-r.coverStart?m=s.parentNode.getBoundingClientRect():m=Sl(it(s,u,c).getClientRects(),n),m.left||m.right||u==0)break;c=u,u=u-1,_="right"}S&&k<11&&(m=Tl(t.display.measure,m))}else{u>0&&(_=n="right");var M;t.options.lineWrapping&&(M=s.getClientRects()).length>1?m=M[n=="right"?M.length-1:0]:m=s.getBoundingClientRect()}if(S&&k<9&&!u&&(!m||!m.left&&!m.right)){var j=s.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Xn(t.display),top:j.top,bottom:j.bottom}:m=za}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Tl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tr(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function qa(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ja(t){t.display.externalMeasure=null,x(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)qa(t.display.view[e])}function Si(t){ja(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ua(t){return l&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ka(t){return l&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ss(t){var e=Fe(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=ki(i[r]));return n}function cr(t,e,i,n,r){if(!r){var s=ss(e);i.top+=s,i.bottom+=s}if(n=="line")return i;n||(n="local");var u=Je(e);if(n=="local"?u+=hr(t.display):u-=t.display.viewOffset,n=="page"||n=="window"){var c=t.display.lineSpace.getBoundingClientRect();u+=c.top+(n=="window"?0:Ka(wt(t)));var _=c.left+(n=="window"?0:Ua(wt(t)));i.left+=_,i.right+=_}return i.top+=u,i.bottom+=u,i}function Ga(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ua(wt(t)),r-=Ka(wt(t));else if(i=="local"||!i){var s=t.display.sizer.getBoundingClientRect();n+=s.left,r+=s.top}var u=t.display.lineSpace.getBoundingClientRect();return{left:n-u.left,top:r-u.top}}function fr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),cr(t,n,Ba(t,n,e.ch,r),i)}function De(t,e,i,n,r,s){n=n||ct(t.doc,e.line),r||(r=Kn(t,n));function u(X,Y){var V=Ue(t,r,X,Y?"right":"left",s);return Y?V.left=V.right:V.right=V.left,cr(t,n,V,i)}var c=Le(n,t.doc.direction),_=e.ch,m=e.sticky;if(_>=n.text.length?(_=n.text.length,m="before"):_<=0&&(_=0,m="after"),!c)return u(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=c[Y],st=tt.level==1;return u(V?X-1:X,st!=V)}var M=Ae(c,_,m),j=Ie,q=N(_,M,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Xa(t,e){var i=0;e=yt(t.doc,e),t.options.lineWrapping||(i=Xn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Je(n)+hr(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function as(t,e,i,n,r){var s=B(t,e,i);return s.xRel=r,n&&(s.outside=n),s}function os(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return as(n.first,0,null,-1,-1);var r=He(n,i),s=n.first+n.size-1;if(r>s)return as(n.first+n.size-1,ct(n,s).text.length,null,1,1);e<0&&(e=0);for(var u=ct(n,r);;){var c=Cl(t,u,r,e,i),_=el(u,c.ch+(c.xRel>0||c.outside>0?1:0));if(!_)return c;var m=_.find(1);if(m.line==r)return m;u=ct(n,r=m.line)}}function \$a(t,e,i,n){n-=ss(e);var r=e.text.length,s=Bt(function(u){return Ue(t,i,u-1).bottom<=n},r,0);return r=Bt(function(u){return Ue(t,i,u).top>n},s,r),{begin:s,end:r}}function Ya(t,e,i,n){i||(i=Kn(t,e));var r=cr(t,e,Ue(t,i,n),"line").top;return \$a(t,e,i,r)}function us(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Cl(t,e,i,n,r){r-=Je(e);var s=Kn(t,e),u=ss(e),c=0,_=e.text.length,m=!0,N=Le(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Ll:Al)(t,e,i,s,N,n,r);m=M.level!=1,c=m?M.from:M.to-1,_=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=Ue(t,s,gt);return pt.top+=u,pt.bottom+=u,us(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=gt,q=pt),!0):!1},c,_),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==c)&&X++,V=X==0?"after":X==e.text.length?"before":Ue(t,s,X-(m?1:0)).bottom+u<=r==m?"after":"before";var ut=De(t,B(i,X,V),"line",e,s);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=We(e.text,X,1),as(i,X,V,tt,n-Y)}function Al(t,e,i,n,r,s,u){var c=Bt(function(M){var j=r[M],q=j.level!=1;return us(De(t,B(i,q?j.to:j.from,q?"before":"after"),"line",e,n),s,u,!0)},0,r.length-1),_=r[c];if(c>0){var m=_.level!=1,N=De(t,B(i,m?_.from:_.to,m?"after":"before"),"line",e,n);us(N,s,u,!0)&&N.top>u&&(_=r[c-1])}return _}function Ll(t,e,i,n,r,s,u){var c=\$a(t,e,n,u),_=c.begin,m=c.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=Ue(t,n,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<s?s-Y+1e9:Y-s;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Cn;function Gn(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Cn==null){Cn=C("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Cn.appendChild(document.createTextNode("x")),Cn.appendChild(C("br"));Cn.appendChild(document.createTextNode("x"))}K(t.measure,Cn);var i=Cn.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),x(t.measure),i||1}function Xn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=C("span","xxxxxxxxxx"),i=C("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ls(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,s=e.gutters.firstChild,u=0;s;s=s.nextSibling,++u){var c=t.display.gutterSpecs[u].className;i[c]=s.offsetLeft+s.clientLeft+r,n[c]=s.clientWidth}return{fixedPos:hs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function hs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Qa(t){var e=Gn(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Xn(t.display)-3);return function(r){if(fn(t.doc,r))return 0;var s=0;if(r.widgets)for(var u=0;u<r.widgets.length;u++)r.widgets[u].height&&(s+=r.widgets[u].height);return i?s+(Math.ceil(r.text.length/n)||1)*e:s+e}}function cs(t){var e=t.doc,i=Qa(t);e.iter(function(n){var r=i(n);r!=n.height&&Ne(n,r)})}function An(t,e,i,n){var r=t.display;if(!i&&pe(e).getAttribute("cm-not-content")=="true")return null;var s,u,c=r.lineSpace.getBoundingClientRect();try{s=e.clientX-c.left,u=e.clientY-c.top}catch{return null}var _=os(t,s,u),m;if(n&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=B(_.line,Math.max(0,Math.round((s-Wa(t.display).left)/Xn(t.display))-N))}return _}function Ln(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function de(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&Jr(t.doc,e)<r.viewTo&&pn(t);else if(i<=r.viewFrom)Ze&&Ca(t.doc,i+n)>r.viewFrom?pn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)pn(t);else if(e<=r.viewFrom){var s=_r(t,i,i+n,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=n):pn(t)}else if(i>=r.viewTo){var u=_r(t,e,e,-1);u?(r.view=r.view.slice(0,u.index),r.viewTo=u.lineN):pn(t)}else{var c=_r(t,e,e,-1),_=_r(t,i,i+n,1);c&&_?(r.view=r.view.slice(0,c.index).concat(lr(t,c.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=n):pn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function _n(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var s=n.view[Ln(t,e)];if(s.node!=null){var u=s.changes||(s.changes=[]);vt(u,i)==-1&&u.push(i)}}}function pn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function _r(t,e,i,n){var r=Ln(t,e),s,u=t.display.view;if(!Ze||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var c=t.display.viewFrom,_=0;_<r;_++)c+=u[_].size;if(c!=e){if(n>0){if(r==u.length-1)return null;s=c+u[r].size-e,r++}else s=c-e;e+=s,i+=s}for(;Jr(t.doc,i)!=i;){if(r==(n<0?0:u.length-1))return null;i+=n*u[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Ol(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=lr(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=lr(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ln(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(lr(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ln(t,i)))),n.viewTo=i}function Za(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Ei(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ja(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),s=n.selection=document.createDocumentFragment(),u=t.options.\$customCursor;u&&(e=!0);for(var c=0;c<i.sel.ranges.length;c++)if(!(!e&&c==i.sel.primIndex)){var _=i.sel.ranges[c];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(u){var N=u(t,_);N&&fs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&fs(t,_.head,r);m||Nl(t,_,s)}}return n}function fs(t,e,i){var n=De(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(C("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var s=fr(t,e,"div",null,null),u=s.right-s.left;r.style.width=(u>0?u:t.defaultCharWidth())+"px"}if(n.other){var c=i.appendChild(C("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));c.style.display="",c.style.left=n.other.left+"px",c.style.top=n.other.top+"px",c.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function pr(t,e){return t.top-e.top||t.left-e.left}function Nl(t,e,i){var n=t.display,r=t.doc,s=document.createDocumentFragment(),u=Wa(t.display),c=u.left,_=Math.max(n.sizerWidth,Tn(t)-n.sizer.offsetLeft)-u.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),s.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,me){return fr(t,B(et,Ut),"div",pt,me)}function xe(Ut,me,ie){var \$t=Ya(t,pt,null,Ut),Kt=me=="ltr"==(ie=="after")?"left":"right",qt=ie=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var ve=Le(pt,r.direction);return Sn(ve,ut||0,gt??xt,function(Ut,me,ie,\$t){var Kt=ie=="ltr",qt=Wt(Ut,Kt?"left":"right"),be=Wt(me-1,Kt?"right":"left"),ai=ut==null&&Ut==0,yn=gt==null&&me==xt,oe=\$t==0,Ke=!ve||\$t==ve.length-1;if(be.top-qt.top<=3){var te=(m?ai:yn)&&oe,Bs=(m?yn:ai)&&Ke,nn=te?c:(Kt?qt:be).left,Dn=Bs?_:(Kt?be:qt).right;N(nn,qt.top,Dn-nn,qt.bottom)}else{var Mn,fe,oi,zs;Kt?(Mn=m&&ai&&oe?c:qt.left,fe=m?_:xe(Ut,ie,"before"),oi=m?c:xe(me,ie,"after"),zs=m&&yn&&Ke?_:be.right):(Mn=m?xe(Ut,ie,"before"):c,fe=!m&&ai&&oe?_:qt.right,oi=!m&&yn&&Ke?c:be.left,zs=m?xe(me,ie,"after"):_),N(Mn,qt.top,fe-Mn,qt.bottom),qt.bottom<be.top&&N(c,qt.bottom,null,be.top),N(oi,be.top,zs-oi,be.bottom)}(!Dt||pr(qt,Dt)<0)&&(Dt=qt),pr(be,Dt)<0&&(Dt=be),(!Vt||pr(qt,Vt)<0)&&(Vt=qt),pr(be,Vt)<0&&(Vt=be)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Fe(X)==Fe(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(c,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(c,tt.bottom,null,st.top)}i.appendChild(s)}function _s(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||\$n(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Va(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ds(t))}function ps(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&\$n(t))},100)}function ds(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,T(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),p&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),_s(t))}function \$n(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function dr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,s=0,u=0;u<e.view.length;u++){var c=e.view[u],_=t.options.lineWrapping,m=void 0,N=0;if(!c.hidden){if(r+=c.line.height,S&&k<8){var M=c.node.offsetTop+c.node.offsetHeight;m=M-i,i=M}else{var j=c.node.getBoundingClientRect();m=j.bottom-j.top,!_&&c.text.firstChild&&(N=c.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=c.line.height-m;if((q>.005||q<-.005)&&(r<n&&(s-=q),Ne(c.line,m),to(c.line),c.rest))for(var X=0;X<c.rest.length;X++)to(c.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Xn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(s)>2&&(e.scroller.scrollTop+=s)}function to(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function gr(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-hr(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,s=He(e,n),u=He(e,r);if(i&&i.ensure){var c=i.ensure.from.line,_=i.ensure.to.line;c<s?(s=c,u=He(e,Je(ct(e,c))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=u&&(s=He(e,Je(ct(e,_))-t.wrapper.clientHeight),u=_)}return{from:s,to:Math.max(u,s+1)}}function Rl(t,e){if(!zt(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,s=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(s.defaultView.innerHeight||s.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var u=C("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-hr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+je(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(u),u.scrollIntoView(r),t.display.lineSpace.removeChild(u)}}}function Fl(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var s=0;s<5;s++){var u=!1,c=De(t,e),_=!i||i==e?c:De(t,i);r={left:Math.min(c.left,_.left),top:Math.min(c.top,_.top)-n,right:Math.max(c.left,_.left),bottom:Math.max(c.bottom,_.bottom)+n};var m=gs(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Ci(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(u=!0)),m.scrollLeft!=null&&(On(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(u=!0)),!u)break}return r}function Dl(t,e){var i=gs(t,e);i.scrollTop!=null&&Ci(t,i.scrollTop),i.scrollLeft!=null&&On(t,i.scrollLeft)}function gs(t,e){var i=t.display,n=Gn(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,s=is(t),u={};e.bottom-e.top>s&&(e.bottom=e.top+s);var c=t.doc.height+ns(i),_=e.top<n,m=e.bottom>c-n;if(e.top<r)u.scrollTop=_?0:e.top;else if(e.bottom>r+s){var N=Math.min(e.top,(m?c:e.bottom)-s);N!=r&&(u.scrollTop=N)}var M=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-M,q=Tn(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?u.scrollLeft=0:e.left<j?u.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(u.scrollLeft=e.right+(X?0:10)-q),u}function vs(t,e){e!=null&&(vr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Yn(t){vr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ti(t,e,i){(e!=null||i!=null)&&vr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Ml(t,e){vr(t),t.curOp.scrollToPos=e}function vr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=Xa(t,e.from),n=Xa(t,e.to);eo(t,i,n,e.margin)}}function eo(t,e,i,n){var r=gs(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ti(t,r.scrollLeft,r.scrollTop)}function Ci(t,e){Math.abs(t.doc.scrollTop-e)<2||(d||bs(t,{top:e}),no(t,e,!0),d&&bs(t),Oi(t,100))}function no(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function On(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,oo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ai(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+ns(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+je(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var Nn=function(t,e,i){this.cm=i;var n=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&k<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Nn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var s=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+s)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},Nn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Nn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Nn.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Nn.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),s=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);s!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},Nn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Li=function(){};Li.prototype.update=function(){return{bottom:0,right:0}},Li.prototype.setScrollLeft=function(){},Li.prototype.setScrollTop=function(){},Li.prototype.clear=function(){};function Qn(t,e){e||(e=Ai(t));var i=t.display.barWidth,n=t.display.barHeight;io(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&dr(t),io(t,Ai(t)),i=t.display.barWidth,n=t.display.barHeight}function io(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var ro={native:Nn,null:Li};function so(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new ro[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?On(t,e):Ci(t,e)},t),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)}var Pl=0;function Rn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Pl,markArrays:null},_l(t.curOp)}function Fn(t){var e=t.curOp;e&&dl(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Wl(i)})}function Wl(t){for(var e=t.ops,i=0;i<e.length;i++)Il(e[i]);for(var n=0;n<e.length;n++)Bl(e[n]);for(var r=0;r<e.length;r++)zl(e[r]);for(var s=0;s<e.length;s++)Hl(e[s]);for(var u=0;u<e.length;u++)ql(e[u])}function Il(t){var e=t.cm,i=e.display;Ul(e),t.updateMaxLine&&ts(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new mr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Bl(t){t.updatedDisplay=t.mustUpdate&&ms(t.cm,t.update)}function zl(t){var e=t.cm,i=e.display;t.updatedDisplay&&dr(e),t.barMeasure=Ai(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ba(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+je(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Tn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Hl(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&On(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Qn(e,t.barMeasure),t.updatedDisplay&&ws(e,t.barMeasure),t.selectionChanged&&_s(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Va(t.cm)}function ql(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&ao(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&no(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&On(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Fl(e,yt(n,t.scrollToPos.from),yt(n,t.scrollToPos.to),t.scrollToPos.margin);Rl(e,r)}var s=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(s)for(var c=0;c<s.length;++c)s[c].lines.length||Mt(s[c],"hide");if(u)for(var _=0;_<u.length;++_)u[_].lines.length&&Mt(u[_],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function we(t,e){if(t.curOp)return e();Rn(t);try{return e()}finally{Fn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Rn(t);try{return e.apply(t,arguments)}finally{Fn(t)}}}function ce(t){return function(){if(this.curOp)return t.apply(this,arguments);Rn(this);try{return t.apply(this,arguments)}finally{Fn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Rn(e);try{return t.apply(this,arguments)}finally{Fn(e)}}}function Oi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(jl,t))}function jl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=bi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(s){if(n.line>=t.display.viewFrom){var u=s.styles,c=s.text.length>t.options.maxHighlightLength?Ye(e.mode,n.state):null,_=_a(t,s,n,!0);c&&(n.state=c),s.styles=_.styles;var m=s.styleClasses,N=_.classes;N?s.styleClasses=N:m&&(s.styleClasses=null);for(var M=!u||u.length!=s.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<u.length;++j)M=u[j]!=s.styles[j];M&&r.push(n.line),s.stateAfter=n.save(),n.nextLine()}else s.text.length<=t.options.maxHighlightLength&&\$r(t,s.text,n),s.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Oi(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&we(t,function(){for(var s=0;s<r.length;s++)_n(t,r[s],"text")})}}var mr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=gr(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tn(t),this.force=i,this.dims=ls(t),this.events=[]};mr.prototype.signal=function(t,e){le(t,e)&&this.events.push(arguments)},mr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function Ul(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=je(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=je(t)+"px",e.scrollbarsClipped=!0)}function Kl(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Gl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function ms(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return pn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&Za(t)==0)return!1;uo(t)&&(pn(t),e.dims=ls(t));var r=n.first+n.size,s=Math.max(e.visible.from-t.options.viewportMargin,n.first),u=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(n.first,i.viewFrom)),i.viewTo>u&&i.viewTo-u<20&&(u=Math.min(r,i.viewTo)),Ze&&(s=Jr(t.doc,s),u=Ca(t.doc,u));var c=s!=i.viewFrom||u!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Ol(t,s,u),i.viewOffset=Je(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var _=Za(t);if(!c&&_==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=Kl(t);return _>4&&(i.lineDiv.style.display="none"),Xl(t,i.updateLineNumbers,e.dims),_>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Gl(m),x(i.cursorDiv),x(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,c&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Oi(t,400)),i.updateLineNumbers=null,!0}function ao(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==Tn(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+ns(t.display)-is(t),i.top)}),e.visible=gr(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=gr(t.display,t.doc,i));if(!ms(t,e))break;dr(t);var r=Ai(t);Ei(t),Qn(t,r),ws(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function bs(t,e){var i=new mr(t,e);if(ms(t,i)){dr(t),ao(t,i);var n=Ai(t);Ei(t),Qn(t,n),ws(t,n),i.finish()}}function Xl(t,e,i){var n=t.display,r=t.options.lineNumbers,s=n.lineDiv,u=s.firstChild;function c(X){var Y=X.nextSibling;return p&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=n.view,m=n.viewFrom,N=0;N<_.length;N++){var M=_[N];if(!M.hidden)if(!M.node||M.node.parentNode!=s){var j=yl(t,M,m,i);s.insertBefore(j,u)}else{for(;u!=M.node;)u=c(u);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Ra(t,M,m,i)),q&&(x(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),u=M.node.nextSibling}m+=M.size}for(;u;)u=c(u)}function ys(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ws(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+je(t)+"px"}function oo(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=hs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,s=n+"px",u=0;u<i.length;u++)if(!i[u].hidden){t.options.fixedGutter&&(i[u].gutter&&(i[u].gutter.style.left=s),i[u].gutterBackground&&(i[u].gutterBackground.style.left=s));var c=i[u].alignable;if(c)for(var _=0;_<c.length;_++)c[_].style.left=s}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function uo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(C("div",[C("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,u=r.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-u)+1,n.lineNumWidth=n.lineNumInnerWidth+u,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ys(t.display),!0}return!1}function xs(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var s=t[r],u=null;if(typeof s!="string"&&(u=s.style,s=s.className),s=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:s,style:u})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function lo(t){var e=t.gutters,i=t.gutterSpecs;x(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],s=r.className,u=r.style,c=e.appendChild(C("div",null,"CodeMirror-gutter "+s));u&&(c.style.cssText=u),s=="CodeMirror-linenumbers"&&(t.lineGutter=c,c.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",ys(t)}function Ni(t){lo(t.display),de(t),oo(t)}function \$l(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=C("div",null,"CodeMirror-cursors"),r.measure=C("div",null,"CodeMirror-measure"),r.lineMeasure=C("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var s=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=C("div",[s],null,"position: relative"),r.sizer=C("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=C("div",null,null,"position: absolute; height: "+ne+"px; width: 1px;"),r.gutters=C("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=C("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=C("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),l&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&k<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!p&&!(d&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=xs(n.gutters,n.lineNumbers),lo(r),i.init(r)}var br=0,tn=null;S?tn=-.53:d?tn=15:l?tn=-.7:F&&(tn=-1/3);function ho(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Yl(t){var e=ho(t);return e.x*=tn,e.y*=tn,e}function co(t,e){l&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=ho(e),n=i.x,r=i.y,s=tn;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,s=1);var u=t.display,c=u.scroller,_=c.scrollWidth>c.clientWidth,m=c.scrollHeight>c.clientHeight;if(n&&_||r&&m){if(r&&z&&p){t:for(var N=e.target,M=u.view;N!=c;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!d&&!b&&s!=null){r&&m&&Ci(t,Math.max(0,c.scrollTop+r*s)),On(t,Math.max(0,c.scrollLeft+n*s)),(!r||r&&m)&&se(e),u.wheelStartX=null;return}if(r&&s!=null){var q=r*s,X=t.doc.scrollTop,Y=X+u.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),bs(t,{top:X,bottom:Y})}br<20&&e.deltaMode!==0&&(u.wheelStartX==null?(u.wheelStartX=c.scrollLeft,u.wheelStartY=c.scrollTop,u.wheelDX=n,u.wheelDY=r,setTimeout(function(){if(u.wheelStartX!=null){var V=c.scrollLeft-u.wheelStartX,tt=c.scrollTop-u.wheelStartY,st=tt&&u.wheelDY&&tt/u.wheelDY||V&&u.wheelDX&&V/u.wheelDX;u.wheelStartX=u.wheelStartY=null,st&&(tn=(tn*br+st)/(br+1),++br)}},200)):(u.wheelDX+=n,u.wheelDY+=r))}}var Te=function(t,e){this.ranges=t,this.primIndex=e};Te.prototype.primary=function(){return this.ranges[this.primIndex]},Te.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!bt(i.anchor,n.anchor)||!bt(i.head,n.head))return!1}return!0},Te.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Te(t,this.primIndex)},Te.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Te.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Me(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=vt(e,r);for(var s=1;s<e.length;s++){var u=e[s],c=e[s-1],_=G(c.to(),u.from());if(n&&!u.empty()?_>0:_>=0){var m=Xt(c.from(),u.from()),N=Ct(c.to(),u.to()),M=c.empty()?u.from()==u.head:c.from()==c.head;s<=i&&--i,e.splice(--s,2,new Ot(M?N:m,M?m:N))}}return new Te(e,i)}function dn(t,e){return new Te([new Ot(t,e||t)],0)}function gn(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function fo(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return gn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=gn(e).ch-e.to.ch),B(i,n)}function ks(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new Ot(fo(r.anchor,e),fo(r.head,e)))}return Me(t.cm,i,t.sel.primIndex)}function _o(t,e,i){return t.line==e.line?B(i.line,t.ch-e.ch+i.ch):B(i.line+(t.line-e.line),t.ch)}function Ql(t,e,i){for(var n=[],r=B(t.first,0),s=r,u=0;u<e.length;u++){var c=e[u],_=_o(c.from,r,s),m=_o(gn(c),r,s);if(r=c.to,s=m,i=="around"){var N=t.sel.ranges[u],M=G(N.head,N.anchor)<0;n[u]=new Ot(M?m:_,M?_:m)}else n[u]=new Ot(_,_)}return new Te(n,t.sel.primIndex)}function Ss(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Ri(t)}function Ri(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Oi(t,100),t.state.modeGen++,t.curOp&&de(t)}function po(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Es(t,e,i,n){function r(st){return i?i[st]:null}function s(st,et,ut){rl(st,et,ut,n),Qt(st,"change",st,e)}function u(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new jn(m[gt],r(gt),n));return ut}var c=e.from,_=e.to,m=e.text,N=ct(t,c.line),M=ct(t,_.line),j=mt(m),q=r(m.length-1),X=_.line-c.line;if(e.full)t.insert(0,u(0,m.length)),t.remove(m.length,t.size-m.length);else if(po(t,e)){var Y=u(0,m.length-1);s(M,M.text,q),X&&t.remove(c.line,X),Y.length&&t.insert(c.line,Y)}else if(N==M)if(m.length==1)s(N,N.text.slice(0,c.ch)+j+N.text.slice(_.ch),q);else{var V=u(1,m.length-1);V.push(new jn(j+N.text.slice(_.ch),q,n)),s(N,N.text.slice(0,c.ch)+m[0],r(0)),t.insert(c.line+1,V)}else if(m.length==1)s(N,N.text.slice(0,c.ch)+m[0]+M.text.slice(_.ch),r(0)),t.remove(c.line+1,X);else{s(N,N.text.slice(0,c.ch)+m[0],r(0)),s(M,j+M.text.slice(_.ch),q);var tt=u(1,m.length-1);X>1&&t.remove(c.line+1,X-1),t.insert(c.line+1,tt)}Qt(t,"change",t,e)}function vn(t,e,i){function n(r,s,u){if(r.linked)for(var c=0;c<r.linked.length;++c){var _=r.linked[c];if(_.doc!=s){var m=u&&_.sharedHist;i&&!m||(e(_.doc,m),n(_.doc,r,m))}}}n(t,null,!0)}function go(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,cs(t),Ss(t),vo(t),t.options.direction=e.direction,t.options.lineWrapping||ts(t),t.options.mode=e.modeOption,de(t)}function vo(t){(t.doc.direction=="rtl"?T:R)(t.display.lineDiv,"CodeMirror-rtl")}function Zl(t){we(t,function(){vo(t),de(t)})}function yr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Ts(t,e){var i={from:Tt(e.from),to:gn(e),text:Qe(t,e.from,e.to)};return yo(t,i,e.from.line,e.to.line+1),vn(t,function(n){return yo(n,i,e.from.line,e.to.line+1)},!0),i}function mo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function Jl(t,e){if(e)return mo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function bo(t,e,i,n){var r=t.history;r.undone.length=0;var s=+new Date,u,c;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(u=Jl(r,r.lastOp==n)))c=mt(u.changes),G(e.from,e.to)==0&&G(e.from,c.to)==0?c.to=gn(e):u.changes.push(Ts(t,e));else{var _=mt(r.done);for((!_||!_.ranges)&&wr(t.sel,r.done),u={changes:[Ts(t,e)],generation:r.generation},r.done.push(u);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,c||Mt(t,"historyAdded")}function Vl(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function th(t,e,i,n){var r=t.history,s=n&&n.origin;i==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||Vl(t,s,mt(r.done),e))?r.done[r.done.length-1]=e:wr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=i,n&&n.clearRedo!==!1&&mo(r.undone)}function wr(t,e){var i=mt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function yo(t,e,i,n){var r=e["spans_"+t.id],s=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(u){u.markedSpans&&((r||(r=e["spans_"+t.id]={}))[s]=u.markedSpans),++s})}function eh(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function nh(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(eh(i[r]));return n}function wo(t,e){var i=nh(t,e),n=Qr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var s=i[r],u=n[r];if(s&&u)t:for(var c=0;c<u.length;++c){for(var _=u[c],m=0;m<s.length;++m)if(s[m].marker==_.marker)continue t;s.push(_)}else u&&(i[r]=u)}return i}function Zn(t,e,i){for(var n=[],r=0;r<t.length;++r){var s=t[r];if(s.ranges){n.push(i?Te.prototype.deepCopy.call(s):s);continue}var u=s.changes,c=[];n.push({changes:c});for(var _=0;_<u.length;++_){var m=u[_],N=void 0;if(c.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(c)[M]=m[M],delete m[M])}}return n}function Cs(t,e,i,n){if(n){var r=t.anchor;if(i){var s=G(e,r)<0;s!=G(i,r)<0?(r=e,e=i):s!=G(e,i)<0&&(e=i)}return new Ot(r,e)}else return new Ot(i||e,e)}function xr(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),ae(t,new Te([Cs(t.sel.primary(),e,i,r)],0),n)}function xo(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),s=0;s<t.sel.ranges.length;s++)n[s]=Cs(t.sel.ranges[s],e[s],null,r);var u=Me(t.cm,n,t.sel.primIndex);ae(t,u,i)}function As(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,ae(t,Me(t.cm,r,t.sel.primIndex),n)}function ko(t,e,i,n){ae(t,dn(e,i),n)}function ih(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var s=0;s<r.length;s++)this.ranges[s]=new Ot(yt(t,r[s].anchor),yt(t,r[s].head))},origin:i&&i.origin};return Mt(t,"beforeSelectionChange",t,n),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Me(t.cm,n.ranges,n.ranges.length-1):e}function So(t,e,i){var n=t.history.done,r=mt(n);r&&r.ranges?(n[n.length-1]=e,kr(t,e,i)):ae(t,e,i)}function ae(t,e,i){kr(t,e,i),th(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function kr(t,e,i){(le(t,"beforeSelectionChange")||t.cm&&le(t.cm,"beforeSelectionChange"))&&(e=ih(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);Eo(t,Co(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Yn(t.cm)}function Eo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Ji(t.cm)),Qt(t,"cursorActivity",t))}function To(t){Eo(t,Co(t,t.sel,null,!1))}function Co(t,e,i,n){for(var r,s=0;s<e.ranges.length;s++){var u=e.ranges[s],c=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[s],_=Sr(t,u.anchor,c&&c.anchor,i,n),m=u.head==u.anchor?_:Sr(t,u.head,c&&c.head,i,n);(r||_!=u.anchor||m!=u.head)&&(r||(r=e.ranges.slice(0,s)),r[s]=new Ot(_,m))}return r?Me(t.cm,r,e.primIndex):e}function Jn(t,e,i,n,r){var s=ct(t,e.line);if(s.markedSpans)for(var u=0;u<s.markedSpans.length;++u){var c=s.markedSpans[u],_=c.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((c.from==null||(m?c.from<=e.ch:c.from<e.ch))&&(c.to==null||(N?c.to>=e.ch:c.to>e.ch))){if(r&&(Mt(_,"beforeCursorEnter"),_.explicitlyCleared))if(s.markedSpans){--u;continue}else break;if(!_.atomic)continue;if(i){var M=_.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(M=Ao(t,M,-n,M&&M.line==e.line?s:null)),M&&M.line==e.line&&(j=G(M,i))&&(n<0?j<0:j>0))return Jn(t,M,e,n,r)}var q=_.find(n<0?-1:1);return(n<0?m:N)&&(q=Ao(t,q,n,q.line==e.line?s:null)),q?Jn(t,q,e,n,r):null}}return e}function Sr(t,e,i,n,r){var s=n||1,u=Jn(t,e,i,s,r)||!r&&Jn(t,e,i,s,!0)||Jn(t,e,i,-s,r)||!r&&Jn(t,e,i,-s,!0);return u||(t.cantEdit=!0,B(t.first,0))}function Ao(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+i)}function Lo(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function Oo(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,s,u,c){r&&(n.from=yt(t,r)),s&&(n.to=yt(t,s)),u&&(n.text=u),c!==void 0&&(n.origin=c)}),Mt(t,"beforeChange",t,n),t.cm&&Mt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Vn(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Vn)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"))&&(e=Oo(t,e,!0),!e))){var n=ya&&!i&&tl(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)No(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else No(t,e)}}function No(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=ks(t,e);bo(t,e,i,t.cm?t.cm.curOp.id:NaN),Fi(t,e,i,Qr(t,e));var n=[];vn(t,function(r,s){!s&&vt(n,r.history)==-1&&(Mo(r.history,e),n.push(r.history)),Fi(r,e,null,Qr(r,e))})}}function Er(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,s,u=t.sel,c=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<c.length&&(s=c[m],!(i?s.ranges&&!s.equals(t.sel):!s.ranges));m++);if(m!=c.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(s=c.pop(),s.ranges){if(wr(s,_),i&&!s.equals(t.sel)){ae(t,s,{clearRedo:!1});return}u=s}else if(n){c.push(s);return}else break;var N=[];wr(u,_),_.push({changes:N,generation:r.generation}),r.generation=s.generation||++r.maxGeneration;for(var M=le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"),j=function(Y){var V=s.changes[Y];if(V.origin=e,M&&!Oo(t,V,!1))return c.length=0,{};N.push(Ts(t,V));var tt=Y?ks(t,V):mt(c);Fi(t,V,tt,wo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:gn(V)});var st=[];vn(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Mo(et.history,V),st.push(et.history)),Fi(et,V,null,wo(et,V))})},q=s.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Ro(t,e){if(e!=0&&(t.first+=e,t.sel=new Te(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){de(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)_n(t.cm,n,"gutter")}}function Fi(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Fi)(t,e,i,n);if(e.to.line<t.first){Ro(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Ro(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var s=t.lastLine();e.to.line>s&&(e={from:e.from,to:B(s,ct(t,s).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),i||(i=ks(t,e)),t.cm?rh(t.cm,e,n):Es(t,e,n),kr(t,i,Rt),t.cantEdit&&Sr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function rh(t,e,i){var n=t.doc,r=t.display,s=e.from,u=e.to,c=!1,_=s.line;t.options.lineWrapping||(_=Lt(Fe(ct(n,s.line))),n.iter(_,u.line+1,function(q){if(q==r.maxLine)return c=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Ji(t),Es(n,e,i,Qa(t)),t.options.lineWrapping||(n.iter(_,s.line+e.text.length,function(q){var X=ur(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),Xu(n,s.line),Oi(t,400);var m=e.text.length-(u.line-s.line)-1;e.full?de(t):s.line==u.line&&e.text.length==1&&!po(t.doc,e)?_n(t,s.line,"text"):de(t,s.line,u.line+1,m);var N=le(t,"changes"),M=le(t,"change");if(M||N){var j={from:s,to:u,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function ti(t,e,i,n,r){var s;n||(n=i),G(n,i)<0&&(s=[n,i],i=s[0],n=s[1]),typeof e=="string"&&(e=t.splitLines(e)),Vn(t,{from:i,to:n,text:e,origin:r})}function Fo(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Do(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r],u=!0;if(s.ranges){s.copied||(s=t[r]=s.deepCopy(),s.copied=!0);for(var c=0;c<s.ranges.length;c++)Fo(s.ranges[c].anchor,e,i,n),Fo(s.ranges[c].head,e,i,n);continue}for(var _=0;_<s.changes.length;++_){var m=s.changes[_];if(i<m.from.line)m.from=B(m.from.line+n,m.from.ch),m.to=B(m.to.line+n,m.to.ch);else if(e<=m.to.line){u=!1;break}}u||(t.splice(0,r+1),r=0)}}function Mo(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Do(t.done,i,n,r),Do(t.undone,i,n,r)}function Di(t,e,i,n){var r=e,s=e;return typeof e=="number"?s=ct(t,Ee(t,e)):r=Lt(e),r==null?null:(n(s,r)&&t.cm&&_n(t.cm,r,i),s)}function Mi(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Mi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,sl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Pi(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Pi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var s=Math.min(e,r-t),u=n.height;if(n.removeInner(t,s),this.height-=u-n.height,r==s&&(this.children.splice(i--,1),n.parent=null),(e-=s)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Mi))){var c=[];this.collapse(c),this.children=[new Mi(c)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(t<=s){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var u=r.lines.length%25+25,c=u;c<r.lines.length;){var _=new Mi(r.lines.slice(c,c+=25));r.height-=_.height,this.children.splice(++n,0,_),_.parent=this}r.lines=r.lines.slice(0,u),this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Pi(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Pi(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(t<s){var u=Math.min(e,s-t);if(r.iterN(t,u,i))return!0;if((e-=u)==0)break;t=0}else t-=s}}};var Wi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Wi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Lt(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var s=ki(this);Ne(i,Math.max(0,i.height-s)),t&&(we(t,function(){Po(t,i,-s),_n(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Wi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(fn(this.doc,n)||Ne(n,n.height+r),i&&we(i,function(){i.curOp.forceUpdate=!0,Po(i,n,r),Qt(i,"lineWidgetChanged",i,t,Lt(n))}))},he(Wi);function Po(t,e,i){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&vs(t,i)}function sh(t,e,i,n){var r=new Wi(t,i,n),s=t.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),Di(t,e,"widget",function(u){var c=u.widgets||(u.widgets=[]);if(r.insertAt==null?c.push(r):c.splice(Math.min(c.length,Math.max(0,r.insertAt)),0,r),r.line=u,s&&!fn(t,u)){var _=Je(u)<t.scrollTop;Ne(u,u.height+ki(r)),_&&vs(s,r.height),s.curOp.forceUpdate=!0}return!0}),s&&Qt(s,"lineWidgetAdded",s,r,typeof e=="number"?e:Lt(e)),r}var Wo=0,mn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Wo};mn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Rn(t),le(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,s=0;s<this.lines.length;++s){var u=this.lines[s],c=yi(u.markedSpans,this);t&&!this.collapsed?_n(t,Lt(u),"text"):t&&(c.to!=null&&(r=Lt(u)),c.from!=null&&(n=Lt(u))),u.markedSpans=Qu(u.markedSpans,c),c.from==null&&this.collapsed&&!fn(this.doc,u)&&t&&Ne(u,Gn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Fe(this.lines[_]),N=ur(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&de(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&To(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Fn(t),this.parent&&this.parent.clear()}},mn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var s=this.lines[r],u=yi(s.markedSpans,this);if(u.from!=null&&(i=B(e?s:Lt(s),u.from),t==-1))return i;if(u.to!=null&&(n=B(e?s:Lt(s),u.to),t==1))return n}return i&&{from:i,to:n}},mn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||we(n,function(){var r=e.line,s=Lt(e.line),u=rs(n,s);if(u&&(qa(u),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!fn(i.doc,r)&&i.height!=null){var c=i.height;i.height=null;var _=ki(i)-c;_&&Ne(r,r.height+_)}Qt(n,"markerChanged",n,t)})},mn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},mn.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},he(mn);function ei(t,e,i,n,r){if(n&&n.shared)return ah(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,ei)(t,e,i,n,r);var s=new mn(t,r),u=G(e,i);if(n&&ft(n,s,!1),u>0||u==0&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Q("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(Ta(t,e.line,e,i,s)||e.line!=i.line&&Ta(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Yu()}s.addToHistory&&bo(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var c=e.line,_=t.cm,m;if(t.iter(c,i.line+1,function(M){_&&s.collapsed&&!_.options.lineWrapping&&Fe(M)==_.display.maxLine&&(m=!0),s.collapsed&&c!=e.line&&Ne(M,0),Zu(M,new rr(s,c==e.line?e.ch:null,c==i.line?i.ch:null),t.cm&&t.cm.curOp),++c}),s.collapsed&&t.iter(e.line,i.line+1,function(M){fn(t,M)&&Ne(M,0)}),s.clearOnEnter&&nt(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(\$u(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++Wo,s.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),s.collapsed)de(_,e.line,i.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(var N=e.line;N<=i.line;N++)_n(_,N,"text");s.atomic&&To(_.doc),Qt(_,"markerAdded",_,s)}return s}var Ii=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Ii.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},Ii.prototype.find=function(t,e){return this.primary.find(t,e)},he(Ii);function ah(t,e,i,n,r){n=ft(n),n.shared=!1;var s=[ei(t,e,i,n,r)],u=s[0],c=n.widgetNode;return vn(t,function(_){c&&(n.widgetNode=c.cloneNode(!0)),s.push(ei(_,yt(_,e),yt(_,i),n,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;u=mt(s)}),new Ii(s,u)}function Io(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function oh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),s=t.clipPos(r.from),u=t.clipPos(r.to);if(G(s,u)){var c=ei(t,s,u,n.primary,n.primary.type);n.markers.push(c),c.parent=n}}}function uh(t){for(var e=function(n){var r=t[n],s=[r.primary.doc];vn(r.primary.doc,function(_){return s.push(_)});for(var u=0;u<r.markers.length;u++){var c=r.markers[u];vt(s,c.doc)==-1&&(c.parent=null,r.markers.splice(u--,1))}},i=0;i<t.length;i++)e(i)}var lh=0,ge=function(t,e,i,n,r){if(!(this instanceof ge))return new ge(t,e,i,n,r);i==null&&(i=0),Pi.call(this,[new Mi([new jn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var s=B(i,0);this.sel=dn(s),this.history=new yr(null),this.id=++lh,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Es(this,{from:s,to:s,text:t}),ae(this,dn(s),Rt)};ge.prototype=Yi(Pi.prototype,{constructor:ge,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),i=this.first+this.size-1;Vn(this,{from:e,to:B(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ti(this.cm,0,0),ae(this,dn(e),Rt)}),replaceRange:function(t,e,i,n){e=yt(this,e),i=i?yt(this,i):e,ti(this,t,e,i,n)},getRange:function(t,e,i){var n=Qe(this,yt(this,t),yt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(w(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Fe(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){ko(this,yt(this,typeof t=="number"?B(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){ko(this,yt(this,t),yt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){xr(this,yt(this,t),e&&yt(this,e),i)}),extendSelections:Jt(function(t,e){xo(this,fa(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ge(this.sel.ranges,t);xo(this,fa(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),ae(this,Me(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new Ot(yt(this,t),yt(this,e||t))),ae(this,Me(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=Qe(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Qe(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,s=0;s<r.ranges.length;s++){var u=r.ranges[s];n[s]={from:u.from(),to:u.to(),text:this.splitLines(t[s]),origin:i}}for(var c=e&&e!="end"&&Ql(this,n,e),_=n.length-1;_>=0;_--)Vn(this,n[_]);c?So(this,c):this.cm&&Yn(this.cm)}),undo:Jt(function(){Er(this,"undo")}),redo:Jt(function(){Er(this,"redo")}),undoSelection:Jt(function(){Er(this,"undo",!0)}),redoSelection:Jt(function(){Er(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new yr(this.history),vn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Zn(this.history.done),undone:Zn(this.history.undone)}},setHistory:function(t){var e=this.history=new yr(this.history);e.done=Zn(t.done.slice(0),null,!0),e.undone=Zn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Di(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Qi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Di(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Qi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!w(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Di(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Di(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",s=n[r];if(s)if(i==null)n[r]=null;else{var u=s.match(I(i));if(!u)return!1;var c=u.index+u[0].length;n[r]=s.slice(0,u.index)+(!u.index||c==s.length?"":" ")+s.slice(c)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return sh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return ei(this,yt(this,t),yt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),ei(this,t,t,i,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=yt(this,t),e=yt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(s){var u=s.markedSpans;if(u)for(var c=0;c<u.length;c++){var _=u[c];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!i||i(_.marker))&&n.push(_.marker.parent||_.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var s=r.text.length+n;if(s>t)return e=t,!0;t-=s,++i}),yt(this,B(i,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new ge(qn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new ge(qn(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],oh(n,Io(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),uh(Io(this));break}}if(t.history==this.history){var n=[t.id];vn(t,function(r){return n.push(r.id)},!0),t.history=new yr(null),t.history.done=Zn(this.history.done,n),t.history.undone=Zn(this.history.undone,n)}},iterLinkedDocs:function(t){vn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):vi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&Zl(this.cm))})}),ge.prototype.eachLine=ge.prototype.iter;var Bo=0;function hh(t){var e=this;if(zo(e),!(zt(e,t)||Ve(e.display,t))){se(t),S&&(Bo=+new Date);var i=An(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,s=Array(r),u=0,c=function(){++u==r&&Zt(e,function(){i=yt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(s.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Vn(e.doc,q),So(e.doc,dn(yt(e.doc,i),yt(e.doc,gn(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){c();return}var Y=new FileReader;Y.onerror=function(){return c()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){c();return}s[X]=V,c()},Y.readAsText(q)},m=0;m<n.length;m++)_(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),kr(e.doc,dn(i,i)),M)for(var j=0;j<M.length;++j)ti(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function ch(t,e){if(S&&(!t.state.draggingText||+new Date-Bo<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var i=C("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function fh(t,e){var i=An(t,e);if(i){var n=document.createDocumentFragment();fs(t,i,n),t.display.dragCursor||(t.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function zo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ho(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var s=0;s<i.length;s++)t(i[s])})}}var qo=!1;function _h(){qo||(ph(),qo=!0)}function ph(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,Ho(dh)},100))}),nt(window,"blur",function(){return Ho(\$n)})}function dh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var bn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bi=0;Bi<10;Bi++)bn[Bi+48]=bn[Bi+96]=String(Bi);for(var Tr=65;Tr<=90;Tr++)bn[Tr]=String.fromCharCode(Tr);for(var zi=1;zi<=12;zi++)bn[zi+111]=bn[zi+63235]="F"+zi;var en={};en.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},en.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},en.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},en.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},en.default=z?en.macDefault:en.pcDefault;function gh(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,s,u=0;u<e.length-1;u++){var c=e[u];if(/^(cmd|meta|m)\$/i.test(c))s=!0;else if(/^a(lt)?\$/i.test(c))i=!0;else if(/^(c|ctrl|control)\$/i.test(c))n=!0;else if(/^s(hift)?\$/i.test(c))r=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),s&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function vh(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ge(i.split(" "),gh),s=0;s<r.length;s++){var u=void 0,c=void 0;s==r.length-1?(c=r.join(" "),u=n):(c=r.slice(0,s+1).join(" "),u="...");var _=e[c];if(!_)e[c]=u;else if(_!=u)throw new Error("Inconsistent bindings for "+c)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ni(t,e,i,n){e=Cr(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ni(t,e.fallthrough,i,n);for(var s=0;s<e.fallthrough.length;s++){var u=ni(t,e.fallthrough[s],i,n);if(u)return u}}}function jo(t){var e=typeof t=="string"?t:bn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Uo(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function Ko(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=bn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Uo(i,t,e))}function Cr(t){return typeof t=="string"?en[t]:t}function ii(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var s=e(i[r]);n.length&&G(s.from,mt(n).to)<=0;){var u=n.pop();if(G(u.from,s.from)<0){s.from=u.from;break}}n.push(s)}we(t,function(){for(var c=n.length-1;c>=0;c--)ti(t.doc,"",n[c].from,n[c].to,"+delete");Yn(t)})}function Ls(t,e,i){var n=We(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Os(t,e,i){var n=Ls(t,e.ch,i);return n==null?null:new B(e.line,n,i<0?"after":"before")}function Ns(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var s=Le(i,e.doc.direction);if(s){var u=r<0?mt(s):s[0],c=r<0==(u.level==1),_=c?"after":"before",m;if(u.level>0||e.doc.direction=="rtl"){var N=Kn(e,i);m=r<0?i.text.length-1:0;var M=Ue(e,N,m).top;m=Bt(function(j){return Ue(e,N,j).top==M},r<0==(u.level==1)?u.from:u.to-1,m),_=="before"&&(m=Ls(i,m,1))}else m=r<0?u.to:u.from;return new B(n,m,_)}}return new B(n,r<0?i.text.length:0,r<0?"before":"after")}function mh(t,e,i,n){var r=Le(e,t.doc.direction);if(!r)return Os(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var s=Ae(r,i.ch,i.sticky),u=r[s];if(t.doc.direction=="ltr"&&u.level%2==0&&(n>0?u.to>i.ch:u.from<i.ch))return Os(e,i,n);var c=function(tt,st){return Ls(e,tt instanceof B?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||Kn(t,e),Ya(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?c(i,-1):i.ch);if(t.doc.direction=="rtl"||u.level==1){var M=u.level==1==n<0,j=c(i,M?1:-1);if(j!=null&&(M?j<=u.to&&j<=N.end:j>=u.from&&j>=N.begin)){var q=M?"before":"after";return new B(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(i.line,c(Dt,1),"before"):new B(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:c(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:c(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(s+n,n,N);if(Y)return Y;var V=n>0?N.end:c(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var Hi={selectAll:Lo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return ii(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return ii(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return ii(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return ii(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return ii(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Go(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Xo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return bh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},ke)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},ke)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?Xo(t,e.head):n},ke)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var s=i[r].from(),u=at(t.getLine(s.line),s.ch,n);e.push(It(n-u%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return we(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,s=ct(t.doc,r.line).text;if(s){if(r.ch==s.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var u=ct(t.doc,r.line-1).text;u&&(r=new B(r.line,1),t.replaceRange(s.charAt(0)+t.doc.lineSeparator()+u.charAt(u.length-1),B(r.line-1,u.length-1),r,"+transpose"))}}i.push(new Ot(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return we(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Yn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Go(t,e){var i=ct(t.doc,e),n=Fe(i);return n!=i&&(e=Lt(n)),Ns(!0,t,n,e,1)}function bh(t,e){var i=ct(t.doc,e),n=nl(i);return n!=i&&(e=Lt(n)),Ns(!0,t,i,e,-1)}function Xo(t,e){var i=Go(t,e.line),n=ct(t.doc,i.line),r=Le(n,t.doc.direction);if(!r||r[0].level==0){var s=Math.max(i.ch,n.text.search(/\\S/)),u=e.line==i.line&&e.ch<=s&&e.ch;return B(i.line,u?0:s,i.sticky)}return i}function Ar(t,e,i){if(typeof e=="string"&&(e=Hi[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function yh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ni(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ni(e,t.options.extraKeys,i,t)||ni(e,t.options.keyMap,i,t)}var wh=new _t;function qi(t,e,i,n){var r=t.state.keySeq;if(r){if(jo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:wh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),\$o(t,r+" "+e,i,n))return!0}return \$o(t,e,i,n)}function \$o(t,e,i,n){var r=yh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(se(i),_s(t)),!!r}function Yo(t,e){var i=Ko(e,!0);return i?e.shiftKey&&!t.state.keySeq?qi(t,"Shift-"+i,e,function(n){return Ar(t,n,!0)})||qi(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ar(t,n)}):qi(t,i,e,function(n){return Ar(t,n)}):!1}function xh(t,e,i){return qi(t,"'"+i+"'",e,function(n){return Ar(t,n,!0)})}var Rs=null;function Qo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&k<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Yo(e,t);b&&(Rs=n?i:null,!n&&i==88&&!Be&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),d&&!z&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&kh(e)}}function kh(t){var e=t.display.lineDiv;T(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),re(document,"keyup",i),re(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function Zo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Jo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Rs){Rs=null,se(t);return}if(!(b&&(!t.which||t.which<10)&&Yo(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(xh(e,t,r)||e.display.input.onKeyPress(t))}}}var Sh=400,Fs=function(t,e,i){this.time=t,this.pos=e,this.button=i};Fs.prototype.compare=function(t,e,i){return this.time+Sh>t&&G(e,this.pos)==0&&i==this.button};var ji,Ui;function Eh(t,e){var i=+new Date;return Ui&&Ui.compare(i,t,e)?(ji=Ui=null,"triple"):ji&&ji.compare(i,t,e)?(Ui=new Fs(i,t,e),ji=null,"double"):(ji=new Fs(i,t,e),Ui=null,"single")}function Vo(t){var e=this,i=e.display;if(!(zt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ve(i,t)){p||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ds(e,t)){var n=An(e,t),r=gi(t),s=n?Eh(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&Th(e,r,n,s,t))&&(r==1?n?Ah(e,n,s,t):pe(t)==i.scroller&&se(t):r==2?(n&&xr(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):ps(e)))}}}function Th(t,e,i,n,r){var s="Click";return n=="double"?s="Double"+s:n=="triple"&&(s="Triple"+s),s=(e==1?"Left":e==2?"Middle":"Right")+s,qi(t,Uo(s,r),r,function(u){if(typeof u=="string"&&(u=Hi[u]),!u)return!1;var c=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),c=u(t,i)!=Et}finally{t.state.suppressEdits=!1}return c})}function Ch(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var s=H?i.shiftKey&&i.metaKey:i.altKey;r.unit=s?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=z?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?i.altKey:i.ctrlKey)),r}function Ah(t,e,i,n){S?setTimeout(kt(Va,t),0):t.curOp.focus=lt(wt(t));var r=Ch(t,i,n),s=t.doc.sel,u;t.options.dragDrop&&Gr&&!t.isReadOnly()&&i=="single"&&(u=s.contains(e))>-1&&(G((u=s.ranges[u]).from(),e)<0||e.xRel>0)&&(G(u.to(),e)>0||e.xRel<0)?Lh(t,n,e,r):Oh(t,n,e,r)}function Lh(t,e,i,n){var r=t.display,s=!1,u=Zt(t,function(m){p&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ps(t)),re(r.wrapper.ownerDocument,"mouseup",u),re(r.wrapper.ownerDocument,"mousemove",c),re(r.scroller,"dragstart",_),re(r.scroller,"drop",u),s||(se(m),n.addNew||xr(t.doc,i,null,null,n.extend),p&&!F||S&&k==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),c=function(m){s=s||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return s=!0};p&&(r.scroller.draggable=!0),t.state.draggingText=u,u.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",u),nt(r.wrapper.ownerDocument,"mousemove",c),nt(r.scroller,"dragstart",_),nt(r.scroller,"drop",u),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function tu(t,e,i){if(i=="char")return new Ot(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var n=i(t,e);return new Ot(n.from,n.to)}function Oh(t,e,i,n){S&&ps(t);var r=t.display,s=t.doc;se(e);var u,c,_=s.sel,m=_.ranges;if(n.addNew&&!n.extend?(c=s.sel.contains(i),c>-1?u=m[c]:u=new Ot(i,i)):(u=s.sel.primary(),c=s.sel.primIndex),n.unit=="rectangle")n.addNew||(u=new Ot(i,i)),i=An(t,e,!0,!0),c=-1;else{var N=tu(t,i,n.unit);n.extend?u=Cs(u,N.anchor,N.head,n.extend):u=N}n.addNew?c==-1?(c=m.length,ae(s,Me(t,m.concat([u]),c),{scroll:!1,origin:"*mouse"})):m.length>1&&m[c].empty()&&n.unit=="char"&&!n.extend?(ae(s,Me(t,m.slice(0,c).concat(m.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),_=s.sel):As(s,c,u,Ce):(c=0,ae(s,new Te([u],0),Ce),_=s.sel);var M=i;function j(et){if(G(M,et)!=0)if(M=et,n.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(s,i.line).text,i.ch,gt),xt=at(ct(s,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(i.line,et.line),xe=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=xe;Wt++){var ve=ct(s,Wt).text,Ut=Se(ve,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):ve.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,Se(ve,Vt,gt))))}ut.length||ut.push(new Ot(i,i)),ae(s,Me(t,_.ranges.slice(0,c).concat(ut),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var me=u,ie=tu(t,et,n.unit),\$t=me.anchor,Kt;G(ie.anchor,\$t)>0?(Kt=ie.head,\$t=Xt(me.from(),ie.anchor)):(Kt=ie.anchor,\$t=Ct(me.to(),ie.head));var qt=_.ranges.slice(0);qt[c]=Nh(t,new Ot(yt(s,\$t),Kt)),ae(s,Me(t,qt,c),Ce)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=An(t,et,!0,n.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=gr(r,s);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(se(et),r.input.focus()),re(r.wrapper.ownerDocument,"mousemove",tt),re(r.wrapper.ownerDocument,"mouseup",st),s.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!gi(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Nh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var s=Le(r);if(!s)return e;var u=Ae(s,i.ch,i.sticky),c=s[u];if(c.from!=i.ch&&c.to!=i.ch)return e;var _=u+(c.from==i.ch==(c.level!=1)?0:1);if(_==0||_==s.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Ae(s,n.ch,n.sticky),M=N-u||(n.ch-i.ch)*(c.level==1?-1:1);N==_-1||N==_?m=M<0:m=M>0}var j=s[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new Ot(new B(i.line,X,Y),n)}function eu(t,e,i,n){var r,s;if(e.touches)r=e.touches[0].clientX,s=e.touches[0].clientY;else try{r=e.clientX,s=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&se(e);var u=t.display,c=u.lineDiv.getBoundingClientRect();if(s>c.bottom||!le(t,i))return di(e);s-=c.top-u.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=u.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=He(t.doc,s),M=t.display.gutterSpecs[_];return Mt(t,i,t,N,M.className,e),di(e)}}}function Ds(t,e){return eu(t,e,"gutterClick",!0)}function nu(t,e){Ve(t.display,e)||Rh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Rh(t,e){return le(t,"gutterContextMenu")?eu(t,e,"gutterContextMenu",!1):!1}function iu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Si(t)}var ri={toString:function(){return"CodeMirror.Init"}},ru={},Lr={};function Fh(t){var e=t.optionHandlers;function i(n,r,s,u){t.defaults[n]=r,s&&(e[n]=u?function(c,_,m){m!=ri&&s(c,_,m)}:s)}t.defineOption=i,t.Init=ri,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,Ss(n)},!0),i("indentUnit",2,Ss,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Ri(n),Si(n),de(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var s=[],u=n.doc.first;n.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,s.push(B(u,N))}u++});for(var c=s.length-1;c>=0;c--)ti(n.doc,r,s[c],B(s[c].line,s[c].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,s){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),s!=ri&&n.refresh()}),i("specialCharPlaceholder",ul,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){iu(n),Ni(n)},!0),i("keyMap","default",function(n,r,s){var u=Cr(r),c=s!=ri&&Cr(s);c&&c.detach&&c.detach(n,u),u.attach&&u.attach(n,c||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Mh,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=xs(r,n.options.lineNumbers),Ni(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?hs(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return Qn(n)},!0),i("scrollbarStyle","native",function(n){so(n),Qn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=xs(n.options.gutters,r),Ni(n)},!0),i("firstLineNumber",1,Ni,!0),i("lineNumberFormatter",function(n){return n},Ni,!0),i("showCursorWhenSelecting",!1,Ei,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(\$n(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Dh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Ei,!0),i("singleCursorHeightPerLine",!0,Ei,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Ri,!0),i("addModeClass",!1,Ri,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Ri,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Dh(t,e,i){var n=i&&i!=ri;if(!e!=!n){var r=t.display.dragFunctions,s=e?nt:re;s(t.display.scroller,"dragstart",r.start),s(t.display.scroller,"dragenter",r.enter),s(t.display.scroller,"dragover",r.over),s(t.display.scroller,"dragleave",r.leave),s(t.display.scroller,"drop",r.drop)}}function Mh(t){t.options.lineWrapping?(T(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ts(t)),cs(t),de(t),Si(t),setTimeout(function(){return Qn(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(ru,e,!1);var n=e.value;typeof n=="string"?n=new ge(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),s=this.display=new \$l(t,n,r,e);s.wrapper.CodeMirror=this,iu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),so(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&s.input.focus(),S&&k<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Ph(this),_h(),Rn(this),this.curOp.forceUpdate=!0,go(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&ds(i)},20):\$n(this);for(var u in Lr)Lr.hasOwnProperty(u)&&Lr[u](this,e[u],ri);uo(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ms.length;++c)Ms[c](this);Fn(this),p&&e.lineWrapping&&getComputedStyle(s.lineDiv).textRendering=="optimizelegibility"&&(s.lineDiv.style.textRendering="auto")}Pt.defaults=ru,Pt.optionHandlers=Lr;function Ph(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,Vo)),S&&k<11?nt(e.scroller,"dblclick",Zt(t,function(_){if(!zt(t,_)){var m=An(t,_);if(!(!m||Ds(t,_)||Ve(t.display,_))){se(_);var N=t.findWordAt(m);xr(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(_){return zt(t,_)||se(_)}),nt(e.scroller,"contextmenu",function(_){return nu(t,_)}),nt(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||nu(t,_)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function s(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function u(_,m){if(m.left==null)return!0;var N=m.left-_.left,M=m.top-_.top;return N*N+M*M>20*20}nt(e.scroller,"touchstart",function(_){if(!zt(t,_)&&!s(_)&&!Ds(t,_)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ve(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||u(m,m.prev)?M=new Ot(N,N):!m.prev.prev||u(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),se(_)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Ci(t,e.scroller.scrollTop),On(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(_){return co(t,_)}),nt(e.scroller,"DOMMouseScroll",function(_){return co(t,_)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){zt(t,_)||Xe(_)},over:function(_){zt(t,_)||(fh(t,_),Xe(_))},start:function(_){return ch(t,_)},drop:Zt(t,hh),leave:function(_){zt(t,_)||zo(t)}};var c=e.input.getField();nt(c,"keyup",function(_){return Zo.call(t,_)}),nt(c,"keydown",Zt(t,Qo)),nt(c,"keypress",Zt(t,Jo)),nt(c,"focus",function(_){return ds(t,_)}),nt(c,"blur",function(_){return \$n(t,_)})}var Ms=[];Pt.defineInitHook=function(t){return Ms.push(t)};function Ki(t,e,i,n){var r=t.doc,s;i==null&&(i="add"),i=="smart"&&(r.mode.indent?s=bi(t,e).state:i="prev");var u=t.options.tabSize,c=ct(r,e),_=at(c.text,null,u);c.stateAfter&&(c.stateAfter=null);var m=c.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(c.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(s,c.text.slice(m.length),c.text),N==Et||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,u):N=0:i=="add"?N=_+t.options.indentUnit:i=="subtract"?N=_-t.options.indentUnit:typeof i=="number"&&(N=_+i),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/u);q;--q)j+=u,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return ti(r,M,B(e,0),B(e,m.length),"+input"),c.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);As(r,X,new Ot(V,V));break}}}var Pe=null;function Or(t){Pe=t}function Ps(t,e,i,n,r){var s=t.doc;t.display.shift=!1,n||(n=s.sel);var u=+new Date-200,c=r=="paste"||t.state.pasteIncoming>u,_=vi(e),m=null;if(c&&n.ranges.length>1)if(Pe&&Pe.text.join(\`
\`)==e){if(n.ranges.length%Pe.text.length==0){m=[];for(var N=0;N<Pe.text.length;N++)m.push(s.splitLines(Pe.text[N]))}}else _.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(_,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=B(X.line,X.ch-i):t.state.overwrite&&!c?Y=B(Y.line,Math.min(ct(s,Y.line).text.length,Y.ch+mt(_).length)):c&&Pe&&Pe.lineWise&&Pe.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(c?"paste":t.state.cutIncoming>u?"cut":"+input")};Vn(t.doc,V),Qt(t,"inputRead",t,V)}e&&!c&&au(t,e),Yn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function su(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&we(e,function(){return Ps(e,i,0,null,"paste")}),!0}function au(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var s=t.getModeAt(r.head),u=!1;if(s.electricChars){for(var c=0;c<s.electricChars.length;c++)if(e.indexOf(s.electricChars.charAt(c))>-1){u=Ki(t,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(u=Ki(t,r.head.line,"smart"));u&&Qt(t,"electricInput",t,r.head.line)}}}function ou(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,s={anchor:B(r,0),head:B(r+1,0)};i.push(s),e.push(t.getRange(s.anchor,s.head))}return{text:e,ranges:i}}function Ws(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function uu(){var t=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=C("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Wh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var s=this.options,u=s[n];s[n]==r&&n!="mode"||(s[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,u),Mt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Cr(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,s=0;s<r.length;++s)if(r[s]==n||r[s].name==n)return r.splice(s,1),!0},addOverlay:ce(function(n,r){var s=n.token?n:t.getMode(this.options,n);if(s.startState)throw new Error("Overlays may not be stateful.");on(this.state.overlays,{mode:s,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(u){return u.priority}),this.state.modeGen++,de(this)}),removeOverlay:ce(function(n){for(var r=this.state.overlays,s=0;s<r.length;++s){var u=r[s].modeSpec;if(u==n||typeof n=="string"&&u.name==n){r.splice(s,1),this.state.modeGen++,de(this);return}}}),indentLine:ce(function(n,r,s){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),w(this.doc,n)&&Ki(this,n,r,s)}),indentSelection:ce(function(n){for(var r=this.doc.sel.ranges,s=-1,u=0;u<r.length;u++){var c=r[u];if(c.empty())c.head.line>s&&(Ki(this,c.head.line,n,!0),s=c.head.line,u==this.doc.sel.primIndex&&Yn(this));else{var _=c.from(),m=c.to(),N=Math.max(s,_.line);s=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<s;++M)Ki(this,M,n);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[u].from().ch>0&&As(this.doc,u,new Ot(_,j[u].to()),Rt)}}}),getTokenAt:function(n,r){return va(this,n,r)},getLineTokens:function(n,r){return va(this,B(n),r,!0)},getTokenTypeAt:function(n){n=yt(this.doc,n);var r=pa(this,ct(this.doc,n.line)),s=0,u=(r.length-1)/2,c=n.ch,_;if(c==0)_=r[2];else for(;;){var m=s+u>>1;if((m?r[m*2-1]:0)>=c)u=m;else if(r[m*2+1]<c)s=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var s=[];if(!i.hasOwnProperty(r))return s;var u=i[r],c=this.getModeAt(n);if(typeof c[r]=="string")u[c[r]]&&s.push(u[c[r]]);else if(c[r])for(var _=0;_<c[r].length;_++){var m=u[c[r][_]];m&&s.push(m)}else c.helperType&&u[c.helperType]?s.push(u[c.helperType]):u[c.name]&&s.push(u[c.name]);for(var N=0;N<u._global.length;N++){var M=u._global[N];M.pred(c,this)&&vt(s,M.val)==-1&&s.push(M.val)}return s},getStateAfter:function(n,r){var s=this.doc;return n=Ee(s,n??s.first+s.size-1),bi(this,n+1,r).state},cursorCoords:function(n,r){var s,u=this.doc.sel.primary();return n==null?s=u.head:typeof n=="object"?s=yt(this.doc,n):s=n?u.from():u.to(),De(this,s,r||"page")},charCoords:function(n,r){return fr(this,yt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=Ga(this,n,r||"page"),os(this,n.left,n.top)},lineAtHeight:function(n,r){return n=Ga(this,{top:n,left:0},r||"page").top,He(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,s){var u=!1,c;if(typeof n=="number"){var _=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>_&&(n=_,u=!0),c=ct(this.doc,n)}else c=n;return cr(this,c,{top:0,left:0},r||"page",s||u).top+(u?this.doc.height-Je(c):0)},defaultTextHeight:function(){return Gn(this.display)},defaultCharWidth:function(){return Xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,s,u,c){var _=this.display;n=De(this,yt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),u=="over")m=n.top;else if(u=="above"||u=="near"){var M=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(u=="above"||n.bottom+r.offsetHeight>M)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=M&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",c=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(c=="left"?N=0:c=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),s&&Dl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:ce(Qo),triggerOnKeyPress:ce(Jo),triggerOnKeyUp:Zo,triggerOnMouseDown:ce(Vo),execCommand:function(n){if(Hi.hasOwnProperty(n))return Hi[n].call(null,this)},triggerElectric:ce(function(n){au(this,n)}),findPosH:function(n,r,s,u){var c=1;r<0&&(c=-1,r=-r);for(var _=yt(this.doc,n),m=0;m<r&&(_=Is(this.doc,_,c,s,u),!_.hitSide);++m);return _},moveH:ce(function(n,r){var s=this;this.extendSelectionsBy(function(u){return s.display.shift||s.doc.extend||u.empty()?Is(s.doc,u.head,n,r,s.options.rtlMoveVisually):n<0?u.from():u.to()},ke)}),deleteH:ce(function(n,r){var s=this.doc.sel,u=this.doc;s.somethingSelected()?u.replaceSelection("",null,"+delete"):ii(this,function(c){var _=Is(u,c.head,n,r,!1);return n<0?{from:_,to:c.head}:{from:c.head,to:_}})}),findPosV:function(n,r,s,u){var c=1,_=u;r<0&&(c=-1,r=-r);for(var m=yt(this.doc,n),N=0;N<r;++N){var M=De(this,m,"div");if(_==null?_=M.left:M.left=_,m=lu(this,M,c,s),m.hitSide)break}return m},moveV:ce(function(n,r){var s=this,u=this.doc,c=[],_=!this.display.shift&&!u.extend&&u.sel.somethingSelected();if(u.extendSelectionsBy(function(N){if(_)return n<0?N.from():N.to();var M=De(s,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),c.push(M.left);var j=lu(s,M,n,r);return r=="page"&&N==u.sel.primary()&&vs(s,fr(s,j,"div").top-M.top),j},ke),c.length)for(var m=0;m<u.sel.ranges.length;m++)u.sel.ranges[m].goalColumn=c[m]}),findWordAt:function(n){var r=this.doc,s=ct(r,n.line).text,u=n.ch,c=n.ch;if(s){var _=this.getHelper(n,"wordChars");(n.sticky=="before"||c==s.length)&&u?--u:++c;for(var m=s.charAt(u),N=In(m,_)?function(M){return In(M,_)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!In(M)};u>0&&N(s.charAt(u-1));)--u;for(;c<s.length&&N(s.charAt(c));)++c}return new Ot(B(n.line,u),B(n.line,c))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?T(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ce(function(n,r){Ti(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-je(this)-this.display.barHeight,width:n.scrollWidth-je(this)-this.display.barWidth,clientHeight:is(this),clientWidth:Tn(this)}},scrollIntoView:ce(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:B(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Ml(this,n):eo(this,n.from,n.to,n.margin)}),setSize:ce(function(n,r){var s=this,u=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};n!=null&&(this.display.wrapper.style.width=u(n)),r!=null&&(this.display.wrapper.style.height=u(r)),this.options.lineWrapping&&ja(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){_n(s,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(n){return we(this,n)},startOperation:function(){return Rn(this)},endOperation:function(){return Fn(this)},refresh:ce(function(){var n=this.display.cachedTextHeight;de(this),this.curOp.forceUpdate=!0,Si(this),Ti(this,this.doc.scrollLeft,this.doc.scrollTop),ys(this.display),(n==null||Math.abs(n-Gn(this.display))>.5||this.options.lineWrapping)&&cs(this),Mt(this,"refresh",this)}),swapDoc:ce(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),go(this,n),Si(this),this.display.input.reset(),Ti(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},he(t),t.registerHelper=function(n,r,s){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=s},t.registerGlobalHelper=function(n,r,s,u){t.registerHelper(n,r,u),i[n]._global.push({pred:s,val:u})}}function Is(t,e,i,n,r){var s=e,u=i,c=ct(t,e.line),_=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),c=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=c.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var gt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(c.text.length,e.ch+i*(gt?2:1))),-i)}}else r?et=mh(t.cm,c,e,i):et=Os(c,e,i);if(et==null)if(!st&&m())e=Ns(r,t.cm,c,e.line,_);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var M=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=c.text.charAt(e.ch)||\`
\`,V=In(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(M=V),i>0&&!N(!X))break}var tt=Sr(t,e,s,u,!0);return bt(s,tt)&&(tt.hitSide=!0),tt}function lu(t,e,i,n){var r=t.doc,s=e.left,u;if(n=="page"){var c=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(c-.5*Gn(t.display),3);u=(i>0?e.bottom:e.top)+i*_}else n=="line"&&(u=i>0?e.bottom+3:e.top-3);for(var m;m=os(t,s,u),!!m.outside;){if(i<0?u<=0:u>=r.height){m.hitSide=!0;break}u+=i*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Ws(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function s(c){for(var _=c.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}nt(r,"paste",function(c){!s(c)||zt(n,c)||su(c,n)||k<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(c){e.composing={data:c.data,done:!1}}),nt(r,"compositionupdate",function(c){e.composing||(e.composing={data:c.data,done:!1})}),nt(r,"compositionend",function(c){e.composing&&(c.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function u(c){if(!(!s(c)||zt(n,c))){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()}),c.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var _=ou(n);Or({lineWise:!0,text:_.text}),c.type=="cut"&&n.operation(function(){n.setSelections(_.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var m=Pe.text.join(\`
\`);if(c.clipboardData.setData("Text",m),c.clipboardData.getData("Text")==m){c.preventDefault();return}}var N=uu(),M=N.firstChild;Ws(M),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),M.value=Pe.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",u),nt(r,"cut",u)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Ja(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var s=Nr(e,t.anchorNode,t.anchorOffset),u=Nr(e,t.focusNode,t.focusOffset);if(!(s&&!s.bad&&u&&!u.bad&&G(Xt(s,u),n)==0&&G(Ct(s,u),r)==0)){var c=e.display.view,_=n.line>=e.display.viewFrom&&hu(e,n)||{node:c[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&hu(e,r);if(!m){var N=c[c.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(_.node,_.offset,m.offset,m.node)}catch{}q&&(!d&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):d&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):we(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&l&&this.cm.display.gutterSpecs.length&&Ih(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Nr(e,t.anchorNode,t.anchorOffset),n=Nr(e,t.focusNode,t.focusOffset);i&&n&&we(e,function(){ae(e.doc,dn(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=B(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var s,u,c;n.line==e.viewFrom||(s=Ln(t,n.line))==0?(u=Lt(e.view[0].line),c=e.view[0].node):(u=Lt(e.view[s].line),c=e.view[s-1].node.nextSibling);var _=Ln(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!c)return!1;for(var M=t.doc.splitLines(Bh(t,c,N,u,m)),j=Qe(t.doc,B(u,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),u++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&u==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(u,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return ti(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&we(this.cm,function(){return de(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Ps)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function hu(t,e){var i=rs(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Ia(i,n,e.line),s=Le(n,t.doc.direction),u="left";if(s){var c=Ae(s,e.ch);u=c%2?"right":"left"}var _=Ha(r.map,e.ch,u);return _.offset=_.collapse=="right"?_.end:_.start,_}function Ih(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function si(t,e){return e&&(t.bad=!0),t}function Bh(t,e,i,n,r){var s="",u=!1,c=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){u&&(s+=c,_&&(s+=c),u=_=!1)}function M(q){q&&(N(),s+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(n,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(c));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(u=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,_=!1;return s}function Nr(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return si(t.clipPos(B(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var s=t.display.view[r];if(s.node==n)return zh(s,e,i)}}function zh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return si(B(Lt(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var s=t.rest?mt(t.rest):t.line;return si(B(Lt(s),s.text.length),r)}var u=e.nodeType==3?e:null,c=e;for(!u&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(u=e.firstChild,i&&(i=u.nodeValue.length));c.parentNode!=n;)c=c.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(u,c,i);if(M)return si(M,r);for(var j=c.nextSibling,q=u?u.nodeValue.length-i:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return si(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=c.previousSibling,Y=i;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return si(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&k>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(u){zt(n,u)||su(u,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function s(u){if(!zt(n,u)){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var c=ou(n);Or({lineWise:!0,text:c.text}),u.type=="cut"?n.setSelections(c.ranges,null,Rt):(i.prevInput="",r.value=c.text.join(\`
\`),dt(r))}else return;u.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",s),nt(r,"copy",s),nt(t.scroller,"paste",function(u){if(!(Ve(t,u)||zt(n,u))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var c=new Event("paste");c.clipboardData=u.clipboardData,r.dispatchEvent(c)}}),nt(t.lineSpace,"selectstart",function(u){Ve(t,u)||se(u)}),nt(r,"compositionstart",function(){var u=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:u,range:n.markText(u,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},jt.prototype.createField=function(t){this.wrapper=uu(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ws(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ja(t);if(t.options.moveInputWithCursor){var r=De(t,i.sel.primary().head,"div"),s=e.wrapper.getBoundingClientRect(),u=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+u.top-s.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+u.left-s.left))}return n},jt.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&k>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&k>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},jt.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||un(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&k>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var s=r.charCodeAt(0);if(s==8203&&!n&&(n="​"),s==8666)return this.reset(),this.cm.execCommand("undo")}for(var u=0,c=Math.min(n.length,r.length);u<c&&n.charCodeAt(u)==r.charCodeAt(u);)++u;return we(e,function(){Ps(e,r.slice(u),n.length-u,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&k>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var s=An(i,t),u=n.scroller.scrollTop;if(!s||b)return;var c=i.options.resetSelectionOnContextMenu;c&&i.doc.sel.contains(s)==-1&&Zt(i,ae)(i.doc,dn(s),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;p&&(M=r.ownerDocument.defaultView.scrollY),n.input.focus(),p&&r.ownerDocument.defaultView.scrollTo(null,M),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&k<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),r.selectionStart!=null)){(!S||S&&k<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,Lo)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&k>=9&&j(),rt){Xe(t);var X=function(){re(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Hh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=c.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var s=t.form;r=s.submit;try{var u=s.submit=function(){n(),s.submit=r,s.submit(),s.submit=u}}catch{}}e.finishInit=function(_){_.save=n,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,n(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(re(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var c=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return c}function qh(t){t.off=re,t.on=nt,t.wheelEventPixels=Yl,t.Doc=ge,t.splitLines=vi,t.countColumn=at,t.findColumn=Se,t.isWordChar=fi,t.Pass=Et,t.signal=Mt,t.Line=jn,t.changeEnd=gn,t.scrollbarModel=ro,t.Pos=B,t.cmpPos=G,t.modes=Re,t.mimeModes=ln,t.resolveMode=ye,t.getMode=\$e,t.modeExtensions=hn,t.extendMode=nr,t.copyState=Ye,t.startState=mi,t.innerMode=cn,t.commands=Hi,t.keyMap=en,t.keyName=Ko,t.isModifierKey=jo,t.lookupKey=ni,t.normalizeKeyMap=vh,t.StringStream=Ht,t.SharedTextMarker=Ii,t.TextMarker=mn,t.LineWidget=Wi,t.e_preventDefault=se,t.e_stopPropagation=En,t.e_stop=Xe,t.addClass=T,t.contains=J,t.rmClass=R,t.keyNames=bn}Fh(Pt),Wh(Pt);var jh="iter insert remove copy getEditor constructor".split(" ");for(var Rr in ge.prototype)ge.prototype.hasOwnProperty(Rr)&&vt(jh,Rr)<0&&(Pt.prototype[Rr]=function(t){return function(){return t.apply(this.doc,arguments)}}(ge.prototype[Rr]));return he(ge),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),er.apply(this,arguments)},Pt.defineMIME=Hn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){ge.prototype[t]=e},Pt.fromTextArea=Hh,qh(Pt),Pt.version="5.65.12",Pt});const Uh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},Kh=(()=>{let o=[];return Object.values(Uh).forEach(a=>{a.middle&&(o.push(a.general.code),o.push(a.middle.code),o.push(a.beginning.code))}),o})();function Fr(o){let a=[];return o.split("").forEach(d=>{Kh.includes(d)?a.push(\`\${d}ـ*\`):d==="ـ"||a.push(d)}),a.join("")}function Xs(o){return(""+o).split("").map(A=>{switch(A){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Gh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],ta={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ea={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},na={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Xh={...ta,...ea,...na},\$h="[\\\\p{L}_]",Yh="[\\\\p{L}\\\\p{N}_]",qr=\`(?:\${\$h}\${Yh}*)\`,Qh="[^\\\\p{L}\\\\p{N}_]",ia="[٠-٩]",Zh=\`(?:,\${ia}+)\`,Jh=\`\${ia}+\${Zh}?\`,ra="[0-9]",Vh=\`(?:\\\\.\${ra}+)\`,Tu=\`\${ra}+\${Vh}?\`,Hs="\\\\\\\\",Dr="\\\\/",Mr="\\\\-",Gi="\\\\{",Xi="\\\\}",tc="\\\\(",ec="\\\\)",\$s="\\\\s",nc=\`\${tc}?\${\$s}*\${ec}?\`,ic=()=>RegExp(\`(?:(?:#|#)\${qr})\`,"u"),rc=()=>RegExp(\`(?:~\${qr}?\${\$s}*\${nc}\${\$s}*->)\`,"u"),Cu=[{regex:ic(),token:"meta"},{regex:rc(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Gh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Au={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var d=[function(E,S,k){var p=k(1).Beautifier,h=k(5).Options;E.exports=function(l,f){return new p(l,f).beautify()},E.exports.defaultOptions=function(){return new h}},function(E,S,k){var p=k(2).Output,h=k(3).Token,l=k(4),f=k(5).Options,b=k(7).Tokenizer,F=k(7).line_starters,O=k(7).positionable_operators,g=k(7).TOKEN;function y(T,\$){return \$.indexOf(T)!==-1}function W(T,\$){return T&&T.type===g.RESERVED&&T.text===\$}function D(T,\$){return T&&T.type===g.RESERVED&&y(T.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(T){for(var \$={},dt=0;dt<T.length;dt++)\$[T[dt].replace(/-/g,"_")]=T[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",x="Conditional",K="Expression";function C(T,\$){\$.multiline_frame||\$.mode===R||\$.mode===x||T.remove_indent(\$.start_line_index)}function Q(T){return T===I}function it(T){return y(T,[K,R,x])}function J(T,\$){\$=\$||{},this._source_text=T||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(T,\$){var dt=0;return T&&(dt=T.indentation_level,!this._output.just_added_newline()&&T.line_indent_level>dt&&(dt=T.line_indent_level)),{mode:\$,parent:T,last_token:T?T.last_token:new h(g.START_BLOCK,""),last_word:T?T.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:T?T.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(T){var \$=T.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new p(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(T,this._options));return this._tokens=\$.tokenize(),T},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var T=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,T&&l.lineBreak.test(T||"")&&(\$=T.match(l.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(T,\$){T.type===g.START_EXPR?this.handle_start_expr(T):T.type===g.END_EXPR?this.handle_end_expr(T):T.type===g.START_BLOCK?this.handle_start_block(T):T.type===g.END_BLOCK?this.handle_end_block(T):T.type===g.WORD||T.type===g.RESERVED?this.handle_word(T):T.type===g.SEMICOLON?this.handle_semicolon(T):T.type===g.STRING?this.handle_string(T):T.type===g.EQUALS?this.handle_equals(T):T.type===g.OPERATOR?this.handle_operator(T):T.type===g.COMMA?this.handle_comma(T):T.type===g.BLOCK_COMMENT?this.handle_block_comment(T,\$):T.type===g.COMMENT?this.handle_comment(T,\$):T.type===g.DOT?this.handle_dot(T):T.type===g.EOF?this.handle_eof(T):(T.type,g.UNKNOWN,this.handle_unknown(T,\$))},J.prototype.handle_whitespace_and_comments=function(T,\$){var dt=T.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(T.comments_before)for(var Nt=T.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=T.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(T,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&T.newlines||\$,(y(this._flags.last_token.text,O)||y(T.text,O))&&(T=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(T.text,O),\$=\$&&T),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(T,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(T)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(T){this._output.just_added_newline()&&(this._options.keep_array_indentation&&T.newlines&&(T.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(T.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(T){var \$;this._output.raw?this._output.add_raw_token(T):(this._options.comma_first&&T.previous&&T.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(T),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(T),this._output.non_breaking_space=!0,this._output.add_token(T.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(T){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,T),this._flags=this.create_flags(this._previous_flags,T),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&C(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(T){return!!(D(this._flags.last_token,["var","let","const"])&&T.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!T.newlines||W(this._flags.last_token,"else")&&!(W(T,"if")&&!T.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===x)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(T.text==="--"||T.text==="++")&&this._last_last_text!=="function"&&T.type!==g.WORD&&T.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(T,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T,D(T,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T);var \$,dt,wt=K;if(T.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(T),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=x):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&T.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(T),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(T,T.newlines),this.print_token(T),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(T){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(T),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(T,T.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(T),this.restore_mode(),C(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===x&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(T){this.handle_whitespace_and_comments(T);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==T))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&T.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(T),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(T),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(T){for(this.handle_whitespace_and_comments(T);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(T)},J.prototype.handle_word=function(T){if(T.type===g.RESERVED&&(y(T.text,["set","get"])&&this._flags.mode!==rt||T.text==="import"&&y(this._tokens.peek().text,["(","."])||y(T.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(T.type=g.WORD),this.start_of_statement(T)?D(this._flags.last_token,["var","let","const"])&&T.type===g.WORD&&(this._flags.declaration_statement=!0):!T.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(T):(this.handle_whitespace_and_comments(T),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(T,"while"))return this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(T,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(T,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(T),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(T),W(T,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||T.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(T),void(this._flags.last_word=T.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(T,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&T.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(T,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(T,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&T.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(T,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(T,["var","let","const"])||this._flags.last_token.text===":"||(W(T,"if")&&W(T.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(T,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!T.previous||T.previous.type!==g.WORD&&T.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(T),this._flags.last_word=T.text,T.type===g.RESERVED&&(T.text==="do"?this._flags.do_block=!0:T.text==="if"?this._flags.if_block=!0:T.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(T,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(T){this.start_of_statement(T)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(T);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(T)},J.prototype.handle_string=function(T){T.text.startsWith("\`")&&T.newlines===0&&T.whitespace_before===""&&(T.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(T)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(T),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T):!T.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||T.previous.text!=="]"&&T.previous.text!==")"||T.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(T)},J.prototype.handle_equals=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0},J.prototype.handle_comma=function(T){this.handle_whitespace_and_comments(T,!0),this.print_token(T),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(T)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(T)},J.prototype.handle_operator=function(T){var \$=T.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(T.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(T)||this.handle_whitespace_and_comments(T,!\$),T.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(T);else if(T.text==="::")this.print_token(T);else if(y(T.text,["-","+"])&&this.start_of_object_property())this.print_token(T);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(T),T.text===":"&&this._flags.in_case)return this.print_token(T),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(T.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):T.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(T.text,O)){var ft=T.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(T),ft&&!at||this.allow_wrap_or_preserved_newline(T),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(T):this._output.space_before_token=!1,this.print_token(T),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(T),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(T),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(T),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[g.WORD,g.RESERVED])):T.text==="..."?(this.allow_wrap_or_preserved_newline(T),wt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(T.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(T),Nt=wt=!1,!T.newlines||T.text!=="--"&&T.text!=="++"&&T.text!=="~"||((\$=D(this._flags.last_token,z)&&T.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(wt=!0),this._flags.last_token.type===g.RESERVED?wt=!0:this._flags.last_token.type===g.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(T.text==="--"||T.text==="++")):this._flags.last_token.type===g.OPERATOR&&(wt=y(T.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(T.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(T),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(T,\$){return this._output.raw?(this._output.add_raw_token(T),void(T.directives&&T.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):T.directives?(this.print_newline(!1,\$),this.print_token(T),T.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(l.newline.test(T.text)||T.newlines?this.print_block_commment(T,\$):(this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(T,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ne=(_t=_t.replace(l.allLineBreaks,\`
\`)).indexOf(\`
\`);ne!==-1;)vt.push(_t.substring(0,ne)),ne=(_t=_t.substring(ne+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(T.text),ft=T.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(T),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ne=0;ne<_t.length;ne++)if(_t[ne].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ne,Et=0,Rt=_t.length;Et<Rt;Et++)if((ne=_t[Et])&&ne.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(T),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(T),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(T,\$){T.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(T),this.print_newline(!1,\$)},J.prototype.handle_dot=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(T,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(T)},J.prototype.handle_unknown=function(T,\$){this.print_token(T),T.text[T.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(T){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(T)},E.exports.Beautifier=J},function(E){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function k(h,l){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),l=l||"",0<h.indent_level&&(l=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=l,this.__base_string_length=l.length}function p(h,l){this.__indent_cache=new k(h,l),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var l=this.__items.length-1;0<=l;l--)if(this.__items[l].match(h))return!0;return!1},S.prototype.set_indent=function(h,l){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=l||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var l=h.lastIndexOf(\`
\`);l!==-1?this.__character_count=h.length-l:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},k.prototype.get_indent_size=function(h,l){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(l=l||0)},k.prototype.get_indent_string=function(h,l){var f=this.__base_string;return l=l||0,h<0&&(h=0,f=""),l+=h*this.__indent_size,this.__ensure_cache(l),f+=this.__cache[l]},k.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},k.prototype.__add_column=function(){var h,l=this.__cache.length,f="";this.__indent_size&&l>=this.__indent_size&&(l-=(h=Math.floor(l/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),l&&(f+=new Array(l+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,l){return this.__indent_cache.get_indent_string(h,l)},p.prototype.get_indent_size=function(h,l){return this.__indent_cache.get_indent_size(h,l)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var l=this.current_line.pop(),l=(l&&(l[l.length-1]===\`
\`&&(l=l.replace(/\\n+\$/g,"")),this.current_line.push(l)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return l=h!==\`
\`?l.replace(/[\\n]/g,h):l},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,l){return this.next_line.set_indent(h=h||0,l=l||0),1<this.__lines.length?(this.current_line.set_indent(h,l),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var l=0;l<h.newlines;l++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var l=this.__lines.length;h<l;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,l){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==l){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=p},function(E){E.exports.Token=function(S,k,p,h){this.type=S,this.text=k,this.comments_before=null,this.newlines=p||0,this.whitespace_before=h||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var k="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",p="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",h="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",l="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+l+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+p+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+l+"|["+k+p+h+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,k){var p=k(6).Options,h=["before-newline","after-newline","preserve-newline"];function l(b){p.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",h),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}l.prototype=new p,E.exports.Options=l},function(E){function S(h,l){this.raw_options=k(h,l),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function k(h,l){var f,b={};for(f in h=p(h))f!==l&&(b[f]=h[f]);if(l&&h[l])for(f in h[l])b[f]=h[l][f];return b}function p(h){var l,f={};for(l in h)f[l.replace(/-/g,"_")]=h[l];return f}S.prototype._get_array=function(h,l){return h=this.raw_options[h],l=l||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(l=h.concat()):typeof h=="string"&&(l=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),l},S.prototype._get_boolean=function(h,l){return h=this.raw_options[h],h===void 0?!!l:!!h},S.prototype._get_characters=function(h,l){return h=this.raw_options[h],l=l||"",l=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):l},S.prototype._get_number=function(h,l){return h=this.raw_options[h],l=parseInt(l,10),isNaN(l)&&(l=0),h=parseInt(h,10),h=isNaN(h)?l:h},S.prototype._get_selection=function(h,l,f){if(f=this._get_selection_list(h,l,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,l,f){if(!l||l.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[l[0]],!this._is_valid_selection(f,l))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,l))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,l){return h.length&&l.length&&!h.some(function(f){return l.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=p,E.exports.mergeOpts=k},function(E,S,U){var p=U(8).InputScanner,h=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,l=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,x){return x.indexOf(R)!==-1}function O(R,x){h.call(this,R,x),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),x=new b(this._input).read_options(this._options),this.__patterns={template:x,identifier:x.starting_with(l.identifier).matching(l.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(l.lineBreak),shebang:R.starting_with(/#!/).until_after(l.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:x.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:x.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:x.until(/[\`\\\\\$]/),template_expression:x.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new h)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,x){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&x&&(R.text==="]"&&x.text==="["||R.text===")"&&x.text==="("||R.text==="}"&&x.text==="{")},O.prototype._reset=function(){g=!1},O.prototype._get_next_token=function(R,x){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var x=this.__patterns.identifier.read();return x!==""?(x=x.replace(l.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(x)?x!=="in"&&x!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,x):this._create_token(y.OPERATOR,x):this._create_token(y.WORD,x)):(x=this.__patterns.number.read())!==""?this._create_token(y.WORD,x):void 0},O.prototype._read_singles=function(R){var x=null;return R==="("||R==="["?x=this._create_token(y.START_EXPR,R):R===")"||R==="]"?x=this._create_token(y.END_EXPR,R):R==="{"?x=this._create_token(y.START_BLOCK,R):R==="}"?x=this._create_token(y.END_BLOCK,R):R===";"?x=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?x=this._create_token(y.DOT,R):R===","&&(x=this._create_token(y.COMMA,R)),x&&this._input.next(),x},O.prototype._read_pair=function(R,x){var K=null;return(K=R==="#"&&x==="{"?this._create_token(y.START_BLOCK,R+x):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var x="";if(R==="#"){if(this._is_first_token()&&(x=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,x.trim()+\`
\`);if(x=this.__patterns.include.read())return this._create_token(y.UNKNOWN,x.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(x=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(l.newline);)x+=this._input.next();return g=!0,this._create_token(y.COMMENT,x)}}else if(g&&R==="-"&&(x=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,x);return null},O.prototype._read_comment=function(R){var x,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(x=W.get_directives(R))&&x.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(l.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=x):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var x;return R==="\`"||R==="'"||R==='"'?(x=this._input.next(),this.has_char_escapes=!1,x+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(x=function(K){for(var C="",Q=0,it=new p(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(C+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){C+="\\\\",it.hasNext()&&(C+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;C+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return C}(x)),this._input.peek()===R&&(x+=this._input.next()),x=x.replace(l.allLineBreaks,\`
\`),this._create_token(y.STRING,x)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,x){if(R==="/"&&this._allow_regexp_or_xml(x)){for(var K=this._input.next(),C=!1,Q=!1;this._input.hasNext()&&(C||Q||this._input.peek()!==R)&&!this._input.testChar(l.newline);)K+=this._input.peek(),C?C=!1:(C=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(l.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,x){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(x)){var K="",C=this.__patterns.xml.read_match();if(C){for(var Q=C[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;C;){var lt=!!C[1],T=C[2];if(!(C[C.length-1]||T.slice(0,8)==="![CDATA[")&&(T===Q||it&&T.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=C[0],J<=0)break;C=this.__patterns.xml.read_match()}return C||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(l.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,x,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var C,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!x&&l.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((C=this._input.peek())==="x"||C==="u"?this.has_char_escapes=!0:C==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",x,"\`"):this._read_string_recursive("\`",x,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=O,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function k(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}k.prototype.restart=function(){this.__position=0},k.prototype.back=function(){0<this.__position&&--this.__position},k.prototype.hasNext=function(){return this.__position<this.__input_length},k.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},k.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},k.prototype.__match=function(p,h){p.lastIndex=h;var l=p.exec(this.__input);return!l||S&&p.sticky||l.index!==h&&(l=null),l},k.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},k.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},k.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},k.prototype.read=function(p,h,l){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,l)),b},k.prototype.readUntil=function(f,h){var l=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(l=f.index,h&&(l+=f[0].length)):l=this.__input_length,h=this.__input.substring(this.__position,l),this.__position=l,h},k.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},k.prototype.get_regexp=function(p,f){var l=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?l=new RegExp(p,f):p&&(l=new RegExp(p.source,f)),l},k.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},k.prototype.peekUntilAfter=function(l){var h=this.__position,l=this.readUntilAfter(l);return this.__position=h,l},k.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},E.exports.InputScanner=k},function(E,S,k){function p(O,g){this._input=new h(O),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var h=k(8).InputScanner,l=k(3).Token,f=k(10).TokenStream,b=k(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};p.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var O,g=new l(F.START,""),y=null,W=[],D=new f;g.type!==F.EOF;){for(O=this._get_next_token(g,y);this._is_comment(O);)D.add(O),O=this._get_next_token(g,y);D.isEmpty()||(O.comments_before=D,D=new f),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=g).next=O,this.__tokens.add(O),g=O}return this.__tokens},p.prototype._is_first_token=function(){return this.__tokens.isEmpty()},p.prototype._reset=function(){},p.prototype._get_next_token=function(O,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},p.prototype._is_comment=function(O){return!1},p.prototype._is_opening=function(O){return!1},p.prototype._is_closing=function(O,g){return!1},p.prototype._create_token=function(O,g){return new l(O,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},p.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=p,E.exports.TOKEN=F},function(E){function S(k){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=k}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var k=null;return this.hasNext()&&(k=this.__tokens[this.__position],this.__position+=1),k},S.prototype.peek=function(k){var p=null;return k=k||0,p=0<=(k+=this.__position)&&k<this.__tokens_length?this.__tokens[k]:p},S.prototype.add=function(k){this.__parent_token&&(k.parent=this.__parent_token),this.__tokens.push(k),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,k){var p=k(12).Pattern;function h(l,f){p.call(this,l,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(h.prototype=new p).__set_whitespace_patterns=function(l,f){this._match_pattern=this._input.get_regexp("["+(l+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},h.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var l,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(l=this.__split(this._newline_regexp,f),this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]),f},h.prototype.matching=function(l,f){var b=this._create();return b.__set_whitespace_patterns(l,f),b._update(),b},h.prototype._create=function(){return new h(this._input,this)},h.prototype.__split=function(l,f){for(var b=l.lastIndex=0,F=[],O=l.exec(f);O;)F.push(f.substring(b,O.index)),b=O.index+O[0].length,O=l.exec(f);return b<f.length?F.push(f.substring(b,f.length)):F.push(""),F},E.exports.WhitespacePattern=h},function(E){function S(k,p){this._input=k,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,p&&(this._starting_pattern=this._input.get_regexp(p._starting_pattern,!0),this._match_pattern=this._input.get_regexp(p._match_pattern,!0),this._until_pattern=this._input.get_regexp(p._until_pattern),this._until_after=p._until_after)}S.prototype.read=function(){var k=this._input.read(this._starting_pattern);return this._starting_pattern&&!k||(k+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),k},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(k){var p=this._create();return p._until_after=!0,p._until_pattern=this._input.get_regexp(k),p._update(),p},S.prototype.until=function(k){var p=this._create();return p._until_after=!1,p._until_pattern=this._input.get_regexp(k),p._update(),p},S.prototype.starting_with=function(k){var p=this._create();return p._starting_pattern=this._input.get_regexp(k,!0),p._update(),p},S.prototype.matching=function(k){var p=this._create();return p._match_pattern=this._input.get_regexp(k,!0),p._update(),p},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(k,p){k=typeof k=="string"?k:k.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(k+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(k+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(k){if(!k.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(k));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(k);return p},S.prototype.readIgnored=function(k){return k.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,k){var p=k(12).Pattern,h={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function l(f,b){p.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},h),this._excluded=Object.assign({},h),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new p(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(l.prototype=new p)._create=function(){return new l(this._input,this)},l.prototype._update=function(){this.__set_templated_pattern()},l.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},l.prototype.read_options=function(f){var b,F=this._create();for(b in h)F._disabled[b]=f.templating.indexOf(b)===-1;return F._update(),F},l.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},l.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},l.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},l.prototype._read_template=function(){var f,b="",F=this._input.peek();return F==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=l}],A={},L=function E(S){var k=A[S];return k!==void 0?k.exports:(k=A[S]={exports:{}},d[S](k,k.exports,E),k.exports)}(0);o=L})();var o,a=o;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:a}}):typeof exports<"u"?exports.js_beautify=a:typeof window<"u"?window.js_beautify=a:typeof global<"u"&&(global.js_beautify=a)})();(function(){(function(){var L=[,,function(k){function p(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function h(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function l(f,b){this.__indent_cache=new h(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new p(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}p.prototype.clone_empty=function(){var f=new p(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},p.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},p.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},p.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},p.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},p.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},p.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},p.prototype.is_empty=function(){return this.__items.length===0},p.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},p.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},p.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},p.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},p.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},p.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},p.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},h.prototype.get_indent_size=function(f,b){var F=this.__base_string_length;return F=(F=f<0?0:F)+f*this.__indent_size+(b=b||0)},h.prototype.get_indent_string=function(f,b){var F=this.__base_string;return b=b||0,f<0&&(f=0,F=""),b+=f*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},h.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},h.prototype.__add_column=function(){var f,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(f+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},l.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},l.prototype.get_line_number=function(){return this.__lines.length},l.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},l.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},l.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},l.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},l.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},l.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},l.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},l.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},l.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},l.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},l.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},l.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},l.prototype.just_added_newline=function(){return this.current_line.is_empty()},l.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},l.prototype.ensure_empty_line_above=function(f,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(f)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new p(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},k.exports.Output=l},function(k){k.exports.Token=function(p,h,l,f){this.type=p,this.text=h,this.comments_before=null,this.newlines=l||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(k){function p(f,b){this.raw_options=h(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function h(f,b){var F,O={};for(F in f=l(f))F!==b&&(O[F]=f[F]);if(b&&f[b])for(F in f[b])O[F]=f[b][F];return O}function l(f){var b,F={};for(b in f)F[b.replace(/-/g,"_")]=f[b];return F}p.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},p.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},p.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},p.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},p.prototype._get_selection=function(f,b,F){if(F=this._get_selection_list(f,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return F[0]},p.prototype._get_selection_list=function(f,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(f,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},p.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(F){return b.indexOf(F)===-1})},k.exports.Options=p,k.exports.normalizeOpts=l,k.exports.mergeOpts=h},,function(k){var p=RegExp.prototype.hasOwnProperty("sticky");function h(l){this.__input=l||"",this.__input_length=this.__input.length,this.__position=0}h.prototype.restart=function(){this.__position=0},h.prototype.back=function(){0<this.__position&&--this.__position},h.prototype.hasNext=function(){return this.__position<this.__input_length},h.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__input.charAt(this.__position),this.__position+=1),l},h.prototype.peek=function(l){var f=null;return l=l||0,f=0<=(l+=this.__position)&&l<this.__input_length?this.__input.charAt(l):f},h.prototype.__match=function(l,f){l.lastIndex=f;var b=l.exec(this.__input);return!b||p&&l.sticky||b.index!==f&&(b=null),b},h.prototype.test=function(l,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(l,f)},h.prototype.testChar=function(l,f){return f=this.peek(f),l.lastIndex=0,f!==null&&l.test(f)},h.prototype.match=function(l){return l=this.__match(l,this.__position),l?this.__position+=l[0].length:l=null,l},h.prototype.read=function(l,f,b){var F,O="";return l&&(F=this.match(l))&&(O+=F[0]),!f||!F&&l||(O+=this.readUntil(f,b)),O},h.prototype.readUntil=function(F,f){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,f&&(b+=F[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},h.prototype.readUntilAfter=function(l){return this.readUntil(l,!0)},h.prototype.get_regexp=function(l,F){var b=null,F=F&&p?"y":"g";return typeof l=="string"&&l!==""?b=new RegExp(l,F):l&&(b=new RegExp(l.source,F)),b},h.prototype.get_literal_regexp=function(l){return RegExp(l.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},h.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},h.prototype.lookBack=function(l){var f=this.__position-1;return f>=l.length&&this.__input.substring(f-l.length,f).toLowerCase()===l},k.exports.InputScanner=h},function(k,p,h){function l(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var f=h(8).InputScanner,b=h(3).Token,F=h(10).TokenStream,O=h(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};l.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(g.START,""),D=null,z=[],H=new F;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},l.prototype._is_comment=function(y){return!1},l.prototype._is_opening=function(y){return!1},l.prototype._is_closing=function(y,W){return!1},l.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},k.exports.Tokenizer=l,k.exports.TOKEN=g},function(k){function p(h){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=h}p.prototype.restart=function(){this.__position=0},p.prototype.isEmpty=function(){return this.__tokens_length===0},p.prototype.hasNext=function(){return this.__position<this.__tokens_length},p.prototype.next=function(){var h=null;return this.hasNext()&&(h=this.__tokens[this.__position],this.__position+=1),h},p.prototype.peek=function(h){var l=null;return h=h||0,l=0<=(h+=this.__position)&&h<this.__tokens_length?this.__tokens[h]:l},p.prototype.add=function(h){this.__parent_token&&(h.parent=this.__parent_token),this.__tokens.push(h),this.__tokens_length+=1},k.exports.TokenStream=p},function(k,p,h){var l=h(12).Pattern;function f(b,F){l.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new l).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},f.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,F){for(var O=b.lastIndex=0,g=[],y=b.exec(F);y;)g.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?g.push(F.substring(O,F.length)):g.push(""),g},k.exports.WhitespacePattern=f},function(k){function p(h,l){this._input=h,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,l&&(this._starting_pattern=this._input.get_regexp(l._starting_pattern,!0),this._match_pattern=this._input.get_regexp(l._match_pattern,!0),this._until_pattern=this._input.get_regexp(l._until_pattern),this._until_after=l._until_after)}p.prototype.read=function(){var h=this._input.read(this._starting_pattern);return this._starting_pattern&&!h||(h+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),h},p.prototype.read_match=function(){return this._input.match(this._match_pattern)},p.prototype.until_after=function(h){var l=this._create();return l._until_after=!0,l._until_pattern=this._input.get_regexp(h),l._update(),l},p.prototype.until=function(h){var l=this._create();return l._until_after=!1,l._until_pattern=this._input.get_regexp(h),l._update(),l},p.prototype.starting_with=function(h){var l=this._create();return l._starting_pattern=this._input.get_regexp(h,!0),l._update(),l},p.prototype.matching=function(h){var l=this._create();return l._match_pattern=this._input.get_regexp(h,!0),l._update(),l},p.prototype._create=function(){return new p(this._input,this)},p.prototype._update=function(){},k.exports.Pattern=p},function(k){function p(h,l){h=typeof h=="string"?h:h.source,l=typeof l=="string"?l:l.source,this.__directives_block_pattern=new RegExp(h+/ beautify( \\w+[:]\\w+)+ /.source+l,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(h+/\\sbeautify\\signore:end\\s/.source+l,"g")}p.prototype.get_directives=function(h){if(!h.match(this.__directives_block_pattern))return null;for(var l={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(h));f;)l[f[1]]=f[2],f=this.__directive_pattern.exec(h);return l},p.prototype.readIgnored=function(h){return h.readUntilAfter(this.__directives_end_ignore_pattern)},k.exports.Directives=p},function(k,p,h){var l=h(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){l.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new l(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new l)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,g=this._create();for(O in f)g._disabled[O]=F.templating.indexOf(O)===-1;return g._update(),g},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",g=this._input.peek();return g==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},k.exports.TemplatablePattern=b},,,,function(k,p,h){var l=h(19).Beautifier,f=h(20).Options;k.exports=function(b,F,O,g){return new l(b,F,O,g).beautify()},k.exports.defaultOptions=function(){return new f}},function(k,p,h){function l(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function f(I,R){var x=null,K=null;return R.closed?(I==="script"?x="text/javascript":I==="style"&&(x="text/css"),-1<(x=function(C){for(var Q=null,it=C.next;it.type!==g.EOF&&C.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||x).search("text/css")?K="css":-1<x.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<x.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<x.search(/test\\/null/)&&(K="null"),K):null}var b=h(20).Options,F=h(2).Output,O=h(21).Tokenizer,g=h(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;l.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},l.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},l.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},l.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},l.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var x=0;x<R;x++)this.print_newline(0<x);return R!==0},l.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},l.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},l.prototype.print_newline=function(I){this._output.add_new_line(I)},l.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},l.prototype.indent=function(){this.indent_level++},l.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,x){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=x||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,x,K){this._source_text=I||"",R=R||{},this._js_beautify=x,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var x=this._current_frame;x&&I.indexOf(x.tag)===-1;){if(R&&R.indexOf(x.tag)!==-1){x=null;break}x=x.parent}return x},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,x=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},C=new Z,Q=new l(this._options,x),it=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?C=J=this._handle_tag_open(Q,lt,C,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!C.tag_complete?J=this._handle_inside_tag(Q,lt,C,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,C):lt.type===g.TEXT?J=this._handle_text(Q,lt,C):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,x){var K={text:R.text,type:R.type};return I.alignment_size=0,x.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),x.is_unformatted?I.add_raw_token(R):(x.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&x.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!x.indent_content||x.is_unformatted||x.is_content_unformatted||(I.indent(),x.indent_content=!1),x.is_inline_element||x.is_unformatted||x.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,x,K){var C=x.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),x.is_unformatted?I.add_raw_token(R):x.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&x.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),C=C||R.newlines!==0),this._is_wrap_attributes_force&&x.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),C=!0)),I.print_token(R),C=C||I.previous_token_wrapped(),x.has_wrapped_attrs=C),Q},U.prototype._handle_text=function(I,R,x){var K={text:R.text,type:"TK_CONTENT"};return x.custom_beautifier_name?this._print_custom_beatifier_text(I,R,x):x.is_unformatted||x.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,x){var K=this;if(R.text!==""){var C,Q=R.text,lt=1,it="",J="",lt=(x.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?C=this._js_beautify:x.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?C=this._css_beautify:x.custom_beautifier_name==="html"&&(C=function(T,\$){return new U(T,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),x.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var x=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!x)return void I.add_raw_token(R);it=lt+x[1]+\`
\`,Q=x[4],x[5]&&(J=lt+x[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(x[2]||x[3].indexOf(\`
\`)!==-1)&&(x=x[3].match(/[ \\t]+\$/))&&(R.whitespace_before=x[0])}Q=Q&&(C?((x=function(){this.eol=\`
\`}).prototype=this._options.raw_options,C(lt+Q,new x)):lt+(Q=(C=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+C+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,x,K,C){var Q=this._get_tag_open_token(R);if(!x.is_unformatted&&!x.is_content_unformatted||x.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,x,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=C.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var x;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(x=R.text.match(/^<([^\\s>]*)/),this.tag_check=x?x[1]:""):(x=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=x?x[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,x,K,C){x.is_empty_element||(x.is_end_tag?x.start_tag_token=this._tag_stack.try_pop(x.tag_name):(this._do_optional_end_element(x)&&!x.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(x),x.tag_name!=="script"&&x.tag_name!=="style"||x.is_unformatted||x.is_content_unformatted||(x.custom_beautifier_name=f(x.tag_check,R)))),D(x.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),x.is_empty_element?(x.tag_start_char==="{"&&x.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),x.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),x.tag_name==="!--"&&C.type===g.TAG_CLOSE&&K.is_end_tag&&x.text.indexOf(\`
\`)===-1||(x.is_inline_element||x.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,x))):x.is_end_tag?(R=!1,R=(R=x.start_tag_token&&x.start_tag_token.multiline_content)||!x.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(C.type===g.TAG_CLOSE&&x.start_tag_token===K)&&C.type!=="TK_CONTENT",(R=x.is_content_unformatted||x.is_unformatted?!1:R)&&I.print_newline(!1)):(x.indent_content=!x.custom_beautifier_name,x.tag_start_char==="<"&&(x.tag_name==="html"?x.indent_content=this._options.indent_inner_html:x.tag_name==="head"?x.indent_content=this._options.indent_head_inner_html:x.tag_name==="body"&&(x.indent_content=this._options.indent_body_inner_html)),x.is_inline_element||x.is_unformatted||C.type==="TK_CONTENT"&&!x.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,x))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,x=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?x=x||this._tag_stack.try_pop("head"):I.tag_name==="li"?x=x||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?x=(x=x||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(x=x||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?x=(x=x||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?x=x||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?x=x||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?x=x||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?x=(x=(x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?x=(x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(x=(x=x||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),x},k.exports.Beautifier=U},function(k,p,h){var l=h(6).Options;function f(b){l.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new l,k.exports.Options=f},function(k,p,h){function l(H,U){f.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var f=h(9).Tokenizer,b=h(9).TOKEN,F=h(13).Directives,O=h(14).TemplatablePattern,g=h(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(l.prototype=new f)._is_comment=function(D){return!1},l.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},l.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},l.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},l.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},l.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},l.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},l.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},l.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},l.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},l.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},l.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},k.exports.Tokenizer=l,k.exports.TOKEN=y}],E={},S=function k(p){var h=E[p];return h!==void 0?h.exports:(h=E[p]={exports:{}},L[p](h,h.exports,k),h.exports)}(18);o=S})();var o,a,d,A=o;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(L){var E=L("./beautify"),S=L("./beautify-css");return{html_beautify:function(k,p){return A(k,p,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(a=require("./beautify.js"),d=require("./beautify-css.js"),exports.html_beautify=function(L,E){return A(L,E,a.js_beautify,d.css_beautify)}):typeof window<"u"?window.html_beautify=function(L,E){return A(L,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(L,E){return A(L,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var d=[,,function(E){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function k(h,l){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),l=l||"",0<h.indent_level&&(l=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=l,this.__base_string_length=l.length}function p(h,l){this.__indent_cache=new k(h,l),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var l=this.__items.length-1;0<=l;l--)if(this.__items[l].match(h))return!0;return!1},S.prototype.set_indent=function(h,l){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=l||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var l=h.lastIndexOf(\`
\`);l!==-1?this.__character_count=h.length-l:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},k.prototype.get_indent_size=function(h,l){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(l=l||0)},k.prototype.get_indent_string=function(h,l){var f=this.__base_string;return l=l||0,h<0&&(h=0,f=""),l+=h*this.__indent_size,this.__ensure_cache(l),f+=this.__cache[l]},k.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},k.prototype.__add_column=function(){var h,l=this.__cache.length,f="";this.__indent_size&&l>=this.__indent_size&&(l-=(h=Math.floor(l/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),l&&(f+=new Array(l+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,l){return this.__indent_cache.get_indent_string(h,l)},p.prototype.get_indent_size=function(h,l){return this.__indent_cache.get_indent_size(h,l)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var l=this.current_line.pop(),l=(l&&(l[l.length-1]===\`
\`&&(l=l.replace(/\\n+\$/g,"")),this.current_line.push(l)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return l=h!==\`
\`?l.replace(/[\\n]/g,h):l},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,l){return this.next_line.set_indent(h=h||0,l=l||0),1<this.__lines.length?(this.current_line.set_indent(h,l),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var l=0;l<h.newlines;l++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var l=this.__lines.length;h<l;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,l){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==l){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=p},,,,function(E){function S(h,l){this.raw_options=k(h,l),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function k(h,l){var f,b={};for(f in h=p(h))f!==l&&(b[f]=h[f]);if(l&&h[l])for(f in h[l])b[f]=h[l][f];return b}function p(h){var l,f={};for(l in h)f[l.replace(/-/g,"_")]=h[l];return f}S.prototype._get_array=function(h,l){return h=this.raw_options[h],l=l||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(l=h.concat()):typeof h=="string"&&(l=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),l},S.prototype._get_boolean=function(h,l){return h=this.raw_options[h],h===void 0?!!l:!!h},S.prototype._get_characters=function(h,l){return h=this.raw_options[h],l=l||"",l=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):l},S.prototype._get_number=function(h,l){return h=this.raw_options[h],l=parseInt(l,10),isNaN(l)&&(l=0),h=parseInt(h,10),h=isNaN(h)?l:h},S.prototype._get_selection=function(h,l,f){if(f=this._get_selection_list(h,l,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,l,f){if(!l||l.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[l[0]],!this._is_valid_selection(f,l))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,l))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,l){return h.length&&l.length&&!h.some(function(f){return l.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=p,E.exports.mergeOpts=k},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function k(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}k.prototype.restart=function(){this.__position=0},k.prototype.back=function(){0<this.__position&&--this.__position},k.prototype.hasNext=function(){return this.__position<this.__input_length},k.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},k.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},k.prototype.__match=function(p,h){p.lastIndex=h;var l=p.exec(this.__input);return!l||S&&p.sticky||l.index!==h&&(l=null),l},k.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},k.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},k.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},k.prototype.read=function(p,h,l){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,l)),b},k.prototype.readUntil=function(f,h){var l=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(l=f.index,h&&(l+=f[0].length)):l=this.__input_length,h=this.__input.substring(this.__position,l),this.__position=l,h},k.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},k.prototype.get_regexp=function(p,f){var l=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?l=new RegExp(p,f):p&&(l=new RegExp(p.source,f)),l},k.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},k.prototype.peekUntilAfter=function(l){var h=this.__position,l=this.readUntilAfter(l);return this.__position=h,l},k.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},E.exports.InputScanner=k},,,,,function(E){function S(k,p){k=typeof k=="string"?k:k.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(k+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(k+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(k){if(!k.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(k));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(k);return p},S.prototype.readIgnored=function(k){return k.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,k){var p=k(16).Beautifier,h=k(17).Options;E.exports=function(l,f){return new p(l,f).beautify()},E.exports.defaultOptions=function(){return new h}},function(E,S,k){var p=k(17).Options,h=k(2).Output,l=k(8).InputScanner,f=new(k(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new p(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new h(this._options,rt),this._input=new l(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,x=!1,K=!1,C=!1,Q=!1,it=this._ch,J=!1;z=this._input.read(g)!=="",H=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),T=f.get_directives(lt);T&&T.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),T=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),T.match(/[ :]\$/)&&(T=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(T),this._output.space_before_token=!0),I===0&&T.indexOf(":")!==-1&&(x=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(x=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||x||(C=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")x&&(x=!1,this.outdent()),C=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),x&&(this.outdent(),x=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||C||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),x||(this._output.space_before_token=x=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(x&&(this.outdent(),x=!1),C=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),x&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||x&&!Q||I!==0||C?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||x||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,k){var p=k(6).Options;function h(f){p.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}h.prototype=new p,E.exports.Options=h}],A={},L=function E(S){var k=A[S];return k!==void 0?k.exports:(k=A[S]={exports:{}},d[S](k,k.exports,E),k.exports)}(15);o=L})();var o,a=o;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:a}}):typeof exports<"u"?exports.css_beautify=a:typeof window<"u"?window.css_beautify=a:typeof global<"u"&&(global.css_beautify=a)})();(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.defineSimpleMode=function(l,f){o.defineMode(l,function(b){return o.simpleMode(b,f)})},o.simpleMode=function(l,f){a(f,"start");var b={},F=f.meta||{},O=!1;for(var g in f)if(g!=F&&f.hasOwnProperty(g))for(var y=b[g]=[],W=f[g],D=0;D<W.length;D++){var z=W[D];y.push(new L(z,f)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=o.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:o.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,l),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:h(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function a(l,f){if(!l.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function d(l,f){if(!l)return/(?:)/;var b="";return l instanceof RegExp?(l.ignoreCase&&(b="i"),l.unicode&&(b+="u"),l=l.source):l=String(l),new RegExp((f===!1?"":"^")+"(?:"+l+")",b)}function A(l){if(!l)return null;if(l.apply)return l;if(typeof l=="string")return l.replace(/\\./g," ");for(var f=[],b=0;b<l.length;b++)f.push(l[b]&&l[b].replace(/\\./g," "));return f}function L(l,f){(l.next||l.push)&&a(f,l.next||l.push),this.regex=d(l.regex),this.token=A(l.token),this.data=l}function E(l,f){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var g=F.local.endToken||null;return F.local=F.localState=null,g}else{var g=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=l[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&k(f,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+f.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(l,f){if(l===f)return!0;if(!l||typeof l!="object"||!f||typeof f!="object")return!1;var b=0;for(var F in l)if(l.hasOwnProperty(F)){if(!f.hasOwnProperty(F)||!S(l[F],f[F]))return!1;b++}for(var F in f)f.hasOwnProperty(F)&&b--;return b==0}function k(l,f,b,F){var O;if(b.persistent)for(var g=f.persistentStates;g&&!O;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(O=g);var y=O?O.mode:b.mode||o.getMode(l,b.spec),W=O?O.state:o.startState(y);b.persistent&&!O&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&d(b.end),endScan:b.end&&b.forceEnd!==!1&&d(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function p(l,f){for(var b=0;b<f.length;b++)if(f[b]===l)return!0}function h(l,f){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||f.dontIndentStates&&p(b.state,f.dontIndentStates)>-1)return o.Pass;var g=b.indent.length-1,y=l[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){g--,(D.next||D.push)&&(y=l[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){const a=["س","ر","ج"],d=["ا","ب","ج","د","ه","و"],A=a.map(it=>Fr(it)).join(""),L=\`[\${d.map(it=>Fr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${A}›»]\`,k=Fr("م"),p=\`(?:\${k}\${Gi}(?:\${ia}|\${L}){1,6}\${Xi})\`,h=\`(?:\${k}\${Gi}(?:\${ra}|\${E}){1,6}\${Xi})\`,l=\`(?:\${p}|\${h})\`,f=\`[^›\${Dr}]\`,b=it=>RegExp(F(it),"u"),F=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Fr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${Gi}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Xi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Dr}(?:\${S}|\${l})\`,z=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Dr}»]|\${Dr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Jh})|(?:\${Tu})\`,"u"),x=()=>RegExp(\`(?!\${F(Xh)}(?:\${Qh}|\\\\s|\$))\${qr}\`,"u"),K=()=>b(ta),C=()=>b(ea),Q=()=>b(na);o.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Cu,{regex:x(),token:"variable"},{regex:K(),token:"keyword"},{regex:C(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Au}),o.defineMIME("text/x-seen-ar-src","seen-ar"),o.defineMIME("text/seen-ar","seen-ar")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){const a=\`[nrt'"]\`,d=\`u\${Gi}[\\\\da-fA-F]{1,6}\${Xi}\`,A=\`[^'\${Hs}]\`;function L(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${Gi}\${Mr}\`),S=()=>RegExp(".*"),k=()=>RegExp(\`.*?\${Mr}\${Xi}\`),p=()=>RegExp(\`\${Mr}\${Mr}.*\`),h=\`\${Hs}(?:\${a}|\${d})\`,l=()=>RegExp(\`'(?:\${A}|\${h})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${A}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Tu})\`),D=()=>RegExp(\`\${qr}\`,"u"),z=()=>L(ta),H=()=>L(ea),U=()=>L(na);o.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:p(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:l(),token:"string-2"},{regex:W(),token:"number"},...Cu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:k(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Au}),o.defineMIME("text/x-seen-en-src","seen-en"),o.defineMIME("text/seen-en","seen-en")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.defineMode("javascript",function(a,d){var A=a.indentUnit,L=d.statementIndent,E=d.jsonld,S=d.json||E,k=d.trackScope!==!1,p=d.typescript,h=d.wordCharacters||/[\\w\$\\xa1-\\uffff]/,l=function(){function w(Xt){return{type:Xt,style:"keyword"}}var P=w("keyword a"),B=w("keyword b"),G=w("keyword c"),bt=w("keyword d"),Tt=w("operator"),Ct={type:"atom",style:"atom"};return{if:w("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:w("new"),delete:G,void:G,throw:G,debugger:w("debugger"),var:w("var"),const:w("var"),let:w("var"),function:w("function"),catch:w("catch"),for:w("for"),switch:w("switch"),case:w("case"),default:w("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:w("this"),class:w("class"),super:w("atom"),yield:G,export:w("export"),import:w("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(w){for(var P=!1,B,G=!1;(B=w.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,g;function y(w,P,B){return O=w,g=B,P}function W(w,P){var B=w.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(w,P);if(B=="."&&w.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&w.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&w.eat(">"))return y("=>","operator");if(B=="0"&&w.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return w.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return w.eat("*")?(P.tokenize=z,z(w,P)):w.eat("/")?(w.skipToEnd(),y("comment","comment")):He(w,P,1)?(F(w),w.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(w.eat("="),y("operator","operator",w.current()));if(B=="\`")return P.tokenize=H,H(w,P);if(B=="#"&&w.peek()=="!")return w.skipToEnd(),y("meta","meta");if(B=="#"&&w.eatWhile(h))return y("variable","property");if(B=="<"&&w.match("!--")||B=="-"&&w.match("->")&&!/\\S/.test(w.string.slice(0,w.start)))return w.skipToEnd(),y("comment","comment");if(f.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(w.eat("=")?(B=="!"||B=="=")&&w.eat("="):/[<>*+\\-|&?]/.test(B)&&(w.eat(B),B==">"&&w.eat(B))),B=="?"&&w.eat(".")?y("."):y("operator","operator",w.current());if(h.test(B)){w.eatWhile(h);var G=w.current();if(P.lastType!="."){if(l.propertyIsEnumerable(G)){var bt=l[G];return y(bt.type,bt.style,G)}if(G=="async"&&w.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(w){return function(P,B){var G=!1,bt;if(E&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==w&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(w,P){for(var B=!1,G;G=w.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(w,P){for(var B=!1,G;(G=w.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&w.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",w.current())}var U="([{}])";function Z(w,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=w.string.indexOf("=>",w.start);if(!(B<0)){if(p){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(w.string.slice(w.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=w.string.charAt(Ct),Ee=U.indexOf(Xt);if(Ee>=0&&Ee<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(Ee>=3&&Ee<6)++bt;else if(h.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=w.string.charAt(Ct-1);if(yt==Xt&&w.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(w,P,B,G,bt,Tt){this.indented=w,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(w,P){if(!k)return!1;for(var B=w.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=w.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(w,P,B,G,bt){var Tt=w.cc;for(x.state=w,x.stream=bt,x.marked=null,x.cc=Tt,x.style=P,w.lexical.hasOwnProperty("align")||(w.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return x.marked?x.marked:B=="variable"&&I(w,G)?"variable-2":P}}}var x={state:null,column:null,marked:null,cc:null};function K(){for(var w=arguments.length-1;w>=0;w--)x.cc.push(arguments[w])}function C(){return K.apply(null,arguments),!0}function Q(w,P){for(var B=P;B;B=B.next)if(B.name==w)return!0;return!1}function it(w){var P=x.state;if(x.marked="def",!!k){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(w,P.context);if(B!=null){P.context=B;return}}else if(!Q(w,P.localVars)){P.localVars=new \$(w,P.localVars);return}}d.globalVars&&!Q(w,P.globalVars)&&(P.globalVars=new \$(w,P.globalVars))}}function J(w,P){if(P)if(P.block){var B=J(w,P.prev);return B?B==P.prev?P:new T(B,P.vars,!0):null}else return Q(w,P.vars)?P:new T(P.prev,new \$(w,P.vars),!1);else return null}function lt(w){return w=="public"||w=="private"||w=="protected"||w=="abstract"||w=="readonly"}function T(w,P,B){this.prev=w,this.vars=P,this.block=B}function \$(w,P){this.name=w,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){x.state.context=new T(x.state.context,x.state.localVars,!1),x.state.localVars=dt}function Nt(){x.state.context=new T(x.state.context,x.state.localVars,!0),x.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){x.state.localVars=x.state.context.vars,x.state.context=x.state.context.prev}kt.lex=!0;function ft(w,P){var B=function(){var G=x.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,x.stream.column(),w,null,G.lexical,P)};return B.lex=!0,B}function at(){var w=x.state;w.lexical.prev&&(w.lexical.type==")"&&(w.indented=w.lexical.indented),w.lexical=w.lexical.prev)}at.lex=!0;function _t(w){function P(B){return B==w?C():w==";"||B=="}"||B==")"||B=="]"?K():C(P)}return P}function vt(w,P){return w=="var"?C(ft("vardef",P),Xe,_t(";"),at):w=="keyword a"?C(ft("form"),Ce,vt,at):w=="keyword b"?C(ft("form"),vt,at):w=="keyword d"?x.stream.match(/^\\s*\$/,!1)?C():C(ft("stat"),Se,_t(";"),at):w=="debugger"?C(_t(";")):w=="{"?C(ft("}"),Nt,Ie,at,kt):w==";"?C():w=="if"?(x.state.lexical.info=="else"&&x.state.cc[x.state.cc.length-1]==at&&x.state.cc.pop()(),C(ft("form"),Ce,vt,at,zn)):w=="function"?C(Be):w=="for"?C(ft("form"),Nt,Vi,vt,kt,at):w=="class"||p&&P=="interface"?(x.marked="keyword",C(ft("form",w=="class"?w:P),er,at)):w=="variable"?p&&P=="declare"?(x.marked="keyword",C(vt)):p&&(P=="module"||P=="enum"||P=="type")&&x.stream.match(/^\\s*\\w/,!1)?(x.marked="keyword",P=="enum"?C(qn):P=="type"?C(tr,_t("operator"),nt,_t(";")):C(ft("form"),pe,_t("{"),ft("}"),Ie,at,at)):p&&P=="namespace"?(x.marked="keyword",C(ft("form"),Et,vt,at)):p&&P=="abstract"?(x.marked="keyword",C(vt)):C(ft("stat"),In):w=="switch"?C(ft("form"),Ce,_t("{"),ft("}","switch"),Nt,Ie,at,at,kt):w=="case"?C(Et,_t(":")):w=="default"?C(_t(":")):w=="catch"?C(ft("form"),wt,ne,vt,at,kt):w=="export"?C(ft("stat"),hn,at):w=="import"?C(ft("stat"),Ye,at):w=="async"?C(vt):P=="@"?C(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ne(w){if(w=="(")return C(Re,_t(")"))}function Et(w,P){return ke(w,P,!1)}function Rt(w,P){return ke(w,P,!0)}function Ce(w){return w!="("?K():C(ft(")"),Se,_t(")"),at)}function ke(w,P,B){if(x.state.fatArrowAt==x.stream.start){var G=B?ci:on;if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,_t("=>"),G,kt);if(w=="variable")return K(wt,pe,_t("=>"),G,kt)}var bt=B?It:_e;return ot.hasOwnProperty(w)?C(bt):w=="function"?C(Be,bt):w=="class"||p&&P=="interface"?(x.marked="keyword",C(ft("form"),ln,at)):w=="keyword c"||w=="async"?C(B?Rt:Et):w=="("?C(ft(")"),Se,_t(")"),at,bt):w=="operator"||w=="spread"?C(B?Rt:Et):w=="["?C(ft("]"),Qe,at,bt):w=="{"?Sn(Bn,"}",null,bt):w=="quasi"?K(mt,bt):w=="new"?C(Yi(B)):C()}function Se(w){return w.match(/[;\\}\\)\\],]/)?K():K(Et)}function _e(w,P){return w==","?C(Se):It(w,P,!1)}function It(w,P,B){var G=B==!1?_e:It,bt=B==!1?Et:Rt;if(w=="=>")return C(wt,B?ci:on,kt);if(w=="operator")return/\\+\\+|--/.test(P)||p&&P=="!"?C(G):p&&P=="<"&&x.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?C(ft(">"),Bt(nt,">"),at,G):P=="?"?C(Et,_t(":"),bt):C(bt);if(w=="quasi")return K(mt,G);if(w!=";"){if(w=="(")return Sn(Rt,")","call",G);if(w==".")return C(Qi,G);if(w=="[")return C(ft("]"),Se,_t("]"),at,G);if(p&&P=="as")return x.marked="keyword",C(nt,G);if(w=="regexp")return x.state.lastType=x.marked="operator",x.stream.backUp(x.stream.pos-x.stream.start-1),C(bt)}}function mt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?C(mt):C(Se,Ge)}function Ge(w){if(w=="}")return x.marked="string-2",x.state.tokenize=H,C(mt)}function on(w){return Z(x.stream,x.state),K(w=="{"?vt:Et)}function ci(w){return Z(x.stream,x.state),K(w=="{"?vt:Rt)}function Yi(w){return function(P){return P=="."?C(w?fi:Ur):P=="variable"&&p?C(se,w?It:_e):K(w?Rt:Et)}}function Ur(w,P){if(P=="target")return x.marked="keyword",C(_e)}function fi(w,P){if(P=="target")return x.marked="keyword",C(It)}function In(w){return w==":"?C(at,vt):K(_e,_t(";"),at)}function Qi(w){if(w=="variable")return x.marked="property",C()}function Bn(w,P){if(w=="async")return x.marked="property",C(Bn);if(w=="variable"||x.style=="keyword"){if(x.marked="property",P=="get"||P=="set")return C(_i);var B;return p&&x.state.fatArrowAt==x.stream.start&&(B=x.stream.match(/^\\s*:\\s*/,!1))&&(x.state.fatArrowAt=x.stream.pos+B[0].length),C(We)}else{if(w=="number"||w=="string")return x.marked=E?"property":x.style+" property",C(We);if(w=="jsonld-keyword")return C(We);if(p&&lt(P))return x.marked="keyword",C(Bn);if(w=="[")return C(Et,Ae,_t("]"),We);if(w=="spread")return C(Rt,We);if(P=="*")return x.marked="keyword",C(Bn);if(w==":")return K(We)}}function _i(w){return w!="variable"?K(We):(x.marked="property",C(Be))}function We(w){if(w==":")return C(Rt);if(w=="(")return K(Be)}function Bt(w,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=x.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),C(function(Xt,Ee){return Xt==P||Ee==P?K():K(w)},G)}return bt==P||Tt==P?C():B&&B.indexOf(";")>-1?K(w):C(_t(P))}return function(bt,Tt){return bt==P||Tt==P?C():K(w,G)}}function Sn(w,P,B){for(var G=3;G<arguments.length;G++)x.cc.push(arguments[G]);return C(ft(P,B),Bt(w,P),at)}function Ie(w){return w=="}"?C():K(vt,Ie)}function Ae(w,P){if(p){if(w==":")return C(nt);if(P=="?")return C(Ae)}}function Kr(w,P){if(p&&(w==":"||P=="in"))return C(nt)}function Le(w){if(p&&w==":")return x.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?C(Et,Zi,nt):C(nt)}function Zi(w,P){if(P=="is")return x.marked="keyword",C()}function nt(w,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return x.marked="keyword",C(P=="typeof"?Rt:nt);if(w=="variable"||P=="void")return x.marked="type",C(he);if(P=="|"||P=="&")return C(nt);if(w=="string"||w=="number"||w=="atom")return C(he);if(w=="[")return C(ft("]"),Bt(nt,"]",","),at,he);if(w=="{")return C(ft("}"),re,at,he);if(w=="(")return C(Bt(le,")"),pi,he);if(w=="<")return C(Bt(nt,">"),nt);if(w=="quasi")return K(zt,he)}function pi(w){if(w=="=>")return C(nt)}function re(w){return w.match(/[\\}\\)\\]]/)?C():w==","||w==";"?C(re):K(Mt,re)}function Mt(w,P){if(w=="variable"||x.style=="keyword")return x.marked="property",C(Mt);if(P=="?"||w=="number"||w=="string")return C(Mt);if(w==":")return C(nt);if(w=="[")return C(_t("variable"),Kr,_t("]"),Mt);if(w=="(")return K(ze,Mt);if(!w.match(/[;\\}\\)\\],]/))return C()}function zt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?C(zt):C(nt,Ji)}function Ji(w){if(w=="}")return x.marked="string-2",x.state.tokenize=H,C(zt)}function le(w,P){return w=="variable"&&x.stream.match(/^\\s*[?:]/,!1)||P=="?"?C(le):w==":"?C(nt):w=="spread"?C(le):K(nt)}function he(w,P){if(P=="<")return C(ft(">"),Bt(nt,">"),at,he);if(P=="|"||w=="."||P=="&")return C(nt);if(w=="[")return C(nt,_t("]"),he);if(P=="extends"||P=="implements")return x.marked="keyword",C(nt);if(P=="?")return C(nt,_t(":"),nt)}function se(w,P){if(P=="<")return C(ft(">"),Bt(nt,">"),at,he)}function En(){return K(nt,di)}function di(w,P){if(P=="=")return C(nt)}function Xe(w,P){return P=="enum"?(x.marked="keyword",C(qn)):K(pe,Ae,Oe,Xr)}function pe(w,P){if(p&&lt(P))return x.marked="keyword",C(pe);if(w=="variable")return it(P),C();if(w=="spread")return C(pe);if(w=="[")return Sn(Gr,"]");if(w=="{")return Sn(gi,"}")}function gi(w,P){return w=="variable"&&!x.stream.match(/^\\s*:/,!1)?(it(P),C(Oe)):(w=="variable"&&(x.marked="property"),w=="spread"?C(pe):w=="}"?K():w=="["?C(Et,_t("]"),_t(":"),gi):C(_t(":"),pe,Oe))}function Gr(){return K(pe,Oe)}function Oe(w,P){if(P=="=")return C(Rt)}function Xr(w){if(w==",")return C(Xe)}function zn(w,P){if(w=="keyword b"&&P=="else")return C(ft("form","else"),vt,at)}function Vi(w,P){if(P=="await")return C(Vi);if(w=="(")return C(ft(")"),vi,at)}function vi(w){return w=="var"?C(Xe,un):w=="variable"?C(un):K(un)}function un(w,P){return w==")"?C():w==";"?C(un):P=="in"||P=="of"?(x.marked="keyword",C(Et,un)):K(Et,un)}function Be(w,P){if(P=="*")return x.marked="keyword",C(Be);if(w=="variable")return it(P),C(Be);if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,Le,vt,kt);if(p&&P=="<")return C(ft(">"),Bt(En,">"),at,Be)}function ze(w,P){if(P=="*")return x.marked="keyword",C(ze);if(w=="variable")return it(P),C(ze);if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,Le,kt);if(p&&P=="<")return C(ft(">"),Bt(En,">"),at,ze)}function tr(w,P){if(w=="keyword"||w=="variable")return x.marked="type",C(tr);if(P=="<")return C(ft(">"),Bt(En,">"),at)}function Re(w,P){return P=="@"&&C(Et,Re),w=="spread"?C(Re):p&&lt(P)?(x.marked="keyword",C(Re)):p&&w=="this"?C(Ae,Oe):K(pe,Ae,Oe)}function ln(w,P){return w=="variable"?er(w,P):Hn(w,P)}function er(w,P){if(w=="variable")return it(P),C(Hn)}function Hn(w,P){if(P=="<")return C(ft(">"),Bt(En,">"),at,Hn);if(P=="extends"||P=="implements"||p&&w==",")return P=="implements"&&(x.marked="keyword"),C(p?nt:Et,Hn);if(w=="{")return C(ft("}"),ye,at)}function ye(w,P){if(w=="async"||w=="variable"&&(P=="static"||P=="get"||P=="set"||p&&lt(P))&&x.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return x.marked="keyword",C(ye);if(w=="variable"||x.style=="keyword")return x.marked="property",C(\$e,ye);if(w=="number"||w=="string")return C(\$e,ye);if(w=="[")return C(Et,Ae,_t("]"),\$e,ye);if(P=="*")return x.marked="keyword",C(ye);if(p&&w=="(")return K(ze,ye);if(w==";"||w==",")return C(ye);if(w=="}")return C();if(P=="@")return C(Et,ye)}function \$e(w,P){if(P=="!"||P=="?")return C(\$e);if(w==":")return C(nt,Oe);if(P=="=")return C(Rt);var B=x.state.lexical.prev,G=B&&B.info=="interface";return K(G?ze:Be)}function hn(w,P){return P=="*"?(x.marked="keyword",C(ct,_t(";"))):P=="default"?(x.marked="keyword",C(Et,_t(";"))):w=="{"?C(Bt(nr,"}"),ct,_t(";")):K(vt)}function nr(w,P){if(P=="as")return x.marked="keyword",C(_t("variable"));if(w=="variable")return K(Rt,nr)}function Ye(w){return w=="string"?C():w=="("?K(Et):w=="."?K(_e):K(cn,mi,ct)}function cn(w,P){return w=="{"?Sn(cn,"}"):(w=="variable"&&it(P),P=="*"&&(x.marked="keyword"),C(Ht))}function mi(w){if(w==",")return C(cn,mi)}function Ht(w,P){if(P=="as")return x.marked="keyword",C(cn)}function ct(w,P){if(P=="from")return x.marked="keyword",C(Et)}function Qe(w){return w=="]"?C():K(Bt(Rt,"]"))}function qn(){return K(ft("form"),pe,_t("{"),ft("}"),Bt(Ne,"}"),at,at)}function Ne(){return K(pe,Oe)}function Lt(w,P){return w.lastType=="operator"||w.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function He(w,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(w.string.slice(0,w.pos-(B||0)))}return{startState:function(w){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((w||0)-A,0,"block",!1),localVars:d.localVars,context:d.localVars&&new T(null,null,!1),indented:w||0};return d.globalVars&&typeof d.globalVars=="object"&&(P.globalVars=d.globalVars),P},token:function(w,P){if(w.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=w.indentation(),Z(w,P)),P.tokenize!=z&&w.eatSpace())return null;var B=P.tokenize(w,P);return O=="comment"?B:(P.lastType=O=="operator"&&(g=="++"||g=="--")?"incdec":O,R(P,B,O,g,w))},indent:function(w,P){if(w.tokenize==z||w.tokenize==H)return o.Pass;if(w.tokenize!=W)return 0;var B=P&&P.charAt(0),G=w.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=w.cc.length-1;Tt>=0;--Tt){var Ct=w.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=zn&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=w.cc[w.cc.length-1])&&(bt==_e||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;L&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,Ee=B==Xt;return Xt=="vardef"?G.indented+(w.lastType=="operator"||w.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+A:Xt=="stat"?G.indented+(Lt(w,P)?L||A:0):G.info=="switch"&&!Ee&&d.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?A:2*A):G.align?G.column+(Ee?0:1):G.indented+(Ee?0:A)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:He,skipExpression:function(w){R(w,"atom","atom","true",new o.StringStream("",2,null))}}}),o.registerHelper("wordChars","javascript",/[\\w\$]/),o.defineMIME("text/javascript","javascript"),o.defineMIME("text/ecmascript","javascript"),o.defineMIME("application/javascript","javascript"),o.defineMIME("application/x-javascript","javascript"),o.defineMIME("application/ecmascript","javascript"),o.defineMIME("application/json",{name:"javascript",json:!0}),o.defineMIME("application/x-json",{name:"javascript",json:!0}),o.defineMIME("application/manifest+json",{name:"javascript",json:!0}),o.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),o.defineMIME("text/typescript",{name:"javascript",typescript:!0}),o.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){o.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),o.defineMIME("text/x-rustsrc","rust"),o.defineMIME("text/rust","rust")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(L,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=L+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var k=this;o.on(this.inner,"mousedown",function(h){if(h.which!=1)return;o.e_preventDefault(h);var l=k.orientation=="horizontal"?"pageX":"pageY",f=h[l],b=k.pos;function F(){o.off(document,"mousemove",O),o.off(document,"mouseup",F)}function O(g){if(g.which!=1)return F();k.moveTo(b+(g[l]-f)*(k.total/k.size))}o.on(document,"mousemove",O),o.on(document,"mouseup",F)}),o.on(this.node,"click",function(h){o.e_preventDefault(h);var l=k.inner.getBoundingClientRect(),f;k.orientation=="horizontal"?f=h.clientX<l.left?-1:h.clientX>l.right?1:0:f=h.clientY<l.top?-1:h.clientY>l.bottom?1:0,k.moveTo(k.pos+f*k.screen)});function p(h){var l=o.wheelEventPixels(h)[k.orientation=="horizontal"?"x":"y"],f=k.pos;k.moveTo(k.pos+l),k.pos!=f&&o.e_preventDefault(h)}o.on(this.node,"mousewheel",p),o.on(this.node,"DOMMouseScroll",p)}a.prototype.setPos=function(L,E){return L<0&&(L=0),L>this.total-this.screen&&(L=this.total-this.screen),!E&&L==this.pos?!1:(this.pos=L,this.inner.style[this.orientation=="horizontal"?"left":"top"]=L*(this.size/this.total)+"px",!0)},a.prototype.moveTo=function(L){this.setPos(L)&&this.scroll(L,this.orientation)};var d=10;a.prototype.update=function(L,E,S){var k=this.screen!=E||this.total!=L||this.size!=S;k&&(this.screen=E,this.total=L,this.size=S);var p=this.screen*(this.size/this.total);p<d&&(this.size-=d-p,p=d),this.inner.style[this.orientation=="horizontal"?"width":"height"]=p+"px",this.setPos(this.pos,k)};function A(L,E,S){this.addClass=L,this.horiz=new a(L,"horizontal",S),E(this.horiz.node),this.vert=new a(L,"vertical",S),E(this.vert.node),this.width=null}A.prototype.update=function(L){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,k=L.scrollWidth>L.clientWidth+1,p=L.scrollHeight>L.clientHeight+1;return this.vert.node.style.display=p?"block":"none",this.horiz.node.style.display=k?"block":"none",p&&(this.vert.update(L.scrollHeight,L.clientHeight,L.viewHeight-(k?S:0)),this.vert.node.style.bottom=k?S+"px":"0"),k&&(this.horiz.update(L.scrollWidth,L.clientWidth,L.viewWidth-(p?S:0)-L.barLeft),this.horiz.node.style.right=p?S+"px":"0",this.horiz.node.style.left=L.barLeft+"px"),{right:p?S:0,bottom:k?S:0}},A.prototype.setScrollTop=function(L){this.vert.setPos(L)},A.prototype.setScrollLeft=function(L){this.horiz.setPos(L)},A.prototype.clear=function(){var L=this.horiz.node.parentNode;L.removeChild(this.horiz.node),L.removeChild(this.vert.node)},o.scrollbarModel.simple=function(L,E){return new A("CodeMirror-simplescroll",L,E)},o.scrollbarModel.overlay=function(L,E){return new A("CodeMirror-overlayscroll",L,E)}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a="CodeMirror-activeline",d="CodeMirror-activeline-background",A="CodeMirror-activeline-gutter";o.defineOption("styleActiveLine",!1,function(p,h,l){var f=l==o.Init?!1:l;h!=f&&(f&&(p.off("beforeSelectionChange",k),L(p),delete p.state.activeLines),h&&(p.state.activeLines=[],S(p,p.listSelections()),p.on("beforeSelectionChange",k)))});function L(p){for(var h=0;h<p.state.activeLines.length;h++)p.removeLineClass(p.state.activeLines[h],"wrap",a),p.removeLineClass(p.state.activeLines[h],"background",d),p.removeLineClass(p.state.activeLines[h],"gutter",A)}function E(p,h){if(p.length!=h.length)return!1;for(var l=0;l<p.length;l++)if(p[l]!=h[l])return!1;return!0}function S(p,h){for(var l=[],f=0;f<h.length;f++){var b=h[f],F=p.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=p.getLineHandleVisualStart(b.head.line);l[l.length-1]!=O&&l.push(O)}}E(p.state.activeLines,l)||p.operation(function(){L(p);for(var g=0;g<l.length;g++)p.addLineClass(l[g],"wrap",a),p.addLineClass(l[g],"background",d),p.addLineClass(l[g],"gutter",A);p.state.activeLines=l})}function k(p,h){S(p,h.ranges)}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),d=o.Pos,A={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function L(l){return l&&l.bracketRegex||/[(){}[\\]]/}function E(l,f,b){var F=l.getLineHandle(f.line),O=f.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(l.getWrapperElement().className));var y=L(b),W=!g&&O>=0&&y.test(F.text.charAt(O))&&A[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&A[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==f.ch))return null;var z=l.getTokenTypeAt(d(f.line,O+1)),H=S(l,d(f.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:d(f.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(l,f,b,F,O){for(var g=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=L(O),z=b>0?Math.min(f.line+y,l.lastLine()+1):Math.max(l.firstLine()-1,f.line-y),H=f.line;H!=z;H+=b){var U=l.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(H==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(l.getTokenTypeAt(d(H,Z+1))||"")==(F||""))){var I=A[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:d(H,Z),ch:rt}}}}}return H-b==(b>0?l.lastLine():l.firstLine())?!1:null}function k(l,f,b){for(var F=l.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,g=[],y=l.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(l,y[W].head,b);if(D&&(D.match||O!==!1)&&l.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(l.markText(D.from,d(D.from.line,D.from.ch+1),{className:z})),D.to&&l.getLine(D.to.line).length<=F&&g.push(l.markText(D.to,d(D.to.line,D.to.ch+1),{className:z}))}}if(g.length){a&&l.state.focused&&l.focus();var H=function(){l.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(f)setTimeout(H,800);else return H}}function p(l){l.operation(function(){l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),l.state.matchBrackets.currentlyHighlighted=null),l.state.matchBrackets.currentlyHighlighted=k(l,!1,l.state.matchBrackets)})}function h(l){l.state.matchBrackets&&l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),l.state.matchBrackets.currentlyHighlighted=null)}o.defineOption("matchBrackets",!1,function(l,f,b){b&&b!=o.Init&&(l.off("cursorActivity",p),l.off("focus",p),l.off("blur",h),h(l)),f&&(l.state.matchBrackets=typeof f=="object"?f:{},l.on("cursorActivity",p),l.on("focus",p),l.on("blur",h))}),o.defineExtension("matchBrackets",function(){k(this,!0)}),o.defineExtension("findMatchingBracket",function(l,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),E(this,l,f)}),o.defineExtension("scanForBracket",function(l,f,b,F){return S(this,l,f,b,F)})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},d=o.Pos;o.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=o.Init&&(g.removeKeyMap(L),g.state.closeBrackets=null),y&&(E(A(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(L))});function A(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:a[y]}var L={Backspace:p,Enter:h};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";L[D]||(L[D]=S(W))}}E(a.pairs+"\`");function S(g){return function(y){return b(y,g)}}function k(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function p(g){var y=k(g);if(!y||g.getOption("disableInput"))return o.Pass;for(var W=A(y,"pairs"),D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return o.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return o.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;g.replaceRange("",d(U.line,U.ch-1),d(U.line,U.ch+1),"+delete")}}function h(g){var y=k(g),W=y&&A(y,"explode");if(!W||g.getOption("disableInput"))return o.Pass;for(var D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return o.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return o.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),l(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function l(g,y){for(var W=[],D=g.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==g.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,z)}function f(g){var y=o.cmpPos(g.anchor,g.head)>0;return{anchor:new d(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new d(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=k(g);if(!W||g.getOption("disableInput"))return o.Pass;var D=A(W,"pairs"),z=D.indexOf(y);if(z==-1)return o.Pass;for(var H=A(W,"closeBefore"),U=A(W,"triples"),Z=D.charAt(z+1)==y,ot=g.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var x=ot[R],K=x.head,C,Q=g.getRange(K,d(K.line,K.ch+1));if(rt&&!x.empty())C="surround";else if((Z||!rt)&&Q==y)Z&&O(g,K)?C="both":U.indexOf(y)>=0&&g.getRange(K,d(K.line,K.ch+3))==y+y+y?C="skipThree":C="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(d(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(d(K.line,K.ch-2))))return o.Pass;C="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(d(K.line,K.ch-1),K);if(!o.isWordChar(Q)&&it!=y&&!o.isWordChar(it))C="both";else return o.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))C="both";else return o.Pass;if(!I)I=C;else if(I!=C)return o.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);g.operation(function(){if(I=="skip")l(g,1);else if(I=="skipThree")l(g,3);else if(I=="surround"){for(var T=g.getSelections(),\$=0;\$<T.length;\$++)T[\$]=J+T[\$]+lt;g.replaceSelections(T,"around"),T=g.listSelections().slice();for(var \$=0;\$<T.length;\$++)T[\$]=f(T[\$]);g.setSelections(T)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),l(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),l(g,1))})}function F(g,y){var W=g.getRange(d(y.line,y.ch-1),d(y.line,y.ch+1));return W.length==2?W:null}function O(g,y){var W=g.getTokenAt(d(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(E,S,k,p){if(k&&k.call){var h=k;k=null}else var h=L(E,k,"rangeFinder");typeof S=="number"&&(S=o.Pos(S,0));var l=L(E,k,"minFoldSize");function f(g){var y=h(E,S);if(!y||y.to.line-y.from.line<l)return null;if(p==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(L(E,k,"scanUp"))for(;!b&&S.line>E.firstLine();)S=o.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||p==="unfold")){var F=d(E,k,b);o.on(F,"mousedown",function(g){O.clear(),o.e_preventDefault(g)});var O=E.markText(b.from,b.to,{replacedWith:F,clearOnEnter:L(E,k,"clearOnEnter"),__isFold:!0});O.on("clear",function(g,y){o.signal(E,"unfold",E,g,y)}),o.signal(E,"fold",E,b.from,b.to)}}function d(E,S,k){var p=L(E,S,"widget");if(typeof p=="function"&&(p=p(k.from,k.to)),typeof p=="string"){var h=document.createTextNode(p);p=document.createElement("span"),p.appendChild(h),p.className="CodeMirror-foldmarker"}else p&&(p=p.cloneNode(!0));return p}o.newFoldFunction=function(E,S){return function(k,p){a(k,p,{rangeFinder:E,widget:S})}},o.defineExtension("foldCode",function(E,S,k){a(this,E,S,k)}),o.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),k=0;k<S.length;++k)if(S[k].__isFold)return!0}),o.commands.toggleFold=function(E){E.foldCode(E.getCursor())},o.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},o.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},o.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),k=E.lastLine();S<=k;S++)E.foldCode(o.Pos(S,0),{scanUp:!1},"fold")})},o.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),k=E.lastLine();S<=k;S++)E.foldCode(o.Pos(S,0),{scanUp:!1},"unfold")})},o.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,k){for(var p=0;p<E.length;++p){var h=E[p](S,k);if(h)return h}}}),o.registerHelper("fold","auto",function(E,S){for(var k=E.getHelpers(S,"fold"),p=0;p<k.length;p++){var h=k[p](E,S);if(h)return h}});var A={rangeFinder:o.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};o.defineOption("foldOptions",null);function L(E,S,k){if(S&&S[k]!==void 0)return S[k];var p=E.options.foldOptions;return p&&p[k]!==void 0?p[k]:A[k]}o.defineExtension("foldOption",function(E,S){return L(this,E,S)})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],o):o(CodeMirror)})(function(o){o.defineOption("foldGutter",!1,function(O,g,y){y&&y!=o.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",h),O.off("changes",f),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",f),O.off("optionChange",l)),g&&(O.state.foldGutter=new d(A(g)),p(O),O.on("gutterClick",h),O.on("changes",f),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",f),O.on("optionChange",l))});var a=o.Pos;function d(O){this.options=O,this.from=this.to=0}function A(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function L(O,g){for(var y=O.findMarks(a(g,0),a(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(O){if(typeof O=="string"){var g=document.createElement("div");return g.className=O+" CodeMirror-guttermarker-subtle",g}else return O.cloneNode(!0)}function S(O,g,y){var W=O.state.foldGutter.options,D=g-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&k(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&k(W.indicatorOpen);O.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),L(O,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=a(D,0),x=H&&H(O,R);if(x&&x.to.line-x.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function k(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function p(O){var g=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,g.from,g.to)}),y.from=g.from,y.to=g.to)}function h(O,g,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=L(O,g);z?z.clear():O.foldCode(a(g,0),D)}}}function l(O,g){g=="mode"&&f(O)}function f(O){var g=O.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){p(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var g=O.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=O.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?p(O):O.operation(function(){W.from<g.from&&(S(O,W.from,g.from),g.from=W.from),W.to>g.to&&(S(O,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,g){var y=O.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a="CodeMirror-hint",d="CodeMirror-hint-active";o.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return g.showHint(D)},o.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new A(this,g);D.options.hint&&(o.signal(this,"startCompletion",this),D.update(!0))}}),o.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function A(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var L=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;A.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&o.signal(this.data,"close"),this.widget&&this.widget.close(),o.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(k(W),W.from||g.from,W.to||g.to,"complete"),o.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=L(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&o.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new l(this,g),o.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(g,y)),z}function k(g){return typeof g=="string"?g:g.text}function p(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=g.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(x){return I(x,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function h(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function l(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],x=a+(rt!=this.selectedHint?"":" "+d);R.className!=null&&(x=R.className+" "+x),I.className=x,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||k(R))),I.hintId=rt}var K=g.options.container||z.body,C=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=C.left,it=C.bottom,J=!0,lt=0,T=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,T=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-T+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ne=at.bottom-ft;if(ne>0){var Et=at.bottom-at.top,Rt=at.top-(C.bottom-C.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(it=C.top-Et)+T+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ce=at.right-kt;if(_t&&(Ce+=D.display.nativeBarWidth),Ce>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ce-=at.right-at.left-kt),U.style.left=(Q=Math.max(C.left-Ce-lt,0))+"px"),_t)for(var ke=U.firstChild;ke;ke=ke.nextSibling)ke.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=p(g,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var Se;D.on("blur",this.onBlur=function(){Se=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(Se)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=it+vt.top-It.top,on=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(on+=U.offsetHeight),on<=mt.top||on>=mt.bottom)return g.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),o.on(U,"dblclick",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),o.on(U,"click",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),g.options.completeOnSingleClick&&W.pick())}),o.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var _e=this.getSelectedHintRange();return(_e.from!==0||_e.to!==0)&&this.scrollToActive(),o.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+d,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+d,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),o.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function f(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var z=g(y,W);z&&z.then?z.then(D):D(z)}}function F(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=f(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(H){return o.hint.fromList(H,{words:D})}:o.hint.anyword?function(H,U){return o.hint.anyword(H,U)}:function(){}}o.registerHelper("hint","auto",{resolve:F}),o.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),z,H=o.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),o.commands.autocomplete=o.showHint;var O={hint:o.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};o.defineOption("hintOptions",null)});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(d){return function(A,L){var E=L.line,S=A.getLine(E);function k(F){for(var O,g=L.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(F[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<L.ch)break;if(O=A.getTokenTypeAt(o.Pos(E,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};g=W-1}}function p(F){var O=1,g=A.lastLine(),y,W=F.ch,D;t:for(var z=E;z<=g;++z)for(var H=A.getLine(z),U=z==E?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(A.getTokenTypeAt(o.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||E==y?null:{from:o.Pos(E,W),to:o.Pos(y,D)}}for(var h=[],l=0;l<d.length;l++){var f=k(d[l]);f&&h.push(f)}h.sort(function(F,O){return F.ch-O.ch});for(var l=0;l<h.length;l++){var b=p(h[l]);if(b)return b}return null}}o.registerHelper("fold","brace",a([["{","}"],["[","]"]])),o.registerHelper("fold","brace-paren",a([["{","}"],["[","]"],["(",")"]])),o.registerHelper("fold","import",function(d,A){function L(l){if(l<d.firstLine()||l>d.lastLine())return null;var f=d.getTokenAt(o.Pos(l,1));if(/\\S/.test(f.string)||(f=d.getTokenAt(o.Pos(l,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=l,F=Math.min(d.lastLine(),l+10);b<=F;++b){var O=d.getLine(b),g=O.indexOf(";");if(g!=-1)return{startCh:f.end,end:o.Pos(b,g)}}}var E=A.line,S=L(E),k;if(!S||L(E-1)||(k=L(E-2))&&k.end.line==E-1)return null;for(var p=S.end;;){var h=L(p.line+1);if(h==null)break;p=h.end}return{from:d.clipPos(o.Pos(E,S.startCh+1)),to:p}}),o.registerHelper("fold","include",function(d,A){function L(h){if(h<d.firstLine()||h>d.lastLine())return null;var l=d.getTokenAt(o.Pos(h,1));if(/\\S/.test(l.string)||(l=d.getTokenAt(o.Pos(h,l.end+1))),l.type=="meta"&&l.string.slice(0,8)=="#include")return l.start+8}var E=A.line,S=L(E);if(S==null||L(E-1)!=null)return null;for(var k=E;;){var p=L(k+1);if(p==null)break;++k}return{from:o.Pos(E,S+1),to:d.clipPos(o.Pos(k))}})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(d,A){var L=d.getLine(A),E=L.search(/\\S/);return E==-1||/\\bcomment\\b/.test(d.getTokenTypeAt(o.Pos(A,E+1)))?-1:o.countColumn(L,null,d.getOption("tabSize"))}o.registerHelper("fold","indent",function(d,A){var L=a(d,A.line);if(!(L<0)){for(var E=null,S=A.line+1,k=d.lastLine();S<=k;++S){var p=a(d,S);if(p!=-1)if(p>L)E=S;else break}if(E)return{from:o.Pos(A.line,d.getLine(A.line).length),to:o.Pos(E,d.getLine(E).length)}}})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.registerGlobalHelper("fold","comment",function(a){return a.blockCommentStart&&a.blockCommentEnd},function(a,d){var A=a.getModeAt(d),L=A.blockCommentStart,E=A.blockCommentEnd;if(!(!L||!E)){for(var S=d.line,k=a.getLine(S),p,h=d.ch,l=0;;){var f=h<=0?-1:k.lastIndexOf(L,h-1);if(f==-1){if(l==1)return;l=1,h=k.length;continue}if(l==1&&f<d.ch)return;if(/comment/.test(a.getTokenTypeAt(o.Pos(S,f+1)))&&(f==0||k.slice(f-E.length,f)==E||!/comment/.test(a.getTokenTypeAt(o.Pos(S,f))))){p=f+L.length;break}h=f-1}var b=1,F=a.lastLine(),O,g;t:for(var y=S;y<=F;++y)for(var W=a.getLine(y),D=y==S?p:0;;){var z=W.indexOf(L,D),H=W.indexOf(E,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,g=D;break t}++D}if(!(O==null||S==O&&g==p))return{from:o.Pos(S,p),to:o.Pos(O,g)}}})});const sc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},ac={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...sc},oc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function uc(o,a){for(let[d,A]of Object.entries(o)){let L=document.querySelector(\`#\${d}\`);L&&(L.textContent=A[a])}}function lc(o,a){for(let[d,A]of Object.entries(o)){let L=document.querySelector(\`#\${d}\`);L&&(L.title=A[a])}}class hc{msg;start_loc;end_loc;constructor(a,d,A){this.msg=a,this.start_loc=d,this.end_loc=A}}function Pr(o){return o==null}function qs(o){return o instanceof Array}function Gt(o,a){return o.includes(a)}function cc(o,a,d){o[a]=d}function Ys(o){return Array.isArray(o)&&o.length===0}function At(o,a){let d=[];const A=(L,E)=>{if(E&&typeof E=="object"){if(d.includes(E))return"[CIRCULAR]";d.push(E)}return E};return a?JSON.stringify(o,A,a):JSON.stringify(o,A)}function Lu(o){return new RegExp(o,"u")}function cu(o,a){o==null?console.log("undefined"):console.log(JSON.stringify(o))}function St(o){throw new Error(o)}function sn(o){return{...o}}function fc(o){return o.toLowerCase()}const ui=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Pn=["0","1","2","3","4","5","6","7","8","9"],_c="ـ",js=Lu("\\\\p{L}"),pc=Lu("\\\\p{N}"),fu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},dc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"};class _u{line;column;constructor(a,d){return this.line=a,this.column=d,this}}class gc{v;loc;constructor(a,d){return this.v=a,this.loc=d,this}}class vc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(a,d,A,L,E,S,k,p,h,l){return this.lang=a,this.code=d,this.start_loc=A,this.end_loc=L,this.tokens=E,this.errs=S,this.current_index=k,this.current=p,this.lookbehind=h,this.ignore_cmts_ws=l,this}init(a,d,A){this.lang=a,this.code=d,this.start_loc=new _u(1,1),this.end_loc=new _u(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=A}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=sn(this.end_loc),this.add_token("\$eof")}add_token(a){const d=new gc(a,sn(this.start_loc));this.tokens.push(d)}next(){this.lookbehind=this.current,this.current_index+=1;const a=this.code[this.current_index];return this.current=a,a===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(a){for(;a>0;)this.next(),a-=1}insert_err(a){const d=new hc(a,sn(this.start_loc),sn(this.end_loc));this.errs.push(d)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===_c}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Pr(this.lookbehind)}expect_none_ahead(){return Pr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(js)}expect_num(){return this.lookahead().match(pc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Pr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let a="";const d=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")a+=this.next()+this.next(),d.push(sn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(d.length>1)a+=this.next()+this.next(),d.pop();else{a+=this.next(),d.pop();break}else a+=this.next();const A=d.pop();return A&&(this.start_loc=sn(A),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",a]),!0}}ar_escape_char(){if(this.current==="٪"){let a=this.next();switch(a){case"(":switch(a=this.next(),a){case"س":a=\`
\`;break;case"ر":a="\\r";break;case"ج":a="	";break;case"‹":a="‹";break;case"›":a="›";break;case"«":a="«";break;case"»":a="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+a);break;case"٪":a="٪";break;case"{":a="\${";break;default:this.insert_err("invalid escape character: "+a)}return a}else return this.current}en_escape_char(){if(this.current==="%"){let a=this.next();switch(a){case"n":a=\`
\`;break;case"r":a="\\r";break;case"t":a="	";break;case"'":a="'";break;case'"':a='"';break;case"%":a="%";break;case"{":a="\${";break;default:this.insert_err("invalid escape character: "+a);break}return a}else return this.current}enclosed_val(a){let d="";for(;!this.expect_eof()&&(this.next(),a!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+a);break}this.lang==="ar"?d+=this.ar_escape_char():d+=this.en_escape_char()}return d}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(a){let d="",A="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+a);break}if(a===this.current&&a===this.lookahead())if(this.skip(1),this.lookahead()===a){this.skip(1),this.add_token(["str",A]);break}else d+=a+a;else this.lang==="ar"?A+=this.ar_escape_char():A+=this.en_escape_char(),A+=d}}ar_multi_str(a){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(a){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const a=[];for(;this.lookahead()==="=";)a.push(this.next());if(a.length===0)this.add_token("=");else if(a.length===1)this.add_token("==");else if(a.length>1)this.ignore_cmts_ws||this.add_token(["===",a.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const a=[];for(;this.lookahead()==="-";)a.push(this.next());if(a.length===0)this.add_token("-");else if(a.length>1)this.ignore_cmts_ws||this.add_token(["---",a.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let a="*";for(;this.lookahead()==="*";)a+=this.next();if(a.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let a="";for(;!this.expect_eof()&&!this.expect_eol();)a+=this.next();return this.ignore_cmts_ws||this.add_token(["--",a]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(ui,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Pn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let a=this.current;for(;;){if(Gt(ui,this.lookahead()))a+=this.next();else if(Gt(Pn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")a+=this.next(),a+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",a]):this.add_token(["int",a])}maghrib_num(){let a=this.current,d=!1;for(;;){if(Gt(Pn,this.lookahead()))a+=this.next();else if(Gt(ui,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")a+=this.next(),d=!0,a+=this.maghrib_fract();else break;if(this.expect_eof())break}d?this.add_token(["float",a]):this.add_token(["int",a])}ar_id(){let a=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],a)?a+=this.next():this.skip(1):a+=this.next();fu[a]?this.add_token(["key",fu[a]]):this.add_token(["id",a])}en_id(){let a=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)a+=this.next();dc[a]?this.add_token(["key",a]):this.add_token(["id",a])}mashriq_fract(){let a="";for(;!this.expect_eof()&&Gt(ui,this.lookahead());)a+=this.next();return a}maghrib_float(){if(Gt(Pn,this.lookahead())){const a=this.current+this.maghrib_fract();return this.add_token(["float",a]),!0}}maghrib_fract(){let a="";for(;!this.expect_eof()&&Gt(Pn,this.lookahead());)a+=this.next();return a}new_line(){let a=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),a+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,a]);break}}ar(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const a=this.next();switch(a){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(ui,a)?this.mashriq_num():Gt(Pn,a)?this.maghrib_num():a==="_"||a.match(js)?this.ar_id():this.common(a)}}}en(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const a=this.next();switch(a){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Pn,a)?this.maghrib_num():Gt(ui,a)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):a==="_"||a.match(js)?this.en_id():this.common(a)}}}common(a){switch(a){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(a);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}const mc=[],bc=[];class ht{id;t;v;constructor(a,d,A){this.id=a,this.t=d,this.v=A}}class pu{t;o;constructor(a,d){this.t=a,this.o=d}}class yc{name;fields;children;constructor(a,d,A){this.name=a,this.fields=d,this.children=A}}class wc{fields;o;constructor(a,d){this.fields=a,this.o=d}}class xc{t;ts;o;constructor(a,d,A){this.t=a,this.ts=d,this.o=A}}class kc{name;variant;constructor(a,d){this.name=a,this.variant=d}}class du{k;v;constructor(a,d){this.k=a,this.v=d}}class rn{opr;op;constructor(a,d){this.opr=a,this.op=d}}class Us{lopr;op;ropr;constructor(a,d,A){this.lopr=a,this.op=d,this.ropr=A}}class Ks{name;params;ret_types;body;constructor(a,d,A,L){this.name=a,this.params=d,this.ret_types=A,this.body=L}}class gu{_pat;t;constructor(a,d){this._pat=a,this.t=d}}class Sc{k;v;constructor(a,d){this.k=a,this.v=d}}class vu{lhs;t;rhs;constructor(a,d,A){this.lhs=a,this.t=d,this.rhs=A}}class Ec{expr;arms;constructor(a,d){this.expr=a,this.arms=d}}class Tc{pats;expr;constructor(a,d){this.pats=a,this.expr=d}}const Cc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Ac=[".","!","not","-","+"],Lc=["?","!","%"],Oc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Nc{tokens;current_index;skipped_new_line;current;ast;tabs;attrs;errs;init(a){this.tokens=a,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let a=!1;this.maybe_attrs()?(this.maybe_modifier(),a=this.maybe_typedef()||this.maybe_consts_or_fns()):this.is_modifier()?(this.maybe_modifier(),a=this.maybe_consts_or_fns()||this.maybe_typedef()):a=this.maybe_use()||this.maybe_consts_or_fns()||this.maybe_typedef(),a||St("invalid syntax: "+At(this.current))}}next(a){this.current_index+=1;const d=this.tokens[this.current_index];return this.current=d,d.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):a||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const a=this.tokens[this.current_index];this.current=a,a.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(a){let d=this.current_index;for(;a>0;){for(d+=1;;){const A=this.tokens[d];let L;if(A&&(L=A.v[0]===\`
\`),L)d+=1;else break}a-=1}return this.tokens[d]}lookahead_ws(){const a=this.current_index+1;return this.tokens[a]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Pr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const a=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&a}is_this(){return this.is_keyword("this")}is_keyword(a){return this.current.v[0]==="key"&&this.current.v[1]===a}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(qs(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(qs(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const a=this.current;return this.next(),a}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const a=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(a),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const a=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(a),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const a=this.maybe_pat();if(a)return a;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const a=new ht("_","pat","");return this.next(),a}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const a=new ht("bool","pat",this.current);return this.next(),a}char_pat(){const a=new ht("char","pat",this.current);return this.next(),a}str_pat(){const a=new ht("str","pat",this.current);return this.next(),a}int_pat(){const a=new ht("int","pat",this.current);return this.next(),a}float_pat(){const a=new ht("float","pat",this.current);return this.next(),a}list_pat(){if(!this.is_open_bracket())return;this.next();const a=[];for(this.maybe_comma();;){if(a.length>0&&!this.req_comma())return;const d=this.maybe_pat();if(d)return a.push(d);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",a)}tuple_pat(){if(!this.is_open_paren())return;this.next();const a=[];for(this.maybe_comma();;){a.length>0&&this.req_comma();const d=this.maybe_pat();if(d)return a.push(d);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",a)}structl_pat(){if(!this.is_open_curly())return;this.next();const a=[];for(this.maybe_comma();;){a.length>0&&(this.maybe_comma()||this.req_terminator());const d=this.maybe_id();if(!d)break;let A;this.is_colon()&&(this.next(),A=this.req_pat());const L=new Sc(d,A);a.push(L)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",a)}enum_pat(){St("enum patterns are not supported yet");const a=this.current;this.next();const d=new kc(a,_pat);if(_pat)return new ht("enum_pat","pat",d)}id_pat(){const a=this.current;return this.next(),new ht("id","pat",a)}req_body(){const a=this.stmts();return new ht("body","body",a)}req_body_ret(){const a=this.req_body();return this.implicit_return(a.v),a}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const a=this.current,d=this.stmts();if(Ys(d))St("expecting a statement : "+At(a));else return d}stmts(){let a=[],d;for(;d=this.maybe_stmt(),d&&a.push(d),!!d;);return a}maybe_ret(){if(!this.is_ret())return;this.next();const a=this.maybe_expr();return new ht("return","expr",a)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_const(){if(!this.is_const())return;this.next();const a=this.req_pat(),d=this.maybe_tannotation();this.req_asgmt();const A=this.req_expr(),L=new vu(a,d,A);return new ht("const","stmt",L)}maybe_let(){if(!this.is_let())return;this.next();const a=this.req_pat(),d=this.maybe_tannotation();this.req_asgmt();const A=this.req_expr(),L=new vu(a,d,A);return new ht("var","stmt",L)}req_expr(){const a=this.current,d=this.maybe_expr();if(d)return d;St("expecting expression : "+At(a))}maybe_do_block_ret(){const a=this.maybe_do_block();if(a)return this.implicit_return(a.v),a}req_do_block_ret(){const a=this.req_do_block();return this.implicit_return(a.v),a}maybe_do_block(){if(!this.is_do())return;this.next();const a=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const d=this.maybe_stmt();if(d)a.push(d);else break}return this.req_close_curly(),new ht("do_block","expr",a)}req_do_block(){const a=this.current,d=this.maybe_do_block();if(d)return d;St("expecting 'do' block : "+At(a))}maybe_block(){if(!this.is_open_curly())return;this.next();const a=[];for(;!(this.is_eof()||this.is_end());){const d=this.maybe_stmt();if(d)a.push(d);else break}return this.implicit_return(a),this.req_end(),new ht("block","expr",a)}maybe_semicolon(){if(!this.is_semicolon())return;const a=this.next();return new ht(";","expr",a)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Cc,this.current.v)}is_postfix_uni_op(){return Gt(Lc,this.current.v)}req_list_index(){const a=this.req_expr();if(a){if(this.req_close_bracket())return a}else St("expecting  an index [...]: "+At(this.current))}req_access(a){return this.req_expr()}req_call_args(){const a=[];for(;!(this.is_eof()||this.is_close_paren());){a.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let d=this.maybe_expr();d&&a.push(d)}return this.req_close_paren(),new ht("args","expr",a)}maybe_lopr_prefix_postfix(a,d){const A=a.v.opr,L=a.v.op;if(a.id==="prefix")if(this.prec_uni(d)>=this.prec_uni(L)){const E=new rn(A,d),S=new ht("postfix","expr",E),k=new rn(S,L),p=new ht("prefix","expr",k);return this.next(),p}else{const E=new rn(a,d),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(a,d){if(a.id==="bin"){const A=a.v.op,L=a.v.ropr,E=a.v.lopr;if(this.prec_uni(d)>=this.prec_bin(A)){const S=new rn(L,d),k=new ht("postfix","expr",S),p=new Us(E,A,k),h=new ht("bin","expr",p);return this.next(),h}else{const S=new rn(a,d),k=new ht("postfix","expr",S);return this.next(),k}}}maybe_lopr_prefix_bin(a,d){const A=a.v.op;let L=a.v.opr;if(a.id==="prefix")if(this.prec_uni(A)>=this.prec_bin(d)){L=this.req_op(L);const E=new rn(L,A);return new ht("prefix","expr",E)}else{const E=this.req_ropr(a),S=new Us(L,d,E),k=new ht("bin","expr",S),p=new rn(k,A);return new ht("prefix","expr",p)}}get_lopr(a,d){let A=this.maybe_lopr_prefix_postfix(a,d);if(!A&&(A=this.maybe_lopr_bin_postfix(a,d),!A)){const L=new rn(a,d);A=new ht("postfix","expr",L),this.next()}return A}req_ropr(a){let d;const A=this.current;return this.is_open_bracket()?(this.next(),d=this.req_list_index()):this.is_dot()?(this.next(),d=this.req_access(a)):this.is_open_paren()?(this.next(),d=this.req_call_args()):(this.next(),d=this.maybe_expr()),d||St("expecting right operand: "+At(A)),d}prec_uni(a){switch(a.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(a))}}prec_bin(a){switch(a.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(a))}}is_bin_rassoc(a){return Gt(Oc,a)}maybe_op(a){const d=this.current;if(this.is_postfix_uni_op())return this.get_lopr(a,d);if(this.is_bin_op()){const A=this.maybe_lopr_prefix_bin(a,d);if(A)return A;let L=this.req_ropr(a);L&&(L.id==="bin"?L=this.while_op(L,this.prec_bin(L.v.op)>this.prec_bin(d)||this.prec_bin(L.v.op)===this.prec_bin(d)&&this.is_bin_rassoc(L.v.op)):L.id==="prefix"?L=this.while_op(L,this.prec_bin(d)>this.prec_uni(L.v.op)||this.is_bin_rassoc(d)):L=this.while_op(L,!1));const E=new Us(a,d,L);return new ht("bin","expr",E)}}req_op(a){const d=this.maybe_op(a);if(d)return d;St("expect an operation: "+At(this.lookahead()))}while_op(a,d){let A=sn(a);if(this.is_eof())return A;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&d!==!1;)A=this.req_op(A);return A}maybe_expr(){let a=this.maybe_prim();if(a)return a=this.while_op(a),a}req_id(){const a=this.maybe_id();if(a)return a;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(a){const d=()=>{if(!a)return;qs(a)||(a=[a]);const A=[];return a.forEach(L=>{L.id="id",L.type="pat",A.push(new ht("param","pat",new gu(L)))}),A};if(this.is_thick_arrow()){const A=d();this.next(),this.req_open_curly();const L=this.req_body_ret();this.req_close_curly();const E=new Ks("",A,null,L);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const a=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let d=null;if(d=this.maybe_expr(),d){let A=d;if(this.is_comma()){const L=[A];for(;;){const E=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||E)break;this.req_comma(),A=this.maybe_expr(),A?L.push(A):St("expected an argument: "+a)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(L)||new ht("tuple","expr",L)}else return this.req_close_paren(),this.maybe_afn(d)||(d.grouped=!0,d)}}}}req_named_tuple(){let a=[];for(;!(this.is_eof()||this.is_close_paren());){let d=this.req_id();this.req_colon();let A=this.req_expr();a.push([d,A]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",a)}is_prefix_uni_op(){return Gt(Ac,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const a=this.current;this.next();const d=new rn(this.req_prim(),a);return new ht("prefix","expr",d)}}maybe_literal(){let a=this.maybe_primitivel();return a||(a=this.maybe_list()),a||(a=this.maybe_tuple()),a}maybe_primitivel(){let a=this.maybe_bool();return a||(a=this.maybe_char()),a||(a=this.maybe_str()),a||(a=this.maybe_int()),a||(a=this.maybe_float()),a}maybe_bool(){if(this.is_bool()){const a=new ht("bool","expr",this.current);return this.next(),a}}maybe_char(){if(this.is_char()){const a=new ht("char","expr",this.current);return this.next(),a}}maybe_str(){if(this.is_str()){const a=new ht("str","expr",this.current);return this.next(),a}}maybe_int(){if(this.is_int()){const a=this.current;this.next();let d;return this.is_id()&&!this.is_newline()&&(d=this.current,this.next()),new ht("int","expr",[a,d])}}maybe_float(){if(this.is_float()){const a=this.current;this.next();let d;return this.is_id()&&!this.is_newline()&&(d=this.current,this.next()),new ht("float","expr",[a,d])}}maybe_list(){if(this.is_open_bracket()){const a=[];for(this.next(),this.maybe_comma();;){const d=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||d)break;a.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),a.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",a)}}maybe_tuple(){if(this.is_open_paren()){const a=[];this.skip(),this.maybe_comma();let d=!1;for(this.is_id&&this.expect_colon()&&(d=!0);;){a.length>0&&this.req_comma();let A;d&&(A=this.req_id(),this.req_colon());let L=this.req_expr();if(d?a.push([A,L]):a.push([L]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),d?new ht("(:","expr",a):new ht("(","expr",a)}}maybe_call(a){const d=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let k;this.is_id()&&this.expect_colon()&&(k=this.current,this.next(),this.next());let p;if(k?p=new ht("named_arg","expr",[k,this.req_expr()]):p=this.maybe_expr(),!p)break;S.push(p),this.optional_comma()}return this.req_close_paren(),S}},A=S=>{if(!this.is_open_curly())return;this.next();const k=[];for(;!(this.is_eof()||this.is_close_curly());){const p=this.maybe_expr();if(!p)break;k.push(p),this.optional_comma()}return this.req_close_curly(),k.push(),k},L=d(),E=A();return L||E?new ht("call","expr",[a,L,E]):void 0}req_ref(){const a=this.current;return this.next(),new ht("ref","expr",a)}maybe_call_or_ref(){if(this.is_id()){const a=this.req_ref();return this.maybe_call(a)||a}}maybe_when_arm(){const a=[];for(;!this.is_thin_arrow()&&(a.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const d=this.req_expr(),A=new Tc(a,d);return new ht("arm","",A)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const a=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const d=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||d.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const L=this.maybe_when_arm();if(L)d.push(L);else break}this.maybe_comma(),this.req_close_curly();const A=new Ec(a,d);return new ht("when","expr",A)}maybe_prim(){let a=this.maybe_unit();return a||(a=this.maybe_tuple_afn_group()),a||(a=this.maybe_prefix_uni_op()),a||(a=this.maybe_call_or_ref()),a||(a=this.maybe_literal()),a||(a=this.maybe_when()),a||(a=this.maybe_do_block_ret()),a||(a=this.maybe_ret()),a||(a=this.maybe_semicolon()),a}req_prim(){const a=this.maybe_prim();return a||St("expecting an expression: "+At(this.current)),a}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const a=this.req_fn();return a&&Gt(["main","بدء"],a.v.name.v[1])?new ht("main","fn",a.v):new ht("fn","fn",a.v)}maybe_use(){if(!this.is_use())return;this.next();const a=[];if(!this.is_id())return!1;for(;this.is_id()&&(a.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const d=new ht("use","stmt",a);return this.ast.push(d),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let a;if(this.is_open_bracket()){this.next();const d=this.req_type();this.req_close_bracket();const A=new pu(d,this.maybe_optional());a=new ht("[","t",A)}else if(this.is_open_curly()){this.next();const d=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){d.length>0&&this.req_comma();const L=this.maybe_id();let E;L&&this.is_colon()&&(this.next(),E=this.req_type());const S=new du(L,E);d.push(S)}this.maybe_comma(),this.req_close_curly();const A=new wc(d,this.maybe_optional());a=new ht("{","t",A)}else if(this.is_id()){const d=this.req_id();if(this.is_open_angle()){const A=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)A.length>0&&this.req_comma(),A.push(this.req_type());this.maybe_comma(),this.req_close_angle();const L=new xc(d,A,this.maybe_optional());a=new ht("<","t",L)}else{const A=new pu(d,this.maybe_optional());a=new ht("t","t",A)}}return a}req_type(){let a=this.maybe_type();return a||St("type required: "+At(this.current)),a}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const a=this.maybe_tannotation();return a||St("requires type annotation: "+At(this.current)),a}maybe_fn_params(){const a=[];if(!this.is_open_paren())return a;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){a.length>0&&this.req_comma();const d=this.req_pat(),A=this.maybe_tannotation(),L=new gu(d,A),E=new ht("param","pat",L);d.id!=="id"&&St("only parameters with id patterns are currently supported"),a.push(E)}return this.maybe_comma(),this.req_close_paren(),a}maybe_fn_ret_types(){const a=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let d=this.next();this.is_exclamation()?(this.next(),a.push({id:d,_t:"throw"})):a.push({id:d,_t:"ret_type"}),this.optional_comma()}return a}req_fn(){const a=this.req_id();mc.push(a.v[1]);const d=this.maybe_fn_params(),A=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const L=this.req_body_ret(),E=new Ks(a,d,A,L),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const L=this.req_body_ret(),E=new Ks(a,d,A,L);return new ht("fn","fn",E)}}maybe_fields(){const a=[];for(;this.is_id();){const d=new ht("id","expr",this.req_id()),A=this.req_tannotation(),L=new du(d,A),E=new ht("field","",L);if(a.push(E),this.is_close_paren())break;this.optional_comma()}return a}maybe_typedef(){const a=()=>{const p=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let h;this.is_id()&&this.expect_colon()&&(h=this.current,this.next(),this.next());let l;if(h?l=new ht("field","expr",[h,this.req_type()]):l=this.maybe_expr(),!l)break;p.push(l),this.optional_comma()}return this.req_close_paren(),p}},d=()=>{if(!this.is_open_curly())return;this.next();const p=[];for(;!(this.is_eof()||this.is_close_curly());){const h=this.maybe_expr();if(!h)break;p.push(h),this.optional_comma()}return this.req_close_curly(),p.push(),p};if(!this.is_typedef())return;this.next();const A=this.req_id();bc.push(A.v[1]);let L=a()||[];const E=d();if(!(L||E))return;if(E){const p={v:["id","__children"],loc:{line:0,column:0}},h={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},l=new ht("field","expr",[p,h]);L.push(l)}const S=new yc(A,L,E),k=new ht("type","def",S);return this.ast.push(k),!0}maybe_consts_or_fns(){let a=!1;for(;;)if(this.is_pat())this.ast.push(this.maybe_const()),a=!0;else if(this.is_fn())this.ast.push(this.maybe_fn()),a=!0;else break;return a}implicit_return(a){if(!a||a.length<=0)return;const d=a.length-1,A=a[d];if(!(Gt(["when","while","if","for","return","let","var","const"],A.id)||A.id==="bin"&&A.v.op.v===":=")&&A.id!==";"&&!(A.id==="bin"&&A.v.op.v==="=")&&!(A.id==="bin"&&A.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],A.v.lopr.v.v[1]))&&A.t==="expr"){const L=new ht("iret","expr",A);return cc(a,d,L)}}}const Rc=["min_width","min_height","background_color","background_image","background_position","background_repeat","background_size","background_attachment","_webkite_background_size","aspect_ratio","border_right","border_left","border_top","border_bottom","border_radius","border_style","margin_top","margin_bottom","margin_right","margin_left","align_items","text_align","justify_content","justify_items","text_justify","object_fit","font_size","font_family","box_sizing","scrollbar_width","user_select","_ms_user_select","_webkit_user_select","_moz_user_select","box_shadow","_webkit_box_shadow","_moz_box_shadow","no_repeat","border_box","space_between","flex_direction","inter_word"],Ou=["readonly"],Fc=["html","body","div","span","p","textarea","field"];function kn(o){return Rc.includes(o)?o.replaceAll("_","-"):o}function Dc(o){return Nu(Pc,o[0])}function Br(o){if(Dc(o))return o;{let a="",d=0;for(;d<o.length;){switch(o[d]){case"٠":a+="0";break;case"١":a+="1";break;case"٢":a+="2";break;case"٣":a+="3";break;case"٤":a+="4";break;case"٥":a+="5";break;case"٦":a+="6";break;case"٧":a+="7";break;case"٨":a+="8";break;case"٩":a+="9";break;case",":a+=".";break;default:ee()}d+=1}return a}}function sa(o){return o instanceof Array}function Nu(o,a){return o.includes(a)}function ue(o,a){let d=[];return JSON.stringify(o,(A,L)=>{if(L&&typeof L=="object"){if(d.includes(L))return"[CIRCULAR]";d.push(L)}return L})}function ee(o){throw new Error(o)}function Mc(o,a){return o.repeat(a)}const Pc=["0","1","2","3","4","5","6","7","8","9"],Wc=[],Ic=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`;function Ru(o,a){switch(o.id){case"call":let d=o.v[0].v.v[1],A=o.v[1]||[],L=o.v[2]||[];if(d==="br")return a+="<br>";switch(d){case"select":a=Bc(A,a)+"} ";break;case"font_face":a=Hc(A,a);break;case"keyframes":a=qc(A,L,a);break;default:a+=\`<\${d}\`,A.forEach((E,S)=>{if(S===0&&E.id==="str")a+=\` id='\${E.v.v[1]}'\`;else if(E.id==="named_arg"){const k=E.v[0].v[1];if(Ou.includes(k))a+=\` \${k} \`;else if(a+=\` \${k}= \`,E.v[1].id==="str")a+=\`'\${E.v[1].v.v[1]}'\`;else if(E.v[1].id==="int"||E.v[1].id==="float"){const p=E.v[1].v[0].v[1],h=E.v[1].v[1].v[1]||"";a+=\`\${p}\${h}\`}else E.v[1].id==="bool"?a+=\`\${k}\`:ee("not supported: "+ue(E))}else ee("not supported: "+ue(E))}),a+=">",L.forEach(E=>{a=Ru(E,a)}),a+=\`</\${d}>\`}break;case"str":a+=o.v.v[1];break;default:ee("unknown html element: "+ue(o))}return a}function Bc(o,a){return o.forEach(d=>{const A=kn(d.v[0].v[1]),L=d.v[1];A==="element"?(a=zc(L,a),a+=" {"):(a+=\`\${A} : \`,a=wn(L,a),a+="; ")}),a}function zc(o,a){return sa(o.v)?(a+=" ",o.v.forEach((d,A)=>{a+=\`\${d.v.v[1]} \`,A<o.v.length-1&&(a+=",")})):a+=\` \${o.v.v[1]}\`,a}function wn(o,a){switch(o.id){case"int":case"float":const d=o.v[0].v[1],A=o.v[1]&&o.v[1].v[1]||"";a+=d+A;break;case"prefix":a+=o.v.op.v,a=wn(o.v.opr,a);break;case"postfix":a=wn(o.v.opr,a),a+=o.v.op.v;break;case"str":a+=o.v.v[1];break;case"ref":a+=kn(o.v.v[1]);break;case"tuple":o.v.forEach(p=>{a=wn(p,a+" ")});break;case"call":const L=o.v[0].v.v[1],E=o.v[1];a+=\` \${L}(\`,E.forEach(p=>{a=wn(p,a)}),a+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(o);const k=S.get_code();pprint(k),a+="\${"+k+"}".trim();break;default:ee(\`not supported: html generations:  \${ue(o)}\`)}return a}function Hc(o,a){return a+="@font-face { ",a=write_ar_css(o,a),a+="}",a}function qc(o,a,d){return d+=\` @keyframes \${o[0].v.v[1]} { \`,a&&a.forEach(A=>{const L=A.v[0].v.v[1],E=A.v[1];switch(L){case"at":const S=E[0],k=E[1].v||[];d=wn(S,d),d+=" {",k.forEach(p=>{if(p.id==="named_tuple")p.v.forEach(h=>{const l=kn(h[0].v[1]),f=h[1];d+=\` \${l} : \`,d=wn(f,d),d+="; "});else{const h=kn(p[0].v[1]),l=p[1];d+=\` \${h} : \`,d=wn(l,d),d+="; "}}),d+="} ";break;default:ee("unsupported element: "+ue(L))}}),d+="}",d}const Qs={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},mu=o=>{switch(o){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return o}},bu={حوم:"hover"},jc=o=>{switch(o){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return o}},Fu=o=>{switch(o){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return o}},Zs=o=>{switch(o){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return o}},Wr=o=>{switch(o){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return o}},Uc=o=>{switch(o){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return o}};function Du(o,a){switch(o.id){case"call":const d=o.v[0].v.v[1],A=Qs[d]||d,L=o.v[1]||[],E=o.v[2]||[];if(A==="br")return a+="<br>";switch(A){case"اختر":a=Mu(L,a)+"} ";break;case"عرف_خط":a=Gc(L,a);break;case"اطارات_رئيسية":a=Xc(L,E,a);break;default:a+=\`<\${A}\`,Fc.includes(A)&&(a+=" dir='rtl'"),L.forEach((S,k)=>{if(k===0&&S.id==="str")a+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const p=mu(S.v[0].v[1]);if(Ou.includes(p))a+=\` \${p} \`;else if(a+=\` \${p}= \`,S.v[1].id==="str")a+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const h=Br(S.v[1].v[0].v[1]),l=S.v[1].v[1]&&Fu(S.v[1].v[1].v[1])||"";a+=\`\${h}\${l}\`}else S.v[1].id==="bool"?a+=\`\${mu(p)}\`:ee("not supported: "+ue(S))}else ee("not supported: "+ue(S))}),a+=">",E.forEach(S=>{a=Du(S,a)}),a+=\`</\${A}>\`}break;case"str":a+=o.v.v[1];break;default:ee("unknown html element: "+ue(o))}return a}function Mu(o,a){return o.forEach(d=>{const A=kn(Zs(d.v[0].v[1])),L=d.v[1];A==="element"?(a=Kc(L,a),a+=" {"):(a+=\`\${A} : \`,a=xn(L,a),a+="; ")}),a}function Kc(o,a){const d=A=>{const L=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Qs).forEach(E=>{A=A.replaceAll(L(E),Qs[E])}),Object.keys(bu).forEach(E=>{A=A.replaceAll(L(E),bu[E])}),A};if(sa(o.v))a+=" ",o.v.forEach((A,L)=>{let E=A.v.v[1];a+=d(E),L<o.v.length-1&&(a+=",")});else{const A=o.v.v[1];a+=d(A)}return a}function xn(o,a){switch(o.id){case"bool":ee();break;case"int":case"float":const d=Br(o.v[0].v[1]),A=Fu(o.v[1]&&o.v[1].v[1])||"";a+=d+A;break;case"prefix":a+=o.v.op.v,a=xn(o.v.opr,a);break;case"postfix":a=xn(o.v.opr,a),a+=o.v.op.v;break;case"str":a+=Uc(o.v.v[1]);break;case"ref":a+=kn(Wr(o.v.v[1]));break;case"tuple":o.v.forEach(p=>{a=xn(p,a+" ")});break;case"call":const L=jc(o.v[0].v.v[1]),E=o.v[1];a+=\` \${L}(\`,E.forEach(p=>{a=xn(p,a)}),a+=")";break;case"bin":const S=new Pu;S.init(),S.write_expr(o);const k=S.get_code();a+="\${"+k+"}".trim();break;default:ee(\`not supported: html generations:  \${ue(o)}\`)}return a}function Gc(o,a){return a+="@font-face { ",a=Mu(o,a),a+="}",a}function Xc(o,a,d){return d+=\` @keyframes \${o[0].v.v[1]} { \`,a&&a.forEach(A=>{const L=A.v[0].v.v[1],E=Wr(A.v[1]);switch(L){case"عند":const S=E[0],k=E[1].v||[];d=xn(S,d),d+=" {",k.forEach(p=>{if(p.id==="named_tuple")p.v.forEach(h=>{const l=kn(Zs(h[0].v[1])),f=Wr(h[1]);d+=\` \${l} : \`,d=xn(f,d),d+="; "});else{const h=kn(Zs(p[0].v[1])),l=Wr(p[1]);d+=\` \${h} : \`,d=xn(l,d),d+="; "}}),d+="} ";break;default:ee("unsupported element: "+ue(L))}}),d+="}",d}const yu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},\$c=4;let Pu=class{current;indent_level;stack;astructs;ast;main_args;opts;constructor(o,a,d,A,L,E){return this.current=o,this.indent_level=a,this.stack=d,this.astructs=A,this.ast=L,this.opts=E,this}init(o,a,d){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=o,this.main_args=a,this.opts=d}run(){this.strict_mode();let o,a=0;for(;a<this.ast.length;){const d=this.ast[a];if(d){const A=d.v;switch(d.id){case"use":this.write_use(A);break;case"modif":this.write_modifier(A);break;case"main":o=A;break;case"const":this.write_const(A);break;case"fn":this.write_fn(A);break;case"type":this.write_typedef(A);break;default:ee("unsupported node: "+this.ast[a].id)}}a+=1}return this.write_helper_fns(),o&&this.write_main(o),this.get_code()}to_en_id(o){!o.v&&!sa(o.v)||yu[o.v[1]]&&(o.v[1]=yu[o.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(o){this.current+=o}appendi(o){this.current+=this.spaces(),this.current+=o}spaces(o){return o||(o=this.indent_level),Mc(" ",o*\$c)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(o){const a=o.v.v[1];this.append(a==="_"?"default":a)}write_char_pat(o){this.append("'"+o.v.v[1]+"'")}write_str_pat(o){this.append('"'+o.v.v[1]+'"')}write_tuple_pat(o){this.append("(");let a=0;for(;a<o.v.length;)this.write_pat(o.v[a]),a<o.v.length-1&&this.append(", "),a+=1;this.append(")")}write_pat(o){switch(o.id){case"id":this.write_id_pat(o);break;case"bool":this.append(o.v.v[1]);break;case"int":case"float":this.append(Br(o.v.v[1][0]));break;case"char":this.write_char_pat(o);break;case"str":this.write_str_pat(o);break;case"tuple":this.write_tuple_pat(o);break;case"_":this.append("default");break;default:ee("unsupported pattern "+ue(o))}}write_modifier(o){this.opts.ignore_export||o.v==="+"&&this.appendi("export ")}write_use(o){}write_main(o){this.push(),this.appendi("("),this.write_fn(o,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(o){this.append("(");let a=0;for(;a<o.length;)a>0&&this.append(", "),this.write_pat(o[a].v._pat),a+=1;this.append(")")}write_do_block(o){this.append("(()=>"),this.write_block(o),this.append(\`)() 
\`)}write_block(o){this.append(\` {
\`),this.push(),this.indent_level+=1;let a=0;const d=o.v.length;for(;a<d;){const A=o.v[a];this.write_stmt(A),a+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(o,a){this.push(),o.t==="fn"&&this.appendi("static "),this.to_en_id(o.name),this.append("function "+o.name.v[1]),a?this.append("()"):this.write_params(o.params),this.write_body(o.body,o.name==="main",a),this.pop()}write_fields(o){const a=[];o.forEach(d=>{const A=d.v[0].v[1];a.push(A)}),a.forEach(d=>{this.appendi(this.spaces()+""+d+\`
\`)}),this.write_init(a)}write_init(o){this.append(\`
\`),this.appendi("constructor(");let a=0;for(;a<o.length;)this.append(o[a]),a<o.length-1&&this.append(", "),a+=1;for(this.append(\`) {
\`),this.indent_level+=1,a=0;a<o.length;)this.appendi("this."+o[a]+" = "+o[a]+\`
\`),a+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(o){this.appendi("class "+o.name.v[1]+\` {
\`),this.indent_level+=1,o.fields&&this.write_fields(o.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(o){this.appendi("const "),this.write_pat(o.lhs),this.append(" = "),this.write_expr(o.rhs),this.append(\`
\`)}write_var(o){this.appendi("let "),this.write_pat(o.lhs),o.rhs&&(this.append(" = "),this.write_expr(o.rhs)),this.append(\`
\`)}write_ret(o){this.append("return "),o.v&&this.write_expr(o.v)}write_break(o){this.append("break")}write_stmt(o){o.t==="expr"?(this.appendi(""),this.write_expr(o),this.append(\`
\`)):o.id==="const"?this.write_const(o.v):o.id==="var"?this.write_var(o.v):o.id==="break"?this.write_break(o):ee("cannot write stmt: "+ue(o))}write_body(o,a,d){if(this.append(\` {
\`),this.push(),this.indent_level+=1,d)for(const[E,S]of Object.entries(d))this.append(\`const \${E} = '\${S}'
\`);let A=0;const L=o.v.length;for(;A<L;){const E=o.v[A];this.write_stmt(E),A+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(o){this.append(o.v[1])}write_ref(o){const a=o.v.v[1];this.append(a)}write_str(o){const a=o.v.v[1],d=a.indexOf("\${")===-1?'"':"\`";this.append(d+a+d)}write_str_id(o){this.append(symbol+o.v.v[1]+symbol)}is_call(o){return o.v.id==="bin"&&o.v.v.op.v==="("}write_iret(o){Nu(["when","while","if","for","return"],o.v.node)||o.v.t==="()"||this.is_call(o)||o.semicolon||this.append("return "),this.is_call(o)?(this.append("const temp_seen_var = "),this.write_expr(o.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(o.v)}write_list(o){this.append("[");let a=0;const d=o.v.length;for(;a<d;)this.write_expr(o.v[a]),a<o.v.length-1&&this.append(", "),a+=1;this.append("]")}write_structl(o){const a=o.v;this.append("{");let d=0;for(;d<a.length;){const A=a[d],L=A.k;L.v.v[1]?this.write_id(L.v):this.write_str_id(L.v);const E=A.v;this.append(": "),this.write_expr(E),d<a.length-1&&this.append(", "),d+=1}this.append("}")}write_args(o){this.append("(");let a=0;for(;a<o.v.length;){let d=o.v[a];d.v.op&&d.v.op.v===":"&&(d=d.v.ropr),this.write_expr(d),a<o.v.length-1&&this.append(", "),a+=1}this.append(")")}write_named_arg(o){o.v[0].v[1];const a=o.v[1];this.write_expr(a)}write_tuple(o){this.append("[");let a=0;for(;a<o.v.length;){let d=o.v[a];d.id==="narg"&&(d=o.v[a].v[1]),this.write_expr(d),a<o.v.length-1&&this.append(", "),a+=1}this.append("]")}write_named_tuple(o){this.append("{"),o.v.forEach((a,d)=>{const A=a[0].v[1],L=a[1];this.append(A),this.append(": "),this.write_expr(L),d<o.v.length&&this.append(",")}),this.append("}")}write_when(o){this.appendi("switch("),this.write_expr(o.v.expr),this.append(\`) {
\`),this.indent_level+=1;let a=0;for(;a<o.v.arms.length;){const d=o.v.arms[a],A=d.v.pats,L=d.v.expr;let E=0;for(;E<A.length;)A[E].id!=="_"&&this.appendi("case "),this.write_pat(A[E]),this.append(\` :
\`),E+=1;this.indent_level+=1,this.appendi(""),this.write_expr(L),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,a+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(o){const a=o.v.op.v;switch(a){case".":if(o.v.opr.v.v[1]==="none"){this.append("null");return}else ee("enum variants are not supported, found : (."+o.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(a);break;default:ee("unsupported op: "+a);break}this.write_expr(o.v.opr)}write_pipe(o){for(;o.length>0;){let a=o.pop();switch(a.id){case"ref":this.write_expr(a),o.length>0&&(this.append("("),this.write_pipe(o),this.append(")"));break;case"call":const d=a.v[0],A=a.v[1];this.write_expr(d),this.append("("),this.write_pipe(o),this.current.slice(-1)!=="("&&A.length>0&&this.append(", "),A.forEach((L,E)=>{this.write_expr(L),E<A.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(a);break;default:throw new Error("syntax error |> :"+ue(a))}}}write_call(o){if(this.to_en_id(o.v[0].v),o.v[0].v.v[1]==="html"){const d=Ru(o,"");this.append(\` (() => \\\`\${d}\\\`)() \`);return}else if(o.v[0].v.v[1]==="صفحة_الشبكة"){const d=Du(o,"");this.append(\`(() => \\\`\${d}\\\`)()\`);return}else Wc.includes(o.v[0].v.v[1])&&this.append("new ");this.write_expr(o.v[0]),this.append("(");const a=o.v[1];a&&a.forEach((d,A)=>{this.write_expr(d),A<a.length-1&&this.append(", ")}),o.v[2]&&(a&&this.append(", "),this.write_children(o.v[2])),this.append(")")}write_children(o){!o||o.length===0||(this.append("["),o.forEach(a=>{this.write_expr(a),this.append(",")}),this.append("]"))}write_bin(o){const a=o.v.op.v;switch(a){case"[":this.write_expr(o.v.lopr),this.append("["),this.write_expr(o.v.ropr),this.append("]");break;case"=":this.write_expr(o.v.lopr),this.append("="),this.write_expr(o.v.ropr);break;case":=":this.append("let "),this.write_expr(o.v.lopr),this.append(" = "),this.write_expr(o.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(o.v.lopr),this.append(" = "),this.write_expr(o.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(o.v.lopr),this.append(\`
\`);break;case"|>":{let d=[],A=o.v.lopr,L=o.v.ropr;for(;;)if(d.push(A),L.id==="bin"&&L.v.op.v==="|>")A=L.v.lopr,L=L.v.ropr;else{d.push(L);break}this.write_pipe(d);break}case"||>":throw new Error(" ||> : WIP , "+ue(o));case":>":throw new Error(" :> : WIP , "+ue(o));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(o.v.lopr),this.append(a),(a==="=="||a==="!=")&&this.append("="),this.write_expr(o.v.ropr);break;default:ee("cannot write binary operation: "+ue(o));break}}write_afn(o){this.push(),this.write_params(o.v.params),this.append("=>"),this.write_body(o.v.body),this.pop()}write_expr(o){switch(o.grouped&&this.append("("),o.id){case"()":break;case";":break;case"ref":this.write_ref(o);break;case"bool":this.append(o.v.v[1]);break;case"int":case"float":this.append(Br(o.v[0].v[1]));break;case"char":this.append("'"+o.v.v[1]+"'");break;case"str":this.write_str(o);break;case"return":this.write_ret(o);break;case"iret":this.write_iret(o);break;case"[":this.write_list(o);break;case"{":this.write_structl(o);break;case"args":this.write_args(o);break;case"named_arg":this.write_named_arg(o);break;case"tuple":this.write_tuple(o);break;case"named_tuple":this.write_named_tuple(o);break;case"when":this.write_when(o);break;case"do_block":this.write_do_block(o);break;case"block":this.write_block(o);break;case"prefix":this.write_prefix_uni(o);break;case"call":this.write_call(o);break;case"bin":this.write_bin(o);break;case"afn":this.write_afn(o);break;default:ee("cannot write expr: "+ue(o))}o.grouped&&this.append(")")}write_helper_fns(){this.append(Ic)}get_code(){return this.current}};class Yc{ast;main_args;target;target_opts;init(a,d,A,L){this.ast=a,this.main_args=d,this.target=A,this.target_opts=L}run(){let a;switch(fc(this.target)){case"js":a=new Pu;break;default:St('target "'+this.target+'" is not supported');break}return a.init(this.ast,this.main_args,this.target_opts),a.run()}}class Qc{src;main_args;target;target_opts;lang;tokens;ast;gen_code;constructor(a,d,A,L,E,S,k,p,h,l){return this.src=a,this.main_args=d,this.target=A,this.target_opts=L,this.lang=E,this.tokens=S,this.ast=k,this.symtab=p,this.transltab=h,this.gen_code=l,this}init(a,d,A,L){this.src=a,this.main_args=d,this.target="js",this.target_opts=L||{},this.lang=A||"en"}init_ar(a,d,A){this.init(a,d,"ar",A)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(a){const d=new vc;d.init(this.lang,this.src,a),d.run(),this.tokens=d.tokens,Ys(d.errs)||(cu(d.errs),St(""))}parse(){const a=new Nc;a.init(this.tokens),a.run(),this.ast=a.ast,Ys(a.errs)||(cu(a.errs),St(""))}generate(a){const d=new Yc;d.init(this.ast,this.main_args,a,this.target_opts),this.gen_code=d.run()}}const wu="panda-syntax",Zc="ttcn_modified",Jc=["mode","lang","theme","statusbar"],Vc={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},tf={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,xu=zr.mode||"code";let li;switch(xu){case"code":li=Vc;break;case"editor":li=tf;break;default:throw new Error("invalid mode! : "+xu)}let ef=new URLSearchParams(window.location.search).get("lang"),Js=ef||zr.lang;Object.keys(zr).forEach(o=>{if(!Jc.includes(o))throw new Error("invalid option: "+o);li[o]=zr[o]});window.console.log=o=>\$i(o);window.console.error=o=>{of(),\$i(o.message,ku)};const ku="rgb(217 83 77)",nf="rgb(108 141 211)",rf={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},sf={"Ctrl-9":o=>o.foldCode(o.getCursor()),Tab:()=>vf(),"Shift-Tab":()=>mf(),"Ctrl-'":()=>{gf("«»")},"Ctrl-0":()=>{ha()},"Ctrl-=":()=>{Hu()},"Ctrl--":()=>{qu()}},Wu=["findCtrl"],Su=document.querySelector("#eval"),Iu=document.querySelector("#preview_area"),af=new MutationObserver((o,a)=>{Vs?Vs=!1:kf()});af.observe(Iu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Js),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ca(Hr(Js)),extraKeys:{...sf},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Wu}),Wn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ca("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Wu});Wn.setSize(460);let Ir={},Bu,aa,hi,an,Gs,Vs;function of(){return!!navigator.userAgentData}function Hr(o){return o==="ar"?"rtl":"ltr"}const Eu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await uf(Js);await Lf();async function uf(o){Bu=o==="ar_m",aa=o.startsWith("ar");let a=o.startsWith("ar")?"ar":"en";hi=14,an=a,Gs="",Vs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await ff(a),document.querySelector("#left_side_label").innerText=an==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=an==="ar"?"العرض الأولي":"Preview",ua(hi),_f(a),df(a),uc(ac,a),lc(oc,a),wf(a),Yt.setValue(a==="ar"?Eu.ar:Eu.en),Yt.clearHistory(),pf(a),zu(1,1),Gs&&openProj(Gs),await oa(li.theme),lf()&&cf(),li.statusbar||hf(),document.querySelector("body").style.visibility="visible"}function lf(){return li.mode==="code"}function hf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function cf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function ff(o){an=o}async function _f(o,a){o==="ar"?(a=a===void 0?"محرر س":a,document.title=a):(a=a===void 0?"Seen Editor":a,document.title=a)}async function pf(o){o==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function df(o){let a=Hr(o);Yt.setOption("direction",a),document.querySelector("html").setAttribute("dir",a),document.querySelector("#container").setAttribute("dir",a),document.querySelector("#editor_output").setAttribute("dir",a),document.querySelector("#preview").setAttribute("dir",a),document.querySelector("#preview_area").setAttribute("dir",a),document.querySelector("#output").setAttribute("dir",a),document.querySelector("#status_bar").setAttribute("dir",a),document.querySelector("#status_bar").style.textAlign=a==="rtl"?"left":"right"}function zu(o,a){document.querySelector("#status_bar").textContent=an==="ar"?\`سطر \${Xs(o)}, عمودي \${Xs(a)}\`:\`Ln \${o}, Col \${a}\`}function gf(o){let a=o;if(aa){const d=Yt.doc.getCursor(),A=d.line;Yt.doc.replaceRange(a,d),Yt.doc.setCursor(A,d.ch+a.length)}else return CodeMirror.Pass}function vf(){if(Yt.somethingSelected()){var o=Yt.getSelection(\`
\`);if(o.length>0&&(o.indexOf(\`
\`)>-1||o.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var a=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(a)}function mf(){Yt.indentSelection("subtract")}function Hu(){hi++,ua(hi)}function qu(){hi--,ua(hi)}async function bf(){let o=document.querySelector("#theme"),a=o.options[o.selectedIndex].value;await oa(a)}async function oa(o){o==="dark"?(o=wu,document.querySelector("#theme").value=wu):o==="light"&&(o=Zc,document.querySelector("#theme").value="ttcn");const a=(A,L)=>{[...A.classList].forEach(E=>{E.startsWith("cm-s")&&A.classList.remove(E)}),L.split(" ").forEach(E=>{A.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",o),Wn.setOption("theme",o),a(document.querySelector("#wrapper"),o),a(document.querySelector("#editor_output"),o),a(document.querySelector("#output"),o),yf();const d=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${d}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function yf(){const o=document.querySelector("#status_bar"),a=window.getComputedStyle(document.querySelector("#output"));o.style.fontSize=a.getPropertyValue("font-size"),o.style.color=a.getPropertyValue("color"),o.style.backgroundColor=a.getPropertyValue("background-color")}function ua(o){let a=document.querySelectorAll(".CodeMirror");a=[...a,...document.querySelectorAll("button")],a.push(document.querySelector("#status_bar")),a.forEach(d=>{d.style.fontSize=\`\${o}px\`})}function wf(o){const a=o==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",a)}function xf(){document.querySelector("#right_side").style.display="flex"}function la(){document.querySelector("#right_side").style.display="none"}function kf(){document.querySelector("#preview").style.display="flex"}function jr(){document.querySelector("#preview").style.display="none"}function ju(){output.replaceChildren()}function Sf(o){Su.replaceChildren();const a=document.createElement("iframe");Su.appendChild(a),a.contentWindow;const d=a.contentDocument||a.contentWindow.document,A=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${o}<\\/script>
      </head>
      <body>
      </body>\`;d.open(),d.write(A),d.close()}async function ha(){la(),jr(),ju();try{let o=await Uu();Sf(o.get_code());const a=an==="ar"?"انتهى":"End";\$i(\`
\`),\$i(\`--- \${a} ---
\`,nf)}catch(o){console.error(o)}}async function Ef(){la(),Wn.setValue("")}async function Tf(){jr(),Iu.replaceChildren()}async function Cf(){jr(),xf(),await Uu()}async function Uu(){let o=Yt.getValue(),a=new Qc,d={ignore_export:!0};const A={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};a.init(o,A,an,d),a.compile(),document.querySelector("#right_side_label").innerText=an==="ar"?"نص البرنامج":"Code";let L=js_beautify(a.gen_code,rf);return Wn.setOption("mode","javascript"),Wn.setOption("direction","ltr"),Wn.setOption("lineNumberFormatter",ca("ltr")),Wn.setValue(L),a}async function Af(){document.querySelector("#output").innerHTML=""}async function Lf(){document.querySelector("body").addEventListener("keydown",o=>Of(o)),document.querySelector("body").addEventListener("keyup",o=>{Ir[o.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>bf()),document.querySelector("#run").addEventListener("click",()=>ha()),document.querySelector("#srccode").addEventListener("click",()=>Cf()),document.querySelector("#right_side_close").addEventListener("click",()=>Ef()),document.querySelector("#preview_close").addEventListener("click",()=>Tf()),document.querySelector("#clear").addEventListener("click",()=>Af()),Yt.on("cursorActivity",o=>{let{line:a,ch:d}=Yt.getCursor();a+=1,d+=1,zu(a,d)})}function ca(o){return o==="rtl"?a=>Xs(a):a=>a}function Of(o){Ir[o.key]=!0;let a="";switch(Object.entries(Ir).forEach(([d,A])=>{Ir[d]&&(a+=d)}),a.toLowerCase()){case"0control":case"control0":ha();break;case"-control":case"control-":Hu();break;case"=control":case"control=":qu();break}}function Nf(o){var a=document.querySelector("#output");a.appendChild(o),a.scrollTop=a.scrollHeight}function \$i(o,a){o===""&&console.log(\`
\`),aa&&(o&&(o=Rf(o)),Bu||o&&(o=Ff(o)));const d=document.createElement("p");d.textContent=o,d.setAttribute("dir",Hr(an)),d.style.whiteSpace="pre-wrap",a&&(d.style.color=a),Nf(d)}function Rf(o){const a=/["'](.*?)["']/gi;return o.toString().replace(a,(d,A)=>d?\`«\${A}»\`:o)}function Ff(o){function a(A){let L="",E=0;for(;E<A.length;){switch(A[E]){case"0":L+="٠";break;case"1":L+="١";break;case"2":L+="٢";break;case"3":L+="٣";break;case"4":L+="٤";break;case"5":L+="٥";break;case"6":L+="٦";break;case"7":L+="٧";break;case"8":L+="٨";break;case"9":L+="٩";break;case".":L+="٫";break;default:Df()}E+=1}return L}const d=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return o=o.replace(d,(A,L,E,S)=>{if(A){let k=\`\${a(L)}\`;return E&&(k+=",",S&&(k+=\`\${a(S)}\`)),k}else return o}),o}function Df(o){throw new Error(o)}function Mf(o){Yt.setValue(o)}window.setEditorValue=Mf;window.hideRightSide=la;window.hidePreview=jr;window.resetOutput=ju;window.setTheme=oa;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }

              export function SeenCode(id, parent, opts) { 
                opts.mode = 'code'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(o,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(o=o||self,o.CodeMirror=a())})(void 0,function(){var o=navigator.userAgent,a=navigator.platform,d=/gecko\\/\\d/i.test(o),A=/MSIE \\d/.test(o),L=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(o),E=/Edge\\/(\\d+)/.exec(o),S=A||L||E,k=S&&(A?document.documentMode||6:+(E||L)[1]),p=!E&&/WebKit\\//.test(o),h=p&&/Qt\\/\\d+\\.\\d+/.test(o),l=!E&&/Chrome\\/(\\d+)/.exec(o),f=l&&+l[1],b=/Opera\\//.test(o),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(o),g=/PhantomJS/.test(o),y=F&&(/Mobile\\/\\w+/.test(o)||navigator.maxTouchPoints>2),W=/Android/.test(o),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),z=y||/Mac/.test(a),H=/\\bCrOS\\b/.test(o),U=/win/i.test(a),Z=b&&o.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,p=!0);var ot=z&&(h||b&&(Z==null||Z<12.11)),rt=d||S&&k>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function x(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return x(t).appendChild(e)}function C(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var s=0;s<e.length;++s)r.appendChild(e[s]);return r}function Q(t,e,i,n){var r=C(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function T(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var s=n||0,u=r||0;;){var c=t.indexOf("	",s);if(c<0||c>=e)return u+(e-s);u+=c-s,u+=i-u%i,s=c+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function vt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ne=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ce={origin:"*mouse"},ke={origin:"+move"};function Se(t,e,i){for(var n=0,r=0;;){var s=t.indexOf("	",n);s==-1&&(s=t.length);var u=s-n;if(s==t.length||r+u>=e)return n+Math.min(u,e-r);if(r+=s-n,r+=i-r%i,n=s+1,r>=e)return n}}var _e=[""];function It(t){for(;_e.length<=t;)_e.push(mt(_e)+" ");return _e[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function on(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function ci(){}function Yi(t,e){var i;return Object.create?i=Object.create(t):(ci.prototype=t,i=new ci),e&&ft(e,i),i}var Ur=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function fi(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ur.test(t))}function In(t,e){return e?e.source.indexOf("\\\\w")>-1&&fi(t)?!0:e.test(t):fi(t)}function Qi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Bn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function _i(t){return t.charCodeAt(0)>=768&&Bn.test(t)}function We(t,e,i){for(;(i<0?e>0:e<t.length)&&_i(t.charAt(e));)e+=i;return e}function Bt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,s=n<0?Math.ceil(r):Math.floor(r);if(s==e)return t(s)?e:i;t(s)?i=s:e=s+n}}function Sn(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,s=0;s<t.length;++s){var u=t[s];(u.from<i&&u.to>e||e==i&&u.to==e)&&(n(Math.max(u.from,e),Math.min(u.to,i),u.level==1?"rtl":"ltr",s),r=!0)}r||n(e,i,"ltr")}var Ie=null;function Ae(t,e,i){var n;Ie=null;for(var r=0;r<t.length;++r){var s=t[r];if(s.from<e&&s.to>e)return r;s.to==e&&(s.from!=s.to&&i=="before"?n=r:Ie=r),s.from==e&&(s.from!=s.to&&i!="before"?n=r:Ie=r)}return n??Ie}var Kr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,s=/[LRr]/,u=/[Lb1n]/,c=/[1n]/;function _(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":s.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var xe=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",ve=Dt;ve<Wt;++ve)q[ve]=xe;Dt=Wt-1}}for(var Ut=0,me=M;Ut<j;++Ut){var ie=q[Ut];me=="L"&&ie=="1"?q[Ut]="L":s.test(ie)&&(me=ie)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",be=(Kt<j?q[Kt]:M)=="L",ai=qt==be?qt?"L":"R":M,yn=\$t;yn<Kt;++yn)q[yn]=ai;\$t=Kt-1}for(var oe=[],Ke,te=0;te<j;)if(u.test(q[te])){var Bs=te;for(++te;te<j&&u.test(q[te]);++te);oe.push(new _(0,Bs,te))}else{var nn=te,Dn=oe.length,Mn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var fe=nn;fe<te;)if(c.test(q[fe])){nn<fe&&(oe.splice(Dn,0,new _(1,nn,fe)),Dn+=Mn);var oi=fe;for(++fe;fe<te&&c.test(q[fe]);++fe);oe.splice(Dn,0,new _(2,oi,fe)),Dn+=Mn,nn=fe}else++fe;nn<te&&oe.splice(Dn,0,new _(1,nn,te))}return N=="ltr"&&(oe[0].level==1&&(Ke=m.match(/^\\s+/))&&(oe[0].from=Ke[0].length,oe.unshift(new _(0,0,Ke[0].length))),mt(oe).level==1&&(Ke=m.match(/\\s+\$/))&&(mt(oe).to-=Ke[0].length,oe.push(new _(0,j-Ke[0].length,j)))),N=="rtl"?oe.reverse():oe}}();function Le(t,e){var i=t.order;return i==null&&(i=t.order=Kr(t.text,e)),i}var Zi=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Zi).concat(i)}};function pi(t,e){return t._handlers&&t._handlers[e]||Zi}function re(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var s=vt(r,i);s>-1&&(n[e]=r.slice(0,s).concat(r.slice(s+1)))}}}function Mt(t,e){var i=pi(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function zt(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,i||e.type,t,e),di(e)||e.codemirrorIgnore}function Ji(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)vt(i,e[n])==-1&&i.push(e[n])}function le(t,e){return pi(t,e).length>0}function he(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){re(this,e,i)}}function se(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function En(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function di(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){se(t),En(t)}function pe(t){return t.target||t.srcElement}function gi(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var Gr=function(){if(S&&k<9)return!1;var t=C("div");return"draggable"in t||"dragDrop"in t}(),Oe;function Xr(t){if(Oe==null){var e=C("span","​");K(t,C("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Oe=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&k<8))}var i=Oe?C("span","​"):C("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var zn;function Vi(t){if(zn!=null)return zn;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return x(t),!i||i.left==i.right?!1:zn=n.right-i.right<3}var vi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var s=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),u=s.indexOf("\\r");u!=-1?(i.push(s.slice(0,u)),e+=u+1):(i.push(s),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},un=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Be=function(){var t=C("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),ze=null;function tr(t){if(ze!=null)return ze;var e=K(t,C("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return ze=Math.abs(i.left-n.left)>1}var Re={},ln={};function er(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Re[t]=e}function Hn(t,e){ln[t]=e}function ye(t){if(typeof t=="string"&&ln.hasOwnProperty(t))t=ln[t];else if(t&&typeof t.name=="string"&&ln.hasOwnProperty(t.name)){var e=ln[t.name];typeof e=="string"&&(e={name:e}),t=Yi(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return ye("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return ye("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=ye(e);var i=Re[e.name];if(!i)return \$e(t,"text/plain");var n=i(t,e);if(hn.hasOwnProperty(e.name)){var r=hn[e.name];for(var s in r)r.hasOwnProperty(s)&&(n.hasOwnProperty(s)&&(n["_"+s]=n[s]),n[s]=r[s])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var u in e.modeProps)n[u]=e.modeProps[u];return n}var hn={};function nr(t,e){var i=hn.hasOwnProperty(t)?hn[t]:hn[t]={};ft(e,i)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function cn(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function mi(t,e,i){return t.startState?t.startState(e,i):!0}var Ht=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(u){return i?u.toLowerCase():u},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var s=this.string.slice(this.pos).match(t);return s&&s.index>0?null:(s&&e!==!1&&(this.pos+=s[0].length),s)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],s=r.chunkSize();if(e<s){i=r;break}e-=s}return i.lines[e]}function Qe(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(s){var u=s.text;r==i.line&&(u=u.slice(0,i.ch)),r==e.line&&(u=u.slice(e.ch)),n.push(u),++r}),n}function qn(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Ne(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,i=vt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function He(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],s=r.height;if(e<s){t=r;continue t}e-=s,i+=r.chunkSize()}return i}while(!t.lines);for(var u=0;u<t.lines.length;++u){var c=t.lines[u],_=c.height;if(e<_)break;e-=_}return i+u}function w(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,i){if(i===void 0&&(i=null),!(this instanceof B))return new B(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function Ee(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var i=t.first+t.size-1;return e.line>i?B(i,ct(t,i).text.length):Ku(e,ct(t,e.line).text.length)}function Ku(t,e){var i=t.ch;return i==null||i>e?B(t.line,e):i<0?B(t.line,0):t}function fa(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=yt(t,e[n]);return i}var ir=function(t,e){this.state=t,this.lookAhead=e},qe=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};qe.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},qe.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},qe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},qe.fromSaved=function(t,e,i){return e instanceof ir?new qe(t,Ye(t.mode,e.state),i,e.lookAhead):new qe(t,Ye(t.mode,e),i)},qe.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ir(e,this.maxLookAhead):e};function _a(t,e,i,n){var r=[t.state.modeGen],s={};ba(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},s,n);for(var u=i.state,c=function(m){i.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;i.state=!0,ba(t,e.text,N.mode,i,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},s),i.state=u,i.baseTokens=null,i.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)c(_);return{styles:r,classes:s.bgClass||s.textClass?s:null}}function pa(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=bi(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,n.state),s=_a(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=s.styles,s.classes?e.styleClasses=s.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function bi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new qe(n,!0,e);var s=Gu(t,e,i),u=s>n.first&&ct(n,s-1).stateAfter,c=u?qe.fromSaved(n,u,s):new qe(n,mi(n.mode),s);return n.iter(s,e,function(_){\$r(t,_.text,c);var m=c.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?c.save():null,c.nextLine()}),i&&(n.modeFrontier=c.line),c}function \$r(t,e,i,n){var r=t.doc.mode,s=new Ht(e,t.options.tabSize,i);for(s.start=s.pos=n||0,e==""&&da(r,i.state);!s.eol();)Yr(r,s,i.state),s.start=s.pos}function da(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=cn(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function Yr(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=cn(t,i).mode);var s=t.token(e,i);if(e.pos>e.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}var ga=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function va(t,e,i,n){var r=t.doc,s=r.mode,u;e=yt(r,e);var c=ct(r,e.line),_=bi(t,e.line,i),m=new Ht(c.text,t.options.tabSize,_),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,u=Yr(s,m,_.state),n&&N.push(new ga(m,u,Ye(r.mode,_.state)));return n?N:new ga(m,u,_.state)}function ma(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ba(t,e,i,n,r,s,u){var c=i.flattenSpans;c==null&&(c=t.options.flattenSpans);var _=0,m=null,N=new Ht(e,t.options.tabSize,n),M,j=t.options.addModeClass&&[null];for(e==""&&ma(da(i,n.state),s);!N.eol();){if(N.pos>t.options.maxHighlightLength?(c=!1,u&&\$r(t,e,n,N.pos),N.pos=e.length,M=null):M=ma(Yr(i,N,n.state,j),s),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!c||m!=M){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=M}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function Gu(t,e,i){for(var n,r,s=t.doc,u=i?-1:e-(t.doc.mode.innerMode?1e3:100),c=e;c>u;--c){if(c<=s.first)return s.first;var _=ct(s,c-1),m=_.stateAfter;if(m&&(!i||c+(m instanceof ir?m.lookAhead:0)<=s.modeFrontier))return c;var N=at(_.text,null,t.options.tabSize);(r==null||n>N)&&(r=c-1,n=N)}return r}function Xu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof ir)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var ya=!1,Ze=!1;function \$u(){ya=!0}function Yu(){Ze=!0}function rr(t,e,i){this.marker=t,this.from=e,this.to=i}function yi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Qu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function Zu(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function Ju(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var s=t[r],u=s.marker,c=s.from==null||(u.inclusiveLeft?s.from<=e:s.from<e);if(c||s.from==e&&u.type=="bookmark"&&(!i||!s.marker.insertLeft)){var _=s.to==null||(u.inclusiveRight?s.to>=e:s.to>e);(n||(n=[])).push(new rr(u,s.from,_?null:s.to))}}return n}function Vu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var s=t[r],u=s.marker,c=s.to==null||(u.inclusiveRight?s.to>=e:s.to>e);if(c||s.from==e&&u.type=="bookmark"&&(!i||s.marker.insertLeft)){var _=s.from==null||(u.inclusiveLeft?s.from<=e:s.from<e);(n||(n=[])).push(new rr(u,_?null:s.from-e,s.to==null?null:s.to-e))}}return n}function Qr(t,e){if(e.full)return null;var i=w(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=w(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,s=e.to.ch,u=G(e.from,e.to)==0,c=Ju(i,r,u),_=Vu(n,s,u),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(c)for(var M=0;M<c.length;++M){var j=c[M];if(j.to==null){var q=yi(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=yi(c,Y.marker);V||(Y.from=N,m&&(c||(c=[])).push(Y))}else Y.from+=N,m&&(c||(c=[])).push(Y)}c&&(c=wa(c)),_&&_!=c&&(_=wa(_));var tt=[c];if(!m){var st=e.text.length-2,et;if(st>0&&c)for(var ut=0;ut<c.length;++ut)c[ut].to==null&&(et||(et=[])).push(new rr(c[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(_)}return tt}function wa(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function tl(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||vt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],s=0;s<n.length;++s)for(var u=n[s],c=u.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,c.from)<0||G(m.from,c.to)>0)){var N=[_,1],M=G(m.from,c.from),j=G(m.to,c.to);(M<0||!u.inclusiveLeft&&!M)&&N.push({from:m.from,to:c.from}),(j>0||!u.inclusiveRight&&!j)&&N.push({from:c.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function xa(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function ka(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function sr(t){return t.inclusiveLeft?-1:0}function ar(t){return t.inclusiveRight?1:0}function Zr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),s=G(n.from,r.from)||sr(t)-sr(e);if(s)return-s;var u=G(n.to,r.to)||ar(t)-ar(e);return u||e.id-t.id}function Sa(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=void 0,s=0;s<i.length;++s)r=i[s],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Zr(n,r.marker)<0)&&(n=r.marker);return n}function Ea(t){return Sa(t,!0)}function or(t){return Sa(t,!1)}function el(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var s=i[r];s.marker.collapsed&&(s.from==null||s.from<e)&&(s.to==null||s.to>e)&&(!n||Zr(n,s.marker)<0)&&(n=s.marker)}return n}function Ta(t,e,i,n,r){var s=ct(t,e),u=Ze&&s.markedSpans;if(u)for(var c=0;c<u.length;++c){var _=u[c];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,i)||sr(_.marker)-sr(r),M=G(m.to,n)||ar(_.marker)-ar(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Fe(t){for(var e;e=Ea(t);)t=e.find(-1,!0).line;return t}function nl(t){for(var e;e=or(t);)t=e.find(1,!0).line;return t}function il(t){for(var e,i;e=or(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Jr(t,e){var i=ct(t,e),n=Fe(i);return i==n?e:Lt(n)}function Ca(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!fn(t,i))return e;for(;n=or(i);)i=n.find(1,!0).line;return Lt(i)+1}function fn(t,e){var i=Ze&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Vr(t,e,n))return!0}}}function Vr(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return Vr(t,n.line,yi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,s=0;s<e.markedSpans.length;++s)if(r=e.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Vr(t,e,r))return!0}function Je(t){t=Fe(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var s=i.parent;s;i=s,s=i.parent)for(var u=0;u<s.children.length;++u){var c=s.children[u];if(c==i)break;e+=c.height}return e}function ur(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=Ea(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=or(n);){var s=i.find(0,!0);e-=n.text.length-s.from.ch,n=s.to.line,e+=n.text.length-s.to.ch}return e}function ts(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=ur(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=ur(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var jn=function(t,e,i){this.text=t,ka(this,e),this.height=i?i(this):1};jn.prototype.lineNo=function(){return Lt(this)},he(jn);function rl(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),xa(t),ka(t,i);var r=n?n(t):1;r!=t.height&&Ne(t,r)}function sl(t){t.parent=null,xa(t)}var al={},ol={};function Aa(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?ol:al;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function La(t,e){var i=Q("span",null,null,p?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var s=r?e.rest[r-1]:e.line,u=void 0;n.pos=0,n.addToken=ll,Vi(t.display.measure)&&(u=Le(s,t.doc.direction))&&(n.addToken=cl(n.addToken,u)),n.map=[];var c=e!=t.display.externalMeasured&&Lt(s);fl(s,n,pa(t,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=\$(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=\$(s.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Xr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(p){var _=n.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function ul(t){var e=C("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ll(t,e,i,n,r,s,u){if(e){var c=t.splitSpaces?hl(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,N),S&&k<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){_.lastIndex=M;var j=_.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(c.slice(M,M+q));S&&k<9?N.appendChild(C("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(C("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(C("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&k<9?N.appendChild(C("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=c.charCodeAt(e.length-1)==32,i||n||r||m||s||u){var st=i||"";n&&(st+=n),r&&(st+=r);var et=C("span",[N],st,s);if(u)for(var ut in u)u.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,u[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function hl(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var s=t.charAt(r);s==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(s=" "),n+=s,i=s==" "}return n}function cl(t,e){return function(i,n,r,s,u,c,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(i,n,r,s,u,c,_);t(i,n.slice(0,M.to-m),r,s,null,c,_),s=null,n=n.slice(M.to-m),m=M.to}}}function Oa(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function fl(t,e,i){var n=t.markedSpans,r=t.text,s=0;if(!n){for(var u=1;u<i.length;u+=2)e.addToken(e,r.slice(s,s=i[u]),Aa(i[u+1],e.cm.options));return}for(var c=r.length,_=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<n.length;++gt){var pt=n[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==_&&xt.widgetNode)et.push(xt);else if(pt.from<=_&&(pt.to==null||pt.to>_||xt.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==_&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Zr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)Oa(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(Oa(e,(tt.to==null?c+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=c)break;for(var xe=Math.min(c,q);;){if(N){var ve=_+N.length;if(!tt){var Ut=ve>xe?N.slice(0,xe-_):N;e.addToken(e,Ut,M?M+X:X,V,_+Ut.length==q?Y:"",j,st)}if(ve>=xe){N=N.slice(xe-_),_=xe;break}_=ve,V=""}N=r.slice(s,s=i[m++]),M=Aa(i[m++],e.cm.options)}}}function Na(t,e,i){this.line=e,this.rest=il(e),this.size=this.rest?Lt(mt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=fn(t,e)}function lr(t,e,i){for(var n=[],r,s=e;s<i;s=r){var u=new Na(t.doc,ct(t.doc,s),s);r=s+u.size,n.push(u)}return n}var Un=null;function _l(t){Un?Un.ops.push(t):t.ownsGroup=Un={ops:[t],delayedCallbacks:[]}}function pl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function dl(t,e){var i=t.ownsGroup;if(i)try{pl(i)}finally{Un=null,e(i)}}var wi=null;function Qt(t,e){var i=pi(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;Un?r=Un.delayedCallbacks:wi?r=wi:(r=wi=[],setTimeout(gl,0));for(var s=function(c){r.push(function(){return i[c].apply(null,n)})},u=0;u<i.length;++u)s(u)}}function gl(){var t=wi;wi=null;for(var e=0;e<t.length;++e)t[e]()}function Ra(t,e,i,n){for(var r=0;r<e.changes.length;r++){var s=e.changes[r];s=="text"?ml(t,e):s=="gutter"?Da(t,e,i,n):s=="class"?es(t,e):s=="widget"&&bl(t,e,n)}e.changes=null}function xi(t){return t.node==t.text&&(t.node=C("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&k<8&&(t.node.style.zIndex=2)),t.node}function vl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=xi(e);e.background=n.insertBefore(C("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Fa(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):La(t,e)}function ml(t,e){var i=e.text.className,n=Fa(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,es(t,e)):i&&(e.text.className=i)}function es(t,e){vl(t,e),e.line.wrapClass?xi(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Da(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=xi(e);e.gutterBackground=C("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var u=xi(e),c=e.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(c.setAttribute("aria-hidden","true"),t.display.input.setUneditable(c),u.insertBefore(c,e.text),e.line.gutterClass&&(c.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!s||!s["CodeMirror-linenumbers"])&&(e.lineNumber=c.appendChild(C("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=s.hasOwnProperty(m)&&s[m];N&&c.appendChild(C("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function bl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,s=void 0;r;r=s)s=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Ma(t,e,i)}function yl(t,e,i,n){var r=Fa(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),es(t,e),Da(t,e,i,n),Ma(t,e,n),e.node}function Ma(t,e,i){if(Pa(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Pa(t,e.rest[n],e,i,!1)}function Pa(t,e,i,n,r){if(e.widgets)for(var s=xi(i),u=0,c=e.widgets;u<c.length;++u){var _=c[u],m=C("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),wl(_,m,i,n),t.display.input.setUneditable(m),r&&_.above?s.insertBefore(m,i.gutter||i.text):s.appendChild(m),Qt(_,"redraw")}}function wl(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function ki(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,C("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var i=pe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function hr(t){return t.lineSpace.offsetTop}function ns(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Wa(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,C("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function je(t){return ne-t.display.nativeBarWidth}function Tn(t){return t.display.scroller.clientWidth-je(t)-t.display.barWidth}function is(t){return t.display.scroller.clientHeight-je(t)-t.display.barHeight}function xl(t,e,i){var n=t.options.lineWrapping,r=n&&Tn(t);if(!e.measure.heights||n&&e.measure.width!=r){var s=e.measure.heights=[];if(n){e.measure.width=r;for(var u=e.text.firstChild.getClientRects(),c=0;c<u.length-1;c++){var _=u[c],m=u[c+1];Math.abs(_.bottom-m.bottom)>2&&s.push((_.bottom+m.top)/2-i.top)}}s.push(i.bottom-i.top)}}function Ia(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function kl(t,e){e=Fe(e);var i=Lt(e),n=t.display.externalMeasured=new Na(t.doc,e,i);n.lineN=i;var r=n.built=La(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function Ba(t,e,i,n){return Ue(t,Kn(t,e),i,n)}function rs(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ln(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function Kn(t,e){var i=Lt(e),n=rs(t,i);n&&!n.text?n=null:n&&n.changes&&(Ra(t,n,i,ls(t)),t.curOp.forceUpdate=!0),n||(n=kl(t,e));var r=Ia(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ue(t,e,i,n,r){e.before&&(i=-1);var s=i+(n||""),u;return e.cache.hasOwnProperty(s)?u=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(xl(t,e.view,e.rect),e.hasHeights=!0),u=El(t,e,i,n),u.bogus||(e.cache[s]=u)),{left:u.left,right:u.right,top:r?u.rtop:u.top,bottom:r?u.rbottom:u.bottom}}var za={left:0,right:0,top:0,bottom:0};function Ha(t,e,i){for(var n,r,s,u,c,_,m=0;m<t.length;m+=3)if(c=t[m],_=t[m+1],e<c?(r=0,s=1,u="left"):e<_?(r=e-c,s=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(s=_-c,r=s-1,e>=_&&(u="right")),r!=null){if(n=t[m+2],c==_&&i==(n.insertLeft?"left":"right")&&(u=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],u="left";if(i=="right"&&r==_-c)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],u="right";break}return{node:n,start:r,end:s,collapse:u,coverStart:c,coverEnd:_}}function Sl(t,e){var i=za;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function El(t,e,i,n){var r=Ha(e.map,i,n),s=r.node,u=r.start,c=r.end,_=r.collapse,m;if(s.nodeType==3){for(var N=0;N<4;N++){for(;u&&_i(e.line.text.charAt(r.coverStart+u));)--u;for(;r.coverStart+c<r.coverEnd&&_i(e.line.text.charAt(r.coverStart+c));)++c;if(S&&k<9&&u==0&&c==r.coverEnd-r.coverStart?m=s.parentNode.getBoundingClientRect():m=Sl(it(s,u,c).getClientRects(),n),m.left||m.right||u==0)break;c=u,u=u-1,_="right"}S&&k<11&&(m=Tl(t.display.measure,m))}else{u>0&&(_=n="right");var M;t.options.lineWrapping&&(M=s.getClientRects()).length>1?m=M[n=="right"?M.length-1:0]:m=s.getBoundingClientRect()}if(S&&k<9&&!u&&(!m||!m.left&&!m.right)){var j=s.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Xn(t.display),top:j.top,bottom:j.bottom}:m=za}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Tl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tr(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function qa(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ja(t){t.display.externalMeasure=null,x(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)qa(t.display.view[e])}function Si(t){ja(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ua(t){return l&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ka(t){return l&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ss(t){var e=Fe(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=ki(i[r]));return n}function cr(t,e,i,n,r){if(!r){var s=ss(e);i.top+=s,i.bottom+=s}if(n=="line")return i;n||(n="local");var u=Je(e);if(n=="local"?u+=hr(t.display):u-=t.display.viewOffset,n=="page"||n=="window"){var c=t.display.lineSpace.getBoundingClientRect();u+=c.top+(n=="window"?0:Ka(wt(t)));var _=c.left+(n=="window"?0:Ua(wt(t)));i.left+=_,i.right+=_}return i.top+=u,i.bottom+=u,i}function Ga(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ua(wt(t)),r-=Ka(wt(t));else if(i=="local"||!i){var s=t.display.sizer.getBoundingClientRect();n+=s.left,r+=s.top}var u=t.display.lineSpace.getBoundingClientRect();return{left:n-u.left,top:r-u.top}}function fr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),cr(t,n,Ba(t,n,e.ch,r),i)}function De(t,e,i,n,r,s){n=n||ct(t.doc,e.line),r||(r=Kn(t,n));function u(X,Y){var V=Ue(t,r,X,Y?"right":"left",s);return Y?V.left=V.right:V.right=V.left,cr(t,n,V,i)}var c=Le(n,t.doc.direction),_=e.ch,m=e.sticky;if(_>=n.text.length?(_=n.text.length,m="before"):_<=0&&(_=0,m="after"),!c)return u(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=c[Y],st=tt.level==1;return u(V?X-1:X,st!=V)}var M=Ae(c,_,m),j=Ie,q=N(_,M,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Xa(t,e){var i=0;e=yt(t.doc,e),t.options.lineWrapping||(i=Xn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Je(n)+hr(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function as(t,e,i,n,r){var s=B(t,e,i);return s.xRel=r,n&&(s.outside=n),s}function os(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return as(n.first,0,null,-1,-1);var r=He(n,i),s=n.first+n.size-1;if(r>s)return as(n.first+n.size-1,ct(n,s).text.length,null,1,1);e<0&&(e=0);for(var u=ct(n,r);;){var c=Cl(t,u,r,e,i),_=el(u,c.ch+(c.xRel>0||c.outside>0?1:0));if(!_)return c;var m=_.find(1);if(m.line==r)return m;u=ct(n,r=m.line)}}function \$a(t,e,i,n){n-=ss(e);var r=e.text.length,s=Bt(function(u){return Ue(t,i,u-1).bottom<=n},r,0);return r=Bt(function(u){return Ue(t,i,u).top>n},s,r),{begin:s,end:r}}function Ya(t,e,i,n){i||(i=Kn(t,e));var r=cr(t,e,Ue(t,i,n),"line").top;return \$a(t,e,i,r)}function us(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Cl(t,e,i,n,r){r-=Je(e);var s=Kn(t,e),u=ss(e),c=0,_=e.text.length,m=!0,N=Le(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Ll:Al)(t,e,i,s,N,n,r);m=M.level!=1,c=m?M.from:M.to-1,_=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=Ue(t,s,gt);return pt.top+=u,pt.bottom+=u,us(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=gt,q=pt),!0):!1},c,_),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==c)&&X++,V=X==0?"after":X==e.text.length?"before":Ue(t,s,X-(m?1:0)).bottom+u<=r==m?"after":"before";var ut=De(t,B(i,X,V),"line",e,s);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=We(e.text,X,1),as(i,X,V,tt,n-Y)}function Al(t,e,i,n,r,s,u){var c=Bt(function(M){var j=r[M],q=j.level!=1;return us(De(t,B(i,q?j.to:j.from,q?"before":"after"),"line",e,n),s,u,!0)},0,r.length-1),_=r[c];if(c>0){var m=_.level!=1,N=De(t,B(i,m?_.from:_.to,m?"after":"before"),"line",e,n);us(N,s,u,!0)&&N.top>u&&(_=r[c-1])}return _}function Ll(t,e,i,n,r,s,u){var c=\$a(t,e,n,u),_=c.begin,m=c.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=Ue(t,n,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<s?s-Y+1e9:Y-s;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Cn;function Gn(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Cn==null){Cn=C("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Cn.appendChild(document.createTextNode("x")),Cn.appendChild(C("br"));Cn.appendChild(document.createTextNode("x"))}K(t.measure,Cn);var i=Cn.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),x(t.measure),i||1}function Xn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=C("span","xxxxxxxxxx"),i=C("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ls(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,s=e.gutters.firstChild,u=0;s;s=s.nextSibling,++u){var c=t.display.gutterSpecs[u].className;i[c]=s.offsetLeft+s.clientLeft+r,n[c]=s.clientWidth}return{fixedPos:hs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function hs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Qa(t){var e=Gn(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Xn(t.display)-3);return function(r){if(fn(t.doc,r))return 0;var s=0;if(r.widgets)for(var u=0;u<r.widgets.length;u++)r.widgets[u].height&&(s+=r.widgets[u].height);return i?s+(Math.ceil(r.text.length/n)||1)*e:s+e}}function cs(t){var e=t.doc,i=Qa(t);e.iter(function(n){var r=i(n);r!=n.height&&Ne(n,r)})}function An(t,e,i,n){var r=t.display;if(!i&&pe(e).getAttribute("cm-not-content")=="true")return null;var s,u,c=r.lineSpace.getBoundingClientRect();try{s=e.clientX-c.left,u=e.clientY-c.top}catch{return null}var _=os(t,s,u),m;if(n&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=B(_.line,Math.max(0,Math.round((s-Wa(t.display).left)/Xn(t.display))-N))}return _}function Ln(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function de(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&Jr(t.doc,e)<r.viewTo&&pn(t);else if(i<=r.viewFrom)Ze&&Ca(t.doc,i+n)>r.viewFrom?pn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)pn(t);else if(e<=r.viewFrom){var s=_r(t,i,i+n,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=n):pn(t)}else if(i>=r.viewTo){var u=_r(t,e,e,-1);u?(r.view=r.view.slice(0,u.index),r.viewTo=u.lineN):pn(t)}else{var c=_r(t,e,e,-1),_=_r(t,i,i+n,1);c&&_?(r.view=r.view.slice(0,c.index).concat(lr(t,c.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=n):pn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function _n(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var s=n.view[Ln(t,e)];if(s.node!=null){var u=s.changes||(s.changes=[]);vt(u,i)==-1&&u.push(i)}}}function pn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function _r(t,e,i,n){var r=Ln(t,e),s,u=t.display.view;if(!Ze||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var c=t.display.viewFrom,_=0;_<r;_++)c+=u[_].size;if(c!=e){if(n>0){if(r==u.length-1)return null;s=c+u[r].size-e,r++}else s=c-e;e+=s,i+=s}for(;Jr(t.doc,i)!=i;){if(r==(n<0?0:u.length-1))return null;i+=n*u[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Ol(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=lr(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=lr(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ln(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(lr(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ln(t,i)))),n.viewTo=i}function Za(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Ei(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ja(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),s=n.selection=document.createDocumentFragment(),u=t.options.\$customCursor;u&&(e=!0);for(var c=0;c<i.sel.ranges.length;c++)if(!(!e&&c==i.sel.primIndex)){var _=i.sel.ranges[c];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(u){var N=u(t,_);N&&fs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&fs(t,_.head,r);m||Nl(t,_,s)}}return n}function fs(t,e,i){var n=De(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(C("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var s=fr(t,e,"div",null,null),u=s.right-s.left;r.style.width=(u>0?u:t.defaultCharWidth())+"px"}if(n.other){var c=i.appendChild(C("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));c.style.display="",c.style.left=n.other.left+"px",c.style.top=n.other.top+"px",c.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function pr(t,e){return t.top-e.top||t.left-e.left}function Nl(t,e,i){var n=t.display,r=t.doc,s=document.createDocumentFragment(),u=Wa(t.display),c=u.left,_=Math.max(n.sizerWidth,Tn(t)-n.sizer.offsetLeft)-u.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),s.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,me){return fr(t,B(et,Ut),"div",pt,me)}function xe(Ut,me,ie){var \$t=Ya(t,pt,null,Ut),Kt=me=="ltr"==(ie=="after")?"left":"right",qt=ie=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var ve=Le(pt,r.direction);return Sn(ve,ut||0,gt??xt,function(Ut,me,ie,\$t){var Kt=ie=="ltr",qt=Wt(Ut,Kt?"left":"right"),be=Wt(me-1,Kt?"right":"left"),ai=ut==null&&Ut==0,yn=gt==null&&me==xt,oe=\$t==0,Ke=!ve||\$t==ve.length-1;if(be.top-qt.top<=3){var te=(m?ai:yn)&&oe,Bs=(m?yn:ai)&&Ke,nn=te?c:(Kt?qt:be).left,Dn=Bs?_:(Kt?be:qt).right;N(nn,qt.top,Dn-nn,qt.bottom)}else{var Mn,fe,oi,zs;Kt?(Mn=m&&ai&&oe?c:qt.left,fe=m?_:xe(Ut,ie,"before"),oi=m?c:xe(me,ie,"after"),zs=m&&yn&&Ke?_:be.right):(Mn=m?xe(Ut,ie,"before"):c,fe=!m&&ai&&oe?_:qt.right,oi=!m&&yn&&Ke?c:be.left,zs=m?xe(me,ie,"after"):_),N(Mn,qt.top,fe-Mn,qt.bottom),qt.bottom<be.top&&N(c,qt.bottom,null,be.top),N(oi,be.top,zs-oi,be.bottom)}(!Dt||pr(qt,Dt)<0)&&(Dt=qt),pr(be,Dt)<0&&(Dt=be),(!Vt||pr(qt,Vt)<0)&&(Vt=qt),pr(be,Vt)<0&&(Vt=be)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Fe(X)==Fe(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(c,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(c,tt.bottom,null,st.top)}i.appendChild(s)}function _s(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||\$n(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Va(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ds(t))}function ps(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&\$n(t))},100)}function ds(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,T(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),p&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),_s(t))}function \$n(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function dr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,s=0,u=0;u<e.view.length;u++){var c=e.view[u],_=t.options.lineWrapping,m=void 0,N=0;if(!c.hidden){if(r+=c.line.height,S&&k<8){var M=c.node.offsetTop+c.node.offsetHeight;m=M-i,i=M}else{var j=c.node.getBoundingClientRect();m=j.bottom-j.top,!_&&c.text.firstChild&&(N=c.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=c.line.height-m;if((q>.005||q<-.005)&&(r<n&&(s-=q),Ne(c.line,m),to(c.line),c.rest))for(var X=0;X<c.rest.length;X++)to(c.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Xn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(s)>2&&(e.scroller.scrollTop+=s)}function to(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function gr(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-hr(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,s=He(e,n),u=He(e,r);if(i&&i.ensure){var c=i.ensure.from.line,_=i.ensure.to.line;c<s?(s=c,u=He(e,Je(ct(e,c))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=u&&(s=He(e,Je(ct(e,_))-t.wrapper.clientHeight),u=_)}return{from:s,to:Math.max(u,s+1)}}function Rl(t,e){if(!zt(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,s=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(s.defaultView.innerHeight||s.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var u=C("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-hr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+je(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(u),u.scrollIntoView(r),t.display.lineSpace.removeChild(u)}}}function Fl(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var s=0;s<5;s++){var u=!1,c=De(t,e),_=!i||i==e?c:De(t,i);r={left:Math.min(c.left,_.left),top:Math.min(c.top,_.top)-n,right:Math.max(c.left,_.left),bottom:Math.max(c.bottom,_.bottom)+n};var m=gs(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Ci(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(u=!0)),m.scrollLeft!=null&&(On(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(u=!0)),!u)break}return r}function Dl(t,e){var i=gs(t,e);i.scrollTop!=null&&Ci(t,i.scrollTop),i.scrollLeft!=null&&On(t,i.scrollLeft)}function gs(t,e){var i=t.display,n=Gn(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,s=is(t),u={};e.bottom-e.top>s&&(e.bottom=e.top+s);var c=t.doc.height+ns(i),_=e.top<n,m=e.bottom>c-n;if(e.top<r)u.scrollTop=_?0:e.top;else if(e.bottom>r+s){var N=Math.min(e.top,(m?c:e.bottom)-s);N!=r&&(u.scrollTop=N)}var M=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-M,q=Tn(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?u.scrollLeft=0:e.left<j?u.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(u.scrollLeft=e.right+(X?0:10)-q),u}function vs(t,e){e!=null&&(vr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Yn(t){vr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ti(t,e,i){(e!=null||i!=null)&&vr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Ml(t,e){vr(t),t.curOp.scrollToPos=e}function vr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=Xa(t,e.from),n=Xa(t,e.to);eo(t,i,n,e.margin)}}function eo(t,e,i,n){var r=gs(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ti(t,r.scrollLeft,r.scrollTop)}function Ci(t,e){Math.abs(t.doc.scrollTop-e)<2||(d||bs(t,{top:e}),no(t,e,!0),d&&bs(t),Oi(t,100))}function no(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function On(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,oo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ai(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+ns(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+je(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var Nn=function(t,e,i){this.cm=i;var n=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&k<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Nn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var s=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+s)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},Nn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Nn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Nn.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Nn.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),s=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);s!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},Nn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Li=function(){};Li.prototype.update=function(){return{bottom:0,right:0}},Li.prototype.setScrollLeft=function(){},Li.prototype.setScrollTop=function(){},Li.prototype.clear=function(){};function Qn(t,e){e||(e=Ai(t));var i=t.display.barWidth,n=t.display.barHeight;io(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&dr(t),io(t,Ai(t)),i=t.display.barWidth,n=t.display.barHeight}function io(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var ro={native:Nn,null:Li};function so(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new ro[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?On(t,e):Ci(t,e)},t),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)}var Pl=0;function Rn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Pl,markArrays:null},_l(t.curOp)}function Fn(t){var e=t.curOp;e&&dl(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Wl(i)})}function Wl(t){for(var e=t.ops,i=0;i<e.length;i++)Il(e[i]);for(var n=0;n<e.length;n++)Bl(e[n]);for(var r=0;r<e.length;r++)zl(e[r]);for(var s=0;s<e.length;s++)Hl(e[s]);for(var u=0;u<e.length;u++)ql(e[u])}function Il(t){var e=t.cm,i=e.display;Ul(e),t.updateMaxLine&&ts(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new mr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Bl(t){t.updatedDisplay=t.mustUpdate&&ms(t.cm,t.update)}function zl(t){var e=t.cm,i=e.display;t.updatedDisplay&&dr(e),t.barMeasure=Ai(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ba(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+je(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Tn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Hl(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&On(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Qn(e,t.barMeasure),t.updatedDisplay&&ws(e,t.barMeasure),t.selectionChanged&&_s(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Va(t.cm)}function ql(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&ao(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&no(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&On(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Fl(e,yt(n,t.scrollToPos.from),yt(n,t.scrollToPos.to),t.scrollToPos.margin);Rl(e,r)}var s=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(s)for(var c=0;c<s.length;++c)s[c].lines.length||Mt(s[c],"hide");if(u)for(var _=0;_<u.length;++_)u[_].lines.length&&Mt(u[_],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function we(t,e){if(t.curOp)return e();Rn(t);try{return e()}finally{Fn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Rn(t);try{return e.apply(t,arguments)}finally{Fn(t)}}}function ce(t){return function(){if(this.curOp)return t.apply(this,arguments);Rn(this);try{return t.apply(this,arguments)}finally{Fn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Rn(e);try{return t.apply(this,arguments)}finally{Fn(e)}}}function Oi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(jl,t))}function jl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=bi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(s){if(n.line>=t.display.viewFrom){var u=s.styles,c=s.text.length>t.options.maxHighlightLength?Ye(e.mode,n.state):null,_=_a(t,s,n,!0);c&&(n.state=c),s.styles=_.styles;var m=s.styleClasses,N=_.classes;N?s.styleClasses=N:m&&(s.styleClasses=null);for(var M=!u||u.length!=s.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<u.length;++j)M=u[j]!=s.styles[j];M&&r.push(n.line),s.stateAfter=n.save(),n.nextLine()}else s.text.length<=t.options.maxHighlightLength&&\$r(t,s.text,n),s.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Oi(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&we(t,function(){for(var s=0;s<r.length;s++)_n(t,r[s],"text")})}}var mr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=gr(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tn(t),this.force=i,this.dims=ls(t),this.events=[]};mr.prototype.signal=function(t,e){le(t,e)&&this.events.push(arguments)},mr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function Ul(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=je(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=je(t)+"px",e.scrollbarsClipped=!0)}function Kl(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Gl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function ms(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return pn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&Za(t)==0)return!1;uo(t)&&(pn(t),e.dims=ls(t));var r=n.first+n.size,s=Math.max(e.visible.from-t.options.viewportMargin,n.first),u=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(n.first,i.viewFrom)),i.viewTo>u&&i.viewTo-u<20&&(u=Math.min(r,i.viewTo)),Ze&&(s=Jr(t.doc,s),u=Ca(t.doc,u));var c=s!=i.viewFrom||u!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Ol(t,s,u),i.viewOffset=Je(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var _=Za(t);if(!c&&_==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=Kl(t);return _>4&&(i.lineDiv.style.display="none"),Xl(t,i.updateLineNumbers,e.dims),_>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Gl(m),x(i.cursorDiv),x(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,c&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Oi(t,400)),i.updateLineNumbers=null,!0}function ao(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==Tn(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+ns(t.display)-is(t),i.top)}),e.visible=gr(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=gr(t.display,t.doc,i));if(!ms(t,e))break;dr(t);var r=Ai(t);Ei(t),Qn(t,r),ws(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function bs(t,e){var i=new mr(t,e);if(ms(t,i)){dr(t),ao(t,i);var n=Ai(t);Ei(t),Qn(t,n),ws(t,n),i.finish()}}function Xl(t,e,i){var n=t.display,r=t.options.lineNumbers,s=n.lineDiv,u=s.firstChild;function c(X){var Y=X.nextSibling;return p&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=n.view,m=n.viewFrom,N=0;N<_.length;N++){var M=_[N];if(!M.hidden)if(!M.node||M.node.parentNode!=s){var j=yl(t,M,m,i);s.insertBefore(j,u)}else{for(;u!=M.node;)u=c(u);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Ra(t,M,m,i)),q&&(x(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),u=M.node.nextSibling}m+=M.size}for(;u;)u=c(u)}function ys(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ws(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+je(t)+"px"}function oo(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=hs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,s=n+"px",u=0;u<i.length;u++)if(!i[u].hidden){t.options.fixedGutter&&(i[u].gutter&&(i[u].gutter.style.left=s),i[u].gutterBackground&&(i[u].gutterBackground.style.left=s));var c=i[u].alignable;if(c)for(var _=0;_<c.length;_++)c[_].style.left=s}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function uo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(C("div",[C("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,u=r.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-u)+1,n.lineNumWidth=n.lineNumInnerWidth+u,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ys(t.display),!0}return!1}function xs(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var s=t[r],u=null;if(typeof s!="string"&&(u=s.style,s=s.className),s=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:s,style:u})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function lo(t){var e=t.gutters,i=t.gutterSpecs;x(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],s=r.className,u=r.style,c=e.appendChild(C("div",null,"CodeMirror-gutter "+s));u&&(c.style.cssText=u),s=="CodeMirror-linenumbers"&&(t.lineGutter=c,c.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",ys(t)}function Ni(t){lo(t.display),de(t),oo(t)}function \$l(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=C("div",null,"CodeMirror-cursors"),r.measure=C("div",null,"CodeMirror-measure"),r.lineMeasure=C("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var s=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=C("div",[s],null,"position: relative"),r.sizer=C("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=C("div",null,null,"position: absolute; height: "+ne+"px; width: 1px;"),r.gutters=C("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=C("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=C("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),l&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&k<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!p&&!(d&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=xs(n.gutters,n.lineNumbers),lo(r),i.init(r)}var br=0,tn=null;S?tn=-.53:d?tn=15:l?tn=-.7:F&&(tn=-1/3);function ho(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Yl(t){var e=ho(t);return e.x*=tn,e.y*=tn,e}function co(t,e){l&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=ho(e),n=i.x,r=i.y,s=tn;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,s=1);var u=t.display,c=u.scroller,_=c.scrollWidth>c.clientWidth,m=c.scrollHeight>c.clientHeight;if(n&&_||r&&m){if(r&&z&&p){t:for(var N=e.target,M=u.view;N!=c;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!d&&!b&&s!=null){r&&m&&Ci(t,Math.max(0,c.scrollTop+r*s)),On(t,Math.max(0,c.scrollLeft+n*s)),(!r||r&&m)&&se(e),u.wheelStartX=null;return}if(r&&s!=null){var q=r*s,X=t.doc.scrollTop,Y=X+u.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),bs(t,{top:X,bottom:Y})}br<20&&e.deltaMode!==0&&(u.wheelStartX==null?(u.wheelStartX=c.scrollLeft,u.wheelStartY=c.scrollTop,u.wheelDX=n,u.wheelDY=r,setTimeout(function(){if(u.wheelStartX!=null){var V=c.scrollLeft-u.wheelStartX,tt=c.scrollTop-u.wheelStartY,st=tt&&u.wheelDY&&tt/u.wheelDY||V&&u.wheelDX&&V/u.wheelDX;u.wheelStartX=u.wheelStartY=null,st&&(tn=(tn*br+st)/(br+1),++br)}},200)):(u.wheelDX+=n,u.wheelDY+=r))}}var Te=function(t,e){this.ranges=t,this.primIndex=e};Te.prototype.primary=function(){return this.ranges[this.primIndex]},Te.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!bt(i.anchor,n.anchor)||!bt(i.head,n.head))return!1}return!0},Te.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Te(t,this.primIndex)},Te.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Te.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Me(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=vt(e,r);for(var s=1;s<e.length;s++){var u=e[s],c=e[s-1],_=G(c.to(),u.from());if(n&&!u.empty()?_>0:_>=0){var m=Xt(c.from(),u.from()),N=Ct(c.to(),u.to()),M=c.empty()?u.from()==u.head:c.from()==c.head;s<=i&&--i,e.splice(--s,2,new Ot(M?N:m,M?m:N))}}return new Te(e,i)}function dn(t,e){return new Te([new Ot(t,e||t)],0)}function gn(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function fo(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return gn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=gn(e).ch-e.to.ch),B(i,n)}function ks(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new Ot(fo(r.anchor,e),fo(r.head,e)))}return Me(t.cm,i,t.sel.primIndex)}function _o(t,e,i){return t.line==e.line?B(i.line,t.ch-e.ch+i.ch):B(i.line+(t.line-e.line),t.ch)}function Ql(t,e,i){for(var n=[],r=B(t.first,0),s=r,u=0;u<e.length;u++){var c=e[u],_=_o(c.from,r,s),m=_o(gn(c),r,s);if(r=c.to,s=m,i=="around"){var N=t.sel.ranges[u],M=G(N.head,N.anchor)<0;n[u]=new Ot(M?m:_,M?_:m)}else n[u]=new Ot(_,_)}return new Te(n,t.sel.primIndex)}function Ss(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Ri(t)}function Ri(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Oi(t,100),t.state.modeGen++,t.curOp&&de(t)}function po(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Es(t,e,i,n){function r(st){return i?i[st]:null}function s(st,et,ut){rl(st,et,ut,n),Qt(st,"change",st,e)}function u(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new jn(m[gt],r(gt),n));return ut}var c=e.from,_=e.to,m=e.text,N=ct(t,c.line),M=ct(t,_.line),j=mt(m),q=r(m.length-1),X=_.line-c.line;if(e.full)t.insert(0,u(0,m.length)),t.remove(m.length,t.size-m.length);else if(po(t,e)){var Y=u(0,m.length-1);s(M,M.text,q),X&&t.remove(c.line,X),Y.length&&t.insert(c.line,Y)}else if(N==M)if(m.length==1)s(N,N.text.slice(0,c.ch)+j+N.text.slice(_.ch),q);else{var V=u(1,m.length-1);V.push(new jn(j+N.text.slice(_.ch),q,n)),s(N,N.text.slice(0,c.ch)+m[0],r(0)),t.insert(c.line+1,V)}else if(m.length==1)s(N,N.text.slice(0,c.ch)+m[0]+M.text.slice(_.ch),r(0)),t.remove(c.line+1,X);else{s(N,N.text.slice(0,c.ch)+m[0],r(0)),s(M,j+M.text.slice(_.ch),q);var tt=u(1,m.length-1);X>1&&t.remove(c.line+1,X-1),t.insert(c.line+1,tt)}Qt(t,"change",t,e)}function vn(t,e,i){function n(r,s,u){if(r.linked)for(var c=0;c<r.linked.length;++c){var _=r.linked[c];if(_.doc!=s){var m=u&&_.sharedHist;i&&!m||(e(_.doc,m),n(_.doc,r,m))}}}n(t,null,!0)}function go(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,cs(t),Ss(t),vo(t),t.options.direction=e.direction,t.options.lineWrapping||ts(t),t.options.mode=e.modeOption,de(t)}function vo(t){(t.doc.direction=="rtl"?T:R)(t.display.lineDiv,"CodeMirror-rtl")}function Zl(t){we(t,function(){vo(t),de(t)})}function yr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Ts(t,e){var i={from:Tt(e.from),to:gn(e),text:Qe(t,e.from,e.to)};return yo(t,i,e.from.line,e.to.line+1),vn(t,function(n){return yo(n,i,e.from.line,e.to.line+1)},!0),i}function mo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function Jl(t,e){if(e)return mo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function bo(t,e,i,n){var r=t.history;r.undone.length=0;var s=+new Date,u,c;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(u=Jl(r,r.lastOp==n)))c=mt(u.changes),G(e.from,e.to)==0&&G(e.from,c.to)==0?c.to=gn(e):u.changes.push(Ts(t,e));else{var _=mt(r.done);for((!_||!_.ranges)&&wr(t.sel,r.done),u={changes:[Ts(t,e)],generation:r.generation},r.done.push(u);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,c||Mt(t,"historyAdded")}function Vl(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function th(t,e,i,n){var r=t.history,s=n&&n.origin;i==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||Vl(t,s,mt(r.done),e))?r.done[r.done.length-1]=e:wr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=i,n&&n.clearRedo!==!1&&mo(r.undone)}function wr(t,e){var i=mt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function yo(t,e,i,n){var r=e["spans_"+t.id],s=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(u){u.markedSpans&&((r||(r=e["spans_"+t.id]={}))[s]=u.markedSpans),++s})}function eh(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function nh(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(eh(i[r]));return n}function wo(t,e){var i=nh(t,e),n=Qr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var s=i[r],u=n[r];if(s&&u)t:for(var c=0;c<u.length;++c){for(var _=u[c],m=0;m<s.length;++m)if(s[m].marker==_.marker)continue t;s.push(_)}else u&&(i[r]=u)}return i}function Zn(t,e,i){for(var n=[],r=0;r<t.length;++r){var s=t[r];if(s.ranges){n.push(i?Te.prototype.deepCopy.call(s):s);continue}var u=s.changes,c=[];n.push({changes:c});for(var _=0;_<u.length;++_){var m=u[_],N=void 0;if(c.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(c)[M]=m[M],delete m[M])}}return n}function Cs(t,e,i,n){if(n){var r=t.anchor;if(i){var s=G(e,r)<0;s!=G(i,r)<0?(r=e,e=i):s!=G(e,i)<0&&(e=i)}return new Ot(r,e)}else return new Ot(i||e,e)}function xr(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),ae(t,new Te([Cs(t.sel.primary(),e,i,r)],0),n)}function xo(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),s=0;s<t.sel.ranges.length;s++)n[s]=Cs(t.sel.ranges[s],e[s],null,r);var u=Me(t.cm,n,t.sel.primIndex);ae(t,u,i)}function As(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,ae(t,Me(t.cm,r,t.sel.primIndex),n)}function ko(t,e,i,n){ae(t,dn(e,i),n)}function ih(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var s=0;s<r.length;s++)this.ranges[s]=new Ot(yt(t,r[s].anchor),yt(t,r[s].head))},origin:i&&i.origin};return Mt(t,"beforeSelectionChange",t,n),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Me(t.cm,n.ranges,n.ranges.length-1):e}function So(t,e,i){var n=t.history.done,r=mt(n);r&&r.ranges?(n[n.length-1]=e,kr(t,e,i)):ae(t,e,i)}function ae(t,e,i){kr(t,e,i),th(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function kr(t,e,i){(le(t,"beforeSelectionChange")||t.cm&&le(t.cm,"beforeSelectionChange"))&&(e=ih(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);Eo(t,Co(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Yn(t.cm)}function Eo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Ji(t.cm)),Qt(t,"cursorActivity",t))}function To(t){Eo(t,Co(t,t.sel,null,!1))}function Co(t,e,i,n){for(var r,s=0;s<e.ranges.length;s++){var u=e.ranges[s],c=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[s],_=Sr(t,u.anchor,c&&c.anchor,i,n),m=u.head==u.anchor?_:Sr(t,u.head,c&&c.head,i,n);(r||_!=u.anchor||m!=u.head)&&(r||(r=e.ranges.slice(0,s)),r[s]=new Ot(_,m))}return r?Me(t.cm,r,e.primIndex):e}function Jn(t,e,i,n,r){var s=ct(t,e.line);if(s.markedSpans)for(var u=0;u<s.markedSpans.length;++u){var c=s.markedSpans[u],_=c.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((c.from==null||(m?c.from<=e.ch:c.from<e.ch))&&(c.to==null||(N?c.to>=e.ch:c.to>e.ch))){if(r&&(Mt(_,"beforeCursorEnter"),_.explicitlyCleared))if(s.markedSpans){--u;continue}else break;if(!_.atomic)continue;if(i){var M=_.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(M=Ao(t,M,-n,M&&M.line==e.line?s:null)),M&&M.line==e.line&&(j=G(M,i))&&(n<0?j<0:j>0))return Jn(t,M,e,n,r)}var q=_.find(n<0?-1:1);return(n<0?m:N)&&(q=Ao(t,q,n,q.line==e.line?s:null)),q?Jn(t,q,e,n,r):null}}return e}function Sr(t,e,i,n,r){var s=n||1,u=Jn(t,e,i,s,r)||!r&&Jn(t,e,i,s,!0)||Jn(t,e,i,-s,r)||!r&&Jn(t,e,i,-s,!0);return u||(t.cantEdit=!0,B(t.first,0))}function Ao(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+i)}function Lo(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function Oo(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,s,u,c){r&&(n.from=yt(t,r)),s&&(n.to=yt(t,s)),u&&(n.text=u),c!==void 0&&(n.origin=c)}),Mt(t,"beforeChange",t,n),t.cm&&Mt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Vn(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Vn)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"))&&(e=Oo(t,e,!0),!e))){var n=ya&&!i&&tl(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)No(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else No(t,e)}}function No(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=ks(t,e);bo(t,e,i,t.cm?t.cm.curOp.id:NaN),Fi(t,e,i,Qr(t,e));var n=[];vn(t,function(r,s){!s&&vt(n,r.history)==-1&&(Mo(r.history,e),n.push(r.history)),Fi(r,e,null,Qr(r,e))})}}function Er(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,s,u=t.sel,c=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<c.length&&(s=c[m],!(i?s.ranges&&!s.equals(t.sel):!s.ranges));m++);if(m!=c.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(s=c.pop(),s.ranges){if(wr(s,_),i&&!s.equals(t.sel)){ae(t,s,{clearRedo:!1});return}u=s}else if(n){c.push(s);return}else break;var N=[];wr(u,_),_.push({changes:N,generation:r.generation}),r.generation=s.generation||++r.maxGeneration;for(var M=le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"),j=function(Y){var V=s.changes[Y];if(V.origin=e,M&&!Oo(t,V,!1))return c.length=0,{};N.push(Ts(t,V));var tt=Y?ks(t,V):mt(c);Fi(t,V,tt,wo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:gn(V)});var st=[];vn(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Mo(et.history,V),st.push(et.history)),Fi(et,V,null,wo(et,V))})},q=s.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Ro(t,e){if(e!=0&&(t.first+=e,t.sel=new Te(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){de(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)_n(t.cm,n,"gutter")}}function Fi(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Fi)(t,e,i,n);if(e.to.line<t.first){Ro(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Ro(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var s=t.lastLine();e.to.line>s&&(e={from:e.from,to:B(s,ct(t,s).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),i||(i=ks(t,e)),t.cm?rh(t.cm,e,n):Es(t,e,n),kr(t,i,Rt),t.cantEdit&&Sr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function rh(t,e,i){var n=t.doc,r=t.display,s=e.from,u=e.to,c=!1,_=s.line;t.options.lineWrapping||(_=Lt(Fe(ct(n,s.line))),n.iter(_,u.line+1,function(q){if(q==r.maxLine)return c=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Ji(t),Es(n,e,i,Qa(t)),t.options.lineWrapping||(n.iter(_,s.line+e.text.length,function(q){var X=ur(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),Xu(n,s.line),Oi(t,400);var m=e.text.length-(u.line-s.line)-1;e.full?de(t):s.line==u.line&&e.text.length==1&&!po(t.doc,e)?_n(t,s.line,"text"):de(t,s.line,u.line+1,m);var N=le(t,"changes"),M=le(t,"change");if(M||N){var j={from:s,to:u,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function ti(t,e,i,n,r){var s;n||(n=i),G(n,i)<0&&(s=[n,i],i=s[0],n=s[1]),typeof e=="string"&&(e=t.splitLines(e)),Vn(t,{from:i,to:n,text:e,origin:r})}function Fo(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Do(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r],u=!0;if(s.ranges){s.copied||(s=t[r]=s.deepCopy(),s.copied=!0);for(var c=0;c<s.ranges.length;c++)Fo(s.ranges[c].anchor,e,i,n),Fo(s.ranges[c].head,e,i,n);continue}for(var _=0;_<s.changes.length;++_){var m=s.changes[_];if(i<m.from.line)m.from=B(m.from.line+n,m.from.ch),m.to=B(m.to.line+n,m.to.ch);else if(e<=m.to.line){u=!1;break}}u||(t.splice(0,r+1),r=0)}}function Mo(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Do(t.done,i,n,r),Do(t.undone,i,n,r)}function Di(t,e,i,n){var r=e,s=e;return typeof e=="number"?s=ct(t,Ee(t,e)):r=Lt(e),r==null?null:(n(s,r)&&t.cm&&_n(t.cm,r,i),s)}function Mi(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Mi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,sl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Pi(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Pi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var s=Math.min(e,r-t),u=n.height;if(n.removeInner(t,s),this.height-=u-n.height,r==s&&(this.children.splice(i--,1),n.parent=null),(e-=s)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Mi))){var c=[];this.collapse(c),this.children=[new Mi(c)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(t<=s){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var u=r.lines.length%25+25,c=u;c<r.lines.length;){var _=new Mi(r.lines.slice(c,c+=25));r.height-=_.height,this.children.splice(++n,0,_),_.parent=this}r.lines=r.lines.slice(0,u),this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Pi(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Pi(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],s=r.chunkSize();if(t<s){var u=Math.min(e,s-t);if(r.iterN(t,u,i))return!0;if((e-=u)==0)break;t=0}else t-=s}}};var Wi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Wi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Lt(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var s=ki(this);Ne(i,Math.max(0,i.height-s)),t&&(we(t,function(){Po(t,i,-s),_n(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Wi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(fn(this.doc,n)||Ne(n,n.height+r),i&&we(i,function(){i.curOp.forceUpdate=!0,Po(i,n,r),Qt(i,"lineWidgetChanged",i,t,Lt(n))}))},he(Wi);function Po(t,e,i){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&vs(t,i)}function sh(t,e,i,n){var r=new Wi(t,i,n),s=t.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),Di(t,e,"widget",function(u){var c=u.widgets||(u.widgets=[]);if(r.insertAt==null?c.push(r):c.splice(Math.min(c.length,Math.max(0,r.insertAt)),0,r),r.line=u,s&&!fn(t,u)){var _=Je(u)<t.scrollTop;Ne(u,u.height+ki(r)),_&&vs(s,r.height),s.curOp.forceUpdate=!0}return!0}),s&&Qt(s,"lineWidgetAdded",s,r,typeof e=="number"?e:Lt(e)),r}var Wo=0,mn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Wo};mn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Rn(t),le(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,s=0;s<this.lines.length;++s){var u=this.lines[s],c=yi(u.markedSpans,this);t&&!this.collapsed?_n(t,Lt(u),"text"):t&&(c.to!=null&&(r=Lt(u)),c.from!=null&&(n=Lt(u))),u.markedSpans=Qu(u.markedSpans,c),c.from==null&&this.collapsed&&!fn(this.doc,u)&&t&&Ne(u,Gn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Fe(this.lines[_]),N=ur(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&de(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&To(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Fn(t),this.parent&&this.parent.clear()}},mn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var s=this.lines[r],u=yi(s.markedSpans,this);if(u.from!=null&&(i=B(e?s:Lt(s),u.from),t==-1))return i;if(u.to!=null&&(n=B(e?s:Lt(s),u.to),t==1))return n}return i&&{from:i,to:n}},mn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||we(n,function(){var r=e.line,s=Lt(e.line),u=rs(n,s);if(u&&(qa(u),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!fn(i.doc,r)&&i.height!=null){var c=i.height;i.height=null;var _=ki(i)-c;_&&Ne(r,r.height+_)}Qt(n,"markerChanged",n,t)})},mn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},mn.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},he(mn);function ei(t,e,i,n,r){if(n&&n.shared)return ah(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,ei)(t,e,i,n,r);var s=new mn(t,r),u=G(e,i);if(n&&ft(n,s,!1),u>0||u==0&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Q("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(Ta(t,e.line,e,i,s)||e.line!=i.line&&Ta(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Yu()}s.addToHistory&&bo(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var c=e.line,_=t.cm,m;if(t.iter(c,i.line+1,function(M){_&&s.collapsed&&!_.options.lineWrapping&&Fe(M)==_.display.maxLine&&(m=!0),s.collapsed&&c!=e.line&&Ne(M,0),Zu(M,new rr(s,c==e.line?e.ch:null,c==i.line?i.ch:null),t.cm&&t.cm.curOp),++c}),s.collapsed&&t.iter(e.line,i.line+1,function(M){fn(t,M)&&Ne(M,0)}),s.clearOnEnter&&nt(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(\$u(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++Wo,s.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),s.collapsed)de(_,e.line,i.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(var N=e.line;N<=i.line;N++)_n(_,N,"text");s.atomic&&To(_.doc),Qt(_,"markerAdded",_,s)}return s}var Ii=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Ii.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},Ii.prototype.find=function(t,e){return this.primary.find(t,e)},he(Ii);function ah(t,e,i,n,r){n=ft(n),n.shared=!1;var s=[ei(t,e,i,n,r)],u=s[0],c=n.widgetNode;return vn(t,function(_){c&&(n.widgetNode=c.cloneNode(!0)),s.push(ei(_,yt(_,e),yt(_,i),n,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;u=mt(s)}),new Ii(s,u)}function Io(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function oh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),s=t.clipPos(r.from),u=t.clipPos(r.to);if(G(s,u)){var c=ei(t,s,u,n.primary,n.primary.type);n.markers.push(c),c.parent=n}}}function uh(t){for(var e=function(n){var r=t[n],s=[r.primary.doc];vn(r.primary.doc,function(_){return s.push(_)});for(var u=0;u<r.markers.length;u++){var c=r.markers[u];vt(s,c.doc)==-1&&(c.parent=null,r.markers.splice(u--,1))}},i=0;i<t.length;i++)e(i)}var lh=0,ge=function(t,e,i,n,r){if(!(this instanceof ge))return new ge(t,e,i,n,r);i==null&&(i=0),Pi.call(this,[new Mi([new jn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var s=B(i,0);this.sel=dn(s),this.history=new yr(null),this.id=++lh,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Es(this,{from:s,to:s,text:t}),ae(this,dn(s),Rt)};ge.prototype=Yi(Pi.prototype,{constructor:ge,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),i=this.first+this.size-1;Vn(this,{from:e,to:B(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ti(this.cm,0,0),ae(this,dn(e),Rt)}),replaceRange:function(t,e,i,n){e=yt(this,e),i=i?yt(this,i):e,ti(this,t,e,i,n)},getRange:function(t,e,i){var n=Qe(this,yt(this,t),yt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(w(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Fe(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){ko(this,yt(this,typeof t=="number"?B(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){ko(this,yt(this,t),yt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){xr(this,yt(this,t),e&&yt(this,e),i)}),extendSelections:Jt(function(t,e){xo(this,fa(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ge(this.sel.ranges,t);xo(this,fa(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),ae(this,Me(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new Ot(yt(this,t),yt(this,e||t))),ae(this,Me(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=Qe(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Qe(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,s=0;s<r.ranges.length;s++){var u=r.ranges[s];n[s]={from:u.from(),to:u.to(),text:this.splitLines(t[s]),origin:i}}for(var c=e&&e!="end"&&Ql(this,n,e),_=n.length-1;_>=0;_--)Vn(this,n[_]);c?So(this,c):this.cm&&Yn(this.cm)}),undo:Jt(function(){Er(this,"undo")}),redo:Jt(function(){Er(this,"redo")}),undoSelection:Jt(function(){Er(this,"undo",!0)}),redoSelection:Jt(function(){Er(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new yr(this.history),vn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Zn(this.history.done),undone:Zn(this.history.undone)}},setHistory:function(t){var e=this.history=new yr(this.history);e.done=Zn(t.done.slice(0),null,!0),e.undone=Zn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Di(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Qi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Di(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Qi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!w(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Di(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Di(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",s=n[r];if(s)if(i==null)n[r]=null;else{var u=s.match(I(i));if(!u)return!1;var c=u.index+u[0].length;n[r]=s.slice(0,u.index)+(!u.index||c==s.length?"":" ")+s.slice(c)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return sh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return ei(this,yt(this,t),yt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),ei(this,t,t,i,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=yt(this,t),e=yt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(s){var u=s.markedSpans;if(u)for(var c=0;c<u.length;c++){var _=u[c];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!i||i(_.marker))&&n.push(_.marker.parent||_.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var s=r.text.length+n;if(s>t)return e=t,!0;t-=s,++i}),yt(this,B(i,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new ge(qn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new ge(qn(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],oh(n,Io(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),uh(Io(this));break}}if(t.history==this.history){var n=[t.id];vn(t,function(r){return n.push(r.id)},!0),t.history=new yr(null),t.history.done=Zn(this.history.done,n),t.history.undone=Zn(this.history.undone,n)}},iterLinkedDocs:function(t){vn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):vi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&Zl(this.cm))})}),ge.prototype.eachLine=ge.prototype.iter;var Bo=0;function hh(t){var e=this;if(zo(e),!(zt(e,t)||Ve(e.display,t))){se(t),S&&(Bo=+new Date);var i=An(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,s=Array(r),u=0,c=function(){++u==r&&Zt(e,function(){i=yt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(s.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Vn(e.doc,q),So(e.doc,dn(yt(e.doc,i),yt(e.doc,gn(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){c();return}var Y=new FileReader;Y.onerror=function(){return c()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){c();return}s[X]=V,c()},Y.readAsText(q)},m=0;m<n.length;m++)_(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),kr(e.doc,dn(i,i)),M)for(var j=0;j<M.length;++j)ti(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function ch(t,e){if(S&&(!t.state.draggingText||+new Date-Bo<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var i=C("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function fh(t,e){var i=An(t,e);if(i){var n=document.createDocumentFragment();fs(t,i,n),t.display.dragCursor||(t.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function zo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ho(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var s=0;s<i.length;s++)t(i[s])})}}var qo=!1;function _h(){qo||(ph(),qo=!0)}function ph(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,Ho(dh)},100))}),nt(window,"blur",function(){return Ho(\$n)})}function dh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var bn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bi=0;Bi<10;Bi++)bn[Bi+48]=bn[Bi+96]=String(Bi);for(var Tr=65;Tr<=90;Tr++)bn[Tr]=String.fromCharCode(Tr);for(var zi=1;zi<=12;zi++)bn[zi+111]=bn[zi+63235]="F"+zi;var en={};en.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},en.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},en.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},en.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},en.default=z?en.macDefault:en.pcDefault;function gh(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,s,u=0;u<e.length-1;u++){var c=e[u];if(/^(cmd|meta|m)\$/i.test(c))s=!0;else if(/^a(lt)?\$/i.test(c))i=!0;else if(/^(c|ctrl|control)\$/i.test(c))n=!0;else if(/^s(hift)?\$/i.test(c))r=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),s&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function vh(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ge(i.split(" "),gh),s=0;s<r.length;s++){var u=void 0,c=void 0;s==r.length-1?(c=r.join(" "),u=n):(c=r.slice(0,s+1).join(" "),u="...");var _=e[c];if(!_)e[c]=u;else if(_!=u)throw new Error("Inconsistent bindings for "+c)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ni(t,e,i,n){e=Cr(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ni(t,e.fallthrough,i,n);for(var s=0;s<e.fallthrough.length;s++){var u=ni(t,e.fallthrough[s],i,n);if(u)return u}}}function jo(t){var e=typeof t=="string"?t:bn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Uo(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function Ko(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=bn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Uo(i,t,e))}function Cr(t){return typeof t=="string"?en[t]:t}function ii(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var s=e(i[r]);n.length&&G(s.from,mt(n).to)<=0;){var u=n.pop();if(G(u.from,s.from)<0){s.from=u.from;break}}n.push(s)}we(t,function(){for(var c=n.length-1;c>=0;c--)ti(t.doc,"",n[c].from,n[c].to,"+delete");Yn(t)})}function Ls(t,e,i){var n=We(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Os(t,e,i){var n=Ls(t,e.ch,i);return n==null?null:new B(e.line,n,i<0?"after":"before")}function Ns(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var s=Le(i,e.doc.direction);if(s){var u=r<0?mt(s):s[0],c=r<0==(u.level==1),_=c?"after":"before",m;if(u.level>0||e.doc.direction=="rtl"){var N=Kn(e,i);m=r<0?i.text.length-1:0;var M=Ue(e,N,m).top;m=Bt(function(j){return Ue(e,N,j).top==M},r<0==(u.level==1)?u.from:u.to-1,m),_=="before"&&(m=Ls(i,m,1))}else m=r<0?u.to:u.from;return new B(n,m,_)}}return new B(n,r<0?i.text.length:0,r<0?"before":"after")}function mh(t,e,i,n){var r=Le(e,t.doc.direction);if(!r)return Os(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var s=Ae(r,i.ch,i.sticky),u=r[s];if(t.doc.direction=="ltr"&&u.level%2==0&&(n>0?u.to>i.ch:u.from<i.ch))return Os(e,i,n);var c=function(tt,st){return Ls(e,tt instanceof B?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||Kn(t,e),Ya(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?c(i,-1):i.ch);if(t.doc.direction=="rtl"||u.level==1){var M=u.level==1==n<0,j=c(i,M?1:-1);if(j!=null&&(M?j<=u.to&&j<=N.end:j>=u.from&&j>=N.begin)){var q=M?"before":"after";return new B(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(i.line,c(Dt,1),"before"):new B(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:c(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:c(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(s+n,n,N);if(Y)return Y;var V=n>0?N.end:c(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var Hi={selectAll:Lo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return ii(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return ii(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return ii(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return ii(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return ii(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Go(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Xo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return bh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},ke)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},ke)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?Xo(t,e.head):n},ke)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var s=i[r].from(),u=at(t.getLine(s.line),s.ch,n);e.push(It(n-u%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return we(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,s=ct(t.doc,r.line).text;if(s){if(r.ch==s.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var u=ct(t.doc,r.line-1).text;u&&(r=new B(r.line,1),t.replaceRange(s.charAt(0)+t.doc.lineSeparator()+u.charAt(u.length-1),B(r.line-1,u.length-1),r,"+transpose"))}}i.push(new Ot(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return we(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Yn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Go(t,e){var i=ct(t.doc,e),n=Fe(i);return n!=i&&(e=Lt(n)),Ns(!0,t,n,e,1)}function bh(t,e){var i=ct(t.doc,e),n=nl(i);return n!=i&&(e=Lt(n)),Ns(!0,t,i,e,-1)}function Xo(t,e){var i=Go(t,e.line),n=ct(t.doc,i.line),r=Le(n,t.doc.direction);if(!r||r[0].level==0){var s=Math.max(i.ch,n.text.search(/\\S/)),u=e.line==i.line&&e.ch<=s&&e.ch;return B(i.line,u?0:s,i.sticky)}return i}function Ar(t,e,i){if(typeof e=="string"&&(e=Hi[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function yh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ni(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ni(e,t.options.extraKeys,i,t)||ni(e,t.options.keyMap,i,t)}var wh=new _t;function qi(t,e,i,n){var r=t.state.keySeq;if(r){if(jo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:wh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),\$o(t,r+" "+e,i,n))return!0}return \$o(t,e,i,n)}function \$o(t,e,i,n){var r=yh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(se(i),_s(t)),!!r}function Yo(t,e){var i=Ko(e,!0);return i?e.shiftKey&&!t.state.keySeq?qi(t,"Shift-"+i,e,function(n){return Ar(t,n,!0)})||qi(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ar(t,n)}):qi(t,i,e,function(n){return Ar(t,n)}):!1}function xh(t,e,i){return qi(t,"'"+i+"'",e,function(n){return Ar(t,n,!0)})}var Rs=null;function Qo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&k<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Yo(e,t);b&&(Rs=n?i:null,!n&&i==88&&!Be&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),d&&!z&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&kh(e)}}function kh(t){var e=t.display.lineDiv;T(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),re(document,"keyup",i),re(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function Zo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Jo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Rs){Rs=null,se(t);return}if(!(b&&(!t.which||t.which<10)&&Yo(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(xh(e,t,r)||e.display.input.onKeyPress(t))}}}var Sh=400,Fs=function(t,e,i){this.time=t,this.pos=e,this.button=i};Fs.prototype.compare=function(t,e,i){return this.time+Sh>t&&G(e,this.pos)==0&&i==this.button};var ji,Ui;function Eh(t,e){var i=+new Date;return Ui&&Ui.compare(i,t,e)?(ji=Ui=null,"triple"):ji&&ji.compare(i,t,e)?(Ui=new Fs(i,t,e),ji=null,"double"):(ji=new Fs(i,t,e),Ui=null,"single")}function Vo(t){var e=this,i=e.display;if(!(zt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ve(i,t)){p||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ds(e,t)){var n=An(e,t),r=gi(t),s=n?Eh(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&Th(e,r,n,s,t))&&(r==1?n?Ah(e,n,s,t):pe(t)==i.scroller&&se(t):r==2?(n&&xr(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):ps(e)))}}}function Th(t,e,i,n,r){var s="Click";return n=="double"?s="Double"+s:n=="triple"&&(s="Triple"+s),s=(e==1?"Left":e==2?"Middle":"Right")+s,qi(t,Uo(s,r),r,function(u){if(typeof u=="string"&&(u=Hi[u]),!u)return!1;var c=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),c=u(t,i)!=Et}finally{t.state.suppressEdits=!1}return c})}function Ch(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var s=H?i.shiftKey&&i.metaKey:i.altKey;r.unit=s?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=z?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?i.altKey:i.ctrlKey)),r}function Ah(t,e,i,n){S?setTimeout(kt(Va,t),0):t.curOp.focus=lt(wt(t));var r=Ch(t,i,n),s=t.doc.sel,u;t.options.dragDrop&&Gr&&!t.isReadOnly()&&i=="single"&&(u=s.contains(e))>-1&&(G((u=s.ranges[u]).from(),e)<0||e.xRel>0)&&(G(u.to(),e)>0||e.xRel<0)?Lh(t,n,e,r):Oh(t,n,e,r)}function Lh(t,e,i,n){var r=t.display,s=!1,u=Zt(t,function(m){p&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ps(t)),re(r.wrapper.ownerDocument,"mouseup",u),re(r.wrapper.ownerDocument,"mousemove",c),re(r.scroller,"dragstart",_),re(r.scroller,"drop",u),s||(se(m),n.addNew||xr(t.doc,i,null,null,n.extend),p&&!F||S&&k==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),c=function(m){s=s||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return s=!0};p&&(r.scroller.draggable=!0),t.state.draggingText=u,u.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",u),nt(r.wrapper.ownerDocument,"mousemove",c),nt(r.scroller,"dragstart",_),nt(r.scroller,"drop",u),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function tu(t,e,i){if(i=="char")return new Ot(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var n=i(t,e);return new Ot(n.from,n.to)}function Oh(t,e,i,n){S&&ps(t);var r=t.display,s=t.doc;se(e);var u,c,_=s.sel,m=_.ranges;if(n.addNew&&!n.extend?(c=s.sel.contains(i),c>-1?u=m[c]:u=new Ot(i,i)):(u=s.sel.primary(),c=s.sel.primIndex),n.unit=="rectangle")n.addNew||(u=new Ot(i,i)),i=An(t,e,!0,!0),c=-1;else{var N=tu(t,i,n.unit);n.extend?u=Cs(u,N.anchor,N.head,n.extend):u=N}n.addNew?c==-1?(c=m.length,ae(s,Me(t,m.concat([u]),c),{scroll:!1,origin:"*mouse"})):m.length>1&&m[c].empty()&&n.unit=="char"&&!n.extend?(ae(s,Me(t,m.slice(0,c).concat(m.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),_=s.sel):As(s,c,u,Ce):(c=0,ae(s,new Te([u],0),Ce),_=s.sel);var M=i;function j(et){if(G(M,et)!=0)if(M=et,n.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(s,i.line).text,i.ch,gt),xt=at(ct(s,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(i.line,et.line),xe=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=xe;Wt++){var ve=ct(s,Wt).text,Ut=Se(ve,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):ve.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,Se(ve,Vt,gt))))}ut.length||ut.push(new Ot(i,i)),ae(s,Me(t,_.ranges.slice(0,c).concat(ut),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var me=u,ie=tu(t,et,n.unit),\$t=me.anchor,Kt;G(ie.anchor,\$t)>0?(Kt=ie.head,\$t=Xt(me.from(),ie.anchor)):(Kt=ie.anchor,\$t=Ct(me.to(),ie.head));var qt=_.ranges.slice(0);qt[c]=Nh(t,new Ot(yt(s,\$t),Kt)),ae(s,Me(t,qt,c),Ce)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=An(t,et,!0,n.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=gr(r,s);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(se(et),r.input.focus()),re(r.wrapper.ownerDocument,"mousemove",tt),re(r.wrapper.ownerDocument,"mouseup",st),s.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!gi(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Nh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var s=Le(r);if(!s)return e;var u=Ae(s,i.ch,i.sticky),c=s[u];if(c.from!=i.ch&&c.to!=i.ch)return e;var _=u+(c.from==i.ch==(c.level!=1)?0:1);if(_==0||_==s.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Ae(s,n.ch,n.sticky),M=N-u||(n.ch-i.ch)*(c.level==1?-1:1);N==_-1||N==_?m=M<0:m=M>0}var j=s[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new Ot(new B(i.line,X,Y),n)}function eu(t,e,i,n){var r,s;if(e.touches)r=e.touches[0].clientX,s=e.touches[0].clientY;else try{r=e.clientX,s=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&se(e);var u=t.display,c=u.lineDiv.getBoundingClientRect();if(s>c.bottom||!le(t,i))return di(e);s-=c.top-u.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=u.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=He(t.doc,s),M=t.display.gutterSpecs[_];return Mt(t,i,t,N,M.className,e),di(e)}}}function Ds(t,e){return eu(t,e,"gutterClick",!0)}function nu(t,e){Ve(t.display,e)||Rh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Rh(t,e){return le(t,"gutterContextMenu")?eu(t,e,"gutterContextMenu",!1):!1}function iu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Si(t)}var ri={toString:function(){return"CodeMirror.Init"}},ru={},Lr={};function Fh(t){var e=t.optionHandlers;function i(n,r,s,u){t.defaults[n]=r,s&&(e[n]=u?function(c,_,m){m!=ri&&s(c,_,m)}:s)}t.defineOption=i,t.Init=ri,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,Ss(n)},!0),i("indentUnit",2,Ss,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Ri(n),Si(n),de(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var s=[],u=n.doc.first;n.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,s.push(B(u,N))}u++});for(var c=s.length-1;c>=0;c--)ti(n.doc,r,s[c],B(s[c].line,s[c].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,s){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),s!=ri&&n.refresh()}),i("specialCharPlaceholder",ul,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){iu(n),Ni(n)},!0),i("keyMap","default",function(n,r,s){var u=Cr(r),c=s!=ri&&Cr(s);c&&c.detach&&c.detach(n,u),u.attach&&u.attach(n,c||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Mh,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=xs(r,n.options.lineNumbers),Ni(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?hs(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return Qn(n)},!0),i("scrollbarStyle","native",function(n){so(n),Qn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=xs(n.options.gutters,r),Ni(n)},!0),i("firstLineNumber",1,Ni,!0),i("lineNumberFormatter",function(n){return n},Ni,!0),i("showCursorWhenSelecting",!1,Ei,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(\$n(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Dh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Ei,!0),i("singleCursorHeightPerLine",!0,Ei,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Ri,!0),i("addModeClass",!1,Ri,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Ri,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Dh(t,e,i){var n=i&&i!=ri;if(!e!=!n){var r=t.display.dragFunctions,s=e?nt:re;s(t.display.scroller,"dragstart",r.start),s(t.display.scroller,"dragenter",r.enter),s(t.display.scroller,"dragover",r.over),s(t.display.scroller,"dragleave",r.leave),s(t.display.scroller,"drop",r.drop)}}function Mh(t){t.options.lineWrapping?(T(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ts(t)),cs(t),de(t),Si(t),setTimeout(function(){return Qn(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(ru,e,!1);var n=e.value;typeof n=="string"?n=new ge(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),s=this.display=new \$l(t,n,r,e);s.wrapper.CodeMirror=this,iu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),so(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&s.input.focus(),S&&k<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Ph(this),_h(),Rn(this),this.curOp.forceUpdate=!0,go(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&ds(i)},20):\$n(this);for(var u in Lr)Lr.hasOwnProperty(u)&&Lr[u](this,e[u],ri);uo(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ms.length;++c)Ms[c](this);Fn(this),p&&e.lineWrapping&&getComputedStyle(s.lineDiv).textRendering=="optimizelegibility"&&(s.lineDiv.style.textRendering="auto")}Pt.defaults=ru,Pt.optionHandlers=Lr;function Ph(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,Vo)),S&&k<11?nt(e.scroller,"dblclick",Zt(t,function(_){if(!zt(t,_)){var m=An(t,_);if(!(!m||Ds(t,_)||Ve(t.display,_))){se(_);var N=t.findWordAt(m);xr(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(_){return zt(t,_)||se(_)}),nt(e.scroller,"contextmenu",function(_){return nu(t,_)}),nt(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||nu(t,_)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function s(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function u(_,m){if(m.left==null)return!0;var N=m.left-_.left,M=m.top-_.top;return N*N+M*M>20*20}nt(e.scroller,"touchstart",function(_){if(!zt(t,_)&&!s(_)&&!Ds(t,_)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ve(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||u(m,m.prev)?M=new Ot(N,N):!m.prev.prev||u(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),se(_)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Ci(t,e.scroller.scrollTop),On(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(_){return co(t,_)}),nt(e.scroller,"DOMMouseScroll",function(_){return co(t,_)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){zt(t,_)||Xe(_)},over:function(_){zt(t,_)||(fh(t,_),Xe(_))},start:function(_){return ch(t,_)},drop:Zt(t,hh),leave:function(_){zt(t,_)||zo(t)}};var c=e.input.getField();nt(c,"keyup",function(_){return Zo.call(t,_)}),nt(c,"keydown",Zt(t,Qo)),nt(c,"keypress",Zt(t,Jo)),nt(c,"focus",function(_){return ds(t,_)}),nt(c,"blur",function(_){return \$n(t,_)})}var Ms=[];Pt.defineInitHook=function(t){return Ms.push(t)};function Ki(t,e,i,n){var r=t.doc,s;i==null&&(i="add"),i=="smart"&&(r.mode.indent?s=bi(t,e).state:i="prev");var u=t.options.tabSize,c=ct(r,e),_=at(c.text,null,u);c.stateAfter&&(c.stateAfter=null);var m=c.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(c.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(s,c.text.slice(m.length),c.text),N==Et||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,u):N=0:i=="add"?N=_+t.options.indentUnit:i=="subtract"?N=_-t.options.indentUnit:typeof i=="number"&&(N=_+i),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/u);q;--q)j+=u,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return ti(r,M,B(e,0),B(e,m.length),"+input"),c.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);As(r,X,new Ot(V,V));break}}}var Pe=null;function Or(t){Pe=t}function Ps(t,e,i,n,r){var s=t.doc;t.display.shift=!1,n||(n=s.sel);var u=+new Date-200,c=r=="paste"||t.state.pasteIncoming>u,_=vi(e),m=null;if(c&&n.ranges.length>1)if(Pe&&Pe.text.join(\`
\`)==e){if(n.ranges.length%Pe.text.length==0){m=[];for(var N=0;N<Pe.text.length;N++)m.push(s.splitLines(Pe.text[N]))}}else _.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(_,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=B(X.line,X.ch-i):t.state.overwrite&&!c?Y=B(Y.line,Math.min(ct(s,Y.line).text.length,Y.ch+mt(_).length)):c&&Pe&&Pe.lineWise&&Pe.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(c?"paste":t.state.cutIncoming>u?"cut":"+input")};Vn(t.doc,V),Qt(t,"inputRead",t,V)}e&&!c&&au(t,e),Yn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function su(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&we(e,function(){return Ps(e,i,0,null,"paste")}),!0}function au(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var s=t.getModeAt(r.head),u=!1;if(s.electricChars){for(var c=0;c<s.electricChars.length;c++)if(e.indexOf(s.electricChars.charAt(c))>-1){u=Ki(t,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(u=Ki(t,r.head.line,"smart"));u&&Qt(t,"electricInput",t,r.head.line)}}}function ou(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,s={anchor:B(r,0),head:B(r+1,0)};i.push(s),e.push(t.getRange(s.anchor,s.head))}return{text:e,ranges:i}}function Ws(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function uu(){var t=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=C("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Wh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var s=this.options,u=s[n];s[n]==r&&n!="mode"||(s[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,u),Mt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Cr(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,s=0;s<r.length;++s)if(r[s]==n||r[s].name==n)return r.splice(s,1),!0},addOverlay:ce(function(n,r){var s=n.token?n:t.getMode(this.options,n);if(s.startState)throw new Error("Overlays may not be stateful.");on(this.state.overlays,{mode:s,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(u){return u.priority}),this.state.modeGen++,de(this)}),removeOverlay:ce(function(n){for(var r=this.state.overlays,s=0;s<r.length;++s){var u=r[s].modeSpec;if(u==n||typeof n=="string"&&u.name==n){r.splice(s,1),this.state.modeGen++,de(this);return}}}),indentLine:ce(function(n,r,s){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),w(this.doc,n)&&Ki(this,n,r,s)}),indentSelection:ce(function(n){for(var r=this.doc.sel.ranges,s=-1,u=0;u<r.length;u++){var c=r[u];if(c.empty())c.head.line>s&&(Ki(this,c.head.line,n,!0),s=c.head.line,u==this.doc.sel.primIndex&&Yn(this));else{var _=c.from(),m=c.to(),N=Math.max(s,_.line);s=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<s;++M)Ki(this,M,n);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[u].from().ch>0&&As(this.doc,u,new Ot(_,j[u].to()),Rt)}}}),getTokenAt:function(n,r){return va(this,n,r)},getLineTokens:function(n,r){return va(this,B(n),r,!0)},getTokenTypeAt:function(n){n=yt(this.doc,n);var r=pa(this,ct(this.doc,n.line)),s=0,u=(r.length-1)/2,c=n.ch,_;if(c==0)_=r[2];else for(;;){var m=s+u>>1;if((m?r[m*2-1]:0)>=c)u=m;else if(r[m*2+1]<c)s=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var s=[];if(!i.hasOwnProperty(r))return s;var u=i[r],c=this.getModeAt(n);if(typeof c[r]=="string")u[c[r]]&&s.push(u[c[r]]);else if(c[r])for(var _=0;_<c[r].length;_++){var m=u[c[r][_]];m&&s.push(m)}else c.helperType&&u[c.helperType]?s.push(u[c.helperType]):u[c.name]&&s.push(u[c.name]);for(var N=0;N<u._global.length;N++){var M=u._global[N];M.pred(c,this)&&vt(s,M.val)==-1&&s.push(M.val)}return s},getStateAfter:function(n,r){var s=this.doc;return n=Ee(s,n??s.first+s.size-1),bi(this,n+1,r).state},cursorCoords:function(n,r){var s,u=this.doc.sel.primary();return n==null?s=u.head:typeof n=="object"?s=yt(this.doc,n):s=n?u.from():u.to(),De(this,s,r||"page")},charCoords:function(n,r){return fr(this,yt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=Ga(this,n,r||"page"),os(this,n.left,n.top)},lineAtHeight:function(n,r){return n=Ga(this,{top:n,left:0},r||"page").top,He(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,s){var u=!1,c;if(typeof n=="number"){var _=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>_&&(n=_,u=!0),c=ct(this.doc,n)}else c=n;return cr(this,c,{top:0,left:0},r||"page",s||u).top+(u?this.doc.height-Je(c):0)},defaultTextHeight:function(){return Gn(this.display)},defaultCharWidth:function(){return Xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,s,u,c){var _=this.display;n=De(this,yt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),u=="over")m=n.top;else if(u=="above"||u=="near"){var M=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(u=="above"||n.bottom+r.offsetHeight>M)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=M&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",c=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(c=="left"?N=0:c=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),s&&Dl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:ce(Qo),triggerOnKeyPress:ce(Jo),triggerOnKeyUp:Zo,triggerOnMouseDown:ce(Vo),execCommand:function(n){if(Hi.hasOwnProperty(n))return Hi[n].call(null,this)},triggerElectric:ce(function(n){au(this,n)}),findPosH:function(n,r,s,u){var c=1;r<0&&(c=-1,r=-r);for(var _=yt(this.doc,n),m=0;m<r&&(_=Is(this.doc,_,c,s,u),!_.hitSide);++m);return _},moveH:ce(function(n,r){var s=this;this.extendSelectionsBy(function(u){return s.display.shift||s.doc.extend||u.empty()?Is(s.doc,u.head,n,r,s.options.rtlMoveVisually):n<0?u.from():u.to()},ke)}),deleteH:ce(function(n,r){var s=this.doc.sel,u=this.doc;s.somethingSelected()?u.replaceSelection("",null,"+delete"):ii(this,function(c){var _=Is(u,c.head,n,r,!1);return n<0?{from:_,to:c.head}:{from:c.head,to:_}})}),findPosV:function(n,r,s,u){var c=1,_=u;r<0&&(c=-1,r=-r);for(var m=yt(this.doc,n),N=0;N<r;++N){var M=De(this,m,"div");if(_==null?_=M.left:M.left=_,m=lu(this,M,c,s),m.hitSide)break}return m},moveV:ce(function(n,r){var s=this,u=this.doc,c=[],_=!this.display.shift&&!u.extend&&u.sel.somethingSelected();if(u.extendSelectionsBy(function(N){if(_)return n<0?N.from():N.to();var M=De(s,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),c.push(M.left);var j=lu(s,M,n,r);return r=="page"&&N==u.sel.primary()&&vs(s,fr(s,j,"div").top-M.top),j},ke),c.length)for(var m=0;m<u.sel.ranges.length;m++)u.sel.ranges[m].goalColumn=c[m]}),findWordAt:function(n){var r=this.doc,s=ct(r,n.line).text,u=n.ch,c=n.ch;if(s){var _=this.getHelper(n,"wordChars");(n.sticky=="before"||c==s.length)&&u?--u:++c;for(var m=s.charAt(u),N=In(m,_)?function(M){return In(M,_)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!In(M)};u>0&&N(s.charAt(u-1));)--u;for(;c<s.length&&N(s.charAt(c));)++c}return new Ot(B(n.line,u),B(n.line,c))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?T(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ce(function(n,r){Ti(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-je(this)-this.display.barHeight,width:n.scrollWidth-je(this)-this.display.barWidth,clientHeight:is(this),clientWidth:Tn(this)}},scrollIntoView:ce(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:B(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Ml(this,n):eo(this,n.from,n.to,n.margin)}),setSize:ce(function(n,r){var s=this,u=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};n!=null&&(this.display.wrapper.style.width=u(n)),r!=null&&(this.display.wrapper.style.height=u(r)),this.options.lineWrapping&&ja(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){_n(s,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(n){return we(this,n)},startOperation:function(){return Rn(this)},endOperation:function(){return Fn(this)},refresh:ce(function(){var n=this.display.cachedTextHeight;de(this),this.curOp.forceUpdate=!0,Si(this),Ti(this,this.doc.scrollLeft,this.doc.scrollTop),ys(this.display),(n==null||Math.abs(n-Gn(this.display))>.5||this.options.lineWrapping)&&cs(this),Mt(this,"refresh",this)}),swapDoc:ce(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),go(this,n),Si(this),this.display.input.reset(),Ti(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},he(t),t.registerHelper=function(n,r,s){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=s},t.registerGlobalHelper=function(n,r,s,u){t.registerHelper(n,r,u),i[n]._global.push({pred:s,val:u})}}function Is(t,e,i,n,r){var s=e,u=i,c=ct(t,e.line),_=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),c=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=c.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var gt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(c.text.length,e.ch+i*(gt?2:1))),-i)}}else r?et=mh(t.cm,c,e,i):et=Os(c,e,i);if(et==null)if(!st&&m())e=Ns(r,t.cm,c,e.line,_);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var M=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=c.text.charAt(e.ch)||\`
\`,V=In(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(M=V),i>0&&!N(!X))break}var tt=Sr(t,e,s,u,!0);return bt(s,tt)&&(tt.hitSide=!0),tt}function lu(t,e,i,n){var r=t.doc,s=e.left,u;if(n=="page"){var c=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(c-.5*Gn(t.display),3);u=(i>0?e.bottom:e.top)+i*_}else n=="line"&&(u=i>0?e.bottom+3:e.top-3);for(var m;m=os(t,s,u),!!m.outside;){if(i<0?u<=0:u>=r.height){m.hitSide=!0;break}u+=i*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Ws(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function s(c){for(var _=c.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}nt(r,"paste",function(c){!s(c)||zt(n,c)||su(c,n)||k<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(c){e.composing={data:c.data,done:!1}}),nt(r,"compositionupdate",function(c){e.composing||(e.composing={data:c.data,done:!1})}),nt(r,"compositionend",function(c){e.composing&&(c.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function u(c){if(!(!s(c)||zt(n,c))){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()}),c.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var _=ou(n);Or({lineWise:!0,text:_.text}),c.type=="cut"&&n.operation(function(){n.setSelections(_.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var m=Pe.text.join(\`
\`);if(c.clipboardData.setData("Text",m),c.clipboardData.getData("Text")==m){c.preventDefault();return}}var N=uu(),M=N.firstChild;Ws(M),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),M.value=Pe.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",u),nt(r,"cut",u)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Ja(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var s=Nr(e,t.anchorNode,t.anchorOffset),u=Nr(e,t.focusNode,t.focusOffset);if(!(s&&!s.bad&&u&&!u.bad&&G(Xt(s,u),n)==0&&G(Ct(s,u),r)==0)){var c=e.display.view,_=n.line>=e.display.viewFrom&&hu(e,n)||{node:c[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&hu(e,r);if(!m){var N=c[c.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(_.node,_.offset,m.offset,m.node)}catch{}q&&(!d&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):d&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):we(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&l&&this.cm.display.gutterSpecs.length&&Ih(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Nr(e,t.anchorNode,t.anchorOffset),n=Nr(e,t.focusNode,t.focusOffset);i&&n&&we(e,function(){ae(e.doc,dn(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=B(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var s,u,c;n.line==e.viewFrom||(s=Ln(t,n.line))==0?(u=Lt(e.view[0].line),c=e.view[0].node):(u=Lt(e.view[s].line),c=e.view[s-1].node.nextSibling);var _=Ln(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!c)return!1;for(var M=t.doc.splitLines(Bh(t,c,N,u,m)),j=Qe(t.doc,B(u,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),u++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&u==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(u,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return ti(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&we(this.cm,function(){return de(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Ps)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function hu(t,e){var i=rs(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Ia(i,n,e.line),s=Le(n,t.doc.direction),u="left";if(s){var c=Ae(s,e.ch);u=c%2?"right":"left"}var _=Ha(r.map,e.ch,u);return _.offset=_.collapse=="right"?_.end:_.start,_}function Ih(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function si(t,e){return e&&(t.bad=!0),t}function Bh(t,e,i,n,r){var s="",u=!1,c=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){u&&(s+=c,_&&(s+=c),u=_=!1)}function M(q){q&&(N(),s+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(n,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(c));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(u=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,_=!1;return s}function Nr(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return si(t.clipPos(B(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var s=t.display.view[r];if(s.node==n)return zh(s,e,i)}}function zh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return si(B(Lt(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var s=t.rest?mt(t.rest):t.line;return si(B(Lt(s),s.text.length),r)}var u=e.nodeType==3?e:null,c=e;for(!u&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(u=e.firstChild,i&&(i=u.nodeValue.length));c.parentNode!=n;)c=c.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(u,c,i);if(M)return si(M,r);for(var j=c.nextSibling,q=u?u.nodeValue.length-i:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return si(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=c.previousSibling,Y=i;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return si(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&k>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(u){zt(n,u)||su(u,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function s(u){if(!zt(n,u)){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var c=ou(n);Or({lineWise:!0,text:c.text}),u.type=="cut"?n.setSelections(c.ranges,null,Rt):(i.prevInput="",r.value=c.text.join(\`
\`),dt(r))}else return;u.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",s),nt(r,"copy",s),nt(t.scroller,"paste",function(u){if(!(Ve(t,u)||zt(n,u))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var c=new Event("paste");c.clipboardData=u.clipboardData,r.dispatchEvent(c)}}),nt(t.lineSpace,"selectstart",function(u){Ve(t,u)||se(u)}),nt(r,"compositionstart",function(){var u=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:u,range:n.markText(u,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},jt.prototype.createField=function(t){this.wrapper=uu(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ws(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ja(t);if(t.options.moveInputWithCursor){var r=De(t,i.sel.primary().head,"div"),s=e.wrapper.getBoundingClientRect(),u=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+u.top-s.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+u.left-s.left))}return n},jt.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&k>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&k>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},jt.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||un(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&k>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var s=r.charCodeAt(0);if(s==8203&&!n&&(n="​"),s==8666)return this.reset(),this.cm.execCommand("undo")}for(var u=0,c=Math.min(n.length,r.length);u<c&&n.charCodeAt(u)==r.charCodeAt(u);)++u;return we(e,function(){Ps(e,r.slice(u),n.length-u,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&k>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var s=An(i,t),u=n.scroller.scrollTop;if(!s||b)return;var c=i.options.resetSelectionOnContextMenu;c&&i.doc.sel.contains(s)==-1&&Zt(i,ae)(i.doc,dn(s),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;p&&(M=r.ownerDocument.defaultView.scrollY),n.input.focus(),p&&r.ownerDocument.defaultView.scrollTo(null,M),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&k<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),r.selectionStart!=null)){(!S||S&&k<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,Lo)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&k>=9&&j(),rt){Xe(t);var X=function(){re(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Hh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=c.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var s=t.form;r=s.submit;try{var u=s.submit=function(){n(),s.submit=r,s.submit(),s.submit=u}}catch{}}e.finishInit=function(_){_.save=n,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,n(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(re(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var c=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return c}function qh(t){t.off=re,t.on=nt,t.wheelEventPixels=Yl,t.Doc=ge,t.splitLines=vi,t.countColumn=at,t.findColumn=Se,t.isWordChar=fi,t.Pass=Et,t.signal=Mt,t.Line=jn,t.changeEnd=gn,t.scrollbarModel=ro,t.Pos=B,t.cmpPos=G,t.modes=Re,t.mimeModes=ln,t.resolveMode=ye,t.getMode=\$e,t.modeExtensions=hn,t.extendMode=nr,t.copyState=Ye,t.startState=mi,t.innerMode=cn,t.commands=Hi,t.keyMap=en,t.keyName=Ko,t.isModifierKey=jo,t.lookupKey=ni,t.normalizeKeyMap=vh,t.StringStream=Ht,t.SharedTextMarker=Ii,t.TextMarker=mn,t.LineWidget=Wi,t.e_preventDefault=se,t.e_stopPropagation=En,t.e_stop=Xe,t.addClass=T,t.contains=J,t.rmClass=R,t.keyNames=bn}Fh(Pt),Wh(Pt);var jh="iter insert remove copy getEditor constructor".split(" ");for(var Rr in ge.prototype)ge.prototype.hasOwnProperty(Rr)&&vt(jh,Rr)<0&&(Pt.prototype[Rr]=function(t){return function(){return t.apply(this.doc,arguments)}}(ge.prototype[Rr]));return he(ge),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),er.apply(this,arguments)},Pt.defineMIME=Hn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){ge.prototype[t]=e},Pt.fromTextArea=Hh,qh(Pt),Pt.version="5.65.12",Pt});const Uh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},Kh=(()=>{let o=[];return Object.values(Uh).forEach(a=>{a.middle&&(o.push(a.general.code),o.push(a.middle.code),o.push(a.beginning.code))}),o})();function Fr(o){let a=[];return o.split("").forEach(d=>{Kh.includes(d)?a.push(\`\${d}ـ*\`):d==="ـ"||a.push(d)}),a.join("")}function Xs(o){return(""+o).split("").map(A=>{switch(A){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Gh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],ta={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ea={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},na={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Xh={...ta,...ea,...na},\$h="[\\\\p{L}_]",Yh="[\\\\p{L}\\\\p{N}_]",qr=\`(?:\${\$h}\${Yh}*)\`,Qh="[^\\\\p{L}\\\\p{N}_]",ia="[٠-٩]",Zh=\`(?:,\${ia}+)\`,Jh=\`\${ia}+\${Zh}?\`,ra="[0-9]",Vh=\`(?:\\\\.\${ra}+)\`,Tu=\`\${ra}+\${Vh}?\`,Hs="\\\\\\\\",Dr="\\\\/",Mr="\\\\-",Gi="\\\\{",Xi="\\\\}",tc="\\\\(",ec="\\\\)",\$s="\\\\s",nc=\`\${tc}?\${\$s}*\${ec}?\`,ic=()=>RegExp(\`(?:(?:#|#)\${qr})\`,"u"),rc=()=>RegExp(\`(?:~\${qr}?\${\$s}*\${nc}\${\$s}*->)\`,"u"),Cu=[{regex:ic(),token:"meta"},{regex:rc(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Gh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Au={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var d=[function(E,S,k){var p=k(1).Beautifier,h=k(5).Options;E.exports=function(l,f){return new p(l,f).beautify()},E.exports.defaultOptions=function(){return new h}},function(E,S,k){var p=k(2).Output,h=k(3).Token,l=k(4),f=k(5).Options,b=k(7).Tokenizer,F=k(7).line_starters,O=k(7).positionable_operators,g=k(7).TOKEN;function y(T,\$){return \$.indexOf(T)!==-1}function W(T,\$){return T&&T.type===g.RESERVED&&T.text===\$}function D(T,\$){return T&&T.type===g.RESERVED&&y(T.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(T){for(var \$={},dt=0;dt<T.length;dt++)\$[T[dt].replace(/-/g,"_")]=T[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",x="Conditional",K="Expression";function C(T,\$){\$.multiline_frame||\$.mode===R||\$.mode===x||T.remove_indent(\$.start_line_index)}function Q(T){return T===I}function it(T){return y(T,[K,R,x])}function J(T,\$){\$=\$||{},this._source_text=T||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(T,\$){var dt=0;return T&&(dt=T.indentation_level,!this._output.just_added_newline()&&T.line_indent_level>dt&&(dt=T.line_indent_level)),{mode:\$,parent:T,last_token:T?T.last_token:new h(g.START_BLOCK,""),last_word:T?T.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:T?T.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(T){var \$=T.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new p(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(T,this._options));return this._tokens=\$.tokenize(),T},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var T=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,T&&l.lineBreak.test(T||"")&&(\$=T.match(l.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(T,\$){T.type===g.START_EXPR?this.handle_start_expr(T):T.type===g.END_EXPR?this.handle_end_expr(T):T.type===g.START_BLOCK?this.handle_start_block(T):T.type===g.END_BLOCK?this.handle_end_block(T):T.type===g.WORD||T.type===g.RESERVED?this.handle_word(T):T.type===g.SEMICOLON?this.handle_semicolon(T):T.type===g.STRING?this.handle_string(T):T.type===g.EQUALS?this.handle_equals(T):T.type===g.OPERATOR?this.handle_operator(T):T.type===g.COMMA?this.handle_comma(T):T.type===g.BLOCK_COMMENT?this.handle_block_comment(T,\$):T.type===g.COMMENT?this.handle_comment(T,\$):T.type===g.DOT?this.handle_dot(T):T.type===g.EOF?this.handle_eof(T):(T.type,g.UNKNOWN,this.handle_unknown(T,\$))},J.prototype.handle_whitespace_and_comments=function(T,\$){var dt=T.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(T.comments_before)for(var Nt=T.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=T.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(T,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&T.newlines||\$,(y(this._flags.last_token.text,O)||y(T.text,O))&&(T=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(T.text,O),\$=\$&&T),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(T,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(T)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(T){this._output.just_added_newline()&&(this._options.keep_array_indentation&&T.newlines&&(T.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(T.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(T){var \$;this._output.raw?this._output.add_raw_token(T):(this._options.comma_first&&T.previous&&T.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(T),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(T),this._output.non_breaking_space=!0,this._output.add_token(T.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(T){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,T),this._flags=this.create_flags(this._previous_flags,T),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&C(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(T){return!!(D(this._flags.last_token,["var","let","const"])&&T.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!T.newlines||W(this._flags.last_token,"else")&&!(W(T,"if")&&!T.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===x)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(T.text==="--"||T.text==="++")&&this._last_last_text!=="function"&&T.type!==g.WORD&&T.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(T,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T,D(T,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T);var \$,dt,wt=K;if(T.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(T),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=x):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&T.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(T),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(T,T.newlines),this.print_token(T),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(T){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(T),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(T,T.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(T),this.restore_mode(),C(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===x&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(T){this.handle_whitespace_and_comments(T);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==T))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&T.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(T),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(T),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(T){for(this.handle_whitespace_and_comments(T);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(T)},J.prototype.handle_word=function(T){if(T.type===g.RESERVED&&(y(T.text,["set","get"])&&this._flags.mode!==rt||T.text==="import"&&y(this._tokens.peek().text,["(","."])||y(T.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(T.type=g.WORD),this.start_of_statement(T)?D(this._flags.last_token,["var","let","const"])&&T.type===g.WORD&&(this._flags.declaration_statement=!0):!T.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(T):(this.handle_whitespace_and_comments(T),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(T,"while"))return this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(T,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(T,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(T),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(T),W(T,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||T.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(T),void(this._flags.last_word=T.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(T,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&T.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(T,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(T,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&T.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(T,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(T,["var","let","const"])||this._flags.last_token.text===":"||(W(T,"if")&&W(T.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(T,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!T.previous||T.previous.type!==g.WORD&&T.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(T),this._flags.last_word=T.text,T.type===g.RESERVED&&(T.text==="do"?this._flags.do_block=!0:T.text==="if"?this._flags.if_block=!0:T.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(T,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(T){this.start_of_statement(T)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(T);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(T)},J.prototype.handle_string=function(T){T.text.startsWith("\`")&&T.newlines===0&&T.whitespace_before===""&&(T.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(T)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(T),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(T):!T.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||T.previous.text!=="]"&&T.previous.text!==")"||T.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(T)},J.prototype.handle_equals=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0},J.prototype.handle_comma=function(T){this.handle_whitespace_and_comments(T,!0),this.print_token(T),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(T)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(T)},J.prototype.handle_operator=function(T){var \$=T.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(T.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(T)||this.handle_whitespace_and_comments(T,!\$),T.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(T);else if(T.text==="::")this.print_token(T);else if(y(T.text,["-","+"])&&this.start_of_object_property())this.print_token(T);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(T),T.text===":"&&this._flags.in_case)return this.print_token(T),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(T.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):T.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(T.text,O)){var ft=T.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(T),ft&&!at||this.allow_wrap_or_preserved_newline(T),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(T):this._output.space_before_token=!1,this.print_token(T),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(T),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(T),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(T),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[g.WORD,g.RESERVED])):T.text==="..."?(this.allow_wrap_or_preserved_newline(T),wt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(T.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(T),Nt=wt=!1,!T.newlines||T.text!=="--"&&T.text!=="++"&&T.text!=="~"||((\$=D(this._flags.last_token,z)&&T.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(wt=!0),this._flags.last_token.type===g.RESERVED?wt=!0:this._flags.last_token.type===g.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(T.text==="--"||T.text==="++")):this._flags.last_token.type===g.OPERATOR&&(wt=y(T.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(T.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(T),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(T,\$){return this._output.raw?(this._output.add_raw_token(T),void(T.directives&&T.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):T.directives?(this.print_newline(!1,\$),this.print_token(T),T.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(l.newline.test(T.text)||T.newlines?this.print_block_commment(T,\$):(this._output.space_before_token=!0,this.print_token(T),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(T,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ne=(_t=_t.replace(l.allLineBreaks,\`
\`)).indexOf(\`
\`);ne!==-1;)vt.push(_t.substring(0,ne)),ne=(_t=_t.substring(ne+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(T.text),ft=T.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(T),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ne=0;ne<_t.length;ne++)if(_t[ne].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ne,Et=0,Rt=_t.length;Et<Rt;Et++)if((ne=_t[Et])&&ne.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(T),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(T),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(T,\$){T.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(T),this.print_newline(!1,\$)},J.prototype.handle_dot=function(T){this.start_of_statement(T)||this.handle_whitespace_and_comments(T,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(T,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(T)},J.prototype.handle_unknown=function(T,\$){this.print_token(T),T.text[T.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(T){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(T)},E.exports.Beautifier=J},function(E){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function k(h,l){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),l=l||"",0<h.indent_level&&(l=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=l,this.__base_string_length=l.length}function p(h,l){this.__indent_cache=new k(h,l),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var l=this.__items.length-1;0<=l;l--)if(this.__items[l].match(h))return!0;return!1},S.prototype.set_indent=function(h,l){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=l||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var l=h.lastIndexOf(\`
\`);l!==-1?this.__character_count=h.length-l:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},k.prototype.get_indent_size=function(h,l){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(l=l||0)},k.prototype.get_indent_string=function(h,l){var f=this.__base_string;return l=l||0,h<0&&(h=0,f=""),l+=h*this.__indent_size,this.__ensure_cache(l),f+=this.__cache[l]},k.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},k.prototype.__add_column=function(){var h,l=this.__cache.length,f="";this.__indent_size&&l>=this.__indent_size&&(l-=(h=Math.floor(l/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),l&&(f+=new Array(l+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,l){return this.__indent_cache.get_indent_string(h,l)},p.prototype.get_indent_size=function(h,l){return this.__indent_cache.get_indent_size(h,l)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var l=this.current_line.pop(),l=(l&&(l[l.length-1]===\`
\`&&(l=l.replace(/\\n+\$/g,"")),this.current_line.push(l)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return l=h!==\`
\`?l.replace(/[\\n]/g,h):l},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,l){return this.next_line.set_indent(h=h||0,l=l||0),1<this.__lines.length?(this.current_line.set_indent(h,l),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var l=0;l<h.newlines;l++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var l=this.__lines.length;h<l;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,l){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==l){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=p},function(E){E.exports.Token=function(S,k,p,h){this.type=S,this.text=k,this.comments_before=null,this.newlines=p||0,this.whitespace_before=h||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var k="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",p="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",h="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",l="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+l+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+p+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+l+"|["+k+p+h+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,k){var p=k(6).Options,h=["before-newline","after-newline","preserve-newline"];function l(b){p.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",h),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}l.prototype=new p,E.exports.Options=l},function(E){function S(h,l){this.raw_options=k(h,l),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function k(h,l){var f,b={};for(f in h=p(h))f!==l&&(b[f]=h[f]);if(l&&h[l])for(f in h[l])b[f]=h[l][f];return b}function p(h){var l,f={};for(l in h)f[l.replace(/-/g,"_")]=h[l];return f}S.prototype._get_array=function(h,l){return h=this.raw_options[h],l=l||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(l=h.concat()):typeof h=="string"&&(l=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),l},S.prototype._get_boolean=function(h,l){return h=this.raw_options[h],h===void 0?!!l:!!h},S.prototype._get_characters=function(h,l){return h=this.raw_options[h],l=l||"",l=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):l},S.prototype._get_number=function(h,l){return h=this.raw_options[h],l=parseInt(l,10),isNaN(l)&&(l=0),h=parseInt(h,10),h=isNaN(h)?l:h},S.prototype._get_selection=function(h,l,f){if(f=this._get_selection_list(h,l,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,l,f){if(!l||l.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[l[0]],!this._is_valid_selection(f,l))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,l))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,l){return h.length&&l.length&&!h.some(function(f){return l.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=p,E.exports.mergeOpts=k},function(E,S,U){var p=U(8).InputScanner,h=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,l=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,x){return x.indexOf(R)!==-1}function O(R,x){h.call(this,R,x),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),x=new b(this._input).read_options(this._options),this.__patterns={template:x,identifier:x.starting_with(l.identifier).matching(l.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(l.lineBreak),shebang:R.starting_with(/#!/).until_after(l.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:x.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:x.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:x.until(/[\`\\\\\$]/),template_expression:x.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new h)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,x){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&x&&(R.text==="]"&&x.text==="["||R.text===")"&&x.text==="("||R.text==="}"&&x.text==="{")},O.prototype._reset=function(){g=!1},O.prototype._get_next_token=function(R,x){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var x=this.__patterns.identifier.read();return x!==""?(x=x.replace(l.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(x)?x!=="in"&&x!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,x):this._create_token(y.OPERATOR,x):this._create_token(y.WORD,x)):(x=this.__patterns.number.read())!==""?this._create_token(y.WORD,x):void 0},O.prototype._read_singles=function(R){var x=null;return R==="("||R==="["?x=this._create_token(y.START_EXPR,R):R===")"||R==="]"?x=this._create_token(y.END_EXPR,R):R==="{"?x=this._create_token(y.START_BLOCK,R):R==="}"?x=this._create_token(y.END_BLOCK,R):R===";"?x=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?x=this._create_token(y.DOT,R):R===","&&(x=this._create_token(y.COMMA,R)),x&&this._input.next(),x},O.prototype._read_pair=function(R,x){var K=null;return(K=R==="#"&&x==="{"?this._create_token(y.START_BLOCK,R+x):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var x="";if(R==="#"){if(this._is_first_token()&&(x=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,x.trim()+\`
\`);if(x=this.__patterns.include.read())return this._create_token(y.UNKNOWN,x.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(x=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(l.newline);)x+=this._input.next();return g=!0,this._create_token(y.COMMENT,x)}}else if(g&&R==="-"&&(x=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,x);return null},O.prototype._read_comment=function(R){var x,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(x=W.get_directives(R))&&x.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(l.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=x):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var x;return R==="\`"||R==="'"||R==='"'?(x=this._input.next(),this.has_char_escapes=!1,x+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(x=function(K){for(var C="",Q=0,it=new p(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(C+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){C+="\\\\",it.hasNext()&&(C+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;C+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return C}(x)),this._input.peek()===R&&(x+=this._input.next()),x=x.replace(l.allLineBreaks,\`
\`),this._create_token(y.STRING,x)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,x){if(R==="/"&&this._allow_regexp_or_xml(x)){for(var K=this._input.next(),C=!1,Q=!1;this._input.hasNext()&&(C||Q||this._input.peek()!==R)&&!this._input.testChar(l.newline);)K+=this._input.peek(),C?C=!1:(C=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(l.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,x){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(x)){var K="",C=this.__patterns.xml.read_match();if(C){for(var Q=C[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;C;){var lt=!!C[1],T=C[2];if(!(C[C.length-1]||T.slice(0,8)==="![CDATA[")&&(T===Q||it&&T.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=C[0],J<=0)break;C=this.__patterns.xml.read_match()}return C||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(l.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,x,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var C,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!x&&l.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((C=this._input.peek())==="x"||C==="u"?this.has_char_escapes=!0:C==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",x,"\`"):this._read_string_recursive("\`",x,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=O,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function k(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}k.prototype.restart=function(){this.__position=0},k.prototype.back=function(){0<this.__position&&--this.__position},k.prototype.hasNext=function(){return this.__position<this.__input_length},k.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},k.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},k.prototype.__match=function(p,h){p.lastIndex=h;var l=p.exec(this.__input);return!l||S&&p.sticky||l.index!==h&&(l=null),l},k.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},k.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},k.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},k.prototype.read=function(p,h,l){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,l)),b},k.prototype.readUntil=function(f,h){var l=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(l=f.index,h&&(l+=f[0].length)):l=this.__input_length,h=this.__input.substring(this.__position,l),this.__position=l,h},k.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},k.prototype.get_regexp=function(p,f){var l=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?l=new RegExp(p,f):p&&(l=new RegExp(p.source,f)),l},k.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},k.prototype.peekUntilAfter=function(l){var h=this.__position,l=this.readUntilAfter(l);return this.__position=h,l},k.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},E.exports.InputScanner=k},function(E,S,k){function p(O,g){this._input=new h(O),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var h=k(8).InputScanner,l=k(3).Token,f=k(10).TokenStream,b=k(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};p.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var O,g=new l(F.START,""),y=null,W=[],D=new f;g.type!==F.EOF;){for(O=this._get_next_token(g,y);this._is_comment(O);)D.add(O),O=this._get_next_token(g,y);D.isEmpty()||(O.comments_before=D,D=new f),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=g).next=O,this.__tokens.add(O),g=O}return this.__tokens},p.prototype._is_first_token=function(){return this.__tokens.isEmpty()},p.prototype._reset=function(){},p.prototype._get_next_token=function(O,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},p.prototype._is_comment=function(O){return!1},p.prototype._is_opening=function(O){return!1},p.prototype._is_closing=function(O,g){return!1},p.prototype._create_token=function(O,g){return new l(O,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},p.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=p,E.exports.TOKEN=F},function(E){function S(k){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=k}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var k=null;return this.hasNext()&&(k=this.__tokens[this.__position],this.__position+=1),k},S.prototype.peek=function(k){var p=null;return k=k||0,p=0<=(k+=this.__position)&&k<this.__tokens_length?this.__tokens[k]:p},S.prototype.add=function(k){this.__parent_token&&(k.parent=this.__parent_token),this.__tokens.push(k),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,k){var p=k(12).Pattern;function h(l,f){p.call(this,l,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(h.prototype=new p).__set_whitespace_patterns=function(l,f){this._match_pattern=this._input.get_regexp("["+(l+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},h.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var l,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(l=this.__split(this._newline_regexp,f),this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]),f},h.prototype.matching=function(l,f){var b=this._create();return b.__set_whitespace_patterns(l,f),b._update(),b},h.prototype._create=function(){return new h(this._input,this)},h.prototype.__split=function(l,f){for(var b=l.lastIndex=0,F=[],O=l.exec(f);O;)F.push(f.substring(b,O.index)),b=O.index+O[0].length,O=l.exec(f);return b<f.length?F.push(f.substring(b,f.length)):F.push(""),F},E.exports.WhitespacePattern=h},function(E){function S(k,p){this._input=k,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,p&&(this._starting_pattern=this._input.get_regexp(p._starting_pattern,!0),this._match_pattern=this._input.get_regexp(p._match_pattern,!0),this._until_pattern=this._input.get_regexp(p._until_pattern),this._until_after=p._until_after)}S.prototype.read=function(){var k=this._input.read(this._starting_pattern);return this._starting_pattern&&!k||(k+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),k},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(k){var p=this._create();return p._until_after=!0,p._until_pattern=this._input.get_regexp(k),p._update(),p},S.prototype.until=function(k){var p=this._create();return p._until_after=!1,p._until_pattern=this._input.get_regexp(k),p._update(),p},S.prototype.starting_with=function(k){var p=this._create();return p._starting_pattern=this._input.get_regexp(k,!0),p._update(),p},S.prototype.matching=function(k){var p=this._create();return p._match_pattern=this._input.get_regexp(k,!0),p._update(),p},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(k,p){k=typeof k=="string"?k:k.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(k+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(k+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(k){if(!k.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(k));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(k);return p},S.prototype.readIgnored=function(k){return k.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,k){var p=k(12).Pattern,h={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function l(f,b){p.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},h),this._excluded=Object.assign({},h),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new p(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(l.prototype=new p)._create=function(){return new l(this._input,this)},l.prototype._update=function(){this.__set_templated_pattern()},l.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},l.prototype.read_options=function(f){var b,F=this._create();for(b in h)F._disabled[b]=f.templating.indexOf(b)===-1;return F._update(),F},l.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},l.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},l.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},l.prototype._read_template=function(){var f,b="",F=this._input.peek();return F==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=l}],A={},L=function E(S){var k=A[S];return k!==void 0?k.exports:(k=A[S]={exports:{}},d[S](k,k.exports,E),k.exports)}(0);o=L})();var o,a=o;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:a}}):typeof exports<"u"?exports.js_beautify=a:typeof window<"u"?window.js_beautify=a:typeof global<"u"&&(global.js_beautify=a)})();(function(){(function(){var L=[,,function(k){function p(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function h(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function l(f,b){this.__indent_cache=new h(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new p(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}p.prototype.clone_empty=function(){var f=new p(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},p.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},p.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},p.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},p.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},p.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},p.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},p.prototype.is_empty=function(){return this.__items.length===0},p.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},p.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},p.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},p.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},p.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},p.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},p.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},h.prototype.get_indent_size=function(f,b){var F=this.__base_string_length;return F=(F=f<0?0:F)+f*this.__indent_size+(b=b||0)},h.prototype.get_indent_string=function(f,b){var F=this.__base_string;return b=b||0,f<0&&(f=0,F=""),b+=f*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},h.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},h.prototype.__add_column=function(){var f,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(f+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},l.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},l.prototype.get_line_number=function(){return this.__lines.length},l.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},l.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},l.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},l.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},l.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},l.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},l.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},l.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},l.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},l.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},l.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},l.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},l.prototype.just_added_newline=function(){return this.current_line.is_empty()},l.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},l.prototype.ensure_empty_line_above=function(f,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(f)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new p(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},k.exports.Output=l},function(k){k.exports.Token=function(p,h,l,f){this.type=p,this.text=h,this.comments_before=null,this.newlines=l||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(k){function p(f,b){this.raw_options=h(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function h(f,b){var F,O={};for(F in f=l(f))F!==b&&(O[F]=f[F]);if(b&&f[b])for(F in f[b])O[F]=f[b][F];return O}function l(f){var b,F={};for(b in f)F[b.replace(/-/g,"_")]=f[b];return F}p.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},p.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},p.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},p.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},p.prototype._get_selection=function(f,b,F){if(F=this._get_selection_list(f,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return F[0]},p.prototype._get_selection_list=function(f,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(f,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},p.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(F){return b.indexOf(F)===-1})},k.exports.Options=p,k.exports.normalizeOpts=l,k.exports.mergeOpts=h},,function(k){var p=RegExp.prototype.hasOwnProperty("sticky");function h(l){this.__input=l||"",this.__input_length=this.__input.length,this.__position=0}h.prototype.restart=function(){this.__position=0},h.prototype.back=function(){0<this.__position&&--this.__position},h.prototype.hasNext=function(){return this.__position<this.__input_length},h.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__input.charAt(this.__position),this.__position+=1),l},h.prototype.peek=function(l){var f=null;return l=l||0,f=0<=(l+=this.__position)&&l<this.__input_length?this.__input.charAt(l):f},h.prototype.__match=function(l,f){l.lastIndex=f;var b=l.exec(this.__input);return!b||p&&l.sticky||b.index!==f&&(b=null),b},h.prototype.test=function(l,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(l,f)},h.prototype.testChar=function(l,f){return f=this.peek(f),l.lastIndex=0,f!==null&&l.test(f)},h.prototype.match=function(l){return l=this.__match(l,this.__position),l?this.__position+=l[0].length:l=null,l},h.prototype.read=function(l,f,b){var F,O="";return l&&(F=this.match(l))&&(O+=F[0]),!f||!F&&l||(O+=this.readUntil(f,b)),O},h.prototype.readUntil=function(F,f){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,f&&(b+=F[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},h.prototype.readUntilAfter=function(l){return this.readUntil(l,!0)},h.prototype.get_regexp=function(l,F){var b=null,F=F&&p?"y":"g";return typeof l=="string"&&l!==""?b=new RegExp(l,F):l&&(b=new RegExp(l.source,F)),b},h.prototype.get_literal_regexp=function(l){return RegExp(l.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},h.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},h.prototype.lookBack=function(l){var f=this.__position-1;return f>=l.length&&this.__input.substring(f-l.length,f).toLowerCase()===l},k.exports.InputScanner=h},function(k,p,h){function l(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var f=h(8).InputScanner,b=h(3).Token,F=h(10).TokenStream,O=h(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};l.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(g.START,""),D=null,z=[],H=new F;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},l.prototype._is_comment=function(y){return!1},l.prototype._is_opening=function(y){return!1},l.prototype._is_closing=function(y,W){return!1},l.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},k.exports.Tokenizer=l,k.exports.TOKEN=g},function(k){function p(h){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=h}p.prototype.restart=function(){this.__position=0},p.prototype.isEmpty=function(){return this.__tokens_length===0},p.prototype.hasNext=function(){return this.__position<this.__tokens_length},p.prototype.next=function(){var h=null;return this.hasNext()&&(h=this.__tokens[this.__position],this.__position+=1),h},p.prototype.peek=function(h){var l=null;return h=h||0,l=0<=(h+=this.__position)&&h<this.__tokens_length?this.__tokens[h]:l},p.prototype.add=function(h){this.__parent_token&&(h.parent=this.__parent_token),this.__tokens.push(h),this.__tokens_length+=1},k.exports.TokenStream=p},function(k,p,h){var l=h(12).Pattern;function f(b,F){l.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new l).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},f.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,F){for(var O=b.lastIndex=0,g=[],y=b.exec(F);y;)g.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?g.push(F.substring(O,F.length)):g.push(""),g},k.exports.WhitespacePattern=f},function(k){function p(h,l){this._input=h,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,l&&(this._starting_pattern=this._input.get_regexp(l._starting_pattern,!0),this._match_pattern=this._input.get_regexp(l._match_pattern,!0),this._until_pattern=this._input.get_regexp(l._until_pattern),this._until_after=l._until_after)}p.prototype.read=function(){var h=this._input.read(this._starting_pattern);return this._starting_pattern&&!h||(h+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),h},p.prototype.read_match=function(){return this._input.match(this._match_pattern)},p.prototype.until_after=function(h){var l=this._create();return l._until_after=!0,l._until_pattern=this._input.get_regexp(h),l._update(),l},p.prototype.until=function(h){var l=this._create();return l._until_after=!1,l._until_pattern=this._input.get_regexp(h),l._update(),l},p.prototype.starting_with=function(h){var l=this._create();return l._starting_pattern=this._input.get_regexp(h,!0),l._update(),l},p.prototype.matching=function(h){var l=this._create();return l._match_pattern=this._input.get_regexp(h,!0),l._update(),l},p.prototype._create=function(){return new p(this._input,this)},p.prototype._update=function(){},k.exports.Pattern=p},function(k){function p(h,l){h=typeof h=="string"?h:h.source,l=typeof l=="string"?l:l.source,this.__directives_block_pattern=new RegExp(h+/ beautify( \\w+[:]\\w+)+ /.source+l,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(h+/\\sbeautify\\signore:end\\s/.source+l,"g")}p.prototype.get_directives=function(h){if(!h.match(this.__directives_block_pattern))return null;for(var l={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(h));f;)l[f[1]]=f[2],f=this.__directive_pattern.exec(h);return l},p.prototype.readIgnored=function(h){return h.readUntilAfter(this.__directives_end_ignore_pattern)},k.exports.Directives=p},function(k,p,h){var l=h(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){l.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new l(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new l)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,g=this._create();for(O in f)g._disabled[O]=F.templating.indexOf(O)===-1;return g._update(),g},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",g=this._input.peek();return g==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},k.exports.TemplatablePattern=b},,,,function(k,p,h){var l=h(19).Beautifier,f=h(20).Options;k.exports=function(b,F,O,g){return new l(b,F,O,g).beautify()},k.exports.defaultOptions=function(){return new f}},function(k,p,h){function l(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function f(I,R){var x=null,K=null;return R.closed?(I==="script"?x="text/javascript":I==="style"&&(x="text/css"),-1<(x=function(C){for(var Q=null,it=C.next;it.type!==g.EOF&&C.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||x).search("text/css")?K="css":-1<x.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<x.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<x.search(/test\\/null/)&&(K="null"),K):null}var b=h(20).Options,F=h(2).Output,O=h(21).Tokenizer,g=h(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;l.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},l.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},l.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},l.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},l.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var x=0;x<R;x++)this.print_newline(0<x);return R!==0},l.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},l.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},l.prototype.print_newline=function(I){this._output.add_new_line(I)},l.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},l.prototype.indent=function(){this.indent_level++},l.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,x){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=x||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,x,K){this._source_text=I||"",R=R||{},this._js_beautify=x,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var x=this._current_frame;x&&I.indexOf(x.tag)===-1;){if(R&&R.indexOf(x.tag)!==-1){x=null;break}x=x.parent}return x},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,x=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},C=new Z,Q=new l(this._options,x),it=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?C=J=this._handle_tag_open(Q,lt,C,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!C.tag_complete?J=this._handle_inside_tag(Q,lt,C,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,C):lt.type===g.TEXT?J=this._handle_text(Q,lt,C):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,x){var K={text:R.text,type:R.type};return I.alignment_size=0,x.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),x.is_unformatted?I.add_raw_token(R):(x.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&x.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!x.indent_content||x.is_unformatted||x.is_content_unformatted||(I.indent(),x.indent_content=!1),x.is_inline_element||x.is_unformatted||x.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,x,K){var C=x.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),x.is_unformatted?I.add_raw_token(R):x.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&x.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),C=C||R.newlines!==0),this._is_wrap_attributes_force&&x.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),C=!0)),I.print_token(R),C=C||I.previous_token_wrapped(),x.has_wrapped_attrs=C),Q},U.prototype._handle_text=function(I,R,x){var K={text:R.text,type:"TK_CONTENT"};return x.custom_beautifier_name?this._print_custom_beatifier_text(I,R,x):x.is_unformatted||x.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,x){var K=this;if(R.text!==""){var C,Q=R.text,lt=1,it="",J="",lt=(x.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?C=this._js_beautify:x.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?C=this._css_beautify:x.custom_beautifier_name==="html"&&(C=function(T,\$){return new U(T,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),x.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var x=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!x)return void I.add_raw_token(R);it=lt+x[1]+\`
\`,Q=x[4],x[5]&&(J=lt+x[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(x[2]||x[3].indexOf(\`
\`)!==-1)&&(x=x[3].match(/[ \\t]+\$/))&&(R.whitespace_before=x[0])}Q=Q&&(C?((x=function(){this.eol=\`
\`}).prototype=this._options.raw_options,C(lt+Q,new x)):lt+(Q=(C=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+C+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,x,K,C){var Q=this._get_tag_open_token(R);if(!x.is_unformatted&&!x.is_content_unformatted||x.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,x,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=C.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var x;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(x=R.text.match(/^<([^\\s>]*)/),this.tag_check=x?x[1]:""):(x=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=x?x[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,x,K,C){x.is_empty_element||(x.is_end_tag?x.start_tag_token=this._tag_stack.try_pop(x.tag_name):(this._do_optional_end_element(x)&&!x.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(x),x.tag_name!=="script"&&x.tag_name!=="style"||x.is_unformatted||x.is_content_unformatted||(x.custom_beautifier_name=f(x.tag_check,R)))),D(x.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),x.is_empty_element?(x.tag_start_char==="{"&&x.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),x.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),x.tag_name==="!--"&&C.type===g.TAG_CLOSE&&K.is_end_tag&&x.text.indexOf(\`
\`)===-1||(x.is_inline_element||x.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,x))):x.is_end_tag?(R=!1,R=(R=x.start_tag_token&&x.start_tag_token.multiline_content)||!x.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(C.type===g.TAG_CLOSE&&x.start_tag_token===K)&&C.type!=="TK_CONTENT",(R=x.is_content_unformatted||x.is_unformatted?!1:R)&&I.print_newline(!1)):(x.indent_content=!x.custom_beautifier_name,x.tag_start_char==="<"&&(x.tag_name==="html"?x.indent_content=this._options.indent_inner_html:x.tag_name==="head"?x.indent_content=this._options.indent_head_inner_html:x.tag_name==="body"&&(x.indent_content=this._options.indent_body_inner_html)),x.is_inline_element||x.is_unformatted||C.type==="TK_CONTENT"&&!x.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,x))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,x=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?x=x||this._tag_stack.try_pop("head"):I.tag_name==="li"?x=x||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?x=(x=x||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(x=x||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?x=(x=x||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?x=x||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?x=x||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?x=x||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?x=(x=(x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?x=(x=(x=x||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(x=(x=x||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),x},k.exports.Beautifier=U},function(k,p,h){var l=h(6).Options;function f(b){l.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new l,k.exports.Options=f},function(k,p,h){function l(H,U){f.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var f=h(9).Tokenizer,b=h(9).TOKEN,F=h(13).Directives,O=h(14).TemplatablePattern,g=h(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(l.prototype=new f)._is_comment=function(D){return!1},l.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},l.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},l.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},l.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},l.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},l.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},l.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},l.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},l.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},l.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},l.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},k.exports.Tokenizer=l,k.exports.TOKEN=y}],E={},S=function k(p){var h=E[p];return h!==void 0?h.exports:(h=E[p]={exports:{}},L[p](h,h.exports,k),h.exports)}(18);o=S})();var o,a,d,A=o;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(L){var E=L("./beautify"),S=L("./beautify-css");return{html_beautify:function(k,p){return A(k,p,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(a=require("./beautify.js"),d=require("./beautify-css.js"),exports.html_beautify=function(L,E){return A(L,E,a.js_beautify,d.css_beautify)}):typeof window<"u"?window.html_beautify=function(L,E){return A(L,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(L,E){return A(L,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var d=[,,function(E){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function k(h,l){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),l=l||"",0<h.indent_level&&(l=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=l,this.__base_string_length=l.length}function p(h,l){this.__indent_cache=new k(h,l),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var l=this.__items.length-1;0<=l;l--)if(this.__items[l].match(h))return!0;return!1},S.prototype.set_indent=function(h,l){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=l||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var l=h.lastIndexOf(\`
\`);l!==-1?this.__character_count=h.length-l:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},k.prototype.get_indent_size=function(h,l){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(l=l||0)},k.prototype.get_indent_string=function(h,l){var f=this.__base_string;return l=l||0,h<0&&(h=0,f=""),l+=h*this.__indent_size,this.__ensure_cache(l),f+=this.__cache[l]},k.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},k.prototype.__add_column=function(){var h,l=this.__cache.length,f="";this.__indent_size&&l>=this.__indent_size&&(l-=(h=Math.floor(l/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),l&&(f+=new Array(l+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,l){return this.__indent_cache.get_indent_string(h,l)},p.prototype.get_indent_size=function(h,l){return this.__indent_cache.get_indent_size(h,l)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var l=this.current_line.pop(),l=(l&&(l[l.length-1]===\`
\`&&(l=l.replace(/\\n+\$/g,"")),this.current_line.push(l)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return l=h!==\`
\`?l.replace(/[\\n]/g,h):l},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,l){return this.next_line.set_indent(h=h||0,l=l||0),1<this.__lines.length?(this.current_line.set_indent(h,l),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var l=0;l<h.newlines;l++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var l=this.__lines.length;h<l;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,l){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==l){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=p},,,,function(E){function S(h,l){this.raw_options=k(h,l),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function k(h,l){var f,b={};for(f in h=p(h))f!==l&&(b[f]=h[f]);if(l&&h[l])for(f in h[l])b[f]=h[l][f];return b}function p(h){var l,f={};for(l in h)f[l.replace(/-/g,"_")]=h[l];return f}S.prototype._get_array=function(h,l){return h=this.raw_options[h],l=l||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(l=h.concat()):typeof h=="string"&&(l=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),l},S.prototype._get_boolean=function(h,l){return h=this.raw_options[h],h===void 0?!!l:!!h},S.prototype._get_characters=function(h,l){return h=this.raw_options[h],l=l||"",l=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):l},S.prototype._get_number=function(h,l){return h=this.raw_options[h],l=parseInt(l,10),isNaN(l)&&(l=0),h=parseInt(h,10),h=isNaN(h)?l:h},S.prototype._get_selection=function(h,l,f){if(f=this._get_selection_list(h,l,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,l,f){if(!l||l.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[l[0]],!this._is_valid_selection(f,l))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,l))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+l+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,l){return h.length&&l.length&&!h.some(function(f){return l.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=p,E.exports.mergeOpts=k},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function k(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}k.prototype.restart=function(){this.__position=0},k.prototype.back=function(){0<this.__position&&--this.__position},k.prototype.hasNext=function(){return this.__position<this.__input_length},k.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},k.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},k.prototype.__match=function(p,h){p.lastIndex=h;var l=p.exec(this.__input);return!l||S&&p.sticky||l.index!==h&&(l=null),l},k.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},k.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},k.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},k.prototype.read=function(p,h,l){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,l)),b},k.prototype.readUntil=function(f,h){var l=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(l=f.index,h&&(l+=f[0].length)):l=this.__input_length,h=this.__input.substring(this.__position,l),this.__position=l,h},k.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},k.prototype.get_regexp=function(p,f){var l=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?l=new RegExp(p,f):p&&(l=new RegExp(p.source,f)),l},k.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},k.prototype.peekUntilAfter=function(l){var h=this.__position,l=this.readUntilAfter(l);return this.__position=h,l},k.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},E.exports.InputScanner=k},,,,,function(E){function S(k,p){k=typeof k=="string"?k:k.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(k+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(k+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(k){if(!k.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(k));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(k);return p},S.prototype.readIgnored=function(k){return k.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,k){var p=k(16).Beautifier,h=k(17).Options;E.exports=function(l,f){return new p(l,f).beautify()},E.exports.defaultOptions=function(){return new h}},function(E,S,k){var p=k(17).Options,h=k(2).Output,l=k(8).InputScanner,f=new(k(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new p(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new h(this._options,rt),this._input=new l(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,x=!1,K=!1,C=!1,Q=!1,it=this._ch,J=!1;z=this._input.read(g)!=="",H=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),T=f.get_directives(lt);T&&T.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),T=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),T.match(/[ :]\$/)&&(T=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(T),this._output.space_before_token=!0),I===0&&T.indexOf(":")!==-1&&(x=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(x=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||x||(C=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")x&&(x=!1,this.outdent()),C=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),x&&(this.outdent(),x=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||C||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),x||(this._output.space_before_token=x=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(x&&(this.outdent(),x=!1),C=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),x&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||x&&!Q||I!==0||C?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||x||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,k){var p=k(6).Options;function h(f){p.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}h.prototype=new p,E.exports.Options=h}],A={},L=function E(S){var k=A[S];return k!==void 0?k.exports:(k=A[S]={exports:{}},d[S](k,k.exports,E),k.exports)}(15);o=L})();var o,a=o;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:a}}):typeof exports<"u"?exports.css_beautify=a:typeof window<"u"?window.css_beautify=a:typeof global<"u"&&(global.css_beautify=a)})();(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.defineSimpleMode=function(l,f){o.defineMode(l,function(b){return o.simpleMode(b,f)})},o.simpleMode=function(l,f){a(f,"start");var b={},F=f.meta||{},O=!1;for(var g in f)if(g!=F&&f.hasOwnProperty(g))for(var y=b[g]=[],W=f[g],D=0;D<W.length;D++){var z=W[D];y.push(new L(z,f)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=o.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:o.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,l),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:h(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function a(l,f){if(!l.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function d(l,f){if(!l)return/(?:)/;var b="";return l instanceof RegExp?(l.ignoreCase&&(b="i"),l.unicode&&(b+="u"),l=l.source):l=String(l),new RegExp((f===!1?"":"^")+"(?:"+l+")",b)}function A(l){if(!l)return null;if(l.apply)return l;if(typeof l=="string")return l.replace(/\\./g," ");for(var f=[],b=0;b<l.length;b++)f.push(l[b]&&l[b].replace(/\\./g," "));return f}function L(l,f){(l.next||l.push)&&a(f,l.next||l.push),this.regex=d(l.regex),this.token=A(l.token),this.data=l}function E(l,f){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var g=F.local.endToken||null;return F.local=F.localState=null,g}else{var g=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=l[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&k(f,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+f.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(l,f){if(l===f)return!0;if(!l||typeof l!="object"||!f||typeof f!="object")return!1;var b=0;for(var F in l)if(l.hasOwnProperty(F)){if(!f.hasOwnProperty(F)||!S(l[F],f[F]))return!1;b++}for(var F in f)f.hasOwnProperty(F)&&b--;return b==0}function k(l,f,b,F){var O;if(b.persistent)for(var g=f.persistentStates;g&&!O;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(O=g);var y=O?O.mode:b.mode||o.getMode(l,b.spec),W=O?O.state:o.startState(y);b.persistent&&!O&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&d(b.end),endScan:b.end&&b.forceEnd!==!1&&d(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function p(l,f){for(var b=0;b<f.length;b++)if(f[b]===l)return!0}function h(l,f){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||f.dontIndentStates&&p(b.state,f.dontIndentStates)>-1)return o.Pass;var g=b.indent.length-1,y=l[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){g--,(D.next||D.push)&&(y=l[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){const a=["س","ر","ج"],d=["ا","ب","ج","د","ه","و"],A=a.map(it=>Fr(it)).join(""),L=\`[\${d.map(it=>Fr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${A}›»]\`,k=Fr("م"),p=\`(?:\${k}\${Gi}(?:\${ia}|\${L}){1,6}\${Xi})\`,h=\`(?:\${k}\${Gi}(?:\${ra}|\${E}){1,6}\${Xi})\`,l=\`(?:\${p}|\${h})\`,f=\`[^›\${Dr}]\`,b=it=>RegExp(F(it),"u"),F=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Fr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${Gi}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Xi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Dr}(?:\${S}|\${l})\`,z=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Dr}»]|\${Dr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Jh})|(?:\${Tu})\`,"u"),x=()=>RegExp(\`(?!\${F(Xh)}(?:\${Qh}|\\\\s|\$))\${qr}\`,"u"),K=()=>b(ta),C=()=>b(ea),Q=()=>b(na);o.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Cu,{regex:x(),token:"variable"},{regex:K(),token:"keyword"},{regex:C(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Au}),o.defineMIME("text/x-seen-ar-src","seen-ar"),o.defineMIME("text/seen-ar","seen-ar")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){const a=\`[nrt'"]\`,d=\`u\${Gi}[\\\\da-fA-F]{1,6}\${Xi}\`,A=\`[^'\${Hs}]\`;function L(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${Gi}\${Mr}\`),S=()=>RegExp(".*"),k=()=>RegExp(\`.*?\${Mr}\${Xi}\`),p=()=>RegExp(\`\${Mr}\${Mr}.*\`),h=\`\${Hs}(?:\${a}|\${d})\`,l=()=>RegExp(\`'(?:\${A}|\${h})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${A}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Tu})\`),D=()=>RegExp(\`\${qr}\`,"u"),z=()=>L(ta),H=()=>L(ea),U=()=>L(na);o.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:p(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:l(),token:"string-2"},{regex:W(),token:"number"},...Cu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:k(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Au}),o.defineMIME("text/x-seen-en-src","seen-en"),o.defineMIME("text/seen-en","seen-en")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.defineMode("javascript",function(a,d){var A=a.indentUnit,L=d.statementIndent,E=d.jsonld,S=d.json||E,k=d.trackScope!==!1,p=d.typescript,h=d.wordCharacters||/[\\w\$\\xa1-\\uffff]/,l=function(){function w(Xt){return{type:Xt,style:"keyword"}}var P=w("keyword a"),B=w("keyword b"),G=w("keyword c"),bt=w("keyword d"),Tt=w("operator"),Ct={type:"atom",style:"atom"};return{if:w("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:w("new"),delete:G,void:G,throw:G,debugger:w("debugger"),var:w("var"),const:w("var"),let:w("var"),function:w("function"),catch:w("catch"),for:w("for"),switch:w("switch"),case:w("case"),default:w("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:w("this"),class:w("class"),super:w("atom"),yield:G,export:w("export"),import:w("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(w){for(var P=!1,B,G=!1;(B=w.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,g;function y(w,P,B){return O=w,g=B,P}function W(w,P){var B=w.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(w,P);if(B=="."&&w.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&w.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&w.eat(">"))return y("=>","operator");if(B=="0"&&w.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return w.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return w.eat("*")?(P.tokenize=z,z(w,P)):w.eat("/")?(w.skipToEnd(),y("comment","comment")):He(w,P,1)?(F(w),w.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(w.eat("="),y("operator","operator",w.current()));if(B=="\`")return P.tokenize=H,H(w,P);if(B=="#"&&w.peek()=="!")return w.skipToEnd(),y("meta","meta");if(B=="#"&&w.eatWhile(h))return y("variable","property");if(B=="<"&&w.match("!--")||B=="-"&&w.match("->")&&!/\\S/.test(w.string.slice(0,w.start)))return w.skipToEnd(),y("comment","comment");if(f.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(w.eat("=")?(B=="!"||B=="=")&&w.eat("="):/[<>*+\\-|&?]/.test(B)&&(w.eat(B),B==">"&&w.eat(B))),B=="?"&&w.eat(".")?y("."):y("operator","operator",w.current());if(h.test(B)){w.eatWhile(h);var G=w.current();if(P.lastType!="."){if(l.propertyIsEnumerable(G)){var bt=l[G];return y(bt.type,bt.style,G)}if(G=="async"&&w.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(w){return function(P,B){var G=!1,bt;if(E&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==w&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(w,P){for(var B=!1,G;G=w.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(w,P){for(var B=!1,G;(G=w.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&w.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",w.current())}var U="([{}])";function Z(w,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=w.string.indexOf("=>",w.start);if(!(B<0)){if(p){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(w.string.slice(w.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=w.string.charAt(Ct),Ee=U.indexOf(Xt);if(Ee>=0&&Ee<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(Ee>=3&&Ee<6)++bt;else if(h.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=w.string.charAt(Ct-1);if(yt==Xt&&w.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(w,P,B,G,bt,Tt){this.indented=w,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(w,P){if(!k)return!1;for(var B=w.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=w.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(w,P,B,G,bt){var Tt=w.cc;for(x.state=w,x.stream=bt,x.marked=null,x.cc=Tt,x.style=P,w.lexical.hasOwnProperty("align")||(w.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return x.marked?x.marked:B=="variable"&&I(w,G)?"variable-2":P}}}var x={state:null,column:null,marked:null,cc:null};function K(){for(var w=arguments.length-1;w>=0;w--)x.cc.push(arguments[w])}function C(){return K.apply(null,arguments),!0}function Q(w,P){for(var B=P;B;B=B.next)if(B.name==w)return!0;return!1}function it(w){var P=x.state;if(x.marked="def",!!k){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(w,P.context);if(B!=null){P.context=B;return}}else if(!Q(w,P.localVars)){P.localVars=new \$(w,P.localVars);return}}d.globalVars&&!Q(w,P.globalVars)&&(P.globalVars=new \$(w,P.globalVars))}}function J(w,P){if(P)if(P.block){var B=J(w,P.prev);return B?B==P.prev?P:new T(B,P.vars,!0):null}else return Q(w,P.vars)?P:new T(P.prev,new \$(w,P.vars),!1);else return null}function lt(w){return w=="public"||w=="private"||w=="protected"||w=="abstract"||w=="readonly"}function T(w,P,B){this.prev=w,this.vars=P,this.block=B}function \$(w,P){this.name=w,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){x.state.context=new T(x.state.context,x.state.localVars,!1),x.state.localVars=dt}function Nt(){x.state.context=new T(x.state.context,x.state.localVars,!0),x.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){x.state.localVars=x.state.context.vars,x.state.context=x.state.context.prev}kt.lex=!0;function ft(w,P){var B=function(){var G=x.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,x.stream.column(),w,null,G.lexical,P)};return B.lex=!0,B}function at(){var w=x.state;w.lexical.prev&&(w.lexical.type==")"&&(w.indented=w.lexical.indented),w.lexical=w.lexical.prev)}at.lex=!0;function _t(w){function P(B){return B==w?C():w==";"||B=="}"||B==")"||B=="]"?K():C(P)}return P}function vt(w,P){return w=="var"?C(ft("vardef",P),Xe,_t(";"),at):w=="keyword a"?C(ft("form"),Ce,vt,at):w=="keyword b"?C(ft("form"),vt,at):w=="keyword d"?x.stream.match(/^\\s*\$/,!1)?C():C(ft("stat"),Se,_t(";"),at):w=="debugger"?C(_t(";")):w=="{"?C(ft("}"),Nt,Ie,at,kt):w==";"?C():w=="if"?(x.state.lexical.info=="else"&&x.state.cc[x.state.cc.length-1]==at&&x.state.cc.pop()(),C(ft("form"),Ce,vt,at,zn)):w=="function"?C(Be):w=="for"?C(ft("form"),Nt,Vi,vt,kt,at):w=="class"||p&&P=="interface"?(x.marked="keyword",C(ft("form",w=="class"?w:P),er,at)):w=="variable"?p&&P=="declare"?(x.marked="keyword",C(vt)):p&&(P=="module"||P=="enum"||P=="type")&&x.stream.match(/^\\s*\\w/,!1)?(x.marked="keyword",P=="enum"?C(qn):P=="type"?C(tr,_t("operator"),nt,_t(";")):C(ft("form"),pe,_t("{"),ft("}"),Ie,at,at)):p&&P=="namespace"?(x.marked="keyword",C(ft("form"),Et,vt,at)):p&&P=="abstract"?(x.marked="keyword",C(vt)):C(ft("stat"),In):w=="switch"?C(ft("form"),Ce,_t("{"),ft("}","switch"),Nt,Ie,at,at,kt):w=="case"?C(Et,_t(":")):w=="default"?C(_t(":")):w=="catch"?C(ft("form"),wt,ne,vt,at,kt):w=="export"?C(ft("stat"),hn,at):w=="import"?C(ft("stat"),Ye,at):w=="async"?C(vt):P=="@"?C(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ne(w){if(w=="(")return C(Re,_t(")"))}function Et(w,P){return ke(w,P,!1)}function Rt(w,P){return ke(w,P,!0)}function Ce(w){return w!="("?K():C(ft(")"),Se,_t(")"),at)}function ke(w,P,B){if(x.state.fatArrowAt==x.stream.start){var G=B?ci:on;if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,_t("=>"),G,kt);if(w=="variable")return K(wt,pe,_t("=>"),G,kt)}var bt=B?It:_e;return ot.hasOwnProperty(w)?C(bt):w=="function"?C(Be,bt):w=="class"||p&&P=="interface"?(x.marked="keyword",C(ft("form"),ln,at)):w=="keyword c"||w=="async"?C(B?Rt:Et):w=="("?C(ft(")"),Se,_t(")"),at,bt):w=="operator"||w=="spread"?C(B?Rt:Et):w=="["?C(ft("]"),Qe,at,bt):w=="{"?Sn(Bn,"}",null,bt):w=="quasi"?K(mt,bt):w=="new"?C(Yi(B)):C()}function Se(w){return w.match(/[;\\}\\)\\],]/)?K():K(Et)}function _e(w,P){return w==","?C(Se):It(w,P,!1)}function It(w,P,B){var G=B==!1?_e:It,bt=B==!1?Et:Rt;if(w=="=>")return C(wt,B?ci:on,kt);if(w=="operator")return/\\+\\+|--/.test(P)||p&&P=="!"?C(G):p&&P=="<"&&x.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?C(ft(">"),Bt(nt,">"),at,G):P=="?"?C(Et,_t(":"),bt):C(bt);if(w=="quasi")return K(mt,G);if(w!=";"){if(w=="(")return Sn(Rt,")","call",G);if(w==".")return C(Qi,G);if(w=="[")return C(ft("]"),Se,_t("]"),at,G);if(p&&P=="as")return x.marked="keyword",C(nt,G);if(w=="regexp")return x.state.lastType=x.marked="operator",x.stream.backUp(x.stream.pos-x.stream.start-1),C(bt)}}function mt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?C(mt):C(Se,Ge)}function Ge(w){if(w=="}")return x.marked="string-2",x.state.tokenize=H,C(mt)}function on(w){return Z(x.stream,x.state),K(w=="{"?vt:Et)}function ci(w){return Z(x.stream,x.state),K(w=="{"?vt:Rt)}function Yi(w){return function(P){return P=="."?C(w?fi:Ur):P=="variable"&&p?C(se,w?It:_e):K(w?Rt:Et)}}function Ur(w,P){if(P=="target")return x.marked="keyword",C(_e)}function fi(w,P){if(P=="target")return x.marked="keyword",C(It)}function In(w){return w==":"?C(at,vt):K(_e,_t(";"),at)}function Qi(w){if(w=="variable")return x.marked="property",C()}function Bn(w,P){if(w=="async")return x.marked="property",C(Bn);if(w=="variable"||x.style=="keyword"){if(x.marked="property",P=="get"||P=="set")return C(_i);var B;return p&&x.state.fatArrowAt==x.stream.start&&(B=x.stream.match(/^\\s*:\\s*/,!1))&&(x.state.fatArrowAt=x.stream.pos+B[0].length),C(We)}else{if(w=="number"||w=="string")return x.marked=E?"property":x.style+" property",C(We);if(w=="jsonld-keyword")return C(We);if(p&&lt(P))return x.marked="keyword",C(Bn);if(w=="[")return C(Et,Ae,_t("]"),We);if(w=="spread")return C(Rt,We);if(P=="*")return x.marked="keyword",C(Bn);if(w==":")return K(We)}}function _i(w){return w!="variable"?K(We):(x.marked="property",C(Be))}function We(w){if(w==":")return C(Rt);if(w=="(")return K(Be)}function Bt(w,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=x.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),C(function(Xt,Ee){return Xt==P||Ee==P?K():K(w)},G)}return bt==P||Tt==P?C():B&&B.indexOf(";")>-1?K(w):C(_t(P))}return function(bt,Tt){return bt==P||Tt==P?C():K(w,G)}}function Sn(w,P,B){for(var G=3;G<arguments.length;G++)x.cc.push(arguments[G]);return C(ft(P,B),Bt(w,P),at)}function Ie(w){return w=="}"?C():K(vt,Ie)}function Ae(w,P){if(p){if(w==":")return C(nt);if(P=="?")return C(Ae)}}function Kr(w,P){if(p&&(w==":"||P=="in"))return C(nt)}function Le(w){if(p&&w==":")return x.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?C(Et,Zi,nt):C(nt)}function Zi(w,P){if(P=="is")return x.marked="keyword",C()}function nt(w,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return x.marked="keyword",C(P=="typeof"?Rt:nt);if(w=="variable"||P=="void")return x.marked="type",C(he);if(P=="|"||P=="&")return C(nt);if(w=="string"||w=="number"||w=="atom")return C(he);if(w=="[")return C(ft("]"),Bt(nt,"]",","),at,he);if(w=="{")return C(ft("}"),re,at,he);if(w=="(")return C(Bt(le,")"),pi,he);if(w=="<")return C(Bt(nt,">"),nt);if(w=="quasi")return K(zt,he)}function pi(w){if(w=="=>")return C(nt)}function re(w){return w.match(/[\\}\\)\\]]/)?C():w==","||w==";"?C(re):K(Mt,re)}function Mt(w,P){if(w=="variable"||x.style=="keyword")return x.marked="property",C(Mt);if(P=="?"||w=="number"||w=="string")return C(Mt);if(w==":")return C(nt);if(w=="[")return C(_t("variable"),Kr,_t("]"),Mt);if(w=="(")return K(ze,Mt);if(!w.match(/[;\\}\\)\\],]/))return C()}function zt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?C(zt):C(nt,Ji)}function Ji(w){if(w=="}")return x.marked="string-2",x.state.tokenize=H,C(zt)}function le(w,P){return w=="variable"&&x.stream.match(/^\\s*[?:]/,!1)||P=="?"?C(le):w==":"?C(nt):w=="spread"?C(le):K(nt)}function he(w,P){if(P=="<")return C(ft(">"),Bt(nt,">"),at,he);if(P=="|"||w=="."||P=="&")return C(nt);if(w=="[")return C(nt,_t("]"),he);if(P=="extends"||P=="implements")return x.marked="keyword",C(nt);if(P=="?")return C(nt,_t(":"),nt)}function se(w,P){if(P=="<")return C(ft(">"),Bt(nt,">"),at,he)}function En(){return K(nt,di)}function di(w,P){if(P=="=")return C(nt)}function Xe(w,P){return P=="enum"?(x.marked="keyword",C(qn)):K(pe,Ae,Oe,Xr)}function pe(w,P){if(p&&lt(P))return x.marked="keyword",C(pe);if(w=="variable")return it(P),C();if(w=="spread")return C(pe);if(w=="[")return Sn(Gr,"]");if(w=="{")return Sn(gi,"}")}function gi(w,P){return w=="variable"&&!x.stream.match(/^\\s*:/,!1)?(it(P),C(Oe)):(w=="variable"&&(x.marked="property"),w=="spread"?C(pe):w=="}"?K():w=="["?C(Et,_t("]"),_t(":"),gi):C(_t(":"),pe,Oe))}function Gr(){return K(pe,Oe)}function Oe(w,P){if(P=="=")return C(Rt)}function Xr(w){if(w==",")return C(Xe)}function zn(w,P){if(w=="keyword b"&&P=="else")return C(ft("form","else"),vt,at)}function Vi(w,P){if(P=="await")return C(Vi);if(w=="(")return C(ft(")"),vi,at)}function vi(w){return w=="var"?C(Xe,un):w=="variable"?C(un):K(un)}function un(w,P){return w==")"?C():w==";"?C(un):P=="in"||P=="of"?(x.marked="keyword",C(Et,un)):K(Et,un)}function Be(w,P){if(P=="*")return x.marked="keyword",C(Be);if(w=="variable")return it(P),C(Be);if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,Le,vt,kt);if(p&&P=="<")return C(ft(">"),Bt(En,">"),at,Be)}function ze(w,P){if(P=="*")return x.marked="keyword",C(ze);if(w=="variable")return it(P),C(ze);if(w=="(")return C(wt,ft(")"),Bt(Re,")"),at,Le,kt);if(p&&P=="<")return C(ft(">"),Bt(En,">"),at,ze)}function tr(w,P){if(w=="keyword"||w=="variable")return x.marked="type",C(tr);if(P=="<")return C(ft(">"),Bt(En,">"),at)}function Re(w,P){return P=="@"&&C(Et,Re),w=="spread"?C(Re):p&&lt(P)?(x.marked="keyword",C(Re)):p&&w=="this"?C(Ae,Oe):K(pe,Ae,Oe)}function ln(w,P){return w=="variable"?er(w,P):Hn(w,P)}function er(w,P){if(w=="variable")return it(P),C(Hn)}function Hn(w,P){if(P=="<")return C(ft(">"),Bt(En,">"),at,Hn);if(P=="extends"||P=="implements"||p&&w==",")return P=="implements"&&(x.marked="keyword"),C(p?nt:Et,Hn);if(w=="{")return C(ft("}"),ye,at)}function ye(w,P){if(w=="async"||w=="variable"&&(P=="static"||P=="get"||P=="set"||p&&lt(P))&&x.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return x.marked="keyword",C(ye);if(w=="variable"||x.style=="keyword")return x.marked="property",C(\$e,ye);if(w=="number"||w=="string")return C(\$e,ye);if(w=="[")return C(Et,Ae,_t("]"),\$e,ye);if(P=="*")return x.marked="keyword",C(ye);if(p&&w=="(")return K(ze,ye);if(w==";"||w==",")return C(ye);if(w=="}")return C();if(P=="@")return C(Et,ye)}function \$e(w,P){if(P=="!"||P=="?")return C(\$e);if(w==":")return C(nt,Oe);if(P=="=")return C(Rt);var B=x.state.lexical.prev,G=B&&B.info=="interface";return K(G?ze:Be)}function hn(w,P){return P=="*"?(x.marked="keyword",C(ct,_t(";"))):P=="default"?(x.marked="keyword",C(Et,_t(";"))):w=="{"?C(Bt(nr,"}"),ct,_t(";")):K(vt)}function nr(w,P){if(P=="as")return x.marked="keyword",C(_t("variable"));if(w=="variable")return K(Rt,nr)}function Ye(w){return w=="string"?C():w=="("?K(Et):w=="."?K(_e):K(cn,mi,ct)}function cn(w,P){return w=="{"?Sn(cn,"}"):(w=="variable"&&it(P),P=="*"&&(x.marked="keyword"),C(Ht))}function mi(w){if(w==",")return C(cn,mi)}function Ht(w,P){if(P=="as")return x.marked="keyword",C(cn)}function ct(w,P){if(P=="from")return x.marked="keyword",C(Et)}function Qe(w){return w=="]"?C():K(Bt(Rt,"]"))}function qn(){return K(ft("form"),pe,_t("{"),ft("}"),Bt(Ne,"}"),at,at)}function Ne(){return K(pe,Oe)}function Lt(w,P){return w.lastType=="operator"||w.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function He(w,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(w.string.slice(0,w.pos-(B||0)))}return{startState:function(w){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((w||0)-A,0,"block",!1),localVars:d.localVars,context:d.localVars&&new T(null,null,!1),indented:w||0};return d.globalVars&&typeof d.globalVars=="object"&&(P.globalVars=d.globalVars),P},token:function(w,P){if(w.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=w.indentation(),Z(w,P)),P.tokenize!=z&&w.eatSpace())return null;var B=P.tokenize(w,P);return O=="comment"?B:(P.lastType=O=="operator"&&(g=="++"||g=="--")?"incdec":O,R(P,B,O,g,w))},indent:function(w,P){if(w.tokenize==z||w.tokenize==H)return o.Pass;if(w.tokenize!=W)return 0;var B=P&&P.charAt(0),G=w.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=w.cc.length-1;Tt>=0;--Tt){var Ct=w.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=zn&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=w.cc[w.cc.length-1])&&(bt==_e||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;L&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,Ee=B==Xt;return Xt=="vardef"?G.indented+(w.lastType=="operator"||w.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+A:Xt=="stat"?G.indented+(Lt(w,P)?L||A:0):G.info=="switch"&&!Ee&&d.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?A:2*A):G.align?G.column+(Ee?0:1):G.indented+(Ee?0:A)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:He,skipExpression:function(w){R(w,"atom","atom","true",new o.StringStream("",2,null))}}}),o.registerHelper("wordChars","javascript",/[\\w\$]/),o.defineMIME("text/javascript","javascript"),o.defineMIME("text/ecmascript","javascript"),o.defineMIME("application/javascript","javascript"),o.defineMIME("application/x-javascript","javascript"),o.defineMIME("application/ecmascript","javascript"),o.defineMIME("application/json",{name:"javascript",json:!0}),o.defineMIME("application/x-json",{name:"javascript",json:!0}),o.defineMIME("application/manifest+json",{name:"javascript",json:!0}),o.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),o.defineMIME("text/typescript",{name:"javascript",typescript:!0}),o.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],o):o(CodeMirror)})(function(o){o.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),o.defineMIME("text/x-rustsrc","rust"),o.defineMIME("text/rust","rust")});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(L,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=L+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var k=this;o.on(this.inner,"mousedown",function(h){if(h.which!=1)return;o.e_preventDefault(h);var l=k.orientation=="horizontal"?"pageX":"pageY",f=h[l],b=k.pos;function F(){o.off(document,"mousemove",O),o.off(document,"mouseup",F)}function O(g){if(g.which!=1)return F();k.moveTo(b+(g[l]-f)*(k.total/k.size))}o.on(document,"mousemove",O),o.on(document,"mouseup",F)}),o.on(this.node,"click",function(h){o.e_preventDefault(h);var l=k.inner.getBoundingClientRect(),f;k.orientation=="horizontal"?f=h.clientX<l.left?-1:h.clientX>l.right?1:0:f=h.clientY<l.top?-1:h.clientY>l.bottom?1:0,k.moveTo(k.pos+f*k.screen)});function p(h){var l=o.wheelEventPixels(h)[k.orientation=="horizontal"?"x":"y"],f=k.pos;k.moveTo(k.pos+l),k.pos!=f&&o.e_preventDefault(h)}o.on(this.node,"mousewheel",p),o.on(this.node,"DOMMouseScroll",p)}a.prototype.setPos=function(L,E){return L<0&&(L=0),L>this.total-this.screen&&(L=this.total-this.screen),!E&&L==this.pos?!1:(this.pos=L,this.inner.style[this.orientation=="horizontal"?"left":"top"]=L*(this.size/this.total)+"px",!0)},a.prototype.moveTo=function(L){this.setPos(L)&&this.scroll(L,this.orientation)};var d=10;a.prototype.update=function(L,E,S){var k=this.screen!=E||this.total!=L||this.size!=S;k&&(this.screen=E,this.total=L,this.size=S);var p=this.screen*(this.size/this.total);p<d&&(this.size-=d-p,p=d),this.inner.style[this.orientation=="horizontal"?"width":"height"]=p+"px",this.setPos(this.pos,k)};function A(L,E,S){this.addClass=L,this.horiz=new a(L,"horizontal",S),E(this.horiz.node),this.vert=new a(L,"vertical",S),E(this.vert.node),this.width=null}A.prototype.update=function(L){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,k=L.scrollWidth>L.clientWidth+1,p=L.scrollHeight>L.clientHeight+1;return this.vert.node.style.display=p?"block":"none",this.horiz.node.style.display=k?"block":"none",p&&(this.vert.update(L.scrollHeight,L.clientHeight,L.viewHeight-(k?S:0)),this.vert.node.style.bottom=k?S+"px":"0"),k&&(this.horiz.update(L.scrollWidth,L.clientWidth,L.viewWidth-(p?S:0)-L.barLeft),this.horiz.node.style.right=p?S+"px":"0",this.horiz.node.style.left=L.barLeft+"px"),{right:p?S:0,bottom:k?S:0}},A.prototype.setScrollTop=function(L){this.vert.setPos(L)},A.prototype.setScrollLeft=function(L){this.horiz.setPos(L)},A.prototype.clear=function(){var L=this.horiz.node.parentNode;L.removeChild(this.horiz.node),L.removeChild(this.vert.node)},o.scrollbarModel.simple=function(L,E){return new A("CodeMirror-simplescroll",L,E)},o.scrollbarModel.overlay=function(L,E){return new A("CodeMirror-overlayscroll",L,E)}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a="CodeMirror-activeline",d="CodeMirror-activeline-background",A="CodeMirror-activeline-gutter";o.defineOption("styleActiveLine",!1,function(p,h,l){var f=l==o.Init?!1:l;h!=f&&(f&&(p.off("beforeSelectionChange",k),L(p),delete p.state.activeLines),h&&(p.state.activeLines=[],S(p,p.listSelections()),p.on("beforeSelectionChange",k)))});function L(p){for(var h=0;h<p.state.activeLines.length;h++)p.removeLineClass(p.state.activeLines[h],"wrap",a),p.removeLineClass(p.state.activeLines[h],"background",d),p.removeLineClass(p.state.activeLines[h],"gutter",A)}function E(p,h){if(p.length!=h.length)return!1;for(var l=0;l<p.length;l++)if(p[l]!=h[l])return!1;return!0}function S(p,h){for(var l=[],f=0;f<h.length;f++){var b=h[f],F=p.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=p.getLineHandleVisualStart(b.head.line);l[l.length-1]!=O&&l.push(O)}}E(p.state.activeLines,l)||p.operation(function(){L(p);for(var g=0;g<l.length;g++)p.addLineClass(l[g],"wrap",a),p.addLineClass(l[g],"background",d),p.addLineClass(l[g],"gutter",A);p.state.activeLines=l})}function k(p,h){S(p,h.ranges)}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),d=o.Pos,A={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function L(l){return l&&l.bracketRegex||/[(){}[\\]]/}function E(l,f,b){var F=l.getLineHandle(f.line),O=f.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(l.getWrapperElement().className));var y=L(b),W=!g&&O>=0&&y.test(F.text.charAt(O))&&A[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&A[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==f.ch))return null;var z=l.getTokenTypeAt(d(f.line,O+1)),H=S(l,d(f.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:d(f.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(l,f,b,F,O){for(var g=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=L(O),z=b>0?Math.min(f.line+y,l.lastLine()+1):Math.max(l.firstLine()-1,f.line-y),H=f.line;H!=z;H+=b){var U=l.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(H==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(l.getTokenTypeAt(d(H,Z+1))||"")==(F||""))){var I=A[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:d(H,Z),ch:rt}}}}}return H-b==(b>0?l.lastLine():l.firstLine())?!1:null}function k(l,f,b){for(var F=l.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,g=[],y=l.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(l,y[W].head,b);if(D&&(D.match||O!==!1)&&l.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(l.markText(D.from,d(D.from.line,D.from.ch+1),{className:z})),D.to&&l.getLine(D.to.line).length<=F&&g.push(l.markText(D.to,d(D.to.line,D.to.ch+1),{className:z}))}}if(g.length){a&&l.state.focused&&l.focus();var H=function(){l.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(f)setTimeout(H,800);else return H}}function p(l){l.operation(function(){l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),l.state.matchBrackets.currentlyHighlighted=null),l.state.matchBrackets.currentlyHighlighted=k(l,!1,l.state.matchBrackets)})}function h(l){l.state.matchBrackets&&l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),l.state.matchBrackets.currentlyHighlighted=null)}o.defineOption("matchBrackets",!1,function(l,f,b){b&&b!=o.Init&&(l.off("cursorActivity",p),l.off("focus",p),l.off("blur",h),h(l)),f&&(l.state.matchBrackets=typeof f=="object"?f:{},l.on("cursorActivity",p),l.on("focus",p),l.on("blur",h))}),o.defineExtension("matchBrackets",function(){k(this,!0)}),o.defineExtension("findMatchingBracket",function(l,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),E(this,l,f)}),o.defineExtension("scanForBracket",function(l,f,b,F){return S(this,l,f,b,F)})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},d=o.Pos;o.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=o.Init&&(g.removeKeyMap(L),g.state.closeBrackets=null),y&&(E(A(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(L))});function A(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:a[y]}var L={Backspace:p,Enter:h};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";L[D]||(L[D]=S(W))}}E(a.pairs+"\`");function S(g){return function(y){return b(y,g)}}function k(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function p(g){var y=k(g);if(!y||g.getOption("disableInput"))return o.Pass;for(var W=A(y,"pairs"),D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return o.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return o.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;g.replaceRange("",d(U.line,U.ch-1),d(U.line,U.ch+1),"+delete")}}function h(g){var y=k(g),W=y&&A(y,"explode");if(!W||g.getOption("disableInput"))return o.Pass;for(var D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return o.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return o.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),l(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function l(g,y){for(var W=[],D=g.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==g.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,z)}function f(g){var y=o.cmpPos(g.anchor,g.head)>0;return{anchor:new d(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new d(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=k(g);if(!W||g.getOption("disableInput"))return o.Pass;var D=A(W,"pairs"),z=D.indexOf(y);if(z==-1)return o.Pass;for(var H=A(W,"closeBefore"),U=A(W,"triples"),Z=D.charAt(z+1)==y,ot=g.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var x=ot[R],K=x.head,C,Q=g.getRange(K,d(K.line,K.ch+1));if(rt&&!x.empty())C="surround";else if((Z||!rt)&&Q==y)Z&&O(g,K)?C="both":U.indexOf(y)>=0&&g.getRange(K,d(K.line,K.ch+3))==y+y+y?C="skipThree":C="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(d(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(d(K.line,K.ch-2))))return o.Pass;C="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(d(K.line,K.ch-1),K);if(!o.isWordChar(Q)&&it!=y&&!o.isWordChar(it))C="both";else return o.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))C="both";else return o.Pass;if(!I)I=C;else if(I!=C)return o.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);g.operation(function(){if(I=="skip")l(g,1);else if(I=="skipThree")l(g,3);else if(I=="surround"){for(var T=g.getSelections(),\$=0;\$<T.length;\$++)T[\$]=J+T[\$]+lt;g.replaceSelections(T,"around"),T=g.listSelections().slice();for(var \$=0;\$<T.length;\$++)T[\$]=f(T[\$]);g.setSelections(T)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),l(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),l(g,1))})}function F(g,y){var W=g.getRange(d(y.line,y.ch-1),d(y.line,y.ch+1));return W.length==2?W:null}function O(g,y){var W=g.getTokenAt(d(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(E,S,k,p){if(k&&k.call){var h=k;k=null}else var h=L(E,k,"rangeFinder");typeof S=="number"&&(S=o.Pos(S,0));var l=L(E,k,"minFoldSize");function f(g){var y=h(E,S);if(!y||y.to.line-y.from.line<l)return null;if(p==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(L(E,k,"scanUp"))for(;!b&&S.line>E.firstLine();)S=o.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||p==="unfold")){var F=d(E,k,b);o.on(F,"mousedown",function(g){O.clear(),o.e_preventDefault(g)});var O=E.markText(b.from,b.to,{replacedWith:F,clearOnEnter:L(E,k,"clearOnEnter"),__isFold:!0});O.on("clear",function(g,y){o.signal(E,"unfold",E,g,y)}),o.signal(E,"fold",E,b.from,b.to)}}function d(E,S,k){var p=L(E,S,"widget");if(typeof p=="function"&&(p=p(k.from,k.to)),typeof p=="string"){var h=document.createTextNode(p);p=document.createElement("span"),p.appendChild(h),p.className="CodeMirror-foldmarker"}else p&&(p=p.cloneNode(!0));return p}o.newFoldFunction=function(E,S){return function(k,p){a(k,p,{rangeFinder:E,widget:S})}},o.defineExtension("foldCode",function(E,S,k){a(this,E,S,k)}),o.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),k=0;k<S.length;++k)if(S[k].__isFold)return!0}),o.commands.toggleFold=function(E){E.foldCode(E.getCursor())},o.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},o.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},o.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),k=E.lastLine();S<=k;S++)E.foldCode(o.Pos(S,0),{scanUp:!1},"fold")})},o.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),k=E.lastLine();S<=k;S++)E.foldCode(o.Pos(S,0),{scanUp:!1},"unfold")})},o.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,k){for(var p=0;p<E.length;++p){var h=E[p](S,k);if(h)return h}}}),o.registerHelper("fold","auto",function(E,S){for(var k=E.getHelpers(S,"fold"),p=0;p<k.length;p++){var h=k[p](E,S);if(h)return h}});var A={rangeFinder:o.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};o.defineOption("foldOptions",null);function L(E,S,k){if(S&&S[k]!==void 0)return S[k];var p=E.options.foldOptions;return p&&p[k]!==void 0?p[k]:A[k]}o.defineExtension("foldOption",function(E,S){return L(this,E,S)})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],o):o(CodeMirror)})(function(o){o.defineOption("foldGutter",!1,function(O,g,y){y&&y!=o.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",h),O.off("changes",f),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",f),O.off("optionChange",l)),g&&(O.state.foldGutter=new d(A(g)),p(O),O.on("gutterClick",h),O.on("changes",f),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",f),O.on("optionChange",l))});var a=o.Pos;function d(O){this.options=O,this.from=this.to=0}function A(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function L(O,g){for(var y=O.findMarks(a(g,0),a(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(O){if(typeof O=="string"){var g=document.createElement("div");return g.className=O+" CodeMirror-guttermarker-subtle",g}else return O.cloneNode(!0)}function S(O,g,y){var W=O.state.foldGutter.options,D=g-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&k(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&k(W.indicatorOpen);O.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),L(O,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=a(D,0),x=H&&H(O,R);if(x&&x.to.line-x.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function k(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function p(O){var g=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,g.from,g.to)}),y.from=g.from,y.to=g.to)}function h(O,g,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=L(O,g);z?z.clear():O.foldCode(a(g,0),D)}}}function l(O,g){g=="mode"&&f(O)}function f(O){var g=O.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){p(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var g=O.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=O.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?p(O):O.operation(function(){W.from<g.from&&(S(O,W.from,g.from),g.from=W.from),W.to>g.to&&(S(O,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,g){var y=O.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){var a="CodeMirror-hint",d="CodeMirror-hint-active";o.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return g.showHint(D)},o.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new A(this,g);D.options.hint&&(o.signal(this,"startCompletion",this),D.update(!0))}}),o.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function A(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var L=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;A.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&o.signal(this.data,"close"),this.widget&&this.widget.close(),o.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(k(W),W.from||g.from,W.to||g.to,"complete"),o.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=L(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&o.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new l(this,g),o.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(g,y)),z}function k(g){return typeof g=="string"?g:g.text}function p(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=g.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(x){return I(x,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function h(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function l(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],x=a+(rt!=this.selectedHint?"":" "+d);R.className!=null&&(x=R.className+" "+x),I.className=x,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||k(R))),I.hintId=rt}var K=g.options.container||z.body,C=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=C.left,it=C.bottom,J=!0,lt=0,T=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,T=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-T+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ne=at.bottom-ft;if(ne>0){var Et=at.bottom-at.top,Rt=at.top-(C.bottom-C.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(it=C.top-Et)+T+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ce=at.right-kt;if(_t&&(Ce+=D.display.nativeBarWidth),Ce>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ce-=at.right-at.left-kt),U.style.left=(Q=Math.max(C.left-Ce-lt,0))+"px"),_t)for(var ke=U.firstChild;ke;ke=ke.nextSibling)ke.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=p(g,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var Se;D.on("blur",this.onBlur=function(){Se=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(Se)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=it+vt.top-It.top,on=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(on+=U.offsetHeight),on<=mt.top||on>=mt.bottom)return g.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),o.on(U,"dblclick",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),o.on(U,"click",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),g.options.completeOnSingleClick&&W.pick())}),o.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var _e=this.getSelectedHintRange();return(_e.from!==0||_e.to!==0)&&this.scrollToActive(),o.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+d,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+d,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),o.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function f(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var z=g(y,W);z&&z.then?z.then(D):D(z)}}function F(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=f(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(H){return o.hint.fromList(H,{words:D})}:o.hint.anyword?function(H,U){return o.hint.anyword(H,U)}:function(){}}o.registerHelper("hint","auto",{resolve:F}),o.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),z,H=o.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),o.commands.autocomplete=o.showHint;var O={hint:o.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};o.defineOption("hintOptions",null)});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(d){return function(A,L){var E=L.line,S=A.getLine(E);function k(F){for(var O,g=L.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(F[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<L.ch)break;if(O=A.getTokenTypeAt(o.Pos(E,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};g=W-1}}function p(F){var O=1,g=A.lastLine(),y,W=F.ch,D;t:for(var z=E;z<=g;++z)for(var H=A.getLine(z),U=z==E?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(A.getTokenTypeAt(o.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||E==y?null:{from:o.Pos(E,W),to:o.Pos(y,D)}}for(var h=[],l=0;l<d.length;l++){var f=k(d[l]);f&&h.push(f)}h.sort(function(F,O){return F.ch-O.ch});for(var l=0;l<h.length;l++){var b=p(h[l]);if(b)return b}return null}}o.registerHelper("fold","brace",a([["{","}"],["[","]"]])),o.registerHelper("fold","brace-paren",a([["{","}"],["[","]"],["(",")"]])),o.registerHelper("fold","import",function(d,A){function L(l){if(l<d.firstLine()||l>d.lastLine())return null;var f=d.getTokenAt(o.Pos(l,1));if(/\\S/.test(f.string)||(f=d.getTokenAt(o.Pos(l,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=l,F=Math.min(d.lastLine(),l+10);b<=F;++b){var O=d.getLine(b),g=O.indexOf(";");if(g!=-1)return{startCh:f.end,end:o.Pos(b,g)}}}var E=A.line,S=L(E),k;if(!S||L(E-1)||(k=L(E-2))&&k.end.line==E-1)return null;for(var p=S.end;;){var h=L(p.line+1);if(h==null)break;p=h.end}return{from:d.clipPos(o.Pos(E,S.startCh+1)),to:p}}),o.registerHelper("fold","include",function(d,A){function L(h){if(h<d.firstLine()||h>d.lastLine())return null;var l=d.getTokenAt(o.Pos(h,1));if(/\\S/.test(l.string)||(l=d.getTokenAt(o.Pos(h,l.end+1))),l.type=="meta"&&l.string.slice(0,8)=="#include")return l.start+8}var E=A.line,S=L(E);if(S==null||L(E-1)!=null)return null;for(var k=E;;){var p=L(k+1);if(p==null)break;++k}return{from:o.Pos(E,S+1),to:d.clipPos(o.Pos(k))}})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){function a(d,A){var L=d.getLine(A),E=L.search(/\\S/);return E==-1||/\\bcomment\\b/.test(d.getTokenTypeAt(o.Pos(A,E+1)))?-1:o.countColumn(L,null,d.getOption("tabSize"))}o.registerHelper("fold","indent",function(d,A){var L=a(d,A.line);if(!(L<0)){for(var E=null,S=A.line+1,k=d.lastLine();S<=k;++S){var p=a(d,S);if(p!=-1)if(p>L)E=S;else break}if(E)return{from:o.Pos(A.line,d.getLine(A.line).length),to:o.Pos(E,d.getLine(E).length)}}})});(function(o){typeof exports=="object"&&typeof module=="object"?o(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],o):o(CodeMirror)})(function(o){o.registerGlobalHelper("fold","comment",function(a){return a.blockCommentStart&&a.blockCommentEnd},function(a,d){var A=a.getModeAt(d),L=A.blockCommentStart,E=A.blockCommentEnd;if(!(!L||!E)){for(var S=d.line,k=a.getLine(S),p,h=d.ch,l=0;;){var f=h<=0?-1:k.lastIndexOf(L,h-1);if(f==-1){if(l==1)return;l=1,h=k.length;continue}if(l==1&&f<d.ch)return;if(/comment/.test(a.getTokenTypeAt(o.Pos(S,f+1)))&&(f==0||k.slice(f-E.length,f)==E||!/comment/.test(a.getTokenTypeAt(o.Pos(S,f))))){p=f+L.length;break}h=f-1}var b=1,F=a.lastLine(),O,g;t:for(var y=S;y<=F;++y)for(var W=a.getLine(y),D=y==S?p:0;;){var z=W.indexOf(L,D),H=W.indexOf(E,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,g=D;break t}++D}if(!(O==null||S==O&&g==p))return{from:o.Pos(S,p),to:o.Pos(O,g)}}})});const sc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},ac={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...sc},oc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function uc(o,a){for(let[d,A]of Object.entries(o)){let L=document.querySelector(\`#\${d}\`);L&&(L.textContent=A[a])}}function lc(o,a){for(let[d,A]of Object.entries(o)){let L=document.querySelector(\`#\${d}\`);L&&(L.title=A[a])}}class hc{msg;start_loc;end_loc;constructor(a,d,A){this.msg=a,this.start_loc=d,this.end_loc=A}}function Pr(o){return o==null}function qs(o){return o instanceof Array}function Gt(o,a){return o.includes(a)}function cc(o,a,d){o[a]=d}function Ys(o){return Array.isArray(o)&&o.length===0}function At(o,a){let d=[];const A=(L,E)=>{if(E&&typeof E=="object"){if(d.includes(E))return"[CIRCULAR]";d.push(E)}return E};return a?JSON.stringify(o,A,a):JSON.stringify(o,A)}function Lu(o){return new RegExp(o,"u")}function cu(o,a){o==null?console.log("undefined"):console.log(JSON.stringify(o))}function St(o){throw new Error(o)}function sn(o){return{...o}}function fc(o){return o.toLowerCase()}const ui=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Pn=["0","1","2","3","4","5","6","7","8","9"],_c="ـ",js=Lu("\\\\p{L}"),pc=Lu("\\\\p{N}"),fu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},dc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"};class _u{line;column;constructor(a,d){return this.line=a,this.column=d,this}}class gc{v;loc;constructor(a,d){return this.v=a,this.loc=d,this}}class vc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(a,d,A,L,E,S,k,p,h,l){return this.lang=a,this.code=d,this.start_loc=A,this.end_loc=L,this.tokens=E,this.errs=S,this.current_index=k,this.current=p,this.lookbehind=h,this.ignore_cmts_ws=l,this}init(a,d,A){this.lang=a,this.code=d,this.start_loc=new _u(1,1),this.end_loc=new _u(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=A}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=sn(this.end_loc),this.add_token("\$eof")}add_token(a){const d=new gc(a,sn(this.start_loc));this.tokens.push(d)}next(){this.lookbehind=this.current,this.current_index+=1;const a=this.code[this.current_index];return this.current=a,a===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(a){for(;a>0;)this.next(),a-=1}insert_err(a){const d=new hc(a,sn(this.start_loc),sn(this.end_loc));this.errs.push(d)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===_c}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Pr(this.lookbehind)}expect_none_ahead(){return Pr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(js)}expect_num(){return this.lookahead().match(pc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Pr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let a="";const d=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")a+=this.next()+this.next(),d.push(sn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(d.length>1)a+=this.next()+this.next(),d.pop();else{a+=this.next(),d.pop();break}else a+=this.next();const A=d.pop();return A&&(this.start_loc=sn(A),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",a]),!0}}ar_escape_char(){if(this.current==="٪"){let a=this.next();switch(a){case"(":switch(a=this.next(),a){case"س":a=\`
\`;break;case"ر":a="\\r";break;case"ج":a="	";break;case"‹":a="‹";break;case"›":a="›";break;case"«":a="«";break;case"»":a="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+a);break;case"٪":a="٪";break;case"{":a="\${";break;default:this.insert_err("invalid escape character: "+a)}return a}else return this.current}en_escape_char(){if(this.current==="%"){let a=this.next();switch(a){case"n":a=\`
\`;break;case"r":a="\\r";break;case"t":a="	";break;case"'":a="'";break;case'"':a='"';break;case"%":a="%";break;case"{":a="\${";break;default:this.insert_err("invalid escape character: "+a);break}return a}else return this.current}enclosed_val(a){let d="";for(;!this.expect_eof()&&(this.next(),a!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+a);break}this.lang==="ar"?d+=this.ar_escape_char():d+=this.en_escape_char()}return d}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(a){let d="",A="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+a);break}if(a===this.current&&a===this.lookahead())if(this.skip(1),this.lookahead()===a){this.skip(1),this.add_token(["str",A]);break}else d+=a+a;else this.lang==="ar"?A+=this.ar_escape_char():A+=this.en_escape_char(),A+=d}}ar_multi_str(a){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(a){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const a=[];for(;this.lookahead()==="=";)a.push(this.next());if(a.length===0)this.add_token("=");else if(a.length===1)this.add_token("==");else if(a.length>1)this.ignore_cmts_ws||this.add_token(["===",a.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const a=[];for(;this.lookahead()==="-";)a.push(this.next());if(a.length===0)this.add_token("-");else if(a.length>1)this.ignore_cmts_ws||this.add_token(["---",a.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let a="*";for(;this.lookahead()==="*";)a+=this.next();if(a.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let a="";for(;!this.expect_eof()&&!this.expect_eol();)a+=this.next();return this.ignore_cmts_ws||this.add_token(["--",a]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(ui,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Pn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let a=this.current;for(;;){if(Gt(ui,this.lookahead()))a+=this.next();else if(Gt(Pn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")a+=this.next(),a+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",a]):this.add_token(["int",a])}maghrib_num(){let a=this.current,d=!1;for(;;){if(Gt(Pn,this.lookahead()))a+=this.next();else if(Gt(ui,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")a+=this.next(),d=!0,a+=this.maghrib_fract();else break;if(this.expect_eof())break}d?this.add_token(["float",a]):this.add_token(["int",a])}ar_id(){let a=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],a)?a+=this.next():this.skip(1):a+=this.next();fu[a]?this.add_token(["key",fu[a]]):this.add_token(["id",a])}en_id(){let a=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)a+=this.next();dc[a]?this.add_token(["key",a]):this.add_token(["id",a])}mashriq_fract(){let a="";for(;!this.expect_eof()&&Gt(ui,this.lookahead());)a+=this.next();return a}maghrib_float(){if(Gt(Pn,this.lookahead())){const a=this.current+this.maghrib_fract();return this.add_token(["float",a]),!0}}maghrib_fract(){let a="";for(;!this.expect_eof()&&Gt(Pn,this.lookahead());)a+=this.next();return a}new_line(){let a=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),a+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,a]);break}}ar(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const a=this.next();switch(a){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(ui,a)?this.mashriq_num():Gt(Pn,a)?this.maghrib_num():a==="_"||a.match(js)?this.ar_id():this.common(a)}}}en(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const a=this.next();switch(a){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Pn,a)?this.maghrib_num():Gt(ui,a)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):a==="_"||a.match(js)?this.en_id():this.common(a)}}}common(a){switch(a){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(a);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}const mc=[],bc=[];class ht{id;t;v;constructor(a,d,A){this.id=a,this.t=d,this.v=A}}class pu{t;o;constructor(a,d){this.t=a,this.o=d}}class yc{name;fields;children;constructor(a,d,A){this.name=a,this.fields=d,this.children=A}}class wc{fields;o;constructor(a,d){this.fields=a,this.o=d}}class xc{t;ts;o;constructor(a,d,A){this.t=a,this.ts=d,this.o=A}}class kc{name;variant;constructor(a,d){this.name=a,this.variant=d}}class du{k;v;constructor(a,d){this.k=a,this.v=d}}class rn{opr;op;constructor(a,d){this.opr=a,this.op=d}}class Us{lopr;op;ropr;constructor(a,d,A){this.lopr=a,this.op=d,this.ropr=A}}class Ks{name;params;ret_types;body;constructor(a,d,A,L){this.name=a,this.params=d,this.ret_types=A,this.body=L}}class gu{_pat;t;constructor(a,d){this._pat=a,this.t=d}}class Sc{k;v;constructor(a,d){this.k=a,this.v=d}}class vu{lhs;t;rhs;constructor(a,d,A){this.lhs=a,this.t=d,this.rhs=A}}class Ec{expr;arms;constructor(a,d){this.expr=a,this.arms=d}}class Tc{pats;expr;constructor(a,d){this.pats=a,this.expr=d}}const Cc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Ac=[".","!","not","-","+"],Lc=["?","!","%"],Oc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Nc{tokens;current_index;skipped_new_line;current;ast;tabs;attrs;errs;init(a){this.tokens=a,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let a=!1;this.maybe_attrs()?(this.maybe_modifier(),a=this.maybe_typedef()||this.maybe_consts_or_fns()):this.is_modifier()?(this.maybe_modifier(),a=this.maybe_consts_or_fns()||this.maybe_typedef()):a=this.maybe_use()||this.maybe_consts_or_fns()||this.maybe_typedef(),a||St("invalid syntax: "+At(this.current))}}next(a){this.current_index+=1;const d=this.tokens[this.current_index];return this.current=d,d.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):a||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const a=this.tokens[this.current_index];this.current=a,a.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(a){let d=this.current_index;for(;a>0;){for(d+=1;;){const A=this.tokens[d];let L;if(A&&(L=A.v[0]===\`
\`),L)d+=1;else break}a-=1}return this.tokens[d]}lookahead_ws(){const a=this.current_index+1;return this.tokens[a]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Pr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const a=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&a}is_this(){return this.is_keyword("this")}is_keyword(a){return this.current.v[0]==="key"&&this.current.v[1]===a}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(qs(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(qs(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const a=this.current;return this.next(),a}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const a=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(a),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const a=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(a),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const a=this.maybe_pat();if(a)return a;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const a=new ht("_","pat","");return this.next(),a}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const a=new ht("bool","pat",this.current);return this.next(),a}char_pat(){const a=new ht("char","pat",this.current);return this.next(),a}str_pat(){const a=new ht("str","pat",this.current);return this.next(),a}int_pat(){const a=new ht("int","pat",this.current);return this.next(),a}float_pat(){const a=new ht("float","pat",this.current);return this.next(),a}list_pat(){if(!this.is_open_bracket())return;this.next();const a=[];for(this.maybe_comma();;){if(a.length>0&&!this.req_comma())return;const d=this.maybe_pat();if(d)return a.push(d);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",a)}tuple_pat(){if(!this.is_open_paren())return;this.next();const a=[];for(this.maybe_comma();;){a.length>0&&this.req_comma();const d=this.maybe_pat();if(d)return a.push(d);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",a)}structl_pat(){if(!this.is_open_curly())return;this.next();const a=[];for(this.maybe_comma();;){a.length>0&&(this.maybe_comma()||this.req_terminator());const d=this.maybe_id();if(!d)break;let A;this.is_colon()&&(this.next(),A=this.req_pat());const L=new Sc(d,A);a.push(L)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",a)}enum_pat(){St("enum patterns are not supported yet");const a=this.current;this.next();const d=new kc(a,_pat);if(_pat)return new ht("enum_pat","pat",d)}id_pat(){const a=this.current;return this.next(),new ht("id","pat",a)}req_body(){const a=this.stmts();return new ht("body","body",a)}req_body_ret(){const a=this.req_body();return this.implicit_return(a.v),a}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const a=this.current,d=this.stmts();if(Ys(d))St("expecting a statement : "+At(a));else return d}stmts(){let a=[],d;for(;d=this.maybe_stmt(),d&&a.push(d),!!d;);return a}maybe_ret(){if(!this.is_ret())return;this.next();const a=this.maybe_expr();return new ht("return","expr",a)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_const(){if(!this.is_const())return;this.next();const a=this.req_pat(),d=this.maybe_tannotation();this.req_asgmt();const A=this.req_expr(),L=new vu(a,d,A);return new ht("const","stmt",L)}maybe_let(){if(!this.is_let())return;this.next();const a=this.req_pat(),d=this.maybe_tannotation();this.req_asgmt();const A=this.req_expr(),L=new vu(a,d,A);return new ht("var","stmt",L)}req_expr(){const a=this.current,d=this.maybe_expr();if(d)return d;St("expecting expression : "+At(a))}maybe_do_block_ret(){const a=this.maybe_do_block();if(a)return this.implicit_return(a.v),a}req_do_block_ret(){const a=this.req_do_block();return this.implicit_return(a.v),a}maybe_do_block(){if(!this.is_do())return;this.next();const a=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const d=this.maybe_stmt();if(d)a.push(d);else break}return this.req_close_curly(),new ht("do_block","expr",a)}req_do_block(){const a=this.current,d=this.maybe_do_block();if(d)return d;St("expecting 'do' block : "+At(a))}maybe_block(){if(!this.is_open_curly())return;this.next();const a=[];for(;!(this.is_eof()||this.is_end());){const d=this.maybe_stmt();if(d)a.push(d);else break}return this.implicit_return(a),this.req_end(),new ht("block","expr",a)}maybe_semicolon(){if(!this.is_semicolon())return;const a=this.next();return new ht(";","expr",a)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Cc,this.current.v)}is_postfix_uni_op(){return Gt(Lc,this.current.v)}req_list_index(){const a=this.req_expr();if(a){if(this.req_close_bracket())return a}else St("expecting  an index [...]: "+At(this.current))}req_access(a){return this.req_expr()}req_call_args(){const a=[];for(;!(this.is_eof()||this.is_close_paren());){a.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let d=this.maybe_expr();d&&a.push(d)}return this.req_close_paren(),new ht("args","expr",a)}maybe_lopr_prefix_postfix(a,d){const A=a.v.opr,L=a.v.op;if(a.id==="prefix")if(this.prec_uni(d)>=this.prec_uni(L)){const E=new rn(A,d),S=new ht("postfix","expr",E),k=new rn(S,L),p=new ht("prefix","expr",k);return this.next(),p}else{const E=new rn(a,d),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(a,d){if(a.id==="bin"){const A=a.v.op,L=a.v.ropr,E=a.v.lopr;if(this.prec_uni(d)>=this.prec_bin(A)){const S=new rn(L,d),k=new ht("postfix","expr",S),p=new Us(E,A,k),h=new ht("bin","expr",p);return this.next(),h}else{const S=new rn(a,d),k=new ht("postfix","expr",S);return this.next(),k}}}maybe_lopr_prefix_bin(a,d){const A=a.v.op;let L=a.v.opr;if(a.id==="prefix")if(this.prec_uni(A)>=this.prec_bin(d)){L=this.req_op(L);const E=new rn(L,A);return new ht("prefix","expr",E)}else{const E=this.req_ropr(a),S=new Us(L,d,E),k=new ht("bin","expr",S),p=new rn(k,A);return new ht("prefix","expr",p)}}get_lopr(a,d){let A=this.maybe_lopr_prefix_postfix(a,d);if(!A&&(A=this.maybe_lopr_bin_postfix(a,d),!A)){const L=new rn(a,d);A=new ht("postfix","expr",L),this.next()}return A}req_ropr(a){let d;const A=this.current;return this.is_open_bracket()?(this.next(),d=this.req_list_index()):this.is_dot()?(this.next(),d=this.req_access(a)):this.is_open_paren()?(this.next(),d=this.req_call_args()):(this.next(),d=this.maybe_expr()),d||St("expecting right operand: "+At(A)),d}prec_uni(a){switch(a.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(a))}}prec_bin(a){switch(a.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(a))}}is_bin_rassoc(a){return Gt(Oc,a)}maybe_op(a){const d=this.current;if(this.is_postfix_uni_op())return this.get_lopr(a,d);if(this.is_bin_op()){const A=this.maybe_lopr_prefix_bin(a,d);if(A)return A;let L=this.req_ropr(a);L&&(L.id==="bin"?L=this.while_op(L,this.prec_bin(L.v.op)>this.prec_bin(d)||this.prec_bin(L.v.op)===this.prec_bin(d)&&this.is_bin_rassoc(L.v.op)):L.id==="prefix"?L=this.while_op(L,this.prec_bin(d)>this.prec_uni(L.v.op)||this.is_bin_rassoc(d)):L=this.while_op(L,!1));const E=new Us(a,d,L);return new ht("bin","expr",E)}}req_op(a){const d=this.maybe_op(a);if(d)return d;St("expect an operation: "+At(this.lookahead()))}while_op(a,d){let A=sn(a);if(this.is_eof())return A;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&d!==!1;)A=this.req_op(A);return A}maybe_expr(){let a=this.maybe_prim();if(a)return a=this.while_op(a),a}req_id(){const a=this.maybe_id();if(a)return a;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(a){const d=()=>{if(!a)return;qs(a)||(a=[a]);const A=[];return a.forEach(L=>{L.id="id",L.type="pat",A.push(new ht("param","pat",new gu(L)))}),A};if(this.is_thick_arrow()){const A=d();this.next(),this.req_open_curly();const L=this.req_body_ret();this.req_close_curly();const E=new Ks("",A,null,L);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const a=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let d=null;if(d=this.maybe_expr(),d){let A=d;if(this.is_comma()){const L=[A];for(;;){const E=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||E)break;this.req_comma(),A=this.maybe_expr(),A?L.push(A):St("expected an argument: "+a)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(L)||new ht("tuple","expr",L)}else return this.req_close_paren(),this.maybe_afn(d)||(d.grouped=!0,d)}}}}req_named_tuple(){let a=[];for(;!(this.is_eof()||this.is_close_paren());){let d=this.req_id();this.req_colon();let A=this.req_expr();a.push([d,A]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",a)}is_prefix_uni_op(){return Gt(Ac,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const a=this.current;this.next();const d=new rn(this.req_prim(),a);return new ht("prefix","expr",d)}}maybe_literal(){let a=this.maybe_primitivel();return a||(a=this.maybe_list()),a||(a=this.maybe_tuple()),a}maybe_primitivel(){let a=this.maybe_bool();return a||(a=this.maybe_char()),a||(a=this.maybe_str()),a||(a=this.maybe_int()),a||(a=this.maybe_float()),a}maybe_bool(){if(this.is_bool()){const a=new ht("bool","expr",this.current);return this.next(),a}}maybe_char(){if(this.is_char()){const a=new ht("char","expr",this.current);return this.next(),a}}maybe_str(){if(this.is_str()){const a=new ht("str","expr",this.current);return this.next(),a}}maybe_int(){if(this.is_int()){const a=this.current;this.next();let d;return this.is_id()&&!this.is_newline()&&(d=this.current,this.next()),new ht("int","expr",[a,d])}}maybe_float(){if(this.is_float()){const a=this.current;this.next();let d;return this.is_id()&&!this.is_newline()&&(d=this.current,this.next()),new ht("float","expr",[a,d])}}maybe_list(){if(this.is_open_bracket()){const a=[];for(this.next(),this.maybe_comma();;){const d=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||d)break;a.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),a.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",a)}}maybe_tuple(){if(this.is_open_paren()){const a=[];this.skip(),this.maybe_comma();let d=!1;for(this.is_id&&this.expect_colon()&&(d=!0);;){a.length>0&&this.req_comma();let A;d&&(A=this.req_id(),this.req_colon());let L=this.req_expr();if(d?a.push([A,L]):a.push([L]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),d?new ht("(:","expr",a):new ht("(","expr",a)}}maybe_call(a){const d=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let k;this.is_id()&&this.expect_colon()&&(k=this.current,this.next(),this.next());let p;if(k?p=new ht("named_arg","expr",[k,this.req_expr()]):p=this.maybe_expr(),!p)break;S.push(p),this.optional_comma()}return this.req_close_paren(),S}},A=S=>{if(!this.is_open_curly())return;this.next();const k=[];for(;!(this.is_eof()||this.is_close_curly());){const p=this.maybe_expr();if(!p)break;k.push(p),this.optional_comma()}return this.req_close_curly(),k.push(),k},L=d(),E=A();return L||E?new ht("call","expr",[a,L,E]):void 0}req_ref(){const a=this.current;return this.next(),new ht("ref","expr",a)}maybe_call_or_ref(){if(this.is_id()){const a=this.req_ref();return this.maybe_call(a)||a}}maybe_when_arm(){const a=[];for(;!this.is_thin_arrow()&&(a.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const d=this.req_expr(),A=new Tc(a,d);return new ht("arm","",A)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const a=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const d=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||d.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const L=this.maybe_when_arm();if(L)d.push(L);else break}this.maybe_comma(),this.req_close_curly();const A=new Ec(a,d);return new ht("when","expr",A)}maybe_prim(){let a=this.maybe_unit();return a||(a=this.maybe_tuple_afn_group()),a||(a=this.maybe_prefix_uni_op()),a||(a=this.maybe_call_or_ref()),a||(a=this.maybe_literal()),a||(a=this.maybe_when()),a||(a=this.maybe_do_block_ret()),a||(a=this.maybe_ret()),a||(a=this.maybe_semicolon()),a}req_prim(){const a=this.maybe_prim();return a||St("expecting an expression: "+At(this.current)),a}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const a=this.req_fn();return a&&Gt(["main","بدء"],a.v.name.v[1])?new ht("main","fn",a.v):new ht("fn","fn",a.v)}maybe_use(){if(!this.is_use())return;this.next();const a=[];if(!this.is_id())return!1;for(;this.is_id()&&(a.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const d=new ht("use","stmt",a);return this.ast.push(d),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let a;if(this.is_open_bracket()){this.next();const d=this.req_type();this.req_close_bracket();const A=new pu(d,this.maybe_optional());a=new ht("[","t",A)}else if(this.is_open_curly()){this.next();const d=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){d.length>0&&this.req_comma();const L=this.maybe_id();let E;L&&this.is_colon()&&(this.next(),E=this.req_type());const S=new du(L,E);d.push(S)}this.maybe_comma(),this.req_close_curly();const A=new wc(d,this.maybe_optional());a=new ht("{","t",A)}else if(this.is_id()){const d=this.req_id();if(this.is_open_angle()){const A=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)A.length>0&&this.req_comma(),A.push(this.req_type());this.maybe_comma(),this.req_close_angle();const L=new xc(d,A,this.maybe_optional());a=new ht("<","t",L)}else{const A=new pu(d,this.maybe_optional());a=new ht("t","t",A)}}return a}req_type(){let a=this.maybe_type();return a||St("type required: "+At(this.current)),a}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const a=this.maybe_tannotation();return a||St("requires type annotation: "+At(this.current)),a}maybe_fn_params(){const a=[];if(!this.is_open_paren())return a;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){a.length>0&&this.req_comma();const d=this.req_pat(),A=this.maybe_tannotation(),L=new gu(d,A),E=new ht("param","pat",L);d.id!=="id"&&St("only parameters with id patterns are currently supported"),a.push(E)}return this.maybe_comma(),this.req_close_paren(),a}maybe_fn_ret_types(){const a=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let d=this.next();this.is_exclamation()?(this.next(),a.push({id:d,_t:"throw"})):a.push({id:d,_t:"ret_type"}),this.optional_comma()}return a}req_fn(){const a=this.req_id();mc.push(a.v[1]);const d=this.maybe_fn_params(),A=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const L=this.req_body_ret(),E=new Ks(a,d,A,L),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const L=this.req_body_ret(),E=new Ks(a,d,A,L);return new ht("fn","fn",E)}}maybe_fields(){const a=[];for(;this.is_id();){const d=new ht("id","expr",this.req_id()),A=this.req_tannotation(),L=new du(d,A),E=new ht("field","",L);if(a.push(E),this.is_close_paren())break;this.optional_comma()}return a}maybe_typedef(){const a=()=>{const p=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let h;this.is_id()&&this.expect_colon()&&(h=this.current,this.next(),this.next());let l;if(h?l=new ht("field","expr",[h,this.req_type()]):l=this.maybe_expr(),!l)break;p.push(l),this.optional_comma()}return this.req_close_paren(),p}},d=()=>{if(!this.is_open_curly())return;this.next();const p=[];for(;!(this.is_eof()||this.is_close_curly());){const h=this.maybe_expr();if(!h)break;p.push(h),this.optional_comma()}return this.req_close_curly(),p.push(),p};if(!this.is_typedef())return;this.next();const A=this.req_id();bc.push(A.v[1]);let L=a()||[];const E=d();if(!(L||E))return;if(E){const p={v:["id","__children"],loc:{line:0,column:0}},h={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},l=new ht("field","expr",[p,h]);L.push(l)}const S=new yc(A,L,E),k=new ht("type","def",S);return this.ast.push(k),!0}maybe_consts_or_fns(){let a=!1;for(;;)if(this.is_pat())this.ast.push(this.maybe_const()),a=!0;else if(this.is_fn())this.ast.push(this.maybe_fn()),a=!0;else break;return a}implicit_return(a){if(!a||a.length<=0)return;const d=a.length-1,A=a[d];if(!(Gt(["when","while","if","for","return","let","var","const"],A.id)||A.id==="bin"&&A.v.op.v===":=")&&A.id!==";"&&!(A.id==="bin"&&A.v.op.v==="=")&&!(A.id==="bin"&&A.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],A.v.lopr.v.v[1]))&&A.t==="expr"){const L=new ht("iret","expr",A);return cc(a,d,L)}}}const Rc=["min_width","min_height","background_color","background_image","background_position","background_repeat","background_size","background_attachment","_webkite_background_size","aspect_ratio","border_right","border_left","border_top","border_bottom","border_radius","border_style","margin_top","margin_bottom","margin_right","margin_left","align_items","text_align","justify_content","justify_items","text_justify","object_fit","font_size","font_family","box_sizing","scrollbar_width","user_select","_ms_user_select","_webkit_user_select","_moz_user_select","box_shadow","_webkit_box_shadow","_moz_box_shadow","no_repeat","border_box","space_between","flex_direction","inter_word"],Ou=["readonly"],Fc=["html","body","div","span","p","textarea","field"];function kn(o){return Rc.includes(o)?o.replaceAll("_","-"):o}function Dc(o){return Nu(Pc,o[0])}function Br(o){if(Dc(o))return o;{let a="",d=0;for(;d<o.length;){switch(o[d]){case"٠":a+="0";break;case"١":a+="1";break;case"٢":a+="2";break;case"٣":a+="3";break;case"٤":a+="4";break;case"٥":a+="5";break;case"٦":a+="6";break;case"٧":a+="7";break;case"٨":a+="8";break;case"٩":a+="9";break;case",":a+=".";break;default:ee()}d+=1}return a}}function sa(o){return o instanceof Array}function Nu(o,a){return o.includes(a)}function ue(o,a){let d=[];return JSON.stringify(o,(A,L)=>{if(L&&typeof L=="object"){if(d.includes(L))return"[CIRCULAR]";d.push(L)}return L})}function ee(o){throw new Error(o)}function Mc(o,a){return o.repeat(a)}const Pc=["0","1","2","3","4","5","6","7","8","9"],Wc=[],Ic=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`;function Ru(o,a){switch(o.id){case"call":let d=o.v[0].v.v[1],A=o.v[1]||[],L=o.v[2]||[];if(d==="br")return a+="<br>";switch(d){case"select":a=Bc(A,a)+"} ";break;case"font_face":a=Hc(A,a);break;case"keyframes":a=qc(A,L,a);break;default:a+=\`<\${d}\`,A.forEach((E,S)=>{if(S===0&&E.id==="str")a+=\` id='\${E.v.v[1]}'\`;else if(E.id==="named_arg"){const k=E.v[0].v[1];if(Ou.includes(k))a+=\` \${k} \`;else if(a+=\` \${k}= \`,E.v[1].id==="str")a+=\`'\${E.v[1].v.v[1]}'\`;else if(E.v[1].id==="int"||E.v[1].id==="float"){const p=E.v[1].v[0].v[1],h=E.v[1].v[1].v[1]||"";a+=\`\${p}\${h}\`}else E.v[1].id==="bool"?a+=\`\${k}\`:ee("not supported: "+ue(E))}else ee("not supported: "+ue(E))}),a+=">",L.forEach(E=>{a=Ru(E,a)}),a+=\`</\${d}>\`}break;case"str":a+=o.v.v[1];break;default:ee("unknown html element: "+ue(o))}return a}function Bc(o,a){return o.forEach(d=>{const A=kn(d.v[0].v[1]),L=d.v[1];A==="element"?(a=zc(L,a),a+=" {"):(a+=\`\${A} : \`,a=wn(L,a),a+="; ")}),a}function zc(o,a){return sa(o.v)?(a+=" ",o.v.forEach((d,A)=>{a+=\`\${d.v.v[1]} \`,A<o.v.length-1&&(a+=",")})):a+=\` \${o.v.v[1]}\`,a}function wn(o,a){switch(o.id){case"int":case"float":const d=o.v[0].v[1],A=o.v[1]&&o.v[1].v[1]||"";a+=d+A;break;case"prefix":a+=o.v.op.v,a=wn(o.v.opr,a);break;case"postfix":a=wn(o.v.opr,a),a+=o.v.op.v;break;case"str":a+=o.v.v[1];break;case"ref":a+=kn(o.v.v[1]);break;case"tuple":o.v.forEach(p=>{a=wn(p,a+" ")});break;case"call":const L=o.v[0].v.v[1],E=o.v[1];a+=\` \${L}(\`,E.forEach(p=>{a=wn(p,a)}),a+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(o);const k=S.get_code();pprint(k),a+="\${"+k+"}".trim();break;default:ee(\`not supported: html generations:  \${ue(o)}\`)}return a}function Hc(o,a){return a+="@font-face { ",a=write_ar_css(o,a),a+="}",a}function qc(o,a,d){return d+=\` @keyframes \${o[0].v.v[1]} { \`,a&&a.forEach(A=>{const L=A.v[0].v.v[1],E=A.v[1];switch(L){case"at":const S=E[0],k=E[1].v||[];d=wn(S,d),d+=" {",k.forEach(p=>{if(p.id==="named_tuple")p.v.forEach(h=>{const l=kn(h[0].v[1]),f=h[1];d+=\` \${l} : \`,d=wn(f,d),d+="; "});else{const h=kn(p[0].v[1]),l=p[1];d+=\` \${h} : \`,d=wn(l,d),d+="; "}}),d+="} ";break;default:ee("unsupported element: "+ue(L))}}),d+="}",d}const Qs={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},mu=o=>{switch(o){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return o}},bu={حوم:"hover"},jc=o=>{switch(o){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return o}},Fu=o=>{switch(o){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return o}},Zs=o=>{switch(o){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return o}},Wr=o=>{switch(o){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return o}},Uc=o=>{switch(o){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return o}};function Du(o,a){switch(o.id){case"call":const d=o.v[0].v.v[1],A=Qs[d]||d,L=o.v[1]||[],E=o.v[2]||[];if(A==="br")return a+="<br>";switch(A){case"اختر":a=Mu(L,a)+"} ";break;case"عرف_خط":a=Gc(L,a);break;case"اطارات_رئيسية":a=Xc(L,E,a);break;default:a+=\`<\${A}\`,Fc.includes(A)&&(a+=" dir='rtl'"),L.forEach((S,k)=>{if(k===0&&S.id==="str")a+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const p=mu(S.v[0].v[1]);if(Ou.includes(p))a+=\` \${p} \`;else if(a+=\` \${p}= \`,S.v[1].id==="str")a+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const h=Br(S.v[1].v[0].v[1]),l=S.v[1].v[1]&&Fu(S.v[1].v[1].v[1])||"";a+=\`\${h}\${l}\`}else S.v[1].id==="bool"?a+=\`\${mu(p)}\`:ee("not supported: "+ue(S))}else ee("not supported: "+ue(S))}),a+=">",E.forEach(S=>{a=Du(S,a)}),a+=\`</\${A}>\`}break;case"str":a+=o.v.v[1];break;default:ee("unknown html element: "+ue(o))}return a}function Mu(o,a){return o.forEach(d=>{const A=kn(Zs(d.v[0].v[1])),L=d.v[1];A==="element"?(a=Kc(L,a),a+=" {"):(a+=\`\${A} : \`,a=xn(L,a),a+="; ")}),a}function Kc(o,a){const d=A=>{const L=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Qs).forEach(E=>{A=A.replaceAll(L(E),Qs[E])}),Object.keys(bu).forEach(E=>{A=A.replaceAll(L(E),bu[E])}),A};if(sa(o.v))a+=" ",o.v.forEach((A,L)=>{let E=A.v.v[1];a+=d(E),L<o.v.length-1&&(a+=",")});else{const A=o.v.v[1];a+=d(A)}return a}function xn(o,a){switch(o.id){case"bool":ee();break;case"int":case"float":const d=Br(o.v[0].v[1]),A=Fu(o.v[1]&&o.v[1].v[1])||"";a+=d+A;break;case"prefix":a+=o.v.op.v,a=xn(o.v.opr,a);break;case"postfix":a=xn(o.v.opr,a),a+=o.v.op.v;break;case"str":a+=Uc(o.v.v[1]);break;case"ref":a+=kn(Wr(o.v.v[1]));break;case"tuple":o.v.forEach(p=>{a=xn(p,a+" ")});break;case"call":const L=jc(o.v[0].v.v[1]),E=o.v[1];a+=\` \${L}(\`,E.forEach(p=>{a=xn(p,a)}),a+=")";break;case"bin":const S=new Pu;S.init(),S.write_expr(o);const k=S.get_code();a+="\${"+k+"}".trim();break;default:ee(\`not supported: html generations:  \${ue(o)}\`)}return a}function Gc(o,a){return a+="@font-face { ",a=Mu(o,a),a+="}",a}function Xc(o,a,d){return d+=\` @keyframes \${o[0].v.v[1]} { \`,a&&a.forEach(A=>{const L=A.v[0].v.v[1],E=Wr(A.v[1]);switch(L){case"عند":const S=E[0],k=E[1].v||[];d=xn(S,d),d+=" {",k.forEach(p=>{if(p.id==="named_tuple")p.v.forEach(h=>{const l=kn(Zs(h[0].v[1])),f=Wr(h[1]);d+=\` \${l} : \`,d=xn(f,d),d+="; "});else{const h=kn(Zs(p[0].v[1])),l=Wr(p[1]);d+=\` \${h} : \`,d=xn(l,d),d+="; "}}),d+="} ";break;default:ee("unsupported element: "+ue(L))}}),d+="}",d}const yu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},\$c=4;let Pu=class{current;indent_level;stack;astructs;ast;main_args;opts;constructor(o,a,d,A,L,E){return this.current=o,this.indent_level=a,this.stack=d,this.astructs=A,this.ast=L,this.opts=E,this}init(o,a,d){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=o,this.main_args=a,this.opts=d}run(){this.strict_mode();let o,a=0;for(;a<this.ast.length;){const d=this.ast[a];if(d){const A=d.v;switch(d.id){case"use":this.write_use(A);break;case"modif":this.write_modifier(A);break;case"main":o=A;break;case"const":this.write_const(A);break;case"fn":this.write_fn(A);break;case"type":this.write_typedef(A);break;default:ee("unsupported node: "+this.ast[a].id)}}a+=1}return this.write_helper_fns(),o&&this.write_main(o),this.get_code()}to_en_id(o){!o.v&&!sa(o.v)||yu[o.v[1]]&&(o.v[1]=yu[o.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(o){this.current+=o}appendi(o){this.current+=this.spaces(),this.current+=o}spaces(o){return o||(o=this.indent_level),Mc(" ",o*\$c)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(o){const a=o.v.v[1];this.append(a==="_"?"default":a)}write_char_pat(o){this.append("'"+o.v.v[1]+"'")}write_str_pat(o){this.append('"'+o.v.v[1]+'"')}write_tuple_pat(o){this.append("(");let a=0;for(;a<o.v.length;)this.write_pat(o.v[a]),a<o.v.length-1&&this.append(", "),a+=1;this.append(")")}write_pat(o){switch(o.id){case"id":this.write_id_pat(o);break;case"bool":this.append(o.v.v[1]);break;case"int":case"float":this.append(Br(o.v.v[1][0]));break;case"char":this.write_char_pat(o);break;case"str":this.write_str_pat(o);break;case"tuple":this.write_tuple_pat(o);break;case"_":this.append("default");break;default:ee("unsupported pattern "+ue(o))}}write_modifier(o){this.opts.ignore_export||o.v==="+"&&this.appendi("export ")}write_use(o){}write_main(o){this.push(),this.appendi("("),this.write_fn(o,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(o){this.append("(");let a=0;for(;a<o.length;)a>0&&this.append(", "),this.write_pat(o[a].v._pat),a+=1;this.append(")")}write_do_block(o){this.append("(()=>"),this.write_block(o),this.append(\`)() 
\`)}write_block(o){this.append(\` {
\`),this.push(),this.indent_level+=1;let a=0;const d=o.v.length;for(;a<d;){const A=o.v[a];this.write_stmt(A),a+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(o,a){this.push(),o.t==="fn"&&this.appendi("static "),this.to_en_id(o.name),this.append("function "+o.name.v[1]),a?this.append("()"):this.write_params(o.params),this.write_body(o.body,o.name==="main",a),this.pop()}write_fields(o){const a=[];o.forEach(d=>{const A=d.v[0].v[1];a.push(A)}),a.forEach(d=>{this.appendi(this.spaces()+""+d+\`
\`)}),this.write_init(a)}write_init(o){this.append(\`
\`),this.appendi("constructor(");let a=0;for(;a<o.length;)this.append(o[a]),a<o.length-1&&this.append(", "),a+=1;for(this.append(\`) {
\`),this.indent_level+=1,a=0;a<o.length;)this.appendi("this."+o[a]+" = "+o[a]+\`
\`),a+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(o){this.appendi("class "+o.name.v[1]+\` {
\`),this.indent_level+=1,o.fields&&this.write_fields(o.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(o){this.appendi("const "),this.write_pat(o.lhs),this.append(" = "),this.write_expr(o.rhs),this.append(\`
\`)}write_var(o){this.appendi("let "),this.write_pat(o.lhs),o.rhs&&(this.append(" = "),this.write_expr(o.rhs)),this.append(\`
\`)}write_ret(o){this.append("return "),o.v&&this.write_expr(o.v)}write_break(o){this.append("break")}write_stmt(o){o.t==="expr"?(this.appendi(""),this.write_expr(o),this.append(\`
\`)):o.id==="const"?this.write_const(o.v):o.id==="var"?this.write_var(o.v):o.id==="break"?this.write_break(o):ee("cannot write stmt: "+ue(o))}write_body(o,a,d){if(this.append(\` {
\`),this.push(),this.indent_level+=1,d)for(const[E,S]of Object.entries(d))this.append(\`const \${E} = '\${S}'
\`);let A=0;const L=o.v.length;for(;A<L;){const E=o.v[A];this.write_stmt(E),A+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(o){this.append(o.v[1])}write_ref(o){const a=o.v.v[1];this.append(a)}write_str(o){const a=o.v.v[1],d=a.indexOf("\${")===-1?'"':"\`";this.append(d+a+d)}write_str_id(o){this.append(symbol+o.v.v[1]+symbol)}is_call(o){return o.v.id==="bin"&&o.v.v.op.v==="("}write_iret(o){Nu(["when","while","if","for","return"],o.v.node)||o.v.t==="()"||this.is_call(o)||o.semicolon||this.append("return "),this.is_call(o)?(this.append("const temp_seen_var = "),this.write_expr(o.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(o.v)}write_list(o){this.append("[");let a=0;const d=o.v.length;for(;a<d;)this.write_expr(o.v[a]),a<o.v.length-1&&this.append(", "),a+=1;this.append("]")}write_structl(o){const a=o.v;this.append("{");let d=0;for(;d<a.length;){const A=a[d],L=A.k;L.v.v[1]?this.write_id(L.v):this.write_str_id(L.v);const E=A.v;this.append(": "),this.write_expr(E),d<a.length-1&&this.append(", "),d+=1}this.append("}")}write_args(o){this.append("(");let a=0;for(;a<o.v.length;){let d=o.v[a];d.v.op&&d.v.op.v===":"&&(d=d.v.ropr),this.write_expr(d),a<o.v.length-1&&this.append(", "),a+=1}this.append(")")}write_named_arg(o){o.v[0].v[1];const a=o.v[1];this.write_expr(a)}write_tuple(o){this.append("[");let a=0;for(;a<o.v.length;){let d=o.v[a];d.id==="narg"&&(d=o.v[a].v[1]),this.write_expr(d),a<o.v.length-1&&this.append(", "),a+=1}this.append("]")}write_named_tuple(o){this.append("{"),o.v.forEach((a,d)=>{const A=a[0].v[1],L=a[1];this.append(A),this.append(": "),this.write_expr(L),d<o.v.length&&this.append(",")}),this.append("}")}write_when(o){this.appendi("switch("),this.write_expr(o.v.expr),this.append(\`) {
\`),this.indent_level+=1;let a=0;for(;a<o.v.arms.length;){const d=o.v.arms[a],A=d.v.pats,L=d.v.expr;let E=0;for(;E<A.length;)A[E].id!=="_"&&this.appendi("case "),this.write_pat(A[E]),this.append(\` :
\`),E+=1;this.indent_level+=1,this.appendi(""),this.write_expr(L),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,a+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(o){const a=o.v.op.v;switch(a){case".":if(o.v.opr.v.v[1]==="none"){this.append("null");return}else ee("enum variants are not supported, found : (."+o.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(a);break;default:ee("unsupported op: "+a);break}this.write_expr(o.v.opr)}write_pipe(o){for(;o.length>0;){let a=o.pop();switch(a.id){case"ref":this.write_expr(a),o.length>0&&(this.append("("),this.write_pipe(o),this.append(")"));break;case"call":const d=a.v[0],A=a.v[1];this.write_expr(d),this.append("("),this.write_pipe(o),this.current.slice(-1)!=="("&&A.length>0&&this.append(", "),A.forEach((L,E)=>{this.write_expr(L),E<A.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(a);break;default:throw new Error("syntax error |> :"+ue(a))}}}write_call(o){if(this.to_en_id(o.v[0].v),o.v[0].v.v[1]==="html"){const d=Ru(o,"");this.append(\` (() => \\\`\${d}\\\`)() \`);return}else if(o.v[0].v.v[1]==="صفحة_الشبكة"){const d=Du(o,"");this.append(\`(() => \\\`\${d}\\\`)()\`);return}else Wc.includes(o.v[0].v.v[1])&&this.append("new ");this.write_expr(o.v[0]),this.append("(");const a=o.v[1];a&&a.forEach((d,A)=>{this.write_expr(d),A<a.length-1&&this.append(", ")}),o.v[2]&&(a&&this.append(", "),this.write_children(o.v[2])),this.append(")")}write_children(o){!o||o.length===0||(this.append("["),o.forEach(a=>{this.write_expr(a),this.append(",")}),this.append("]"))}write_bin(o){const a=o.v.op.v;switch(a){case"[":this.write_expr(o.v.lopr),this.append("["),this.write_expr(o.v.ropr),this.append("]");break;case"=":this.write_expr(o.v.lopr),this.append("="),this.write_expr(o.v.ropr);break;case":=":this.append("let "),this.write_expr(o.v.lopr),this.append(" = "),this.write_expr(o.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(o.v.lopr),this.append(" = "),this.write_expr(o.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(o.v.lopr),this.append(\`
\`);break;case"|>":{let d=[],A=o.v.lopr,L=o.v.ropr;for(;;)if(d.push(A),L.id==="bin"&&L.v.op.v==="|>")A=L.v.lopr,L=L.v.ropr;else{d.push(L);break}this.write_pipe(d);break}case"||>":throw new Error(" ||> : WIP , "+ue(o));case":>":throw new Error(" :> : WIP , "+ue(o));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(o.v.lopr),this.append(a),(a==="=="||a==="!=")&&this.append("="),this.write_expr(o.v.ropr);break;default:ee("cannot write binary operation: "+ue(o));break}}write_afn(o){this.push(),this.write_params(o.v.params),this.append("=>"),this.write_body(o.v.body),this.pop()}write_expr(o){switch(o.grouped&&this.append("("),o.id){case"()":break;case";":break;case"ref":this.write_ref(o);break;case"bool":this.append(o.v.v[1]);break;case"int":case"float":this.append(Br(o.v[0].v[1]));break;case"char":this.append("'"+o.v.v[1]+"'");break;case"str":this.write_str(o);break;case"return":this.write_ret(o);break;case"iret":this.write_iret(o);break;case"[":this.write_list(o);break;case"{":this.write_structl(o);break;case"args":this.write_args(o);break;case"named_arg":this.write_named_arg(o);break;case"tuple":this.write_tuple(o);break;case"named_tuple":this.write_named_tuple(o);break;case"when":this.write_when(o);break;case"do_block":this.write_do_block(o);break;case"block":this.write_block(o);break;case"prefix":this.write_prefix_uni(o);break;case"call":this.write_call(o);break;case"bin":this.write_bin(o);break;case"afn":this.write_afn(o);break;default:ee("cannot write expr: "+ue(o))}o.grouped&&this.append(")")}write_helper_fns(){this.append(Ic)}get_code(){return this.current}};class Yc{ast;main_args;target;target_opts;init(a,d,A,L){this.ast=a,this.main_args=d,this.target=A,this.target_opts=L}run(){let a;switch(fc(this.target)){case"js":a=new Pu;break;default:St('target "'+this.target+'" is not supported');break}return a.init(this.ast,this.main_args,this.target_opts),a.run()}}class Qc{src;main_args;target;target_opts;lang;tokens;ast;gen_code;constructor(a,d,A,L,E,S,k,p,h,l){return this.src=a,this.main_args=d,this.target=A,this.target_opts=L,this.lang=E,this.tokens=S,this.ast=k,this.symtab=p,this.transltab=h,this.gen_code=l,this}init(a,d,A,L){this.src=a,this.main_args=d,this.target="js",this.target_opts=L||{},this.lang=A||"en"}init_ar(a,d,A){this.init(a,d,"ar",A)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(a){const d=new vc;d.init(this.lang,this.src,a),d.run(),this.tokens=d.tokens,Ys(d.errs)||(cu(d.errs),St(""))}parse(){const a=new Nc;a.init(this.tokens),a.run(),this.ast=a.ast,Ys(a.errs)||(cu(a.errs),St(""))}generate(a){const d=new Yc;d.init(this.ast,this.main_args,a,this.target_opts),this.gen_code=d.run()}}const wu="panda-syntax",Zc="ttcn_modified",Jc=["mode","lang","theme","statusbar"],Vc={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},tf={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,xu=zr.mode||"code";let li;switch(xu){case"code":li=Vc;break;case"editor":li=tf;break;default:throw new Error("invalid mode! : "+xu)}let ef=new URLSearchParams(window.location.search).get("lang"),Js=ef||zr.lang;Object.keys(zr).forEach(o=>{if(!Jc.includes(o))throw new Error("invalid option: "+o);li[o]=zr[o]});window.console.log=o=>\$i(o);window.console.error=o=>{of(),\$i(o.message,ku)};const ku="rgb(217 83 77)",nf="rgb(108 141 211)",rf={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},sf={"Ctrl-9":o=>o.foldCode(o.getCursor()),Tab:()=>vf(),"Shift-Tab":()=>mf(),"Ctrl-'":()=>{gf("«»")},"Ctrl-0":()=>{ha()},"Ctrl-=":()=>{Hu()},"Ctrl--":()=>{qu()}},Wu=["findCtrl"],Su=document.querySelector("#eval"),Iu=document.querySelector("#preview_area"),af=new MutationObserver((o,a)=>{Vs?Vs=!1:kf()});af.observe(Iu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Js),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ca(Hr(Js)),extraKeys:{...sf},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Wu}),Wn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ca("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Wu});Wn.setSize(460);let Ir={},Bu,aa,hi,an,Gs,Vs;function of(){return!!navigator.userAgentData}function Hr(o){return o==="ar"?"rtl":"ltr"}const Eu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await uf(Js);await Lf();async function uf(o){Bu=o==="ar_m",aa=o.startsWith("ar");let a=o.startsWith("ar")?"ar":"en";hi=14,an=a,Gs="",Vs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await ff(a),document.querySelector("#left_side_label").innerText=an==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=an==="ar"?"العرض الأولي":"Preview",ua(hi),_f(a),df(a),uc(ac,a),lc(oc,a),wf(a),Yt.setValue(a==="ar"?Eu.ar:Eu.en),Yt.clearHistory(),pf(a),zu(1,1),Gs&&openProj(Gs),await oa(li.theme),lf()&&cf(),li.statusbar||hf(),document.querySelector("body").style.visibility="visible"}function lf(){return li.mode==="code"}function hf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function cf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function ff(o){an=o}async function _f(o,a){o==="ar"?(a=a===void 0?"محرر س":a,document.title=a):(a=a===void 0?"Seen Editor":a,document.title=a)}async function pf(o){o==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function df(o){let a=Hr(o);Yt.setOption("direction",a),document.querySelector("html").setAttribute("dir",a),document.querySelector("#container").setAttribute("dir",a),document.querySelector("#editor_output").setAttribute("dir",a),document.querySelector("#preview").setAttribute("dir",a),document.querySelector("#preview_area").setAttribute("dir",a),document.querySelector("#output").setAttribute("dir",a),document.querySelector("#status_bar").setAttribute("dir",a),document.querySelector("#status_bar").style.textAlign=a==="rtl"?"left":"right"}function zu(o,a){document.querySelector("#status_bar").textContent=an==="ar"?\`سطر \${Xs(o)}, عمودي \${Xs(a)}\`:\`Ln \${o}, Col \${a}\`}function gf(o){let a=o;if(aa){const d=Yt.doc.getCursor(),A=d.line;Yt.doc.replaceRange(a,d),Yt.doc.setCursor(A,d.ch+a.length)}else return CodeMirror.Pass}function vf(){if(Yt.somethingSelected()){var o=Yt.getSelection(\`
\`);if(o.length>0&&(o.indexOf(\`
\`)>-1||o.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var a=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(a)}function mf(){Yt.indentSelection("subtract")}function Hu(){hi++,ua(hi)}function qu(){hi--,ua(hi)}async function bf(){let o=document.querySelector("#theme"),a=o.options[o.selectedIndex].value;await oa(a)}async function oa(o){o==="dark"?(o=wu,document.querySelector("#theme").value=wu):o==="light"&&(o=Zc,document.querySelector("#theme").value="ttcn");const a=(A,L)=>{[...A.classList].forEach(E=>{E.startsWith("cm-s")&&A.classList.remove(E)}),L.split(" ").forEach(E=>{A.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",o),Wn.setOption("theme",o),a(document.querySelector("#wrapper"),o),a(document.querySelector("#editor_output"),o),a(document.querySelector("#output"),o),yf();const d=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${d}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function yf(){const o=document.querySelector("#status_bar"),a=window.getComputedStyle(document.querySelector("#output"));o.style.fontSize=a.getPropertyValue("font-size"),o.style.color=a.getPropertyValue("color"),o.style.backgroundColor=a.getPropertyValue("background-color")}function ua(o){let a=document.querySelectorAll(".CodeMirror");a=[...a,...document.querySelectorAll("button")],a.push(document.querySelector("#status_bar")),a.forEach(d=>{d.style.fontSize=\`\${o}px\`})}function wf(o){const a=o==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",a)}function xf(){document.querySelector("#right_side").style.display="flex"}function la(){document.querySelector("#right_side").style.display="none"}function kf(){document.querySelector("#preview").style.display="flex"}function jr(){document.querySelector("#preview").style.display="none"}function ju(){output.replaceChildren()}function Sf(o){Su.replaceChildren();const a=document.createElement("iframe");Su.appendChild(a),a.contentWindow;const d=a.contentDocument||a.contentWindow.document,A=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${o}<\\/script>
      </head>
      <body>
      </body>\`;d.open(),d.write(A),d.close()}async function ha(){la(),jr(),ju();try{let o=await Uu();Sf(o.get_code());const a=an==="ar"?"انتهى":"End";\$i(\`
\`),\$i(\`--- \${a} ---
\`,nf)}catch(o){console.error(o)}}async function Ef(){la(),Wn.setValue("")}async function Tf(){jr(),Iu.replaceChildren()}async function Cf(){jr(),xf(),await Uu()}async function Uu(){let o=Yt.getValue(),a=new Qc,d={ignore_export:!0};const A={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};a.init(o,A,an,d),a.compile(),document.querySelector("#right_side_label").innerText=an==="ar"?"نص البرنامج":"Code";let L=js_beautify(a.gen_code,rf);return Wn.setOption("mode","javascript"),Wn.setOption("direction","ltr"),Wn.setOption("lineNumberFormatter",ca("ltr")),Wn.setValue(L),a}async function Af(){document.querySelector("#output").innerHTML=""}async function Lf(){document.querySelector("body").addEventListener("keydown",o=>Of(o)),document.querySelector("body").addEventListener("keyup",o=>{Ir[o.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>bf()),document.querySelector("#run").addEventListener("click",()=>ha()),document.querySelector("#srccode").addEventListener("click",()=>Cf()),document.querySelector("#right_side_close").addEventListener("click",()=>Ef()),document.querySelector("#preview_close").addEventListener("click",()=>Tf()),document.querySelector("#clear").addEventListener("click",()=>Af()),Yt.on("cursorActivity",o=>{let{line:a,ch:d}=Yt.getCursor();a+=1,d+=1,zu(a,d)})}function ca(o){return o==="rtl"?a=>Xs(a):a=>a}function Of(o){Ir[o.key]=!0;let a="";switch(Object.entries(Ir).forEach(([d,A])=>{Ir[d]&&(a+=d)}),a.toLowerCase()){case"0control":case"control0":ha();break;case"-control":case"control-":Hu();break;case"=control":case"control=":qu();break}}function Nf(o){var a=document.querySelector("#output");a.appendChild(o),a.scrollTop=a.scrollHeight}function \$i(o,a){o===""&&console.log(\`
\`),aa&&(o&&(o=Rf(o)),Bu||o&&(o=Ff(o)));const d=document.createElement("p");d.textContent=o,d.setAttribute("dir",Hr(an)),d.style.whiteSpace="pre-wrap",a&&(d.style.color=a),Nf(d)}function Rf(o){const a=/["'](.*?)["']/gi;return o.toString().replace(a,(d,A)=>d?\`«\${A}»\`:o)}function Ff(o){function a(A){let L="",E=0;for(;E<A.length;){switch(A[E]){case"0":L+="٠";break;case"1":L+="١";break;case"2":L+="٢";break;case"3":L+="٣";break;case"4":L+="٤";break;case"5":L+="٥";break;case"6":L+="٦";break;case"7":L+="٧";break;case"8":L+="٨";break;case"9":L+="٩";break;case".":L+="٫";break;default:Df()}E+=1}return L}const d=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return o=o.replace(d,(A,L,E,S)=>{if(A){let k=\`\${a(L)}\`;return E&&(k+=",",S&&(k+=\`\${a(S)}\`)),k}else return o}),o}function Df(o){throw new Error(o)}function Mf(o){Yt.setValue(o)}window.setEditorValue=Mf;window.hideRightSide=la;window.hidePreview=jr;window.resetOutput=ju;window.setTheme=oa;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }                
              