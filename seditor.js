export function SeenEditor(id, parent, opts) { 
                opts.mode = 'editor'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(p,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(p=p||self,p.CodeMirror=s())})(void 0,function(){var p=navigator.userAgent,s=navigator.platform,c=/gecko\\/\\d/i.test(p),T=/MSIE \\d/.test(p),O=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(p),E=/Edge\\/(\\d+)/.exec(p),S=T||O||E,x=S&&(T?document.documentMode||6:+(E||O)[1]),d=!E&&/WebKit\\//.test(p),l=d&&/Qt\\/\\d+\\.\\d+/.test(p),u=!E&&/Chrome\\/(\\d+)/.exec(p),f=u&&+u[1],b=/Opera\\//.test(p),M=/Apple Computer/.test(navigator.vendor),A=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(p),g=/PhantomJS/.test(p),y=M&&(/Mobile\\/\\w+/.test(p)||navigator.maxTouchPoints>2),W=/Android/.test(p),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(p),H=y||/Mac/.test(s),B=/\\bCrOS\\b/.test(p),U=/win/i.test(s),Z=b&&p.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,d=!0);var ot=H&&(l||b&&(Z==null||Z<12.11)),rt=c||S&&x>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,i,n){var r=L(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function C(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function xt(t){return t.display.wrapper.ownerDocument}function Nt(t){return xt(t).defaultView}function Et(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=n||0,o=r||0;;){var h=t.indexOf("	",a);if(h<0||h>=e)return o+(e-a);o+=h-a,o+=i-o%i,a=h+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=Et(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function mt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ee=50,Tt={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function ke(t,e,i){for(var n=0,r=0;;){var a=t.indexOf("	",n);a==-1&&(a=t.length);var o=a-n;if(a==t.length||r+o>=e)return n+Math.min(o,e-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=e)return n}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(yt(ce)+" ");return ce[t]}function yt(t){return t[t.length-1]}function Ue(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function sn(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function hi(){}function \$i(t,e){var i;return Object.create?i=Object.create(t):(hi.prototype=t,i=new hi),e&&ft(e,i),i}var jr=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function ci(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||jr.test(t))}function Pn(t,e){return e?e.source.indexOf("\\\\w")>-1&&ci(t)?!0:e.test(t):ci(t)}function Yi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Wn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function fi(t){return t.charCodeAt(0)>=768&&Wn.test(t)}function Fe(t,e,i){for(;(i<0?e>0:e<t.length)&&fi(t.charAt(e));)e+=i;return e}function zt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,a=n<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:i;t(a)?i=a:e=a+n}}function xn(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<i&&o.to>e||e==i&&o.to==e)&&(n(Math.max(o.from,e),Math.min(o.to,i),o.level==1?"rtl":"ltr",a),r=!0)}r||n(e,i,"ltr")}var Pe=null;function Te(t,e,i){var n;Pe=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&i=="before"?n=r:Pe=r),a.from==e&&(a.from!=a.to&&i!="before"?n=r:Pe=r)}return n??Pe}var Ur=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,h=/[1n]/;function _(m,N,F){this.level=m,this.from=N,this.to=F}return function(m,N){var F=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=F;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=F;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var vt=1,pt=q[0];vt<j-1;++vt){var St=q[vt];St=="+"&&pt=="1"&&q[vt+1]=="1"?q[vt]="1":St==","&&pt==q[vt+1]&&(pt=="1"||pt=="n")&&(q[vt]=pt),pt=St}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Kt=0,ge=F;Kt<j;++Kt){var ne=q[Kt];ge=="L"&&ne=="1"?q[Kt]="L":a.test(ne)&&(ge=ne)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Gt=void 0;for(Gt=\$t+1;Gt<j&&r.test(q[Gt]);++Gt);for(var qt=(\$t?q[\$t-1]:F)=="L",ve=(Gt<j?q[Gt]:F)=="L",ri=qt==ve?qt?"L":"R":F,mn=\$t;mn<Gt;++mn)q[mn]=ri;\$t=Gt-1}for(var ae=[],je,te=0;te<j;)if(o.test(q[te])){var Is=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new _(0,Is,te))}else{var tn=te,Mn=ae.length,Dn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=tn;he<te;)if(h.test(q[he])){tn<he&&(ae.splice(Mn,0,new _(1,tn,he)),Mn+=Dn);var si=he;for(++he;he<te&&h.test(q[he]);++he);ae.splice(Mn,0,new _(2,si,he)),Mn+=Dn,tn=he}else++he;tn<te&&ae.splice(Mn,0,new _(1,tn,te))}return N=="ltr"&&(ae[0].level==1&&(je=m.match(/^\\s+/))&&(ae[0].from=je[0].length,ae.unshift(new _(0,0,je[0].length))),yt(ae).level==1&&(je=m.match(/\\s+\$/))&&(yt(ae).to-=je[0].length,ae.push(new _(0,j-je[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var i=t.order;return i==null&&(i=t.order=Ur(t.text,e)),i}var Qi=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Qi).concat(i)}};function _i(t,e){return t._handlers&&t._handlers[e]||Qi}function ie(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var a=mt(r,i);a>-1&&(n[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Ft(t,e){var i=_i(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function Ht(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ft(t,i||e.type,t,e),pi(e)||e.codemirrorIgnore}function Zi(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)mt(i,e[n])==-1&&i.push(e[n])}function oe(t,e){return _i(t,e).length>0}function ue(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){ie(this,e,i)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Sn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function pi(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Ke(t){re(t),Sn(t)}function fe(t){return t.target||t.srcElement}function di(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),H&&t.ctrlKey&&e==1&&(e=3),e}var Kr=function(){if(S&&x<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Le;function Gr(t){if(Le==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Le=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&x<8))}var i=Le?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var In;function Ji(t){if(In!=null)return In;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return k(t),!i||i.left==i.right?!1:In=n.right-i.right<3}var gi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(i.push(a.slice(0,o)),e+=o+1):(i.push(a),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},an=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},We=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Ie=null;function Vi(t){if(Ie!=null)return Ie;var e=K(t,L("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return Ie=Math.abs(i.left-n.left)>1}var Ae={},on={};function tr(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ae[t]=e}function zn(t,e){on[t]=e}function me(t){if(typeof t=="string"&&on.hasOwnProperty(t))t=on[t];else if(t&&typeof t.name=="string"&&on.hasOwnProperty(t.name)){var e=on[t.name];typeof e=="string"&&(e={name:e}),t=\$i(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Ge(t,e){e=me(e);var i=Ae[e.name];if(!i)return Ge(t,"text/plain");var n=i(t,e);if(un.hasOwnProperty(e.name)){var r=un[e.name];for(var a in r)r.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=r[a])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)n[o]=e.modeProps[o];return n}var un={};function er(t,e){var i=un.hasOwnProperty(t)?un[t]:un[t]={};ft(e,i)}function Xe(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function ln(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function vi(t,e,i){return t.startState?t.startState(e,i):!0}var Bt=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Bt.prototype.eol=function(){return this.pos>=this.string.length},Bt.prototype.sol=function(){return this.pos==this.lineStart},Bt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Bt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Bt.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Bt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Bt.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Bt.prototype.skipToEnd=function(){this.pos=this.string.length},Bt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Bt.prototype.backUp=function(t){this.pos-=t},Bt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(o){return i?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Bt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Bt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Bt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Bt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(e<a){i=r;break}e-=a}return i.lines[e]}function \$e(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(a){var o=a.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function Hn(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Oe(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Ot(t){if(t.parent==null)return null;for(var e=t.parent,i=mt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function ze(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],a=r.height;if(e<a){t=r;continue t}e-=a,i+=r.chunkSize()}return i}while(!t.lines);for(var o=0;o<t.lines.length;++o){var h=t.lines[o],_=h.height;if(e<_)break;e-=_}return i+o}function w(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function z(t,e,i){if(i===void 0&&(i=null),!(this instanceof z))return new z(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function wt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Ct(t){return z(t.line,t.ch)}function Lt(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function xe(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function kt(t,e){if(e.line<t.first)return z(t.first,0);var i=t.first+t.size-1;return e.line>i?z(i,ct(t,i).text.length):qu(e,ct(t,e.line).text.length)}function qu(t,e){var i=t.ch;return i==null||i>e?z(t.line,e):i<0?z(t.line,0):t}function la(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=kt(t,e[n]);return i}var nr=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,i){return e instanceof nr?new He(t,Xe(t.mode,e.state),i,e.lookAhead):new He(t,Xe(t.mode,e),i)},He.prototype.save=function(t){var e=t!==!1?Xe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new nr(e,this.maxLookAhead):e};function ha(t,e,i,n){var r=[t.state.modeGen],a={};ga(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},a,n);for(var o=i.state,h=function(m){i.baseTokens=r;var N=t.state.overlays[m],F=1,j=0;i.state=!0,ga(t,e.text,N.mode,i,function(q,X){for(var Y=F;j<q;){var V=r[F];V>q&&r.splice(F,1,q,r[F+1],V),F+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,F-Y,q,"overlay "+X),F=Y+2;else for(;Y<F;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),i.state=o,i.baseTokens=null,i.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)h(_);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function ca(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=mi(t,Ot(e)),r=e.text.length>t.options.maxHighlightLength&&Xe(t.doc.mode,n.state),a=ha(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function mi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new He(n,!0,e);var a=ju(t,e,i),o=a>n.first&&ct(n,a-1).stateAfter,h=o?He.fromSaved(n,o,a):new He(n,vi(n.mode),a);return n.iter(a,e,function(_){Xr(t,_.text,h);var m=h.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?h.save():null,h.nextLine()}),i&&(n.modeFrontier=h.line),h}function Xr(t,e,i,n){var r=t.doc.mode,a=new Bt(e,t.options.tabSize,i);for(a.start=a.pos=n||0,e==""&&fa(r,i.state);!a.eol();)\$r(r,a,i.state),a.start=a.pos}function fa(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=ln(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function \$r(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=ln(t,i).mode);var a=t.token(e,i);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var _a=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function pa(t,e,i,n){var r=t.doc,a=r.mode,o;e=kt(r,e);var h=ct(r,e.line),_=mi(t,e.line,i),m=new Bt(h.text,t.options.tabSize,_),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=\$r(a,m,_.state),n&&N.push(new _a(m,o,Xe(r.mode,_.state)));return n?N:new _a(m,o,_.state)}function da(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ga(t,e,i,n,r,a,o){var h=i.flattenSpans;h==null&&(h=t.options.flattenSpans);var _=0,m=null,N=new Bt(e,t.options.tabSize,n),F,j=t.options.addModeClass&&[null];for(e==""&&da(fa(i,n.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(h=!1,o&&Xr(t,e,n,N.pos),N.pos=e.length,F=null):F=da(\$r(i,N,n.state,j),a),j){var q=j[0].name;q&&(F="m-"+(F?q+" "+F:q))}if(!h||m!=F){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=F}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function ju(t,e,i){for(var n,r,a=t.doc,o=i?-1:e-(t.doc.mode.innerMode?1e3:100),h=e;h>o;--h){if(h<=a.first)return a.first;var _=ct(a,h-1),m=_.stateAfter;if(m&&(!i||h+(m instanceof nr?m.lookAhead:0)<=a.modeFrontier))return h;var N=at(_.text,null,t.options.tabSize);(r==null||n>N)&&(r=h-1,n=N)}return r}function Uu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof nr)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var va=!1,Ye=!1;function Ku(){va=!0}function Gu(){Ye=!0}function ir(t,e,i){this.marker=t,this.from=e,this.to=i}function bi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Xu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function \$u(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function Yu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(h||a.from==e&&o.type=="bookmark"&&(!i||!a.marker.insertLeft)){var _=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(n||(n=[])).push(new ir(o,a.from,_?null:a.to))}}return n}function Qu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(h||a.from==e&&o.type=="bookmark"&&(!i||a.marker.insertLeft)){var _=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(n||(n=[])).push(new ir(o,_?null:a.from-e,a.to==null?null:a.to-e))}}return n}function Yr(t,e){if(e.full)return null;var i=w(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=w(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,h=Yu(i,r,o),_=Qu(n,a,o),m=e.text.length==1,N=yt(e.text).length+(m?r:0);if(h)for(var F=0;F<h.length;++F){var j=h[F];if(j.to==null){var q=bi(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=bi(h,Y.marker);V||(Y.from=N,m&&(h||(h=[])).push(Y))}else Y.from+=N,m&&(h||(h=[])).push(Y)}h&&(h=ma(h)),_&&_!=h&&(_=ma(_));var tt=[h];if(!m){var st=e.text.length-2,et;if(st>0&&h)for(var ut=0;ut<h.length;++ut)h[ut].to==null&&(et||(et=[])).push(new ir(h[ut].marker,null,null));for(var vt=0;vt<st;++vt)tt.push(et);tt.push(_)}return tt}function ma(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Zu(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||mt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],a=0;a<n.length;++a)for(var o=n[a],h=o.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,h.from)<0||G(m.from,h.to)>0)){var N=[_,1],F=G(m.from,h.from),j=G(m.to,h.to);(F<0||!o.inclusiveLeft&&!F)&&N.push({from:m.from,to:h.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:h.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function ba(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function ya(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function rr(t){return t.inclusiveLeft?-1:0}function sr(t){return t.inclusiveRight?1:0}function Qr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),a=G(n.from,r.from)||rr(t)-rr(e);if(a)return-a;var o=G(n.to,r.to)||sr(t)-sr(e);return o||e.id-t.id}function wa(t,e){var i=Ye&&t.markedSpans,n;if(i)for(var r=void 0,a=0;a<i.length;++a)r=i[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Qr(n,r.marker)<0)&&(n=r.marker);return n}function ka(t){return wa(t,!0)}function ar(t){return wa(t,!1)}function Ju(t,e){var i=Ye&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var a=i[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!n||Qr(n,a.marker)<0)&&(n=a.marker)}return n}function xa(t,e,i,n,r){var a=ct(t,e),o=Ye&&a.markedSpans;if(o)for(var h=0;h<o.length;++h){var _=o[h];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,i)||rr(_.marker)-rr(r),F=G(m.to,n)||sr(_.marker)-sr(r);if(!(N>=0&&F<=0||N<=0&&F>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Ne(t){for(var e;e=ka(t);)t=e.find(-1,!0).line;return t}function Vu(t){for(var e;e=ar(t);)t=e.find(1,!0).line;return t}function tl(t){for(var e,i;e=ar(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Zr(t,e){var i=ct(t,e),n=Ne(i);return i==n?e:Ot(n)}function Sa(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!hn(t,i))return e;for(;n=ar(i);)i=n.find(1,!0).line;return Ot(i)+1}function hn(t,e){var i=Ye&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Jr(t,e,n))return!0}}}function Jr(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return Jr(t,n.line,bi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Jr(t,e,r))return!0}function Qe(t){t=Ne(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var o=0;o<a.children.length;++o){var h=a.children[o];if(h==i)break;e+=h.height}return e}function or(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=ka(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=ar(n);){var a=i.find(0,!0);e-=n.text.length-a.from.ch,n=a.to.line,e+=n.text.length-a.to.ch}return e}function Vr(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=or(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=or(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var Bn=function(t,e,i){this.text=t,ya(this,e),this.height=i?i(this):1};Bn.prototype.lineNo=function(){return Ot(this)},ue(Bn);function el(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),ba(t),ya(t,i);var r=n?n(t):1;r!=t.height&&Oe(t,r)}function nl(t){t.parent=null,ba(t)}var il={},rl={};function Ea(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?rl:il;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function Ta(t,e){var i=Q("span",null,null,d?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;n.pos=0,n.addToken=al,Ji(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(n.addToken=ul(n.addToken,o)),n.map=[];var h=e!=t.display.externalMeasured&&Ot(a);ll(a,n,ca(t,a,h)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=\$(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=\$(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Gr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(d){var _=n.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Ft(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function sl(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function al(t,e,i,n,r,a,o){if(e){var h=t.splitSpaces?ol(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(h),t.map.push(t.pos,t.pos+e.length,N),S&&x<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var F=0;;){_.lastIndex=F;var j=_.exec(e),q=j?j.index-F:e.length-F;if(q){var X=document.createTextNode(h.slice(F,F+q));S&&x<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;F+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&x<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=h.charCodeAt(e.length-1)==32,i||n||r||m||a||o){var st=i||"";n&&(st+=n),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function ol(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),n+=a,i=a==" "}return n}function ul(t,e){return function(i,n,r,a,o,h,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var F=void 0,j=0;j<e.length&&(F=e[j],!(F.to>m&&F.from<=m));j++);if(F.to>=N)return t(i,n,r,a,o,h,_);t(i,n.slice(0,F.to-m),r,a,null,h,_),a=null,n=n.slice(F.to-m),m=F.to}}}function Ca(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function ll(t,e,i){var n=t.markedSpans,r=t.text,a=0;if(!n){for(var o=1;o<i.length;o+=2)e.addToken(e,r.slice(a,a=i[o]),Ea(i[o+1],e.cm.options));return}for(var h=r.length,_=0,m=1,N="",F,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,vt=0;vt<n.length;++vt){var pt=n[vt],St=pt.marker;if(St.type=="bookmark"&&pt.from==_&&St.widgetNode)et.push(St);else if(pt.from<=_&&(pt.to==null||pt.to>_||St.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),St.className&&(X+=" "+St.className),St.css&&(j=(j?j+";":"")+St.css),St.startStyle&&pt.from==_&&(V+=" "+St.startStyle),St.endStyle&&pt.to==q&&(ut||(ut=[])).push(St.endStyle,pt.to),St.title&&((st||(st={})).title=St.title),St.attributes)for(var Dt in St.attributes)(st||(st={}))[Dt]=St.attributes[Dt];St.collapsed&&(!tt||Qr(tt.marker,St)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)Ca(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(Ca(e,(tt.to==null?h+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=h)break;for(var ye=Math.min(h,q);;){if(N){var de=_+N.length;if(!tt){var Kt=de>ye?N.slice(0,ye-_):N;e.addToken(e,Kt,F?F+X:X,V,_+Kt.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-_),_=ye;break}_=de,V=""}N=r.slice(a,a=i[m++]),F=Ea(i[m++],e.cm.options)}}}function La(t,e,i){this.line=e,this.rest=tl(e),this.size=this.rest?Ot(yt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=hn(t,e)}function ur(t,e,i){for(var n=[],r,a=e;a<i;a=r){var o=new La(t.doc,ct(t.doc,a),a);r=a+o.size,n.push(o)}return n}var qn=null;function hl(t){qn?qn.ops.push(t):t.ownsGroup=qn={ops:[t],delayedCallbacks:[]}}function cl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function fl(t,e){var i=t.ownsGroup;if(i)try{cl(i)}finally{qn=null,e(i)}}var yi=null;function Qt(t,e){var i=_i(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;qn?r=qn.delayedCallbacks:yi?r=yi:(r=yi=[],setTimeout(_l,0));for(var a=function(h){r.push(function(){return i[h].apply(null,n)})},o=0;o<i.length;++o)a(o)}}function _l(){var t=yi;yi=null;for(var e=0;e<t.length;++e)t[e]()}function Oa(t,e,i,n){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?dl(t,e):a=="gutter"?Na(t,e,i,n):a=="class"?ts(t,e):a=="widget"&&gl(t,e,n)}e.changes=null}function wi(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&x<8&&(t.node.style.zIndex=2)),t.node}function pl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=wi(e);e.background=n.insertBefore(L("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Aa(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Ta(t,e)}function dl(t,e){var i=e.text.className,n=Aa(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,ts(t,e)):i&&(e.text.className=i)}function ts(t,e){pl(t,e),e.line.wrapClass?wi(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Na(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=wi(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=wi(e),h=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(h.setAttribute("aria-hidden","true"),t.display.input.setUneditable(h),o.insertBefore(h,e.text),e.line.gutterClass&&(h.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=h.appendChild(L("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=a.hasOwnProperty(m)&&a[m];N&&h.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function gl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Ra(t,e,i)}function vl(t,e,i,n){var r=Aa(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),ts(t,e),Na(t,e,i,n),Ra(t,e,n),e.node}function Ra(t,e,i){if(Ma(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Ma(t,e.rest[n],e,i,!1)}function Ma(t,e,i,n,r){if(e.widgets)for(var a=wi(i),o=0,h=e.widgets;o<h.length;++o){var _=h[o],m=L("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),ml(_,m,i,n),t.display.input.setUneditable(m),r&&_.above?a.insertBefore(m,i.gutter||i.text):a.appendChild(m),Qt(_,"redraw")}}function ml(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function ki(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ze(t,e){for(var i=fe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function lr(t){return t.lineSpace.offsetTop}function es(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Da(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function Be(t){return ee-t.display.nativeBarWidth}function En(t){return t.display.scroller.clientWidth-Be(t)-t.display.barWidth}function ns(t){return t.display.scroller.clientHeight-Be(t)-t.display.barHeight}function bl(t,e,i){var n=t.options.lineWrapping,r=n&&En(t);if(!e.measure.heights||n&&e.measure.width!=r){var a=e.measure.heights=[];if(n){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),h=0;h<o.length-1;h++){var _=o[h],m=o[h+1];Math.abs(_.bottom-m.bottom)>2&&a.push((_.bottom+m.top)/2-i.top)}}a.push(i.bottom-i.top)}}function Fa(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Ot(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function yl(t,e){e=Ne(e);var i=Ot(e),n=t.display.externalMeasured=new La(t.doc,e,i);n.lineN=i;var r=n.built=Ta(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function Pa(t,e,i,n){return qe(t,jn(t,e),i,n)}function is(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ln(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function jn(t,e){var i=Ot(e),n=is(t,i);n&&!n.text?n=null:n&&n.changes&&(Oa(t,n,i,us(t)),t.curOp.forceUpdate=!0),n||(n=yl(t,e));var r=Fa(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function qe(t,e,i,n,r){e.before&&(i=-1);var a=i+(n||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(bl(t,e.view,e.rect),e.hasHeights=!0),o=kl(t,e,i,n),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Wa={left:0,right:0,top:0,bottom:0};function Ia(t,e,i){for(var n,r,a,o,h,_,m=0;m<t.length;m+=3)if(h=t[m],_=t[m+1],e<h?(r=0,a=1,o="left"):e<_?(r=e-h,a=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(a=_-h,r=a-1,e>=_&&(o="right")),r!=null){if(n=t[m+2],h==_&&i==(n.insertLeft?"left":"right")&&(o=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],o="left";if(i=="right"&&r==_-h)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],o="right";break}return{node:n,start:r,end:a,collapse:o,coverStart:h,coverEnd:_}}function wl(t,e){var i=Wa;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function kl(t,e,i,n){var r=Ia(e.map,i,n),a=r.node,o=r.start,h=r.end,_=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&fi(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+h<r.coverEnd&&fi(e.line.text.charAt(r.coverStart+h));)++h;if(S&&x<9&&o==0&&h==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=wl(it(a,o,h).getClientRects(),n),m.left||m.right||o==0)break;h=o,o=o-1,_="right"}S&&x<11&&(m=xl(t.display.measure,m))}else{o>0&&(_=n="right");var F;t.options.lineWrapping&&(F=a.getClientRects()).length>1?m=F[n=="right"?F.length-1:0]:m=a.getBoundingClientRect()}if(S&&x<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Kn(t.display),top:j.top,bottom:j.bottom}:m=Wa}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function xl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Vi(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function za(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Ha(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)za(t.display.view[e])}function xi(t){Ha(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ba(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function qa(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function rs(t){var e=Ne(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=ki(i[r]));return n}function hr(t,e,i,n,r){if(!r){var a=rs(e);i.top+=a,i.bottom+=a}if(n=="line")return i;n||(n="local");var o=Qe(e);if(n=="local"?o+=lr(t.display):o-=t.display.viewOffset,n=="page"||n=="window"){var h=t.display.lineSpace.getBoundingClientRect();o+=h.top+(n=="window"?0:qa(xt(t)));var _=h.left+(n=="window"?0:Ba(xt(t)));i.left+=_,i.right+=_}return i.top+=o,i.bottom+=o,i}function ja(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ba(xt(t)),r-=qa(xt(t));else if(i=="local"||!i){var a=t.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function cr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),hr(t,n,Pa(t,n,e.ch,r),i)}function Re(t,e,i,n,r,a){n=n||ct(t.doc,e.line),r||(r=jn(t,n));function o(X,Y){var V=qe(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,hr(t,n,V,i)}var h=Ce(n,t.doc.direction),_=e.ch,m=e.sticky;if(_>=n.text.length?(_=n.text.length,m="before"):_<=0&&(_=0,m="after"),!h)return o(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=h[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var F=Te(h,_,m),j=Pe,q=N(_,F,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Ua(t,e){var i=0;e=kt(t.doc,e),t.options.lineWrapping||(i=Kn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Qe(n)+lr(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function ss(t,e,i,n,r){var a=z(t,e,i);return a.xRel=r,n&&(a.outside=n),a}function as(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return ss(n.first,0,null,-1,-1);var r=ze(n,i),a=n.first+n.size-1;if(r>a)return ss(n.first+n.size-1,ct(n,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(n,r);;){var h=Sl(t,o,r,e,i),_=Ju(o,h.ch+(h.xRel>0||h.outside>0?1:0));if(!_)return h;var m=_.find(1);if(m.line==r)return m;o=ct(n,r=m.line)}}function Ka(t,e,i,n){n-=rs(e);var r=e.text.length,a=zt(function(o){return qe(t,i,o-1).bottom<=n},r,0);return r=zt(function(o){return qe(t,i,o).top>n},a,r),{begin:a,end:r}}function Ga(t,e,i,n){i||(i=jn(t,e));var r=hr(t,e,qe(t,i,n),"line").top;return Ka(t,e,i,r)}function os(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Sl(t,e,i,n,r){r-=Qe(e);var a=jn(t,e),o=rs(e),h=0,_=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var F=(t.options.lineWrapping?Tl:El)(t,e,i,a,N,n,r);m=F.level!=1,h=m?F.from:F.to-1,_=m?F.to:F.from-1}var j=null,q=null,X=zt(function(vt){var pt=qe(t,a,vt);return pt.top+=o,pt.bottom+=o,os(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=vt,q=pt),!0):!1},h,_),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==h)&&X++,V=X==0?"after":X==e.text.length?"before":qe(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Re(t,z(i,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Fe(e.text,X,1),ss(i,X,V,tt,n-Y)}function El(t,e,i,n,r,a,o){var h=zt(function(F){var j=r[F],q=j.level!=1;return os(Re(t,z(i,q?j.to:j.from,q?"before":"after"),"line",e,n),a,o,!0)},0,r.length-1),_=r[h];if(h>0){var m=_.level!=1,N=Re(t,z(i,m?_.from:_.to,m?"after":"before"),"line",e,n);os(N,a,o,!0)&&N.top>o&&(_=r[h-1])}return _}function Tl(t,e,i,n,r,a,o){var h=Ka(t,e,n,o),_=h.begin,m=h.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,F=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=qe(t,n,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||F>V)&&(N=q,F=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Tn;function Un(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Tn==null){Tn=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Tn.appendChild(document.createTextNode("x")),Tn.appendChild(L("br"));Tn.appendChild(document.createTextNode("x"))}K(t.measure,Tn);var i=Tn.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),k(t.measure),i||1}function Kn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),i=L("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function us(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var h=t.display.gutterSpecs[o].className;i[h]=a.offsetLeft+a.clientLeft+r,n[h]=a.clientWidth}return{fixedPos:ls(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function ls(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Xa(t){var e=Un(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Kn(t.display)-3);return function(r){if(hn(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return i?a+(Math.ceil(r.text.length/n)||1)*e:a+e}}function hs(t){var e=t.doc,i=Xa(t);e.iter(function(n){var r=i(n);r!=n.height&&Oe(n,r)})}function Cn(t,e,i,n){var r=t.display;if(!i&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,h=r.lineSpace.getBoundingClientRect();try{a=e.clientX-h.left,o=e.clientY-h.top}catch{return null}var _=as(t,a,o),m;if(n&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=z(_.line,Math.max(0,Math.round((a-Da(t.display).left)/Kn(t.display))-N))}return _}function Ln(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function _e(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ye&&Zr(t.doc,e)<r.viewTo&&fn(t);else if(i<=r.viewFrom)Ye&&Sa(t.doc,i+n)>r.viewFrom?fn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)fn(t);else if(e<=r.viewFrom){var a=fr(t,i,i+n,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=n):fn(t)}else if(i>=r.viewTo){var o=fr(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):fn(t)}else{var h=fr(t,e,e,-1),_=fr(t,i,i+n,1);h&&_?(r.view=r.view.slice(0,h.index).concat(ur(t,h.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=n):fn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function cn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var a=n.view[Ln(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);mt(o,i)==-1&&o.push(i)}}}function fn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function fr(t,e,i,n){var r=Ln(t,e),a,o=t.display.view;if(!Ye||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var h=t.display.viewFrom,_=0;_<r;_++)h+=o[_].size;if(h!=e){if(n>0){if(r==o.length-1)return null;a=h+o[r].size-e,r++}else a=h-e;e+=a,i+=a}for(;Zr(t.doc,i)!=i;){if(r==(n<0?0:o.length-1))return null;i+=n*o[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Cl(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=ur(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=ur(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ln(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(ur(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ln(t,i)))),n.viewTo=i}function \$a(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Si(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ya(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var h=0;h<i.sel.ranges.length;h++)if(!(!e&&h==i.sel.primIndex)){var _=i.sel.ranges[h];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(o){var N=o(t,_);N&&cs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&cs(t,_.head,r);m||Ll(t,_,a)}}return n}function cs(t,e,i){var n=Re(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=cr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(n.other){var h=i.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));h.style.display="",h.style.left=n.other.left+"px",h.style.top=n.other.top+"px",h.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function _r(t,e){return t.top-e.top||t.left-e.left}function Ll(t,e,i){var n=t.display,r=t.doc,a=document.createDocumentFragment(),o=Da(t.display),h=o.left,_=Math.max(n.sizerWidth,En(t)-n.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,vt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(vt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function F(et,ut,vt){var pt=ct(r,et),St=pt.text.length,Dt,Vt;function Wt(Kt,ge){return cr(t,z(et,Kt),"div",pt,ge)}function ye(Kt,ge,ne){var \$t=Ga(t,pt,null,Kt),Gt=ge=="ltr"==(ne=="after")?"left":"right",qt=ne=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Gt)[Gt]}var de=Ce(pt,r.direction);return xn(de,ut||0,vt??St,function(Kt,ge,ne,\$t){var Gt=ne=="ltr",qt=Wt(Kt,Gt?"left":"right"),ve=Wt(ge-1,Gt?"right":"left"),ri=ut==null&&Kt==0,mn=vt==null&&ge==St,ae=\$t==0,je=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?ri:mn)&&ae,Is=(m?mn:ri)&&je,tn=te?h:(Gt?qt:ve).left,Mn=Is?_:(Gt?ve:qt).right;N(tn,qt.top,Mn-tn,qt.bottom)}else{var Dn,he,si,zs;Gt?(Dn=m&&ri&&ae?h:qt.left,he=m?_:ye(Kt,ne,"before"),si=m?h:ye(ge,ne,"after"),zs=m&&mn&&je?_:ve.right):(Dn=m?ye(Kt,ne,"before"):h,he=!m&&ri&&ae?_:qt.right,si=!m&&mn&&je?h:ve.left,zs=m?ye(ge,ne,"after"):_),N(Dn,qt.top,he-Dn,qt.bottom),qt.bottom<ve.top&&N(h,qt.bottom,null,ve.top),N(si,ve.top,zs-si,ve.bottom)}(!Dt||_r(qt,Dt)<0)&&(Dt=qt),_r(ve,Dt)<0&&(Dt=ve),(!Vt||_r(qt,Vt)<0)&&(Vt=qt),_r(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)F(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Ne(X)==Ne(Y),tt=F(j.line,j.ch,V?X.text.length+1:null).end,st=F(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(h,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(h,tt.bottom,null,st.top)}i.appendChild(a)}function fs(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Gn(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Qa(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ps(t))}function _s(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Gn(t))},100)}function ps(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Ft(t,"focus",t,e),t.state.focused=!0,C(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),d&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),fs(t))}function Gn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Ft(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function pr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var h=e.view[o],_=t.options.lineWrapping,m=void 0,N=0;if(!h.hidden){if(r+=h.line.height,S&&x<8){var F=h.node.offsetTop+h.node.offsetHeight;m=F-i,i=F}else{var j=h.node.getBoundingClientRect();m=j.bottom-j.top,!_&&h.text.firstChild&&(N=h.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=h.line.height-m;if((q>.005||q<-.005)&&(r<n&&(a-=q),Oe(h.line,m),Za(h.line),h.rest))for(var X=0;X<h.rest.length;X++)Za(h.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Kn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=h.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function Za(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function dr(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-lr(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,a=ze(e,n),o=ze(e,r);if(i&&i.ensure){var h=i.ensure.from.line,_=i.ensure.to.line;h<a?(a=h,o=ze(e,Qe(ct(e,h))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=o&&(a=ze(e,Qe(ct(e,_))-t.wrapper.clientHeight),o=_)}return{from:a,to:Math.max(o,a+1)}}function Ol(t,e){if(!Ht(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,a=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-lr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+Be(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Al(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?z(e.line,e.ch+1,"before"):e,e=e.ch?z(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,h=Re(t,e),_=!i||i==e?h:Re(t,i);r={left:Math.min(h.left,_.left),top:Math.min(h.top,_.top)-n,right:Math.max(h.left,_.left),bottom:Math.max(h.bottom,_.bottom)+n};var m=ds(t,r),N=t.doc.scrollTop,F=t.doc.scrollLeft;if(m.scrollTop!=null&&(Ti(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(On(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-F)>1&&(o=!0)),!o)break}return r}function Nl(t,e){var i=ds(t,e);i.scrollTop!=null&&Ti(t,i.scrollTop),i.scrollLeft!=null&&On(t,i.scrollLeft)}function ds(t,e){var i=t.display,n=Un(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,a=ns(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var h=t.doc.height+es(i),_=e.top<n,m=e.bottom>h-n;if(e.top<r)o.scrollTop=_?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?h:e.bottom)-a);N!=r&&(o.scrollTop=N)}var F=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-F,q=En(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+F-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function gs(t,e){e!=null&&(gr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Xn(t){gr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ei(t,e,i){(e!=null||i!=null)&&gr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Rl(t,e){gr(t),t.curOp.scrollToPos=e}function gr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=Ua(t,e.from),n=Ua(t,e.to);Ja(t,i,n,e.margin)}}function Ja(t,e,i,n){var r=ds(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ei(t,r.scrollLeft,r.scrollTop)}function Ti(t,e){Math.abs(t.doc.scrollTop-e)<2||(c||ms(t,{top:e}),Va(t,e,!0),c&&ms(t),Oi(t,100))}function Va(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function On(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,ro(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ci(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+es(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Be(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var An=function(t,e,i){this.cm=i;var n=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};An.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},An.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},An.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},An.prototype.zeroWidthHack=function(){var t=H&&!A?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},An.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),a=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},An.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Li=function(){};Li.prototype.update=function(){return{bottom:0,right:0}},Li.prototype.setScrollLeft=function(){},Li.prototype.setScrollTop=function(){},Li.prototype.clear=function(){};function \$n(t,e){e||(e=Ci(t));var i=t.display.barWidth,n=t.display.barHeight;to(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&pr(t),to(t,Ci(t)),i=t.display.barWidth,n=t.display.barHeight}function to(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var eo={native:An,null:Li};function no(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new eo[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?On(t,e):Ti(t,e)},t),t.display.scrollbars.addClass&&C(t.display.wrapper,t.display.scrollbars.addClass)}var Ml=0;function Nn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ml,markArrays:null},hl(t.curOp)}function Rn(t){var e=t.curOp;e&&fl(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Dl(i)})}function Dl(t){for(var e=t.ops,i=0;i<e.length;i++)Fl(e[i]);for(var n=0;n<e.length;n++)Pl(e[n]);for(var r=0;r<e.length;r++)Wl(e[r]);for(var a=0;a<e.length;a++)Il(e[a]);for(var o=0;o<e.length;o++)zl(e[o])}function Fl(t){var e=t.cm,i=e.display;Bl(e),t.updateMaxLine&&Vr(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new vr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Pl(t){t.updatedDisplay=t.mustUpdate&&vs(t.cm,t.update)}function Wl(t){var e=t.cm,i=e.display;t.updatedDisplay&&pr(e),t.barMeasure=Ci(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Pa(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Be(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-En(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Il(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&On(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(xt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&\$n(e,t.barMeasure),t.updatedDisplay&&ys(e,t.barMeasure),t.selectionChanged&&fs(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Qa(t.cm)}function zl(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&io(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&Va(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&On(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Al(e,kt(n,t.scrollToPos.from),kt(n,t.scrollToPos.to),t.scrollToPos.margin);Ol(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var h=0;h<a.length;++h)a[h].lines.length||Ft(a[h],"hide");if(o)for(var _=0;_<o.length;++_)o[_].lines.length&&Ft(o[_],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ft(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Nn(t);try{return e()}finally{Rn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Nn(t);try{return e.apply(t,arguments)}finally{Rn(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Nn(this);try{return t.apply(this,arguments)}finally{Rn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Nn(e);try{return t.apply(this,arguments)}finally{Rn(e)}}}function Oi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,Et(Hl,t))}function Hl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=mi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(n.line>=t.display.viewFrom){var o=a.styles,h=a.text.length>t.options.maxHighlightLength?Xe(e.mode,n.state):null,_=ha(t,a,n,!0);h&&(n.state=h),a.styles=_.styles;var m=a.styleClasses,N=_.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var F=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!F&&j<o.length;++j)F=o[j]!=a.styles[j];F&&r.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=t.options.maxHighlightLength&&Xr(t,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Oi(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)cn(t,r[a],"text")})}}var vr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=dr(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=En(t),this.force=i,this.dims=us(t),this.events=[]};vr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},vr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ft.apply(null,this.events[t])};function Bl(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Be(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Be(t)+"px",e.scrollbarsClipped=!0)}function ql(t){if(t.hasFocus())return null;var e=lt(xt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function jl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function vs(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return fn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&\$a(t)==0)return!1;so(t)&&(fn(t),e.dims=us(t));var r=n.first+n.size,a=Math.max(e.visible.from-t.options.viewportMargin,n.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(r,i.viewTo)),Ye&&(a=Zr(t.doc,a),o=Sa(t.doc,o));var h=a!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Cl(t,a,o),i.viewOffset=Qe(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var _=\$a(t);if(!h&&_==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=ql(t);return _>4&&(i.lineDiv.style.display="none"),Ul(t,i.updateLineNumbers,e.dims),_>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,jl(m),k(i.cursorDiv),k(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,h&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Oi(t,400)),i.updateLineNumbers=null,!0}function io(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==En(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+es(t.display)-ns(t),i.top)}),e.visible=dr(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=dr(t.display,t.doc,i));if(!vs(t,e))break;pr(t);var r=Ci(t);Si(t),\$n(t,r),ys(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ms(t,e){var i=new vr(t,e);if(vs(t,i)){pr(t),io(t,i);var n=Ci(t);Si(t),\$n(t,n),ys(t,n),i.finish()}}function Ul(t,e,i){var n=t.display,r=t.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function h(X){var Y=X.nextSibling;return d&&H&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=n.view,m=n.viewFrom,N=0;N<_.length;N++){var F=_[N];if(!F.hidden)if(!F.node||F.node.parentNode!=a){var j=vl(t,F,m,i);a.insertBefore(j,o)}else{for(;o!=F.node;)o=h(o);var q=r&&e!=null&&e<=m&&F.lineNumber;F.changes&&(mt(F.changes,"gutter")>-1&&(q=!1),Oa(t,F,m,i)),q&&(k(F.lineNumber),F.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=F.node.nextSibling}m+=F.size}for(;o;)o=h(o)}function bs(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ys(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Be(t)+"px"}function ro(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=ls(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){t.options.fixedGutter&&(i[o].gutter&&(i[o].gutter.style.left=a),i[o].gutterBackground&&(i[o].gutterBackground.style.left=a));var h=i[o].alignable;if(h)for(var _=0;_<h.length;_++)h[_].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function so(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",bs(t.display),!0}return!1}function ws(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:a,style:o})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function ao(t){var e=t.gutters,i=t.gutterSpecs;k(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],a=r.className,o=r.style,h=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(h.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=h,h.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",bs(t)}function Ai(t){ao(t.display),_e(t),ro(t)}function Kl(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&x<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!d&&!(c&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=ws(n.gutters,n.lineNumbers),ao(r),i.init(r)}var mr=0,Je=null;S?Je=-.53:c?Je=15:u?Je=-.7:M&&(Je=-1/3);function oo(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Gl(t){var e=oo(t);return e.x*=Je,e.y*=Je,e}function uo(t,e){u&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=oo(e),n=i.x,r=i.y,a=Je;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,a=1);var o=t.display,h=o.scroller,_=h.scrollWidth>h.clientWidth,m=h.scrollHeight>h.clientHeight;if(n&&_||r&&m){if(r&&H&&d){t:for(var N=e.target,F=o.view;N!=h;N=N.parentNode)for(var j=0;j<F.length;j++)if(F[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!c&&!b&&a!=null){r&&m&&Ti(t,Math.max(0,h.scrollTop+r*a)),On(t,Math.max(0,h.scrollLeft+n*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),ms(t,{top:X,bottom:Y})}mr<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=h.scrollLeft,o.wheelStartY=h.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=h.scrollLeft-o.wheelStartX,tt=h.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(Je=(Je*mr+st)/(mr+1),++mr)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!wt(i.anchor,n.anchor)||!wt(i.head,n.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new At(Ct(this.ranges[e].anchor),Ct(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var At=function(t,e){this.anchor=t,this.head=e};At.prototype.from=function(){return Xt(this.anchor,this.head)},At.prototype.to=function(){return Lt(this.anchor,this.head)},At.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Me(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=mt(e,r);for(var a=1;a<e.length;a++){var o=e[a],h=e[a-1],_=G(h.to(),o.from());if(n&&!o.empty()?_>0:_>=0){var m=Xt(h.from(),o.from()),N=Lt(h.to(),o.to()),F=h.empty()?o.from()==o.head:h.from()==h.head;a<=i&&--i,e.splice(--a,2,new At(F?N:m,F?m:N))}}return new Se(e,i)}function _n(t,e){return new Se([new At(t,e||t)],0)}function pn(t){return t.text?z(t.from.line+t.text.length-1,yt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function lo(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return pn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=pn(e).ch-e.to.ch),z(i,n)}function ks(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new At(lo(r.anchor,e),lo(r.head,e)))}return Me(t.cm,i,t.sel.primIndex)}function ho(t,e,i){return t.line==e.line?z(i.line,t.ch-e.ch+i.ch):z(i.line+(t.line-e.line),t.ch)}function Xl(t,e,i){for(var n=[],r=z(t.first,0),a=r,o=0;o<e.length;o++){var h=e[o],_=ho(h.from,r,a),m=ho(pn(h),r,a);if(r=h.to,a=m,i=="around"){var N=t.sel.ranges[o],F=G(N.head,N.anchor)<0;n[o]=new At(F?m:_,F?_:m)}else n[o]=new At(_,_)}return new Se(n,t.sel.primIndex)}function xs(t){t.doc.mode=Ge(t.options,t.doc.modeOption),Ni(t)}function Ni(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Oi(t,100),t.state.modeGen++,t.curOp&&_e(t)}function co(t,e){return e.from.ch==0&&e.to.ch==0&&yt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ss(t,e,i,n){function r(st){return i?i[st]:null}function a(st,et,ut){el(st,et,ut,n),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],vt=st;vt<et;++vt)ut.push(new Bn(m[vt],r(vt),n));return ut}var h=e.from,_=e.to,m=e.text,N=ct(t,h.line),F=ct(t,_.line),j=yt(m),q=r(m.length-1),X=_.line-h.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(co(t,e)){var Y=o(0,m.length-1);a(F,F.text,q),X&&t.remove(h.line,X),Y.length&&t.insert(h.line,Y)}else if(N==F)if(m.length==1)a(N,N.text.slice(0,h.ch)+j+N.text.slice(_.ch),q);else{var V=o(1,m.length-1);V.push(new Bn(j+N.text.slice(_.ch),q,n)),a(N,N.text.slice(0,h.ch)+m[0],r(0)),t.insert(h.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,h.ch)+m[0]+F.text.slice(_.ch),r(0)),t.remove(h.line+1,X);else{a(N,N.text.slice(0,h.ch)+m[0],r(0)),a(F,j+F.text.slice(_.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(h.line+1,X-1),t.insert(h.line+1,tt)}Qt(t,"change",t,e)}function dn(t,e,i){function n(r,a,o){if(r.linked)for(var h=0;h<r.linked.length;++h){var _=r.linked[h];if(_.doc!=a){var m=o&&_.sharedHist;i&&!m||(e(_.doc,m),n(_.doc,r,m))}}}n(t,null,!0)}function fo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,hs(t),xs(t),_o(t),t.options.direction=e.direction,t.options.lineWrapping||Vr(t),t.options.mode=e.modeOption,_e(t)}function _o(t){(t.doc.direction=="rtl"?C:R)(t.display.lineDiv,"CodeMirror-rtl")}function \$l(t){be(t,function(){_o(t),_e(t)})}function br(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Es(t,e){var i={from:Ct(e.from),to:pn(e),text:\$e(t,e.from,e.to)};return vo(t,i,e.from.line,e.to.line+1),dn(t,function(n){return vo(n,i,e.from.line,e.to.line+1)},!0),i}function po(t){for(;t.length;){var e=yt(t);if(e.ranges)t.pop();else break}}function Yl(t,e){if(e)return po(t.done),yt(t.done);if(t.done.length&&!yt(t.done).ranges)return yt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),yt(t.done)}function go(t,e,i,n){var r=t.history;r.undone.length=0;var a=+new Date,o,h;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=Yl(r,r.lastOp==n)))h=yt(o.changes),G(e.from,e.to)==0&&G(e.from,h.to)==0?h.to=pn(e):o.changes.push(Es(t,e));else{var _=yt(r.done);for((!_||!_.ranges)&&yr(t.sel,r.done),o={changes:[Es(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,h||Ft(t,"historyAdded")}function Ql(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Zl(t,e,i,n){var r=t.history,a=n&&n.origin;i==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||Ql(t,a,yt(r.done),e))?r.done[r.done.length-1]=e:yr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=i,n&&n.clearRedo!==!1&&po(r.undone)}function yr(t,e){var i=yt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function vo(t,e,i,n){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function Jl(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function Vl(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(Jl(i[r]));return n}function mo(t,e){var i=Vl(t,e),n=Yr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)t:for(var h=0;h<o.length;++h){for(var _=o[h],m=0;m<a.length;++m)if(a[m].marker==_.marker)continue t;a.push(_)}else o&&(i[r]=o)}return i}function Yn(t,e,i){for(var n=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){n.push(i?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,h=[];n.push({changes:h});for(var _=0;_<o.length;++_){var m=o[_],N=void 0;if(h.push({from:m.from,to:m.to,text:m.text}),e)for(var F in m)(N=F.match(/^spans_(\\d+)\$/))&&mt(e,Number(N[1]))>-1&&(yt(h)[F]=m[F],delete m[F])}}return n}function Ts(t,e,i,n){if(n){var r=t.anchor;if(i){var a=G(e,r)<0;a!=G(i,r)<0?(r=e,e=i):a!=G(e,i)<0&&(e=i)}return new At(r,e)}else return new At(i||e,e)}function wr(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Ts(t.sel.primary(),e,i,r)],0),n)}function bo(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)n[a]=Ts(t.sel.ranges[a],e[a],null,r);var o=Me(t.cm,n,t.sel.primIndex);se(t,o,i)}function Cs(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,se(t,Me(t.cm,r,t.sel.primIndex),n)}function yo(t,e,i,n){se(t,_n(e,i),n)}function th(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new At(kt(t,r[a].anchor),kt(t,r[a].head))},origin:i&&i.origin};return Ft(t,"beforeSelectionChange",t,n),t.cm&&Ft(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Me(t.cm,n.ranges,n.ranges.length-1):e}function wo(t,e,i){var n=t.history.done,r=yt(n);r&&r.ranges?(n[n.length-1]=e,kr(t,e,i)):se(t,e,i)}function se(t,e,i){kr(t,e,i),Zl(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function kr(t,e,i){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=th(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);ko(t,So(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Xn(t.cm)}function ko(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Zi(t.cm)),Qt(t,"cursorActivity",t))}function xo(t){ko(t,So(t,t.sel,null,!1))}function So(t,e,i,n){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],h=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],_=xr(t,o.anchor,h&&h.anchor,i,n),m=o.head==o.anchor?_:xr(t,o.head,h&&h.head,i,n);(r||_!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new At(_,m))}return r?Me(t.cm,r,e.primIndex):e}function Qn(t,e,i,n,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var h=a.markedSpans[o],_=h.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((h.from==null||(m?h.from<=e.ch:h.from<e.ch))&&(h.to==null||(N?h.to>=e.ch:h.to>e.ch))){if(r&&(Ft(_,"beforeCursorEnter"),_.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!_.atomic)continue;if(i){var F=_.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(F=Eo(t,F,-n,F&&F.line==e.line?a:null)),F&&F.line==e.line&&(j=G(F,i))&&(n<0?j<0:j>0))return Qn(t,F,e,n,r)}var q=_.find(n<0?-1:1);return(n<0?m:N)&&(q=Eo(t,q,n,q.line==e.line?a:null)),q?Qn(t,q,e,n,r):null}}return e}function xr(t,e,i,n,r){var a=n||1,o=Qn(t,e,i,a,r)||!r&&Qn(t,e,i,a,!0)||Qn(t,e,i,-a,r)||!r&&Qn(t,e,i,-a,!0);return o||(t.cantEdit=!0,z(t.first,0))}function Eo(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?kt(t,z(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?z(e.line+1,0):null:new z(e.line,e.ch+i)}function To(t){t.setSelection(z(t.firstLine(),0),z(t.lastLine()),Rt)}function Co(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,a,o,h){r&&(n.from=kt(t,r)),a&&(n.to=kt(t,a)),o&&(n.text=o),h!==void 0&&(n.origin=h)}),Ft(t,"beforeChange",t,n),t.cm&&Ft(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Zn(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Zn)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=Co(t,e,!0),!e))){var n=va&&!i&&Zu(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Lo(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else Lo(t,e)}}function Lo(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=ks(t,e);go(t,e,i,t.cm?t.cm.curOp.id:NaN),Ri(t,e,i,Yr(t,e));var n=[];dn(t,function(r,a){!a&&mt(n,r.history)==-1&&(Ro(r.history,e),n.push(r.history)),Ri(r,e,null,Yr(r,e))})}}function Sr(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,a,o=t.sel,h=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<h.length&&(a=h[m],!(i?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=h.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=h.pop(),a.ranges){if(yr(a,_),i&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(n){h.push(a);return}else break;var N=[];yr(o,_),_.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var F=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,F&&!Co(t,V,!1))return h.length=0,{};N.push(Es(t,V));var tt=Y?ks(t,V):yt(h);Ri(t,V,tt,mo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:pn(V)});var st=[];dn(t,function(et,ut){!ut&&mt(st,et.history)==-1&&(Ro(et.history,V),st.push(et.history)),Ri(et,V,null,mo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Oo(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ue(t.sel.ranges,function(r){return new At(z(r.anchor.line+e,r.anchor.ch),z(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)cn(t.cm,n,"gutter")}}function Ri(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Ri)(t,e,i,n);if(e.to.line<t.first){Oo(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Oo(t,r),e={from:z(t.first,0),to:z(e.to.line+r,e.to.ch),text:[yt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:z(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=\$e(t,e.from,e.to),i||(i=ks(t,e)),t.cm?eh(t.cm,e,n):Ss(t,e,n),kr(t,i,Rt),t.cantEdit&&xr(t,z(t.firstLine(),0))&&(t.cantEdit=!1)}}function eh(t,e,i){var n=t.doc,r=t.display,a=e.from,o=e.to,h=!1,_=a.line;t.options.lineWrapping||(_=Ot(Ne(ct(n,a.line))),n.iter(_,o.line+1,function(q){if(q==r.maxLine)return h=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Zi(t),Ss(n,e,i,Xa(t)),t.options.lineWrapping||(n.iter(_,a.line+e.text.length,function(q){var X=or(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,h=!1)}),h&&(t.curOp.updateMaxLine=!0)),Uu(n,a.line),Oi(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!co(t.doc,e)?cn(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),F=oe(t,"change");if(F||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};F&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function Jn(t,e,i,n,r){var a;n||(n=i),G(n,i)<0&&(a=[n,i],i=a[0],n=a[1]),typeof e=="string"&&(e=t.splitLines(e)),Zn(t,{from:i,to:n,text:e,origin:r})}function Ao(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function No(t,e,i,n){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var h=0;h<a.ranges.length;h++)Ao(a.ranges[h].anchor,e,i,n),Ao(a.ranges[h].head,e,i,n);continue}for(var _=0;_<a.changes.length;++_){var m=a.changes[_];if(i<m.from.line)m.from=z(m.from.line+n,m.from.ch),m.to=z(m.to.line+n,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Ro(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;No(t.done,i,n,r),No(t.undone,i,n,r)}function Mi(t,e,i,n){var r=e,a=e;return typeof e=="number"?a=ct(t,xe(t,e)):r=Ot(e),r==null?null:(n(a,r)&&t.cm&&cn(t.cm,r,i),a)}function Di(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,nl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Fi(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Fi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var a=Math.min(e,r-t),o=n.height;if(n.removeInner(t,a),this.height-=o-n.height,r==a&&(this.children.splice(i--,1),n.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Di))){var h=[];this.collapse(h),this.children=[new Di(h)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,h=o;h<r.lines.length;){var _=new Di(r.lines.slice(h,h+=25));r.height-=_.height,this.children.splice(++n,0,_),_.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Fi(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=mt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Fi(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,i))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Pi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Pi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Ot(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var a=ki(this);Oe(i,Math.max(0,i.height-a)),t&&(be(t,function(){Mo(t,i,-a),cn(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Pi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(hn(this.doc,n)||Oe(n,n.height+r),i&&be(i,function(){i.curOp.forceUpdate=!0,Mo(i,n,r),Qt(i,"lineWidgetChanged",i,t,Ot(n))}))},ue(Pi);function Mo(t,e,i){Qe(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&gs(t,i)}function nh(t,e,i,n){var r=new Pi(t,i,n),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Mi(t,e,"widget",function(o){var h=o.widgets||(o.widgets=[]);if(r.insertAt==null?h.push(r):h.splice(Math.min(h.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!hn(t,o)){var _=Qe(o)<t.scrollTop;Oe(o,o.height+ki(r)),_&&gs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Ot(e)),r}var Do=0,gn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Do};gn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Nn(t),oe(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],h=bi(o.markedSpans,this);t&&!this.collapsed?cn(t,Ot(o),"text"):t&&(h.to!=null&&(r=Ot(o)),h.from!=null&&(n=Ot(o))),o.markedSpans=Xu(o.markedSpans,h),h.from==null&&this.collapsed&&!hn(this.doc,o)&&t&&Oe(o,Un(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Ne(this.lines[_]),N=or(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&_e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&xo(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Rn(t),this.parent&&this.parent.clear()}},gn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var a=this.lines[r],o=bi(a.markedSpans,this);if(o.from!=null&&(i=z(e?a:Ot(a),o.from),t==-1))return i;if(o.to!=null&&(n=z(e?a:Ot(a),o.to),t==1))return n}return i&&{from:i,to:n}},gn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||be(n,function(){var r=e.line,a=Ot(e.line),o=is(n,a);if(o&&(za(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!hn(i.doc,r)&&i.height!=null){var h=i.height;i.height=null;var _=ki(i)-h;_&&Oe(r,r.height+_)}Qt(n,"markerChanged",n,t)})},gn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||mt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},gn.prototype.detachLine=function(t){if(this.lines.splice(mt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(gn);function Vn(t,e,i,n,r){if(n&&n.shared)return ih(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,Vn)(t,e,i,n,r);var a=new gn(t,r),o=G(e,i);if(n&&ft(n,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(xa(t,e.line,e,i,a)||e.line!=i.line&&xa(t,i.line,e,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Gu()}a.addToHistory&&go(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var h=e.line,_=t.cm,m;if(t.iter(h,i.line+1,function(F){_&&a.collapsed&&!_.options.lineWrapping&&Ne(F)==_.display.maxLine&&(m=!0),a.collapsed&&h!=e.line&&Oe(F,0),\$u(F,new ir(a,h==e.line?e.ch:null,h==i.line?i.ch:null),t.cm&&t.cm.curOp),++h}),a.collapsed&&t.iter(e.line,i.line+1,function(F){hn(t,F)&&Oe(F,0)}),a.clearOnEnter&&nt(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Ku(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Do,a.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),a.collapsed)_e(_,e.line,i.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=i.line;N++)cn(_,N,"text");a.atomic&&xo(_.doc),Qt(_,"markerAdded",_,a)}return a}var Wi=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Wi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},Wi.prototype.find=function(t,e){return this.primary.find(t,e)},ue(Wi);function ih(t,e,i,n,r){n=ft(n),n.shared=!1;var a=[Vn(t,e,i,n,r)],o=a[0],h=n.widgetNode;return dn(t,function(_){h&&(n.widgetNode=h.cloneNode(!0)),a.push(Vn(_,kt(_,e),kt(_,i),n,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;o=yt(a)}),new Wi(a,o)}function Fo(t){return t.findMarks(z(t.first,0),t.clipPos(z(t.lastLine())),function(e){return e.parent})}function rh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var h=Vn(t,a,o,n.primary,n.primary.type);n.markers.push(h),h.parent=n}}}function sh(t){for(var e=function(n){var r=t[n],a=[r.primary.doc];dn(r.primary.doc,function(_){return a.push(_)});for(var o=0;o<r.markers.length;o++){var h=r.markers[o];mt(a,h.doc)==-1&&(h.parent=null,r.markers.splice(o--,1))}},i=0;i<t.length;i++)e(i)}var ah=0,pe=function(t,e,i,n,r){if(!(this instanceof pe))return new pe(t,e,i,n,r);i==null&&(i=0),Fi.call(this,[new Di([new Bn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=z(i,0);this.sel=_n(a),this.history=new br(null),this.id=++ah,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Ss(this,{from:a,to:a,text:t}),se(this,_n(a),Rt)};pe.prototype=\$i(Fi.prototype,{constructor:pe,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Hn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=z(this.first,0),i=this.first+this.size-1;Zn(this,{from:e,to:z(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ei(this.cm,0,0),se(this,_n(e),Rt)}),replaceRange:function(t,e,i,n){e=kt(this,e),i=i?kt(this,i):e,Jn(this,t,e,i,n)},getRange:function(t,e,i){var n=\$e(this,kt(this,t),kt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(w(this,t))return ct(this,t)},getLineNumber:function(t){return Ot(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Ne(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return kt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){yo(this,kt(this,typeof t=="number"?z(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){yo(this,kt(this,t),kt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){wr(this,kt(this,t),e&&kt(this,e),i)}),extendSelections:Jt(function(t,e){bo(this,la(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ue(this.sel.ranges,t);bo(this,la(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new At(kt(this,t[r].anchor),kt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,Me(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new At(kt(this,t),kt(this,e||t))),se(this,Me(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=\$e(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=\$e(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:i}}for(var h=e&&e!="end"&&Xl(this,n,e),_=n.length-1;_>=0;_--)Zn(this,n[_]);h?wo(this,h):this.cm&&Xn(this.cm)}),undo:Jt(function(){Sr(this,"undo")}),redo:Jt(function(){Sr(this,"redo")}),undoSelection:Jt(function(){Sr(this,"undo",!0)}),redoSelection:Jt(function(){Sr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new br(this.history),dn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Yn(this.history.done),undone:Yn(this.history.undone)}},setHistory:function(t){var e=this.history=new br(this.history);e.done=Yn(t.done.slice(0),null,!0),e.undone=Yn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Mi(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Yi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Mi(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Yi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!w(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Ot(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Mi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Mi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=n[r];if(a)if(i==null)n[r]=null;else{var o=a.match(I(i));if(!o)return!1;var h=o.index+o[0].length;n[r]=a.slice(0,o.index)+(!o.index||h==a.length?"":" ")+a.slice(h)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return nh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Vn(this,kt(this,t),kt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=kt(this,t),Vn(this,t,t,i,"bookmark")},findMarksAt:function(t){t=kt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=kt(this,t),e=kt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var h=0;h<o.length;h++){var _=o[h];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!i||i(_.marker))&&n.push(_.marker.parent||_.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+n;if(a>t)return e=t,!0;t-=a,++i}),kt(this,z(i,e))},indexFromPos:function(t){t=kt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new pe(Hn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new pe(Hn(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],rh(n,Fo(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),sh(Fo(this));break}}if(t.history==this.history){var n=[t.id];dn(t,function(r){return n.push(r.id)},!0),t.history=new br(null),t.history.done=Yn(this.history.done,n),t.history.undone=Yn(this.history.undone,n)}},iterLinkedDocs:function(t){dn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):gi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&\$l(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var Po=0;function oh(t){var e=this;if(Wo(e),!(Ht(e,t)||Ze(e.display,t))){re(t),S&&(Po=+new Date);var i=Cn(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,h=function(){++o==r&&Zt(e,function(){i=kt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Zn(e.doc,q),wo(e.doc,_n(kt(e.doc,i),kt(e.doc,pn(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&mt(e.options.allowDropFileTypes,q.type)==-1){h();return}var Y=new FileReader;Y.onerror=function(){return h()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){h();return}a[X]=V,h()},Y.readAsText(q)},m=0;m<n.length;m++)_(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var F;if(e.state.draggingText&&!e.state.draggingText.copy&&(F=e.listSelections()),kr(e.doc,_n(i,i)),F)for(var j=0;j<F.length;++j)Jn(e.doc,"",F[j].anchor,F[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function uh(t,e){if(S&&(!t.state.draggingText||+new Date-Po<100)){Ke(e);return}if(!(Ht(t,e)||Ze(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!M)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function lh(t,e){var i=Cn(t,e);if(i){var n=document.createDocumentFragment();cs(t,i,n),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function Wo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Io(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var a=0;a<i.length;a++)t(i[a])})}}var zo=!1;function hh(){zo||(ch(),zo=!0)}function ch(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,Io(fh)},100))}),nt(window,"blur",function(){return Io(Gn)})}function fh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var vn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ii=0;Ii<10;Ii++)vn[Ii+48]=vn[Ii+96]=String(Ii);for(var Er=65;Er<=90;Er++)vn[Er]=String.fromCharCode(Er);for(var zi=1;zi<=12;zi++)vn[zi+111]=vn[zi+63235]="F"+zi;var Ve={};Ve.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ve.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ve.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ve.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ve.default=H?Ve.macDefault:Ve.pcDefault;function _h(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,a,o=0;o<e.length-1;o++){var h=e[o];if(/^(cmd|meta|m)\$/i.test(h))a=!0;else if(/^a(lt)?\$/i.test(h))i=!0;else if(/^(c|ctrl|control)\$/i.test(h))n=!0;else if(/^s(hift)?\$/i.test(h))r=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function ph(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ue(i.split(" "),_h),a=0;a<r.length;a++){var o=void 0,h=void 0;a==r.length-1?(h=r.join(" "),o=n):(h=r.slice(0,a+1).join(" "),o="...");var _=e[h];if(!_)e[h]=o;else if(_!=o)throw new Error("Inconsistent bindings for "+h)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ti(t,e,i,n){e=Tr(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ti(t,e.fallthrough,i,n);for(var a=0;a<e.fallthrough.length;a++){var o=ti(t,e.fallthrough[a],i,n);if(o)return o}}}function Ho(t){var e=typeof t=="string"?t:vn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Bo(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function qo(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=vn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Bo(i,t,e))}function Tr(t){return typeof t=="string"?Ve[t]:t}function ei(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=e(i[r]);n.length&&G(a.from,yt(n).to)<=0;){var o=n.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}be(t,function(){for(var h=n.length-1;h>=0;h--)Jn(t.doc,"",n[h].from,n[h].to,"+delete");Xn(t)})}function Ls(t,e,i){var n=Fe(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Os(t,e,i){var n=Ls(t,e.ch,i);return n==null?null:new z(e.line,n,i<0?"after":"before")}function As(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(i,e.doc.direction);if(a){var o=r<0?yt(a):a[0],h=r<0==(o.level==1),_=h?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=jn(e,i);m=r<0?i.text.length-1:0;var F=qe(e,N,m).top;m=zt(function(j){return qe(e,N,j).top==F},r<0==(o.level==1)?o.from:o.to-1,m),_=="before"&&(m=Ls(i,m,1))}else m=r<0?o.to:o.from;return new z(n,m,_)}}return new z(n,r<0?i.text.length:0,r<0?"before":"after")}function dh(t,e,i,n){var r=Ce(e,t.doc.direction);if(!r)return Os(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=Te(r,i.ch,i.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(n>0?o.to>i.ch:o.from<i.ch))return Os(e,i,n);var h=function(tt,st){return Ls(e,tt instanceof z?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||jn(t,e),Ga(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?h(i,-1):i.ch);if(t.doc.direction=="rtl"||o.level==1){var F=o.level==1==n<0,j=h(i,F?1:-1);if(j!=null&&(F?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=F?"before":"after";return new z(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new z(i.line,h(Dt,1),"before"):new z(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var vt=r[tt],pt=st>0==(vt.level!=1),St=pt?et.begin:h(et.end,-1);if(vt.from<=St&&St<vt.to||(St=pt?vt.from:h(vt.to,-1),et.begin<=St&&St<et.end))return ut(St,pt)}},Y=X(a+n,n,N);if(Y)return Y;var V=n>0?N.end:h(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var Hi={selectAll:To,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return ei(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:z(e.head.line+1,0)}:{from:e.head,to:z(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return ei(t,function(e){return{from:z(e.from().line,0),to:kt(t.doc,z(e.to().line+1,0))}})},delLineLeft:function(t){return ei(t,function(e){return{from:z(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return ei(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return ei(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(z(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(z(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return jo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Uo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return gh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?Uo(t,e.head):n},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var a=i[r].from(),o=at(t.getLine(a.line),a.ch,n);e.push(It(n-o%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new z(r.line,r.ch-1)),r.ch>0)r=new z(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),z(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new z(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),z(r.line-1,o.length-1),r,"+transpose"))}}i.push(new At(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Xn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function jo(t,e){var i=ct(t.doc,e),n=Ne(i);return n!=i&&(e=Ot(n)),As(!0,t,n,e,1)}function gh(t,e){var i=ct(t.doc,e),n=Vu(i);return n!=i&&(e=Ot(n)),As(!0,t,i,e,-1)}function Uo(t,e){var i=jo(t,e.line),n=ct(t.doc,i.line),r=Ce(n,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(i.ch,n.text.search(/\\S/)),o=e.line==i.line&&e.ch<=a&&e.ch;return z(i.line,o?0:a,i.sticky)}return i}function Cr(t,e,i){if(typeof e=="string"&&(e=Hi[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Tt}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function vh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ti(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ti(e,t.options.extraKeys,i,t)||ti(e,t.options.keyMap,i,t)}var mh=new _t;function Bi(t,e,i,n){var r=t.state.keySeq;if(r){if(Ho(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:mh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Ko(t,r+" "+e,i,n))return!0}return Ko(t,e,i,n)}function Ko(t,e,i,n){var r=vh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(re(i),fs(t)),!!r}function Go(t,e){var i=qo(e,!0);return i?e.shiftKey&&!t.state.keySeq?Bi(t,"Shift-"+i,e,function(n){return Cr(t,n,!0)})||Bi(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Cr(t,n)}):Bi(t,i,e,function(n){return Cr(t,n)}):!1}function bh(t,e,i){return Bi(t,"'"+i+"'",e,function(n){return Cr(t,n,!0)})}var Ns=null;function Xo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(xt(e)),!Ht(e,t))){S&&x<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Go(e,t);b&&(Ns=n?i:null,!n&&i==88&&!We&&(H?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),c&&!H&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&yh(e)}}function yh(t){var e=t.display.lineDiv;C(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),ie(document,"keyup",i),ie(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function \$o(t){t.keyCode==16&&(this.doc.sel.shift=!1),Ht(this,t)}function Yo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ze(e.display,t)||Ht(e,t)||t.ctrlKey&&!t.altKey||H&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Ns){Ns=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&Go(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(bh(e,t,r)||e.display.input.onKeyPress(t))}}}var wh=400,Rs=function(t,e,i){this.time=t,this.pos=e,this.button=i};Rs.prototype.compare=function(t,e,i){return this.time+wh>t&&G(e,this.pos)==0&&i==this.button};var qi,ji;function kh(t,e){var i=+new Date;return ji&&ji.compare(i,t,e)?(qi=ji=null,"triple"):qi&&qi.compare(i,t,e)?(ji=new Rs(i,t,e),qi=null,"double"):(qi=new Rs(i,t,e),ji=null,"single")}function Qo(t){var e=this,i=e.display;if(!(Ht(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ze(i,t)){d||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ms(e,t)){var n=Cn(e,t),r=di(t),a=n?kh(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&xh(e,r,n,a,t))&&(r==1?n?Eh(e,n,a,t):fe(t)==i.scroller&&re(t):r==2?(n&&wr(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):_s(e)))}}}function xh(t,e,i,n,r){var a="Click";return n=="double"?a="Double"+a:n=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,Bi(t,Bo(a,r),r,function(o){if(typeof o=="string"&&(o=Hi[o]),!o)return!1;var h=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),h=o(t,i)!=Tt}finally{t.state.suppressEdits=!1}return h})}function Sh(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var a=B?i.shiftKey&&i.metaKey:i.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=H?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(H?i.altKey:i.ctrlKey)),r}function Eh(t,e,i,n){S?setTimeout(Et(Qa,t),0):t.curOp.focus=lt(xt(t));var r=Sh(t,i,n),a=t.doc.sel,o;t.options.dragDrop&&Kr&&!t.isReadOnly()&&i=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Th(t,n,e,r):Ch(t,n,e,r)}function Th(t,e,i,n){var r=t.display,a=!1,o=Zt(t,function(m){d&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:_s(t)),ie(r.wrapper.ownerDocument,"mouseup",o),ie(r.wrapper.ownerDocument,"mousemove",h),ie(r.scroller,"dragstart",_),ie(r.scroller,"drop",o),a||(re(m),n.addNew||wr(t.doc,i,null,null,n.extend),d&&!M||S&&x==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),h=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return a=!0};d&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",o),nt(r.wrapper.ownerDocument,"mousemove",h),nt(r.scroller,"dragstart",_),nt(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Zo(t,e,i){if(i=="char")return new At(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new At(z(e.line,0),kt(t.doc,z(e.line+1,0)));var n=i(t,e);return new At(n.from,n.to)}function Ch(t,e,i,n){S&&_s(t);var r=t.display,a=t.doc;re(e);var o,h,_=a.sel,m=_.ranges;if(n.addNew&&!n.extend?(h=a.sel.contains(i),h>-1?o=m[h]:o=new At(i,i)):(o=a.sel.primary(),h=a.sel.primIndex),n.unit=="rectangle")n.addNew||(o=new At(i,i)),i=Cn(t,e,!0,!0),h=-1;else{var N=Zo(t,i,n.unit);n.extend?o=Ts(o,N.anchor,N.head,n.extend):o=N}n.addNew?h==-1?(h=m.length,se(a,Me(t,m.concat([o]),h),{scroll:!1,origin:"*mouse"})):m.length>1&&m[h].empty()&&n.unit=="char"&&!n.extend?(se(a,Me(t,m.slice(0,h).concat(m.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),_=a.sel):Cs(a,h,o,Ee):(h=0,se(a,new Se([o],0),Ee),_=a.sel);var F=i;function j(et){if(G(F,et)!=0)if(F=et,n.unit=="rectangle"){for(var ut=[],vt=t.options.tabSize,pt=at(ct(a,i.line).text,i.ch,vt),St=at(ct(a,et.line).text,et.ch,vt),Dt=Math.min(pt,St),Vt=Math.max(pt,St),Wt=Math.min(i.line,et.line),ye=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Kt=ke(de,Dt,vt);Dt==Vt?ut.push(new At(z(Wt,Kt),z(Wt,Kt))):de.length>Kt&&ut.push(new At(z(Wt,Kt),z(Wt,ke(de,Vt,vt))))}ut.length||ut.push(new At(i,i)),se(a,Me(t,_.ranges.slice(0,h).concat(ut),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ne=Zo(t,et,n.unit),\$t=ge.anchor,Gt;G(ne.anchor,\$t)>0?(Gt=ne.head,\$t=Xt(ge.from(),ne.anchor)):(Gt=ne.anchor,\$t=Lt(ge.to(),ne.head));var qt=_.ranges.slice(0);qt[h]=Lh(t,new At(kt(a,\$t),Gt)),se(a,Me(t,qt,h),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,vt=Cn(t,et,!0,n.unit=="rectangle");if(vt)if(G(vt,F)!=0){t.curOp.focus=lt(xt(t)),j(vt);var pt=dr(r,a);(vt.line>=pt.to||vt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var St=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;St&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=St,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ie(r.wrapper.ownerDocument,"mousemove",tt),ie(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!di(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Lh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,i.ch,i.sticky),h=a[o];if(h.from!=i.ch&&h.to!=i.ch)return e;var _=o+(h.from==i.ch==(h.level!=1)?0:1);if(_==0||_==a.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,n.ch,n.sticky),F=N-o||(n.ch-i.ch)*(h.level==1?-1:1);N==_-1||N==_?m=F<0:m=F>0}var j=a[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new At(new z(i.line,X,Y),n)}function Jo(t,e,i,n){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&re(e);var o=t.display,h=o.lineDiv.getBoundingClientRect();if(a>h.bottom||!oe(t,i))return pi(e);a-=h.top-o.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=o.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),F=t.display.gutterSpecs[_];return Ft(t,i,t,N,F.className,e),pi(e)}}}function Ms(t,e){return Jo(t,e,"gutterClick",!0)}function Vo(t,e){Ze(t.display,e)||Oh(t,e)||Ht(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Oh(t,e){return oe(t,"gutterContextMenu")?Jo(t,e,"gutterContextMenu",!1):!1}function tu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),xi(t)}var ni={toString:function(){return"CodeMirror.Init"}},eu={},Lr={};function Ah(t){var e=t.optionHandlers;function i(n,r,a,o){t.defaults[n]=r,a&&(e[n]=o?function(h,_,m){m!=ni&&a(h,_,m)}:a)}t.defineOption=i,t.Init=ni,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,xs(n)},!0),i("indentUnit",2,xs,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Ni(n),xi(n),_e(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var a=[],o=n.doc.first;n.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(z(o,N))}o++});for(var h=a.length-1;h>=0;h--)Jn(n.doc,r,a[h],z(a[h].line,a[h].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,a){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=ni&&n.refresh()}),i("specialCharPlaceholder",sl,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){tu(n),Ai(n)},!0),i("keyMap","default",function(n,r,a){var o=Tr(r),h=a!=ni&&Tr(a);h&&h.detach&&h.detach(n,o),o.attach&&o.attach(n,h||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Rh,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=ws(r,n.options.lineNumbers),Ai(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?ls(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return \$n(n)},!0),i("scrollbarStyle","native",function(n){no(n),\$n(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=ws(n.options.gutters,r),Ai(n)},!0),i("firstLineNumber",1,Ai,!0),i("lineNumberFormatter",function(n){return n},Ai,!0),i("showCursorWhenSelecting",!1,Si,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(Gn(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Nh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Si,!0),i("singleCursorHeightPerLine",!0,Si,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Ni,!0),i("addModeClass",!1,Ni,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Ni,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Nh(t,e,i){var n=i&&i!=ni;if(!e!=!n){var r=t.display.dragFunctions,a=e?nt:ie;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Rh(t){t.options.lineWrapping?(C(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),Vr(t)),hs(t),_e(t),xi(t),setTimeout(function(){return \$n(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(eu,e,!1);var n=e.value;typeof n=="string"?n=new pe(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Kl(t,n,r,e);a.wrapper.CodeMirror=this,tu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),no(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&x<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Mh(this),hh(),Nn(this),this.curOp.forceUpdate=!0,fo(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&ps(i)},20):Gn(this);for(var o in Lr)Lr.hasOwnProperty(o)&&Lr[o](this,e[o],ni);so(this),e.finishInit&&e.finishInit(this);for(var h=0;h<Ds.length;++h)Ds[h](this);Rn(this),d&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=eu,Pt.optionHandlers=Lr;function Mh(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,Qo)),S&&x<11?nt(e.scroller,"dblclick",Zt(t,function(_){if(!Ht(t,_)){var m=Cn(t,_);if(!(!m||Ms(t,_)||Ze(t.display,_))){re(_);var N=t.findWordAt(m);wr(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(_){return Ht(t,_)||re(_)}),nt(e.scroller,"contextmenu",function(_){return Vo(t,_)}),nt(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||Vo(t,_)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function a(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(_,m){if(m.left==null)return!0;var N=m.left-_.left,F=m.top-_.top;return N*N+F*F>20*20}nt(e.scroller,"touchstart",function(_){if(!Ht(t,_)&&!a(_)&&!Ms(t,_)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ze(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),F;!m.prev||o(m,m.prev)?F=new At(N,N):!m.prev.prev||o(m,m.prev.prev)?F=t.findWordAt(N):F=new At(z(N.line,0),kt(t.doc,z(N.line+1,0))),t.setSelection(F.anchor,F.head),t.focus(),re(_)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Ti(t,e.scroller.scrollTop),On(t,e.scroller.scrollLeft,!0),Ft(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(_){return uo(t,_)}),nt(e.scroller,"DOMMouseScroll",function(_){return uo(t,_)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){Ht(t,_)||Ke(_)},over:function(_){Ht(t,_)||(lh(t,_),Ke(_))},start:function(_){return uh(t,_)},drop:Zt(t,oh),leave:function(_){Ht(t,_)||Wo(t)}};var h=e.input.getField();nt(h,"keyup",function(_){return \$o.call(t,_)}),nt(h,"keydown",Zt(t,Xo)),nt(h,"keypress",Zt(t,Yo)),nt(h,"focus",function(_){return ps(t,_)}),nt(h,"blur",function(_){return Gn(t,_)})}var Ds=[];Pt.defineInitHook=function(t){return Ds.push(t)};function Ui(t,e,i,n){var r=t.doc,a;i==null&&(i="add"),i=="smart"&&(r.mode.indent?a=mi(t,e).state:i="prev");var o=t.options.tabSize,h=ct(r,e),_=at(h.text,null,o);h.stateAfter&&(h.stateAfter=null);var m=h.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(h.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(a,h.text.slice(m.length),h.text),N==Tt||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:i=="add"?N=_+t.options.indentUnit:i=="subtract"?N=_-t.options.indentUnit:typeof i=="number"&&(N=_+i),N=Math.max(0,N);var F="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,F+="	";if(j<N&&(F+=It(N-j)),F!=m)return Jn(r,F,z(e,0),z(e,m.length),"+input"),h.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=z(e,m.length);Cs(r,X,new At(V,V));break}}}var De=null;function Or(t){De=t}function Fs(t,e,i,n,r){var a=t.doc;t.display.shift=!1,n||(n=a.sel);var o=+new Date-200,h=r=="paste"||t.state.pasteIncoming>o,_=gi(e),m=null;if(h&&n.ranges.length>1)if(De&&De.text.join(\`
\`)==e){if(n.ranges.length%De.text.length==0){m=[];for(var N=0;N<De.text.length;N++)m.push(a.splitLines(De.text[N]))}}else _.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ue(_,function(tt){return[tt]}));for(var F=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=z(X.line,X.ch-i):t.state.overwrite&&!h?Y=z(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+yt(_).length)):h&&De&&De.lineWise&&De.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=z(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(h?"paste":t.state.cutIncoming>o?"cut":"+input")};Zn(t.doc,V),Qt(t,"inputRead",t,V)}e&&!h&&iu(t,e),Xn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=F),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function nu(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Fs(e,i,0,null,"paste")}),!0}function iu(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var h=0;h<a.electricChars.length;h++)if(e.indexOf(a.electricChars.charAt(h))>-1){o=Ui(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Ui(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function ru(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,a={anchor:z(r,0),head:z(r+1,0)};i.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:i}}function Ps(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function su(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Dh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var a=this.options,o=a[n];a[n]==r&&n!="mode"||(a[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,o),Ft(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Tr(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==n||r[a].name==n)return r.splice(a,1),!0},addOverlay:le(function(n,r){var a=n.token?n:t.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");sn(this.state.overlays,{mode:a,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(n){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==n||typeof n=="string"&&o.name==n){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(n,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),w(this.doc,n)&&Ui(this,n,r,a)}),indentSelection:le(function(n){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var h=r[o];if(h.empty())h.head.line>a&&(Ui(this,h.head.line,n,!0),a=h.head.line,o==this.doc.sel.primIndex&&Xn(this));else{var _=h.from(),m=h.to(),N=Math.max(a,_.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var F=N;F<a;++F)Ui(this,F,n);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[o].from().ch>0&&Cs(this.doc,o,new At(_,j[o].to()),Rt)}}}),getTokenAt:function(n,r){return pa(this,n,r)},getLineTokens:function(n,r){return pa(this,z(n),r,!0)},getTokenTypeAt:function(n){n=kt(this.doc,n);var r=ca(this,ct(this.doc,n.line)),a=0,o=(r.length-1)/2,h=n.ch,_;if(h==0)_=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=h)o=m;else if(r[m*2+1]<h)a=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var a=[];if(!i.hasOwnProperty(r))return a;var o=i[r],h=this.getModeAt(n);if(typeof h[r]=="string")o[h[r]]&&a.push(o[h[r]]);else if(h[r])for(var _=0;_<h[r].length;_++){var m=o[h[r][_]];m&&a.push(m)}else h.helperType&&o[h.helperType]?a.push(o[h.helperType]):o[h.name]&&a.push(o[h.name]);for(var N=0;N<o._global.length;N++){var F=o._global[N];F.pred(h,this)&&mt(a,F.val)==-1&&a.push(F.val)}return a},getStateAfter:function(n,r){var a=this.doc;return n=xe(a,n??a.first+a.size-1),mi(this,n+1,r).state},cursorCoords:function(n,r){var a,o=this.doc.sel.primary();return n==null?a=o.head:typeof n=="object"?a=kt(this.doc,n):a=n?o.from():o.to(),Re(this,a,r||"page")},charCoords:function(n,r){return cr(this,kt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=ja(this,n,r||"page"),as(this,n.left,n.top)},lineAtHeight:function(n,r){return n=ja(this,{top:n,left:0},r||"page").top,ze(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,a){var o=!1,h;if(typeof n=="number"){var _=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>_&&(n=_,o=!0),h=ct(this.doc,n)}else h=n;return hr(this,h,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Qe(h):0)},defaultTextHeight:function(){return Un(this.display)},defaultCharWidth:function(){return Kn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,a,o,h){var _=this.display;n=Re(this,kt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),o=="over")m=n.top;else if(o=="above"||o=="near"){var F=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(o=="above"||n.bottom+r.offsetHeight>F)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=F&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",h=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(h=="left"?N=0:h=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Nl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Xo),triggerOnKeyPress:le(Yo),triggerOnKeyUp:\$o,triggerOnMouseDown:le(Qo),execCommand:function(n){if(Hi.hasOwnProperty(n))return Hi[n].call(null,this)},triggerElectric:le(function(n){iu(this,n)}),findPosH:function(n,r,a,o){var h=1;r<0&&(h=-1,r=-r);for(var _=kt(this.doc,n),m=0;m<r&&(_=Ws(this.doc,_,h,a,o),!_.hitSide);++m);return _},moveH:le(function(n,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?Ws(a.doc,o.head,n,r,a.options.rtlMoveVisually):n<0?o.from():o.to()},we)}),deleteH:le(function(n,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):ei(this,function(h){var _=Ws(o,h.head,n,r,!1);return n<0?{from:_,to:h.head}:{from:h.head,to:_}})}),findPosV:function(n,r,a,o){var h=1,_=o;r<0&&(h=-1,r=-r);for(var m=kt(this.doc,n),N=0;N<r;++N){var F=Re(this,m,"div");if(_==null?_=F.left:F.left=_,m=au(this,F,h,a),m.hitSide)break}return m},moveV:le(function(n,r){var a=this,o=this.doc,h=[],_=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(_)return n<0?N.from():N.to();var F=Re(a,N.head,"div");N.goalColumn!=null&&(F.left=N.goalColumn),h.push(F.left);var j=au(a,F,n,r);return r=="page"&&N==o.sel.primary()&&gs(a,cr(a,j,"div").top-F.top),j},we),h.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=h[m]}),findWordAt:function(n){var r=this.doc,a=ct(r,n.line).text,o=n.ch,h=n.ch;if(a){var _=this.getHelper(n,"wordChars");(n.sticky=="before"||h==a.length)&&o?--o:++h;for(var m=a.charAt(o),N=Pn(m,_)?function(F){return Pn(F,_)}:/\\s/.test(m)?function(F){return/\\s/.test(F)}:function(F){return!/\\s/.test(F)&&!Pn(F)};o>0&&N(a.charAt(o-1));)--o;for(;h<a.length&&N(a.charAt(h));)++h}return new At(z(n.line,o),z(n.line,h))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?C(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(xt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(n,r){Ei(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Be(this)-this.display.barHeight,width:n.scrollWidth-Be(this)-this.display.barWidth,clientHeight:ns(this),clientWidth:En(this)}},scrollIntoView:le(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:z(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Rl(this,n):Ja(this,n.from,n.to,n.margin)}),setSize:le(function(n,r){var a=this,o=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};n!=null&&(this.display.wrapper.style.width=o(n)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&Ha(this);var h=this.display.viewFrom;this.doc.iter(h,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){cn(a,h,"widget");break}}++h}),this.curOp.forceUpdate=!0,Ft(this,"refresh",this)}),operation:function(n){return be(this,n)},startOperation:function(){return Nn(this)},endOperation:function(){return Rn(this)},refresh:le(function(){var n=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,xi(this),Ei(this,this.doc.scrollLeft,this.doc.scrollTop),bs(this.display),(n==null||Math.abs(n-Un(this.display))>.5||this.options.lineWrapping)&&hs(this),Ft(this,"refresh",this)}),swapDoc:le(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),fo(this,n),xi(this),this.display.input.reset(),Ei(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(n,r,a){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=a},t.registerGlobalHelper=function(n,r,a,o){t.registerHelper(n,r,o),i[n]._global.push({pred:a,val:o})}}function Ws(t,e,i,n,r){var a=e,o=i,h=ct(t,e.line),_=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new z(st,e.ch,e.sticky),h=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=h.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var vt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new z(e.line,Math.max(0,Math.min(h.text.length,e.ch+i*(vt?2:1))),-i)}}else r?et=dh(t.cm,h,e,i):et=Os(h,e,i);if(et==null)if(!st&&m())e=As(r,t.cm,h,e.line,_);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var F=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=h.text.charAt(e.ch)||\`
\`,V=Pn(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),F&&F!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(F=V),i>0&&!N(!X))break}var tt=xr(t,e,a,o,!0);return wt(a,tt)&&(tt.hitSide=!0),tt}function au(t,e,i,n){var r=t.doc,a=e.left,o;if(n=="page"){var h=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(h-.5*Un(t.display),3);o=(i>0?e.bottom:e.top)+i*_}else n=="line"&&(o=i>0?e.bottom+3:e.top-3);for(var m;m=as(t,a,o),!!m.outside;){if(i<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=i*5}return m}var Mt=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Mt.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Ps(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function a(h){for(var _=h.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}nt(r,"paste",function(h){!a(h)||Ht(n,h)||nu(h,n)||x<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(h){e.composing={data:h.data,done:!1}}),nt(r,"compositionupdate",function(h){e.composing||(e.composing={data:h.data,done:!1})}),nt(r,"compositionend",function(h){e.composing&&(h.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(h){if(!(!a(h)||Ht(n,h))){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()}),h.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var _=ru(n);Or({lineWise:!0,text:_.text}),h.type=="cut"&&n.operation(function(){n.setSelections(_.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(h.clipboardData){h.clipboardData.clearData();var m=De.text.join(\`
\`);if(h.clipboardData.setData("Text",m),h.clipboardData.getData("Text")==m){h.preventDefault();return}}var N=su(),F=N.firstChild;Ps(F),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),F.value=De.text.join(\`
\`);var j=lt(r.ownerDocument);dt(F),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",o),nt(r,"cut",o)},Mt.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Mt.prototype.prepareSelection=function(){var t=Ya(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Mt.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Mt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Mt.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Ar(e,t.anchorNode,t.anchorOffset),o=Ar(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),n)==0&&G(Lt(a,o),r)==0)){var h=e.display.view,_=n.line>=e.display.viewFrom&&ou(e,n)||{node:h[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&ou(e,r);if(!m){var N=h[h.length-1].measure,F=N.maps?N.maps[N.maps.length-1]:N.map;m={node:F[F.length-1],offset:F[F.length-2]-F[F.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(_.node,_.offset,m.offset,m.node)}catch{}q&&(!c&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):c&&this.startGracePeriod()),this.rememberSelection()}},Mt.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Mt.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Mt.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Mt.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Mt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Mt.prototype.blur=function(){this.div.blur()},Mt.prototype.getField=function(){return this.div},Mt.prototype.supportsTouch=function(){return!0},Mt.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Mt.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Mt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Fh(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Ar(e,t.anchorNode,t.anchorOffset),n=Ar(e,t.focusNode,t.focusOffset);i&&n&&be(e,function(){se(e.doc,_n(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Mt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=z(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=z(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,h;n.line==e.viewFrom||(a=Ln(t,n.line))==0?(o=Ot(e.view[0].line),h=e.view[0].node):(o=Ot(e.view[a].line),h=e.view[a-1].node.nextSibling);var _=Ln(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Ot(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!h)return!1;for(var F=t.doc.splitLines(Ph(t,h,N,o,m)),j=\$e(t.doc,z(o,0),z(m,ct(t.doc,m).text.length));F.length>1&&j.length>1;)if(yt(F)==yt(j))F.pop(),j.pop(),m--;else if(F[0]==j[0])F.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=F[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=yt(F),et=yt(j),ut=Math.min(st.length-(F.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(F.length==1&&j.length==1&&o==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;F[F.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),F[0]=F[0].slice(q).replace(/\\u200b+\$/,"");var vt=z(o,q),pt=z(m,j.length?yt(j).length-X:0);if(F.length>1||F[0]||G(vt,pt))return Jn(t.doc,F,vt,pt,"+input"),!0},Mt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Mt.prototype.reset=function(){this.forceCompositionEnd()},Mt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Mt.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Mt.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Mt.prototype.setUneditable=function(t){t.contentEditable="false"},Mt.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Fs)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Mt.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Mt.prototype.onContextMenu=function(){},Mt.prototype.resetPosition=function(){},Mt.prototype.needsContentAttribute=!0;function ou(t,e){var i=is(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Fa(i,n,e.line),a=Ce(n,t.doc.direction),o="left";if(a){var h=Te(a,e.ch);o=h%2?"right":"left"}var _=Ia(r.map,e.ch,o);return _.offset=_.collapse=="right"?_.end:_.start,_}function Fh(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function ii(t,e){return e&&(t.bad=!0),t}function Ph(t,e,i,n,r){var a="",o=!1,h=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=h,_&&(a+=h),o=_=!1)}function F(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){F(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(z(n,0),z(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&F(\$e(t.doc,V.from,V.to).join(h));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(o=!0)}else q.nodeType==3&&F(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,_=!1;return a}function Ar(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return ii(t.clipPos(z(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==n)return Wh(a,e,i)}}function Wh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return ii(z(Ot(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var a=t.rest?yt(t.rest):t.line;return ii(z(Ot(a),a.text.length),r)}var o=e.nodeType==3?e:null,h=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,i&&(i=o.nodeValue.length));h.parentNode!=n;)h=h.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],vt=0;vt<ut.length;vt+=3){var pt=ut[vt+2];if(pt==V||pt==tt){var St=Ot(et<0?t.line:t.rest[et]),Dt=ut[vt]+st;return(st<0||pt!=V)&&(Dt=ut[vt+(st?1:0)]),z(St,Dt)}}}var F=N(o,h,i);if(F)return ii(F,r);for(var j=h.nextSibling,q=o?o.nodeValue.length-i:0;j;j=j.nextSibling){if(F=N(j,j.firstChild,0),F)return ii(z(F.line,F.ch-q),r);q+=j.textContent.length}for(var X=h.previousSibling,Y=i;X;X=X.previousSibling){if(F=N(X,X.firstChild,-1),F)return ii(z(F.line,F.ch+Y),r);Y+=X.textContent.length}}var Ut=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ut.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&x>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(o){Ht(n,o)||nu(o,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function a(o){if(!Ht(n,o)){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var h=ru(n);Or({lineWise:!0,text:h.text}),o.type=="cut"?n.setSelections(h.ranges,null,Rt):(i.prevInput="",r.value=h.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",a),nt(r,"copy",a),nt(t.scroller,"paste",function(o){if(!(Ze(t,o)||Ht(n,o))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var h=new Event("paste");h.clipboardData=o.clipboardData,r.dispatchEvent(h)}}),nt(t.lineSpace,"selectstart",function(o){Ze(t,o)||re(o)}),nt(r,"compositionstart",function(){var o=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:o,range:n.markText(o,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ut.prototype.createField=function(t){this.wrapper=su(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ps(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},Ut.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Ut.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ya(t);if(t.options.moveInputWithCursor){var r=Re(t,i.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return n},Ut.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ut.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&x>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&x>=9&&(this.hasSelection=null));this.resetting=!1}},Ut.prototype.getField=function(){return this.textarea},Ut.prototype.supportsTouch=function(){return!1},Ut.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ut.prototype.blur=function(){this.textarea.blur()},Ut.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ut.prototype.receivedFocus=function(){this.slowPoll()},Ut.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Ut.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},Ut.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||an(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&x>=9&&this.hasSelection===r||H&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!n&&(n="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,h=Math.min(n.length,r.length);o<h&&n.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Fs(e,r.slice(o),n.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ut.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ut.prototype.onKeyPress=function(){S&&x>=9&&(this.hasSelection=null),this.fastPoll()},Ut.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Cn(i,t),o=n.scroller.scrollTop;if(!a||b)return;var h=i.options.resetSelectionOnContextMenu;h&&i.doc.sel.contains(a)==-1&&Zt(i,se)(i.doc,_n(a),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var F;d&&(F=r.ownerDocument.defaultView.scrollY),n.input.focus(),d&&r.ownerDocument.defaultView.scrollTo(null,F),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&x<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&x<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,To)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&x>=9&&j(),rt){Ke(t);var X=function(){ie(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},Ut.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},Ut.prototype.setUneditable=function(){},Ut.prototype.needsContentAttribute=!1;function Ih(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=h.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){n(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(_){_.save=n,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,n(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(ie(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var h=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return h}function zh(t){t.off=ie,t.on=nt,t.wheelEventPixels=Gl,t.Doc=pe,t.splitLines=gi,t.countColumn=at,t.findColumn=ke,t.isWordChar=ci,t.Pass=Tt,t.signal=Ft,t.Line=Bn,t.changeEnd=pn,t.scrollbarModel=eo,t.Pos=z,t.cmpPos=G,t.modes=Ae,t.mimeModes=on,t.resolveMode=me,t.getMode=Ge,t.modeExtensions=un,t.extendMode=er,t.copyState=Xe,t.startState=vi,t.innerMode=ln,t.commands=Hi,t.keyMap=Ve,t.keyName=qo,t.isModifierKey=Ho,t.lookupKey=ti,t.normalizeKeyMap=ph,t.StringStream=Bt,t.SharedTextMarker=Wi,t.TextMarker=gn,t.LineWidget=Pi,t.e_preventDefault=re,t.e_stopPropagation=Sn,t.e_stop=Ke,t.addClass=C,t.contains=J,t.rmClass=R,t.keyNames=vn}Ah(Pt),Dh(Pt);var Hh="iter insert remove copy getEditor constructor".split(" ");for(var Nr in pe.prototype)pe.prototype.hasOwnProperty(Nr)&&mt(Hh,Nr)<0&&(Pt.prototype[Nr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Nr]));return ue(pe),Pt.inputStyles={textarea:Ut,contenteditable:Mt},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),tr.apply(this,arguments)},Pt.defineMIME=zn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Ih,zh(Pt),Pt.version="5.65.12",Pt});const Bh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},qh=(()=>{let p=[];return Object.values(Bh).forEach(s=>{s.middle&&(p.push(s.general.code),p.push(s.middle.code),p.push(s.beginning.code))}),p})();function Rr(p){let s=[];return p.split("").forEach(c=>{qh.includes(c)?s.push(\`\${c}ـ*\`):c==="ـ"||s.push(c)}),s.join("")}function Ks(p){return(""+p).split("").map(T=>{switch(T){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const jh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],Js={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},Vs={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ta={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Uh={...Js,...Vs,...ta},Kh="[\\\\p{L}_]",Gh="[\\\\p{L}\\\\p{N}_]",Br=\`(?:\${Kh}\${Gh}*)\`,Xh="[^\\\\p{L}\\\\p{N}_]",ea="[٠-٩]",\$h=\`(?:,\${ea}+)\`,Yh=\`\${ea}+\${\$h}?\`,na="[0-9]",Qh=\`(?:\\\\.\${na}+)\`,xu=\`\${na}+\${Qh}?\`,Hs="\\\\\\\\",Mr="\\\\/",Dr="\\\\-",Ki="\\\\{",Gi="\\\\}",Zh="\\\\(",Jh="\\\\)",Gs="\\\\s",Vh=\`\${Zh}?\${Gs}*\${Jh}?\`,tc=()=>RegExp(\`(?:(?:#|#)\${Br})\`,"u"),ec=()=>RegExp(\`(?:~\${Br}?\${Gs}*\${Vh}\${Gs}*->)\`,"u"),Su=[{regex:tc(),token:"meta"},{regex:ec(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${jh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Eu={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var c=[function(E,S,x){var d=x(1).Beautifier,l=x(5).Options;E.exports=function(u,f){return new d(u,f).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,x){var d=x(2).Output,l=x(3).Token,u=x(4),f=x(5).Options,b=x(7).Tokenizer,M=x(7).line_starters,A=x(7).positionable_operators,g=x(7).TOKEN;function y(C,\$){return \$.indexOf(C)!==-1}function W(C,\$){return C&&C.type===g.RESERVED&&C.text===\$}function D(C,\$){return C&&C.type===g.RESERVED&&y(C.text,\$)}var H=["case","return","do","if","throw","else","await","break","continue","async"],B=function(C){for(var \$={},dt=0;dt<C.length;dt++)\$[C[dt].replace(/-/g,"_")]=C[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[B.before_newline,B.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(C,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||C.remove_indent(\$.start_line_index)}function Q(C){return C===I}function it(C){return y(C,[K,R,k])}function J(C,\$){\$=\$||{},this._source_text=C||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(C,\$){var dt=0;return C&&(dt=C.indentation_level,!this._output.just_added_newline()&&C.line_indent_level>dt&&(dt=C.line_indent_level)),{mode:\$,parent:C,last_token:C?C.last_token:new l(g.START_BLOCK,""),last_word:C?C.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:C?C.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(C){var \$=C.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new d(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(C,this._options));return this._tokens=\$.tokenize(),C},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var C=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,C&&u.lineBreak.test(C||"")&&(\$=C.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(C,\$){C.type===g.START_EXPR?this.handle_start_expr(C):C.type===g.END_EXPR?this.handle_end_expr(C):C.type===g.START_BLOCK?this.handle_start_block(C):C.type===g.END_BLOCK?this.handle_end_block(C):C.type===g.WORD||C.type===g.RESERVED?this.handle_word(C):C.type===g.SEMICOLON?this.handle_semicolon(C):C.type===g.STRING?this.handle_string(C):C.type===g.EQUALS?this.handle_equals(C):C.type===g.OPERATOR?this.handle_operator(C):C.type===g.COMMA?this.handle_comma(C):C.type===g.BLOCK_COMMENT?this.handle_block_comment(C,\$):C.type===g.COMMENT?this.handle_comment(C,\$):C.type===g.DOT?this.handle_dot(C):C.type===g.EOF?this.handle_eof(C):(C.type,g.UNKNOWN,this.handle_unknown(C,\$))},J.prototype.handle_whitespace_and_comments=function(C,\$){var dt=C.newlines,xt=this._options.keep_array_indentation&&Q(this._flags.mode);if(C.comments_before)for(var Nt=C.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=C.comments_before.next();if(xt)for(var Et=0;Et<dt;Et+=1)this.print_newline(0<Et,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(C,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&C.newlines||\$,(y(this._flags.last_token.text,A)||y(C.text,A))&&(C=y(this._flags.last_token.text,A)&&y(this._options.operator_position,U)||y(C.text,A),\$=\$&&C),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(C,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(C)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(C){this._output.just_added_newline()&&(this._options.keep_array_indentation&&C.newlines&&(C.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(C.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(C){var \$;this._output.raw?this._output.add_raw_token(C):(this._options.comma_first&&C.previous&&C.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(C),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(C),this._output.non_breaking_space=!0,this._output.add_token(C.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(C){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,C),this._flags=this.create_flags(this._previous_flags,C),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(C){return!!(D(this._flags.last_token,["var","let","const"])&&C.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!C.newlines||W(this._flags.last_token,"else")&&!(W(C,"if")&&!C.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(C.text==="--"||C.text==="++")&&this._last_last_text!=="function"&&C.type!==g.WORD&&C.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(C,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C,D(C,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C);var \$,dt,xt=K;if(C.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,M)&&(this._output.space_before_token=!0),this.print_token(C),this.set_mode(xt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));xt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,xt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,xt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&C.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,M)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(C),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(C,C.newlines),this.print_token(C),this.set_mode(xt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(C){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(C),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(C,C.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(C),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(C){this.handle_whitespace_and_comments(C);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var xt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((xt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==C))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,H)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(C),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(C),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(C){for(this.handle_whitespace_and_comments(C);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(C)},J.prototype.handle_word=function(C){if(C.type===g.RESERVED&&(y(C.text,["set","get"])&&this._flags.mode!==rt||C.text==="import"&&y(this._tokens.peek().text,["(","."])||y(C.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(C.type=g.WORD),this.start_of_statement(C)?D(this._flags.last_token,["var","let","const"])&&C.type===g.WORD&&(this._flags.declaration_statement=!0):!C.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(C):(this.handle_whitespace_and_comments(C),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(C,"while"))return this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(C,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(C,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(C),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(C),W(C,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||C.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(C),void(this._flags.last_word=C.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(C,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(C,M)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(C,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,H)||this._flags.last_token.text==="declare"&&D(C,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(C,["var","let","const"])||this._flags.last_token.text===":"||(W(C,"if")&&W(C.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(C,M)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!C.previous||C.previous.type!==g.WORD&&C.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(C),this._flags.last_word=C.text,C.type===g.RESERVED&&(C.text==="do"?this._flags.do_block=!0:C.text==="if"?this._flags.if_block=!0:C.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(C,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(C){this.start_of_statement(C)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(C);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(C)},J.prototype.handle_string=function(C){C.text.startsWith("\`")&&C.newlines===0&&C.whitespace_before===""&&(C.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(C)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(C),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C):!C.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||C.previous.text!=="]"&&C.previous.text!==")"||C.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(C)},J.prototype.handle_equals=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0},J.prototype.handle_comma=function(C){this.handle_whitespace_and_comments(C,!0),this.print_token(C),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)},J.prototype.handle_operator=function(C){var \$=C.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(C.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,M)||this._flags.last_token.text===",");if(this.start_of_statement(C)||this.handle_whitespace_and_comments(C,!\$),C.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(C);else if(C.text==="::")this.print_token(C);else if(y(C.text,["-","+"])&&this.start_of_object_property())this.print_token(C);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(C),C.text===":"&&this._flags.in_case)return this.print_token(C),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var xt=!0,Nt=!0,Et=!1;if(C.text===":"?this._flags.ternary_depth===0?xt=!1:(--this._flags.ternary_depth,Et=!0):C.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(C.text,A)){var ft=C.text===":",at=ft&&Et,_t=ft&&!Et;switch(this._options.operator_position){case B.before_newline:return this._output.space_before_token=!_t,this.print_token(C),ft&&!at||this.allow_wrap_or_preserved_newline(C),void(this._output.space_before_token=!0);case B.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(C):this._output.space_before_token=!1,this.print_token(C),void(this._output.space_before_token=!0);case B.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(C),xt=!(this._output.just_added_newline()||_t),this._output.space_before_token=xt,this.print_token(C),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(C),xt=!1,Nt=(Et=this._tokens.peek())&&y(Et.type,[g.WORD,g.RESERVED])):C.text==="..."?(this.allow_wrap_or_preserved_newline(C),xt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(C.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(C),Nt=xt=!1,!C.newlines||C.text!=="--"&&C.text!=="++"&&C.text!=="~"||((\$=D(this._flags.last_token,H)&&C.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(xt=!0),this._flags.last_token.type===g.RESERVED?xt=!0:this._flags.last_token.type===g.END_EXPR?xt=!(this._flags.last_token.text==="]"&&(C.text==="--"||C.text==="++")):this._flags.last_token.type===g.OPERATOR&&(xt=y(C.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(C.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||xt,this.print_token(C),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(C,\$){return this._output.raw?(this._output.add_raw_token(C),void(C.directives&&C.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):C.directives?(this.print_newline(!1,\$),this.print_token(C),C.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(C.text)||C.newlines?this.print_block_commment(C,\$):(this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(C,\$){var dt,xt,Nt,Et=function(_t){for(var mt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)mt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&mt.push(_t),mt}(C.text),ft=C.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(C),this._output.add_token(Et[0]),this.print_newline(!1,\$),1<Et.length){for(xt=function(_t,mt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==mt)return!1;return!0}(Et=Et.slice(1),"*"),Nt=function(_t,mt){for(var ee,Tt=0,Rt=_t.length;Tt<Rt;Tt++)if((ee=_t[Tt])&&ee.indexOf(mt)!==0)return!1;return!0}(Et,ft),xt&&(this._flags.alignment=1),dt=0;dt<Et.length;dt++)xt?(this.print_token_line_indentation(C),this._output.add_token(Et[dt].replace(/^\\s+/g,""))):Nt&&Et[dt]?(this.print_token_line_indentation(C),this._output.add_token(Et[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(Et[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(C,\$){C.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(C),this.print_newline(!1,\$)},J.prototype.handle_dot=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,H)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(C,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(C)},J.prototype.handle_unknown=function(C,\$){this.print_token(C),C.text[C.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(C){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(C)},E.exports.Beautifier=J},function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function x(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new x(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},x.prototype.get_indent_size=function(l,u){var f=this.__base_string_length;return f=(f=l<0?0:f)+l*this.__indent_size+(u=u||0)},x.prototype.get_indent_string=function(l,u){var f=this.__base_string;return u=u||0,l<0&&(l=0,f=""),u+=l*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},x.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},x.prototype.__add_column=function(){var l,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(l+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=d},function(E){E.exports.Token=function(S,x,d,l){this.type=S,this.text=x,this.comments_before=null,this.newlines=d||0,this.whitespace_before=l||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var x="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",d="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",l="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+d+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+u+"|["+x+d+l+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,x){var d=x(6).Options,l=["before-newline","after-newline","preserve-newline"];function u(b){d.call(this,b,"js");var b=this.raw_options.brace_style||null,M=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var A=0;A<M.length;A++)M[A]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=M[A];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",l),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new d,E.exports.Options=u},function(E){function S(l,u){this.raw_options=x(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function x(l,u){var f,b={};for(f in l=d(l))f!==u&&(b[f]=l[f]);if(u&&l[u])for(f in l[u])b[f]=l[u][f];return b}function d(l){var u,f={};for(u in l)f[u.replace(/-/g,"_")]=l[u];return f}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,f){if(f=this._get_selection_list(l,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return f[0]},S.prototype._get_selection_list=function(l,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(l,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(f){return u.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=x},function(E,S,U){var d=U(8).InputScanner,l=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function M(R,k){return k.indexOf(R)!==-1}function A(R,k){l.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,H=/[0-9]/,B=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(A.prototype=new l)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},A.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},A.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},A.prototype._reset=function(){g=!1},A.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},A.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},A.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&B.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},A.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},A.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},A.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(H)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return g=!0,this._create_token(y.COMMENT,k)}}else if(g&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,k);return null},A.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},A.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,it=new d(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){L+="\\\\",it.hasNext()&&(L+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},A.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&M(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&M(R.opened.previous.text,["if","while","for"])||M(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},A.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},A.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],C=L[2];if(!(L[L.length-1]||C.slice(0,8)==="![CDATA[")&&(C===Q||it&&C.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},A.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=A,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function x(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}x.prototype.restart=function(){this.__position=0},x.prototype.back=function(){0<this.__position&&--this.__position},x.prototype.hasNext=function(){return this.__position<this.__input_length},x.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},x.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},x.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},x.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},x.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},x.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},x.prototype.read=function(d,l,u){var f,b="";return d&&(f=this.match(d))&&(b+=f[0]),!l||!f&&d||(b+=this.readUntil(l,u)),b},x.prototype.readUntil=function(f,l){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,l&&(u+=f[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},x.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},x.prototype.get_regexp=function(d,f){var u=null,f=f&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,f):d&&(u=new RegExp(d.source,f)),u},x.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},x.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},x.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=x},function(E,S,x){function d(A,g){this._input=new l(A),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var l=x(8).InputScanner,u=x(3).Token,f=x(10).TokenStream,b=x(11).WhitespacePattern,M={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};d.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var A,g=new u(M.START,""),y=null,W=[],D=new f;g.type!==M.EOF;){for(A=this._get_next_token(g,y);this._is_comment(A);)D.add(A),A=this._get_next_token(g,y);D.isEmpty()||(A.comments_before=D,D=new f),A.parent=y,this._is_opening(A)?(W.push(y),y=A):y&&this._is_closing(A,y)&&((A.opened=y).closed=A,y=W.pop(),A.parent=y),(A.previous=g).next=A,this.__tokens.add(A),g=A}return this.__tokens},d.prototype._is_first_token=function(){return this.__tokens.isEmpty()},d.prototype._reset=function(){},d.prototype._get_next_token=function(A,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(M.RAW,y):this._create_token(M.EOF,"")},d.prototype._is_comment=function(A){return!1},d.prototype._is_opening=function(A){return!1},d.prototype._is_closing=function(A,g){return!1},d.prototype._create_token=function(A,g){return new u(A,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},d.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=d,E.exports.TOKEN=M},function(E){function S(x){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=x}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var x=null;return this.hasNext()&&(x=this.__tokens[this.__position],this.__position+=1),x},S.prototype.peek=function(x){var d=null;return x=x||0,d=0<=(x+=this.__position)&&x<this.__tokens_length?this.__tokens[x]:d},S.prototype.add=function(x){this.__parent_token&&(x.parent=this.__parent_token),this.__tokens.push(x),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,x){var d=x(12).Pattern;function l(u,f){d.call(this,u,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(l.prototype=new d).__set_whitespace_patterns=function(u,f){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},l.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(u=this.__split(this._newline_regexp,f),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),f},l.prototype.matching=function(u,f){var b=this._create();return b.__set_whitespace_patterns(u,f),b._update(),b},l.prototype._create=function(){return new l(this._input,this)},l.prototype.__split=function(u,f){for(var b=u.lastIndex=0,M=[],A=u.exec(f);A;)M.push(f.substring(b,A.index)),b=A.index+A[0].length,A=u.exec(f);return b<f.length?M.push(f.substring(b,f.length)):M.push(""),M},E.exports.WhitespacePattern=l},function(E){function S(x,d){this._input=x,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,d&&(this._starting_pattern=this._input.get_regexp(d._starting_pattern,!0),this._match_pattern=this._input.get_regexp(d._match_pattern,!0),this._until_pattern=this._input.get_regexp(d._until_pattern),this._until_after=d._until_after)}S.prototype.read=function(){var x=this._input.read(this._starting_pattern);return this._starting_pattern&&!x||(x+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),x},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(x){var d=this._create();return d._until_after=!0,d._until_pattern=this._input.get_regexp(x),d._update(),d},S.prototype.until=function(x){var d=this._create();return d._until_after=!1,d._until_pattern=this._input.get_regexp(x),d._update(),d},S.prototype.starting_with=function(x){var d=this._create();return d._starting_pattern=this._input.get_regexp(x,!0),d._update(),d},S.prototype.matching=function(x){var d=this._create();return d._match_pattern=this._input.get_regexp(x,!0),d._update(),d},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(x,d){x=typeof x=="string"?x:x.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(x+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(x+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(x){if(!x.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(x));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(x);return d},S.prototype.readIgnored=function(x){return x.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,x){var d=x(12).Pattern,l={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(f,b){d.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},l),this._excluded=Object.assign({},l),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new d(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new d)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},u.prototype.read_options=function(f){var b,M=this._create();for(b in l)M._disabled[b]=f.templating.indexOf(b)===-1;return M._update(),M},u.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},u.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},u.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},u.prototype._read_template=function(){var f,b="",M=this._input.peek();return M==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):M==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=u}],T={},O=function E(S){var x=T[S];return x!==void 0?x.exports:(x=T[S]={exports:{}},c[S](x,x.exports,E),x.exports)}(0);p=O})();var p,s=p;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var O=[,,function(x){function d(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function l(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(f,b){this.__indent_cache=new l(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new d(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}d.prototype.clone_empty=function(){var f=new d(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},d.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},d.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},d.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},d.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},d.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},d.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},d.prototype.is_empty=function(){return this.__items.length===0},d.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},d.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},d.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},d.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},d.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},d.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},d.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},l.prototype.get_indent_size=function(f,b){var M=this.__base_string_length;return M=(M=f<0?0:M)+f*this.__indent_size+(b=b||0)},l.prototype.get_indent_string=function(f,b){var M=this.__base_string;return b=b||0,f<0&&(f=0,M=""),b+=f*this.__indent_size,this.__ensure_cache(b),M+=this.__cache[b]},l.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},l.prototype.__add_column=function(){var f,b=this.__cache.length,M="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,M=new Array(f+1).join(this.__indent_string)),b&&(M+=new Array(b+1).join(" ")),this.__cache.push(M)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},u.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(f,b){for(var M=this.__lines.length-2;0<=M;){var A=this.__lines[M];if(A.is_empty())break;if(A.item(0).indexOf(f)!==0&&A.item(-1)!==b){this.__lines.splice(M+1,0,new d(this)),this.previous_line=this.__lines[this.__lines.length-2];break}M--}},x.exports.Output=u},function(x){x.exports.Token=function(d,l,u,f){this.type=d,this.text=l,this.comments_before=null,this.newlines=u||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(x){function d(f,b){this.raw_options=l(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function l(f,b){var M,A={};for(M in f=u(f))M!==b&&(A[M]=f[M]);if(b&&f[b])for(M in f[b])A[M]=f[b][M];return A}function u(f){var b,M={};for(b in f)M[b.replace(/-/g,"_")]=f[b];return M}d.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},d.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},d.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},d.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},d.prototype._get_selection=function(f,b,M){if(M=this._get_selection_list(f,b,M),M.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return M[0]},d.prototype._get_selection_list=function(f,b,M){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(M=M||[b[0]],!this._is_valid_selection(M,b))throw new Error("Invalid Default Value!");if(M=this._get_array(f,M),this._is_valid_selection(M,b))return M;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},d.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(M){return b.indexOf(M)===-1})},x.exports.Options=d,x.exports.normalizeOpts=u,x.exports.mergeOpts=l},,function(x){var d=RegExp.prototype.hasOwnProperty("sticky");function l(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}l.prototype.restart=function(){this.__position=0},l.prototype.back=function(){0<this.__position&&--this.__position},l.prototype.hasNext=function(){return this.__position<this.__input_length},l.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},l.prototype.peek=function(u){var f=null;return u=u||0,f=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):f},l.prototype.__match=function(u,f){u.lastIndex=f;var b=u.exec(this.__input);return!b||d&&u.sticky||b.index!==f&&(b=null),b},l.prototype.test=function(u,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(u,f)},l.prototype.testChar=function(u,f){return f=this.peek(f),u.lastIndex=0,f!==null&&u.test(f)},l.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},l.prototype.read=function(u,f,b){var M,A="";return u&&(M=this.match(u))&&(A+=M[0]),!f||!M&&u||(A+=this.readUntil(f,b)),A},l.prototype.readUntil=function(M,f){var b=this.__position,M=(M.lastIndex=this.__position,M.exec(this.__input));return M?(b=M.index,f&&(b+=M[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},l.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},l.prototype.get_regexp=function(u,M){var b=null,M=M&&d?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,M):u&&(b=new RegExp(u.source,M)),b},l.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},l.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},l.prototype.lookBack=function(u){var f=this.__position-1;return f>=u.length&&this.__input.substring(f-u.length,f).toLowerCase()===u},x.exports.InputScanner=l},function(x,d,l){function u(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new A(this._input)}var f=l(8).InputScanner,b=l(3).Token,M=l(10).TokenStream,A=l(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new M,this._reset();for(var y,W=new b(g.START,""),D=null,H=[],B=new M;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)B.add(y),y=this._get_next_token(W,D);B.isEmpty()||(y.comments_before=B,B=new M),y.parent=D,this._is_opening(y)?(H.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=H.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},x.exports.Tokenizer=u,x.exports.TOKEN=g},function(x){function d(l){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=l}d.prototype.restart=function(){this.__position=0},d.prototype.isEmpty=function(){return this.__tokens_length===0},d.prototype.hasNext=function(){return this.__position<this.__tokens_length},d.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__tokens[this.__position],this.__position+=1),l},d.prototype.peek=function(l){var u=null;return l=l||0,u=0<=(l+=this.__position)&&l<this.__tokens_length?this.__tokens[l]:u},d.prototype.add=function(l){this.__parent_token&&(l.parent=this.__parent_token),this.__tokens.push(l),this.__tokens_length+=1},x.exports.TokenStream=d},function(x,d,l){var u=l(12).Pattern;function f(b,M){u.call(this,b,M),M?this._line_regexp=this._input.get_regexp(M._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new u).__set_whitespace_patterns=function(b,M){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(M+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+M+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,M=this._input.read(this._match_pattern);return M===" "?this.whitespace_before_token=" ":M&&(b=this.__split(this._newline_regexp,M),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),M},f.prototype.matching=function(b,M){var A=this._create();return A.__set_whitespace_patterns(b,M),A._update(),A},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,M){for(var A=b.lastIndex=0,g=[],y=b.exec(M);y;)g.push(M.substring(A,y.index)),A=y.index+y[0].length,y=b.exec(M);return A<M.length?g.push(M.substring(A,M.length)):g.push(""),g},x.exports.WhitespacePattern=f},function(x){function d(l,u){this._input=l,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}d.prototype.read=function(){var l=this._input.read(this._starting_pattern);return this._starting_pattern&&!l||(l+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),l},d.prototype.read_match=function(){return this._input.match(this._match_pattern)},d.prototype.until_after=function(l){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.until=function(l){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.starting_with=function(l){var u=this._create();return u._starting_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype.matching=function(l){var u=this._create();return u._match_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype._create=function(){return new d(this._input,this)},d.prototype._update=function(){},x.exports.Pattern=d},function(x){function d(l,u){l=typeof l=="string"?l:l.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(l+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(l+/\\sbeautify\\signore:end\\s/.source+u,"g")}d.prototype.get_directives=function(l){if(!l.match(this.__directives_block_pattern))return null;for(var u={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(l));f;)u[f[1]]=f[2],f=this.__directive_pattern.exec(l);return u},d.prototype.readIgnored=function(l){return l.readUntilAfter(this.__directives_end_ignore_pattern)},x.exports.Directives=d},function(x,d,l){var u=l(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(M,A){u.call(this,M,A),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),A&&(this.__template_pattern=this._input.get_regexp(A.__template_pattern),this._excluded=Object.assign(this._excluded,A._excluded),this._disabled=Object.assign(this._disabled,A._disabled)),A=new u(M),this.__patterns={handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:A.starting_with(/{{{/).until_after(/}}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),php:A.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:A.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:A.starting_with(/{%/).until_after(/%}/),django_value:A.starting_with(/{{/).until_after(/}}/),django_comment:A.starting_with(/{#/).until_after(/#}/),smarty:A.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:A.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:A.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(M){var A=this._create();return A._disabled[M]=!0,A._update(),A},b.prototype.read_options=function(M){var A,g=this._create();for(A in f)g._disabled[A]=M.templating.indexOf(A)===-1;return g._update(),g},b.prototype.exclude=function(M){var A=this._create();return A._excluded[M]=!0,A._update(),A},b.prototype.read=function(){for(var M="",M=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),A=this._read_template();A;)this._match_pattern?A+=this._input.read(this._match_pattern):A+=this._input.readUntil(this.__template_pattern),M+=A,A=this._read_template();return this._until_after&&(M+=this._input.readUntilAfter(this._until_pattern)),M},b.prototype.__set_templated_pattern=function(){var M=[];this._disabled.php||M.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||M.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||M.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(M.push(this.__patterns.django._starting_pattern.source),M.push(this.__patterns.django_value._starting_pattern.source),M.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||M.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&M.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+M.join("|")+")")},b.prototype._read_template=function(){var M,A="",g=this._input.peek();return g==="<"?(M=this._input.peek(1),this._disabled.php||this._excluded.php||M!=="?"||(A=A||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||M!=="%"||(A=A||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(A=(A=(A=A||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(A=A||this.__patterns.django_value.read()),this._excluded.django||(A=(A=A||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(A=(A=(A=A||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),A},x.exports.TemplatablePattern=b},,,,function(x,d,l){var u=l(19).Beautifier,f=l(20).Options;x.exports=function(b,M,A,g){return new u(b,M,A,g).beautify()},x.exports.defaultOptions=function(){return new f}},function(x,d,l){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new M(I,R)}function f(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,it=L.next;it.type!==g.EOF&&L.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=l(20).Options,M=l(2).Output,A=l(21).Tokenizer,g=l(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function H(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function B(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}B.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},B.prototype.record_tag=function(I){I=new H(this._current_frame,I,this._printer.indent_level),this._current_frame=I},B.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},B.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},B.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},B.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),it=new A(I,this._options).tokenize(),J=(this._tag_stack=new B(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===g.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,it="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(C,\$){return new U(C,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);it=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=L.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=f(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===g.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===g.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},x.exports.Beautifier=U},function(x,d,l){var u=l(6).Options;function f(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new u,x.exports.Options=f},function(x,d,l){function u(B,U){f.call(this,B,U),this._current_tag_name="";var B=new A(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:B.until(/[\\n\\r\\t <]/),single_quote:B.until_after(/'/),double_quote:B.until_after(/"/),attribute:B.until(/[\\n\\r\\t =>]|\\/>/),element_name:B.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(B=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(B).until_after(B))}var f=l(9).Tokenizer,b=l(9).TOKEN,M=l(13).Directives,A=l(14).TemplatablePattern,g=l(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new M(/<\\!--/,/-->/);(u.prototype=new f)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,H){return D.type===y.TAG_CLOSE&&H&&((D.text===">"||D.text==="/>")&&H.text[0]==="<"||D.text==="}}"&&H.text[0]==="{"&&H.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,H){this._readWhitespace();var B=this._input.peek();return B===null?this._create_token(y.EOF,""):this._read_open_handlebars(B,H)||this._read_attribute(B,D,H)||this._read_close(B,H)||this._read_raw_content(B,D,H)||this._read_content_word(B)||this._read_comment_or_cdata(B)||this._read_processing(B)||this._read_open(B,H)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var H=null,B=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((B=this.__patterns.comment.read())?(U=W.get_directives(B))&&U.ignore==="start"&&(B+=W.readIgnored(this._input)):B=this.__patterns.cdata.read()),B&&((H=this._create_token(y.COMMENT,B)).directives=U)),H},u.prototype._read_processing=function(D){var H=null,B=null;return D==="<"&&(B=(D=this._input.peek(1))!=="!"&&D!=="?"?B:(B=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((H=this._create_token(y.COMMENT,B)).directives=null),H},u.prototype._read_open=function(D,H){var B=null,U=null;return H||D==="<"&&(B=this._input.next(),this._input.peek()==="/"&&(B+=this._input.next()),B+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,B)),U},u.prototype._read_open_handlebars=function(D,H){var B=null,U=null;return H||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(B=(B=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,B)):(B=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,B))),U},u.prototype._read_close=function(D,H){var B=null,U=null;return H&&(H.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(B=this._input.next(),D==="/"&&(B+=this._input.next()),U=this._create_token(y.TAG_CLOSE,B)):H.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,H,B){var U=null;return B&&B.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(B=this._input.next(),B+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,B)):(D=this.__patterns.attribute.read())&&(U=H.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,H,B){var U="";if(B&&B.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(H.type===y.TAG_CLOSE&&H.opened.text[0]==="<"&&H.text[0]!=="/")if(B=H.opened.text.substr(1).toLowerCase(),B==="script"||B==="style"){if(H=this._read_comment_or_cdata(D),H)return H.type=y.TEXT,H;U=this._input.readUntil(new RegExp("</"+B+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(B)&&(U=this._input.readUntil(new RegExp("</"+B+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var H="";if(H=(H=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():H)||this.__patterns.word.read())return this._create_token(y.TEXT,H)},x.exports.Tokenizer=u,x.exports.TOKEN=y}],E={},S=function x(d){var l=E[d];return l!==void 0?l.exports:(l=E[d]={exports:{}},O[d](l,l.exports,x),l.exports)}(18);p=S})();var p,s,c,T=p;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(O){var E=O("./beautify"),S=O("./beautify-css");return{html_beautify:function(x,d){return T(x,d,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),c=require("./beautify-css.js"),exports.html_beautify=function(O,E){return T(O,E,s.js_beautify,c.css_beautify)}):typeof window<"u"?window.html_beautify=function(O,E){return T(O,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(O,E){return T(O,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var c=[,,function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function x(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new x(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},x.prototype.get_indent_size=function(l,u){var f=this.__base_string_length;return f=(f=l<0?0:f)+l*this.__indent_size+(u=u||0)},x.prototype.get_indent_string=function(l,u){var f=this.__base_string;return u=u||0,l<0&&(l=0,f=""),u+=l*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},x.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},x.prototype.__add_column=function(){var l,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(l+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=d},,,,function(E){function S(l,u){this.raw_options=x(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function x(l,u){var f,b={};for(f in l=d(l))f!==u&&(b[f]=l[f]);if(u&&l[u])for(f in l[u])b[f]=l[u][f];return b}function d(l){var u,f={};for(u in l)f[u.replace(/-/g,"_")]=l[u];return f}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,f){if(f=this._get_selection_list(l,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return f[0]},S.prototype._get_selection_list=function(l,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(l,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(f){return u.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=x},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function x(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}x.prototype.restart=function(){this.__position=0},x.prototype.back=function(){0<this.__position&&--this.__position},x.prototype.hasNext=function(){return this.__position<this.__input_length},x.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},x.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},x.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},x.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},x.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},x.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},x.prototype.read=function(d,l,u){var f,b="";return d&&(f=this.match(d))&&(b+=f[0]),!l||!f&&d||(b+=this.readUntil(l,u)),b},x.prototype.readUntil=function(f,l){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,l&&(u+=f[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},x.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},x.prototype.get_regexp=function(d,f){var u=null,f=f&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,f):d&&(u=new RegExp(d.source,f)),u},x.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},x.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},x.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=x},,,,,function(E){function S(x,d){x=typeof x=="string"?x:x.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(x+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(x+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(x){if(!x.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(x));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(x);return d},S.prototype.readIgnored=function(x){return x.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,x){var d=x(16).Beautifier,l=x(17).Options;E.exports=function(u,f){return new d(u,f).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,x){var d=x(17).Options,l=x(2).Output,u=x(8).InputScanner,f=new(x(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,M=/\\r\\n|[\\r\\n]/g,A=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(H,B){this._source_text=H||"",this._options=new d(B),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(H){var B="";for(this._ch=this._input.next();this._ch;){if(B+=this._ch,this._ch==="\\\\")B+=this._input.next();else if(H.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return B},D.prototype.eatWhitespace=function(H){for(var B=A.test(this._input.peek()),U=0;A.test(this._input.peek());)this._ch=this._input.next(),H&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return B},D.prototype.foundNestedPseudoClass=function(){for(var H=0,B=1,U=this._input.peek(B);U;){if(U==="{")return!0;if(U==="(")H+=1;else if(U===")"){if(H===0)return!1;--H}else if(U===";"||U==="}")return!1;B++,U=this._input.peek(B)}return!1},D.prototype.print_string=function(H){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(H)},D.prototype.preserveSingleSpace=function(H){H&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var H,B,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(M,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new l(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,it=this._ch,J=!1;H=this._input.read(g)!=="",B=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),C=f.get_directives(lt);C&&C.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(H),this.print_string(this._ch),C=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),C.match(/[ :]\$/)&&(C=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(C),this._output.space_before_token=!0),I===0&&C.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(H),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(H),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(B==="("?this._output.space_before_token=!1:B!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),B==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(B==='"'||B==="'"||H),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(H||U),this.print_string(this._ch),k&&B==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(H),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),A.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(B==='"'||B==="'"||H),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&A.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,x){var d=x(6).Options;function l(f){d.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var M=0;M<b.length;M++)b[M]!=="expand"?this.brace_style="collapse":this.brace_style=b[M]}l.prototype=new d,E.exports.Options=l}],T={},O=function E(S){var x=T[S];return x!==void 0?x.exports:(x=T[S]={exports:{}},c[S](x,x.exports,E),x.exports)}(15);p=O})();var p,s=p;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineSimpleMode=function(u,f){p.defineMode(u,function(b){return p.simpleMode(b,f)})},p.simpleMode=function(u,f){s(f,"start");var b={},M=f.meta||{},A=!1;for(var g in f)if(g!=M&&f.hasOwnProperty(g))for(var y=b[g]=[],W=f[g],D=0;D<W.length;D++){var H=W[D];y.push(new O(H,f)),(H.indent||H.dedent)&&(A=!0)}var B={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:A?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=p.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:p.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:l(b,M)};if(M)for(var U in M)M.hasOwnProperty(U)&&(B[U]=M[U]);return B};function s(u,f){if(!u.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function c(u,f){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((f===!1?"":"^")+"(?:"+u+")",b)}function T(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var f=[],b=0;b<u.length;b++)f.push(u[b]&&u[b].replace(/\\./g," "));return f}function O(u,f){(u.next||u.push)&&s(f,u.next||u.push),this.regex=c(u.regex),this.token=T(u.token),this.data=u}function E(u,f){return function(b,M){if(M.pending){var A=M.pending.shift();return M.pending.length==0&&(M.pending=null),b.pos+=A.text.length,A.token}if(M.local)if(M.local.end&&b.match(M.local.end)){var g=M.local.endToken||null;return M.local=M.localState=null,g}else{var g=M.local.mode.token(b,M.localState),y;return M.local.endScan&&(y=M.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=u[M.state],D=0;D<W.length;D++){var H=W[D],B=(!H.data.sol||b.sol())&&b.match(H.regex);if(B){H.data.next?M.state=H.data.next:H.data.push?((M.stack||(M.stack=[])).push(M.state),M.state=H.data.push):H.data.pop&&M.stack&&M.stack.length&&(M.state=M.stack.pop()),H.data.mode&&x(f,M,H.data.mode,H.token),H.data.indent&&M.indent.push(b.indentation()+f.indentUnit),H.data.dedent&&M.indent.pop();var U=H.token;if(U&&U.apply&&(U=U(B)),B.length>2&&H.token&&typeof H.token!="string"){for(var Z=2;Z<B.length;Z++)B[Z]&&(M.pending||(M.pending=[])).push({text:B[Z],token:H.token[Z-1]});return b.backUp(B[0].length-(B[1]?B[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,f){if(u===f)return!0;if(!u||typeof u!="object"||!f||typeof f!="object")return!1;var b=0;for(var M in u)if(u.hasOwnProperty(M)){if(!f.hasOwnProperty(M)||!S(u[M],f[M]))return!1;b++}for(var M in f)f.hasOwnProperty(M)&&b--;return b==0}function x(u,f,b,M){var A;if(b.persistent)for(var g=f.persistentStates;g&&!A;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(A=g);var y=A?A.mode:b.mode||p.getMode(u,b.spec),W=A?A.state:p.startState(y);b.persistent&&!A&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&c(b.end),endScan:b.end&&b.forceEnd!==!1&&c(b.end,!1),endToken:M&&M.join?M[M.length-1]:M}}function d(u,f){for(var b=0;b<f.length;b++)if(f[b]===u)return!0}function l(u,f){return function(b,M,A){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,M,A);if(b.indent==null||b.local||f.dontIndentStates&&d(b.state,f.dontIndentStates)>-1)return p.Pass;var g=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var H=D.regex.exec(M);if(H&&H[0]){g--,(D.next||D.push)&&(y=u[D.next||D.push]),M=M.slice(H[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){const s=["س","ر","ج"],c=["ا","ب","ج","د","ه","و"],T=s.map(it=>Rr(it)).join(""),O=\`[\${c.map(it=>Rr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${T}›»]\`,x=Rr("م"),d=\`(?:\${x}\${Ki}(?:\${ea}|\${O}){1,6}\${Gi})\`,l=\`(?:\${x}\${Ki}(?:\${na}|\${E}){1,6}\${Gi})\`,u=\`(?:\${d}|\${l})\`,f=\`[^›\${Mr}]\`,b=it=>RegExp(M(it),"u"),M=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Rr(lt.ar))),\`(?:\${J.join("|")})\`},A=()=>RegExp(\`\${Ki}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Gi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Mr}(?:\${S}|\${u})\`,H=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),B=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Mr}»]|\${Mr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Yh})|(?:\${xu})\`,"u"),k=()=>RegExp(\`(?!\${M(Uh)}(?:\${Xh}|\\\\s|\$))\${Br}\`,"u"),K=()=>b(Js),L=()=>b(Vs),Q=()=>b(ta);p.defineSimpleMode("seen-ar",{start:[{regex:A(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:B(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:H(),token:"string-2"},{regex:R(),token:"number"},...Su,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Eu}),p.defineMIME("text/x-seen-ar-src","seen-ar"),p.defineMIME("text/seen-ar","seen-ar")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){const s=\`[nrt'"]\`,c=\`u\${Ki}[\\\\da-fA-F]{1,6}\${Gi}\`,T=\`[^'\${Hs}]\`;function O(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${Ki}\${Dr}\`),S=()=>RegExp(".*"),x=()=>RegExp(\`.*?\${Dr}\${Gi}\`),d=()=>RegExp(\`\${Dr}\${Dr}.*\`),l=\`\${Hs}(?:\${s}|\${c})\`,u=()=>RegExp(\`'(?:\${T}|\${l})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),M=()=>RegExp('"""'),A=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${T}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${xu})\`),D=()=>RegExp(\`\${Br}\`,"u"),H=()=>O(Js),B=()=>O(Vs),U=()=>O(ta);p.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:d(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:A(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Su,{regex:H(),token:"keyword"},{regex:B(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:x(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:M(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Eu}),p.defineMIME("text/x-seen-en-src","seen-en"),p.defineMIME("text/seen-en","seen-en")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("javascript",function(s,c){var T=s.indentUnit,O=c.statementIndent,E=c.jsonld,S=c.json||E,x=c.trackScope!==!1,d=c.typescript,l=c.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function w(Xt){return{type:Xt,style:"keyword"}}var P=w("keyword a"),z=w("keyword b"),G=w("keyword c"),wt=w("keyword d"),Ct=w("operator"),Lt={type:"atom",style:"atom"};return{if:w("if"),while:P,with:P,else:z,do:z,try:z,finally:z,return:wt,break:wt,continue:wt,new:w("new"),delete:G,void:G,throw:G,debugger:w("debugger"),var:w("var"),const:w("var"),let:w("var"),function:w("function"),catch:w("catch"),for:w("for"),switch:w("switch"),case:w("case"),default:w("default"),in:Ct,typeof:Ct,instanceof:Ct,true:Lt,false:Lt,null:Lt,undefined:Lt,NaN:Lt,Infinity:Lt,this:w("this"),class:w("class"),super:w("atom"),yield:G,export:w("export"),import:w("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function M(w){for(var P=!1,z,G=!1;(z=w.next())!=null;){if(!P){if(z=="/"&&!G)return;z=="["?G=!0:G&&z=="]"&&(G=!1)}P=!P&&z=="\\\\"}}var A,g;function y(w,P,z){return A=w,g=z,P}function W(w,P){var z=w.next();if(z=='"'||z=="'")return P.tokenize=D(z),P.tokenize(w,P);if(z=="."&&w.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(z=="."&&w.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(z))return y(z);if(z=="="&&w.eat(">"))return y("=>","operator");if(z=="0"&&w.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(z))return w.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(z=="/")return w.eat("*")?(P.tokenize=H,H(w,P)):w.eat("/")?(w.skipToEnd(),y("comment","comment")):ze(w,P,1)?(M(w),w.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(w.eat("="),y("operator","operator",w.current()));if(z=="\`")return P.tokenize=B,B(w,P);if(z=="#"&&w.peek()=="!")return w.skipToEnd(),y("meta","meta");if(z=="#"&&w.eatWhile(l))return y("variable","property");if(z=="<"&&w.match("!--")||z=="-"&&w.match("->")&&!/\\S/.test(w.string.slice(0,w.start)))return w.skipToEnd(),y("comment","comment");if(f.test(z))return(z!=">"||!P.lexical||P.lexical.type!=">")&&(w.eat("=")?(z=="!"||z=="=")&&w.eat("="):/[<>*+\\-|&?]/.test(z)&&(w.eat(z),z==">"&&w.eat(z))),z=="?"&&w.eat(".")?y("."):y("operator","operator",w.current());if(l.test(z)){w.eatWhile(l);var G=w.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var wt=u[G];return y(wt.type,wt.style,G)}if(G=="async"&&w.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(w){return function(P,z){var G=!1,wt;if(E&&P.peek()=="@"&&P.match(b))return z.tokenize=W,y("jsonld-keyword","meta");for(;(wt=P.next())!=null&&!(wt==w&&!G);)G=!G&&wt=="\\\\";return G||(z.tokenize=W),y("string","string")}}function H(w,P){for(var z=!1,G;G=w.next();){if(G=="/"&&z){P.tokenize=W;break}z=G=="*"}return y("comment","comment")}function B(w,P){for(var z=!1,G;(G=w.next())!=null;){if(!z&&(G=="\`"||G=="\$"&&w.eat("{"))){P.tokenize=W;break}z=!z&&G=="\\\\"}return y("quasi","string-2",w.current())}var U="([{}])";function Z(w,P){P.fatArrowAt&&(P.fatArrowAt=null);var z=w.string.indexOf("=>",w.start);if(!(z<0)){if(d){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(w.string.slice(w.start,z));G&&(z=G.index)}for(var wt=0,Ct=!1,Lt=z-1;Lt>=0;--Lt){var Xt=w.string.charAt(Lt),xe=U.indexOf(Xt);if(xe>=0&&xe<3){if(!wt){++Lt;break}if(--wt==0){Xt=="("&&(Ct=!0);break}}else if(xe>=3&&xe<6)++wt;else if(l.test(Xt))Ct=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Lt){if(Lt==0)return;var kt=w.string.charAt(Lt-1);if(kt==Xt&&w.string.charAt(Lt-2)!="\\\\"){Lt--;break}}else if(Ct&&!wt){++Lt;break}}Ct&&!wt&&(P.fatArrowAt=Lt)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(w,P,z,G,wt,Ct){this.indented=w,this.column=P,this.type=z,this.prev=wt,this.info=Ct,G!=null&&(this.align=G)}function I(w,P){if(!x)return!1;for(var z=w.localVars;z;z=z.next)if(z.name==P)return!0;for(var G=w.context;G;G=G.prev)for(var z=G.vars;z;z=z.next)if(z.name==P)return!0}function R(w,P,z,G,wt){var Ct=w.cc;for(k.state=w,k.stream=wt,k.marked=null,k.cc=Ct,k.style=P,w.lexical.hasOwnProperty("align")||(w.lexical.align=!0);;){var Lt=Ct.length?Ct.pop():S?Tt:mt;if(Lt(z,G)){for(;Ct.length&&Ct[Ct.length-1].lex;)Ct.pop()();return k.marked?k.marked:z=="variable"&&I(w,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var w=arguments.length-1;w>=0;w--)k.cc.push(arguments[w])}function L(){return K.apply(null,arguments),!0}function Q(w,P){for(var z=P;z;z=z.next)if(z.name==w)return!0;return!1}function it(w){var P=k.state;if(k.marked="def",!!x){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var z=J(w,P.context);if(z!=null){P.context=z;return}}else if(!Q(w,P.localVars)){P.localVars=new \$(w,P.localVars);return}}c.globalVars&&!Q(w,P.globalVars)&&(P.globalVars=new \$(w,P.globalVars))}}function J(w,P){if(P)if(P.block){var z=J(w,P.prev);return z?z==P.prev?P:new C(z,P.vars,!0):null}else return Q(w,P.vars)?P:new C(P.prev,new \$(w,P.vars),!1);else return null}function lt(w){return w=="public"||w=="private"||w=="protected"||w=="abstract"||w=="readonly"}function C(w,P,z){this.prev=w,this.vars=P,this.block=z}function \$(w,P){this.name=w,this.next=P}var dt=new \$("this",new \$("arguments",null));function xt(){k.state.context=new C(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new C(k.state.context,k.state.localVars,!0),k.state.localVars=null}xt.lex=Nt.lex=!0;function Et(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}Et.lex=!0;function ft(w,P){var z=function(){var G=k.state,wt=G.indented;if(G.lexical.type=="stat")wt=G.lexical.indented;else for(var Ct=G.lexical;Ct&&Ct.type==")"&&Ct.align;Ct=Ct.prev)wt=Ct.indented;G.lexical=new rt(wt,k.stream.column(),w,null,G.lexical,P)};return z.lex=!0,z}function at(){var w=k.state;w.lexical.prev&&(w.lexical.type==")"&&(w.indented=w.lexical.indented),w.lexical=w.lexical.prev)}at.lex=!0;function _t(w){function P(z){return z==w?L():w==";"||z=="}"||z==")"||z=="]"?K():L(P)}return P}function mt(w,P){return w=="var"?L(ft("vardef",P),Ke,_t(";"),at):w=="keyword a"?L(ft("form"),Ee,mt,at):w=="keyword b"?L(ft("form"),mt,at):w=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),ke,_t(";"),at):w=="debugger"?L(_t(";")):w=="{"?L(ft("}"),Nt,Pe,at,Et):w==";"?L():w=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,mt,at,In)):w=="function"?L(We):w=="for"?L(ft("form"),Nt,Ji,mt,Et,at):w=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form",w=="class"?w:P),tr,at)):w=="variable"?d&&P=="declare"?(k.marked="keyword",L(mt)):d&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Hn):P=="type"?L(Vi,_t("operator"),nt,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),Pe,at,at)):d&&P=="namespace"?(k.marked="keyword",L(ft("form"),Tt,mt,at)):d&&P=="abstract"?(k.marked="keyword",L(mt)):L(ft("stat"),Pn):w=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,Pe,at,at,Et):w=="case"?L(Tt,_t(":")):w=="default"?L(_t(":")):w=="catch"?L(ft("form"),xt,ee,mt,at,Et):w=="export"?L(ft("stat"),un,at):w=="import"?L(ft("stat"),Xe,at):w=="async"?L(mt):P=="@"?L(Tt,mt):K(ft("stat"),Tt,_t(";"),at)}function ee(w){if(w=="(")return L(Ae,_t(")"))}function Tt(w,P){return we(w,P,!1)}function Rt(w,P){return we(w,P,!0)}function Ee(w){return w!="("?K():L(ft(")"),ke,_t(")"),at)}function we(w,P,z){if(k.state.fatArrowAt==k.stream.start){var G=z?hi:sn;if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,_t("=>"),G,Et);if(w=="variable")return K(xt,fe,_t("=>"),G,Et)}var wt=z?It:ce;return ot.hasOwnProperty(w)?L(wt):w=="function"?L(We,wt):w=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form"),on,at)):w=="keyword c"||w=="async"?L(z?Rt:Tt):w=="("?L(ft(")"),ke,_t(")"),at,wt):w=="operator"||w=="spread"?L(z?Rt:Tt):w=="["?L(ft("]"),\$e,at,wt):w=="{"?xn(Wn,"}",null,wt):w=="quasi"?K(yt,wt):w=="new"?L(\$i(z)):L()}function ke(w){return w.match(/[;\\}\\)\\],]/)?K():K(Tt)}function ce(w,P){return w==","?L(ke):It(w,P,!1)}function It(w,P,z){var G=z==!1?ce:It,wt=z==!1?Tt:Rt;if(w=="=>")return L(xt,z?hi:sn,Et);if(w=="operator")return/\\+\\+|--/.test(P)||d&&P=="!"?L(G):d&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),zt(nt,">"),at,G):P=="?"?L(Tt,_t(":"),wt):L(wt);if(w=="quasi")return K(yt,G);if(w!=";"){if(w=="(")return xn(Rt,")","call",G);if(w==".")return L(Yi,G);if(w=="[")return L(ft("]"),ke,_t("]"),at,G);if(d&&P=="as")return k.marked="keyword",L(nt,G);if(w=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(wt)}}function yt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?L(yt):L(ke,Ue)}function Ue(w){if(w=="}")return k.marked="string-2",k.state.tokenize=B,L(yt)}function sn(w){return Z(k.stream,k.state),K(w=="{"?mt:Tt)}function hi(w){return Z(k.stream,k.state),K(w=="{"?mt:Rt)}function \$i(w){return function(P){return P=="."?L(w?ci:jr):P=="variable"&&d?L(re,w?It:ce):K(w?Rt:Tt)}}function jr(w,P){if(P=="target")return k.marked="keyword",L(ce)}function ci(w,P){if(P=="target")return k.marked="keyword",L(It)}function Pn(w){return w==":"?L(at,mt):K(ce,_t(";"),at)}function Yi(w){if(w=="variable")return k.marked="property",L()}function Wn(w,P){if(w=="async")return k.marked="property",L(Wn);if(w=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(fi);var z;return d&&k.state.fatArrowAt==k.stream.start&&(z=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+z[0].length),L(Fe)}else{if(w=="number"||w=="string")return k.marked=E?"property":k.style+" property",L(Fe);if(w=="jsonld-keyword")return L(Fe);if(d&&lt(P))return k.marked="keyword",L(Wn);if(w=="[")return L(Tt,Te,_t("]"),Fe);if(w=="spread")return L(Rt,Fe);if(P=="*")return k.marked="keyword",L(Wn);if(w==":")return K(Fe)}}function fi(w){return w!="variable"?K(Fe):(k.marked="property",L(We))}function Fe(w){if(w==":")return L(Rt);if(w=="(")return K(We)}function zt(w,P,z){function G(wt,Ct){if(z?z.indexOf(wt)>-1:wt==","){var Lt=k.state.lexical;return Lt.info=="call"&&(Lt.pos=(Lt.pos||0)+1),L(function(Xt,xe){return Xt==P||xe==P?K():K(w)},G)}return wt==P||Ct==P?L():z&&z.indexOf(";")>-1?K(w):L(_t(P))}return function(wt,Ct){return wt==P||Ct==P?L():K(w,G)}}function xn(w,P,z){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,z),zt(w,P),at)}function Pe(w){return w=="}"?L():K(mt,Pe)}function Te(w,P){if(d){if(w==":")return L(nt);if(P=="?")return L(Te)}}function Ur(w,P){if(d&&(w==":"||P=="in"))return L(nt)}function Ce(w){if(d&&w==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Tt,Qi,nt):L(nt)}function Qi(w,P){if(P=="is")return k.marked="keyword",L()}function nt(w,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:nt);if(w=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(nt);if(w=="string"||w=="number"||w=="atom")return L(ue);if(w=="[")return L(ft("]"),zt(nt,"]",","),at,ue);if(w=="{")return L(ft("}"),ie,at,ue);if(w=="(")return L(zt(oe,")"),_i,ue);if(w=="<")return L(zt(nt,">"),nt);if(w=="quasi")return K(Ht,ue)}function _i(w){if(w=="=>")return L(nt)}function ie(w){return w.match(/[\\}\\)\\]]/)?L():w==","||w==";"?L(ie):K(Ft,ie)}function Ft(w,P){if(w=="variable"||k.style=="keyword")return k.marked="property",L(Ft);if(P=="?"||w=="number"||w=="string")return L(Ft);if(w==":")return L(nt);if(w=="[")return L(_t("variable"),Ur,_t("]"),Ft);if(w=="(")return K(Ie,Ft);if(!w.match(/[;\\}\\)\\],]/))return L()}function Ht(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?L(Ht):L(nt,Zi)}function Zi(w){if(w=="}")return k.marked="string-2",k.state.tokenize=B,L(Ht)}function oe(w,P){return w=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):w==":"?L(nt):w=="spread"?L(oe):K(nt)}function ue(w,P){if(P=="<")return L(ft(">"),zt(nt,">"),at,ue);if(P=="|"||w=="."||P=="&")return L(nt);if(w=="[")return L(nt,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(nt);if(P=="?")return L(nt,_t(":"),nt)}function re(w,P){if(P=="<")return L(ft(">"),zt(nt,">"),at,ue)}function Sn(){return K(nt,pi)}function pi(w,P){if(P=="=")return L(nt)}function Ke(w,P){return P=="enum"?(k.marked="keyword",L(Hn)):K(fe,Te,Le,Gr)}function fe(w,P){if(d&&lt(P))return k.marked="keyword",L(fe);if(w=="variable")return it(P),L();if(w=="spread")return L(fe);if(w=="[")return xn(Kr,"]");if(w=="{")return xn(di,"}")}function di(w,P){return w=="variable"&&!k.stream.match(/^\\s*:/,!1)?(it(P),L(Le)):(w=="variable"&&(k.marked="property"),w=="spread"?L(fe):w=="}"?K():w=="["?L(Tt,_t("]"),_t(":"),di):L(_t(":"),fe,Le))}function Kr(){return K(fe,Le)}function Le(w,P){if(P=="=")return L(Rt)}function Gr(w){if(w==",")return L(Ke)}function In(w,P){if(w=="keyword b"&&P=="else")return L(ft("form","else"),mt,at)}function Ji(w,P){if(P=="await")return L(Ji);if(w=="(")return L(ft(")"),gi,at)}function gi(w){return w=="var"?L(Ke,an):w=="variable"?L(an):K(an)}function an(w,P){return w==")"?L():w==";"?L(an):P=="in"||P=="of"?(k.marked="keyword",L(Tt,an)):K(Tt,an)}function We(w,P){if(P=="*")return k.marked="keyword",L(We);if(w=="variable")return it(P),L(We);if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,Ce,mt,Et);if(d&&P=="<")return L(ft(">"),zt(Sn,">"),at,We)}function Ie(w,P){if(P=="*")return k.marked="keyword",L(Ie);if(w=="variable")return it(P),L(Ie);if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,Ce,Et);if(d&&P=="<")return L(ft(">"),zt(Sn,">"),at,Ie)}function Vi(w,P){if(w=="keyword"||w=="variable")return k.marked="type",L(Vi);if(P=="<")return L(ft(">"),zt(Sn,">"),at)}function Ae(w,P){return P=="@"&&L(Tt,Ae),w=="spread"?L(Ae):d&&lt(P)?(k.marked="keyword",L(Ae)):d&&w=="this"?L(Te,Le):K(fe,Te,Le)}function on(w,P){return w=="variable"?tr(w,P):zn(w,P)}function tr(w,P){if(w=="variable")return it(P),L(zn)}function zn(w,P){if(P=="<")return L(ft(">"),zt(Sn,">"),at,zn);if(P=="extends"||P=="implements"||d&&w==",")return P=="implements"&&(k.marked="keyword"),L(d?nt:Tt,zn);if(w=="{")return L(ft("}"),me,at)}function me(w,P){if(w=="async"||w=="variable"&&(P=="static"||P=="get"||P=="set"||d&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(w=="variable"||k.style=="keyword")return k.marked="property",L(Ge,me);if(w=="number"||w=="string")return L(Ge,me);if(w=="[")return L(Tt,Te,_t("]"),Ge,me);if(P=="*")return k.marked="keyword",L(me);if(d&&w=="(")return K(Ie,me);if(w==";"||w==",")return L(me);if(w=="}")return L();if(P=="@")return L(Tt,me)}function Ge(w,P){if(P=="!"||P=="?")return L(Ge);if(w==":")return L(nt,Le);if(P=="=")return L(Rt);var z=k.state.lexical.prev,G=z&&z.info=="interface";return K(G?Ie:We)}function un(w,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Tt,_t(";"))):w=="{"?L(zt(er,"}"),ct,_t(";")):K(mt)}function er(w,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(w=="variable")return K(Rt,er)}function Xe(w){return w=="string"?L():w=="("?K(Tt):w=="."?K(ce):K(ln,vi,ct)}function ln(w,P){return w=="{"?xn(ln,"}"):(w=="variable"&&it(P),P=="*"&&(k.marked="keyword"),L(Bt))}function vi(w){if(w==",")return L(ln,vi)}function Bt(w,P){if(P=="as")return k.marked="keyword",L(ln)}function ct(w,P){if(P=="from")return k.marked="keyword",L(Tt)}function \$e(w){return w=="]"?L():K(zt(Rt,"]"))}function Hn(){return K(ft("form"),fe,_t("{"),ft("}"),zt(Oe,"}"),at,at)}function Oe(){return K(fe,Le)}function Ot(w,P){return w.lastType=="operator"||w.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(w,P,z){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(w.string.slice(0,w.pos-(z||0)))}return{startState:function(w){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((w||0)-T,0,"block",!1),localVars:c.localVars,context:c.localVars&&new C(null,null,!1),indented:w||0};return c.globalVars&&typeof c.globalVars=="object"&&(P.globalVars=c.globalVars),P},token:function(w,P){if(w.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=w.indentation(),Z(w,P)),P.tokenize!=H&&w.eatSpace())return null;var z=P.tokenize(w,P);return A=="comment"?z:(P.lastType=A=="operator"&&(g=="++"||g=="--")?"incdec":A,R(P,z,A,g,w))},indent:function(w,P){if(w.tokenize==H||w.tokenize==B)return p.Pass;if(w.tokenize!=W)return 0;var z=P&&P.charAt(0),G=w.lexical,wt;if(!/^\\s*else\\b/.test(P))for(var Ct=w.cc.length-1;Ct>=0;--Ct){var Lt=w.cc[Ct];if(Lt==at)G=G.prev;else if(Lt!=In&&Lt!=Et)break}for(;(G.type=="stat"||G.type=="form")&&(z=="}"||(wt=w.cc[w.cc.length-1])&&(wt==ce||wt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;O&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,xe=z==Xt;return Xt=="vardef"?G.indented+(w.lastType=="operator"||w.lastType==","?G.info.length+1:0):Xt=="form"&&z=="{"?G.indented:Xt=="form"?G.indented+T:Xt=="stat"?G.indented+(Ot(w,P)?O||T:0):G.info=="switch"&&!xe&&c.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?T:2*T):G.align?G.column+(xe?0:1):G.indented+(xe?0:T)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:ze,skipExpression:function(w){R(w,"atom","atom","true",new p.StringStream("",2,null))}}}),p.registerHelper("wordChars","javascript",/[\\w\$]/),p.defineMIME("text/javascript","javascript"),p.defineMIME("text/ecmascript","javascript"),p.defineMIME("application/javascript","javascript"),p.defineMIME("application/x-javascript","javascript"),p.defineMIME("application/ecmascript","javascript"),p.defineMIME("application/json",{name:"javascript",json:!0}),p.defineMIME("application/x-json",{name:"javascript",json:!0}),p.defineMIME("application/manifest+json",{name:"javascript",json:!0}),p.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),p.defineMIME("text/typescript",{name:"javascript",typescript:!0}),p.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){p.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),p.defineMIME("text/x-rustsrc","rust"),p.defineMIME("text/rust","rust")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(O,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=O+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var x=this;p.on(this.inner,"mousedown",function(l){if(l.which!=1)return;p.e_preventDefault(l);var u=x.orientation=="horizontal"?"pageX":"pageY",f=l[u],b=x.pos;function M(){p.off(document,"mousemove",A),p.off(document,"mouseup",M)}function A(g){if(g.which!=1)return M();x.moveTo(b+(g[u]-f)*(x.total/x.size))}p.on(document,"mousemove",A),p.on(document,"mouseup",M)}),p.on(this.node,"click",function(l){p.e_preventDefault(l);var u=x.inner.getBoundingClientRect(),f;x.orientation=="horizontal"?f=l.clientX<u.left?-1:l.clientX>u.right?1:0:f=l.clientY<u.top?-1:l.clientY>u.bottom?1:0,x.moveTo(x.pos+f*x.screen)});function d(l){var u=p.wheelEventPixels(l)[x.orientation=="horizontal"?"x":"y"],f=x.pos;x.moveTo(x.pos+u),x.pos!=f&&p.e_preventDefault(l)}p.on(this.node,"mousewheel",d),p.on(this.node,"DOMMouseScroll",d)}s.prototype.setPos=function(O,E){return O<0&&(O=0),O>this.total-this.screen&&(O=this.total-this.screen),!E&&O==this.pos?!1:(this.pos=O,this.inner.style[this.orientation=="horizontal"?"left":"top"]=O*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(O){this.setPos(O)&&this.scroll(O,this.orientation)};var c=10;s.prototype.update=function(O,E,S){var x=this.screen!=E||this.total!=O||this.size!=S;x&&(this.screen=E,this.total=O,this.size=S);var d=this.screen*(this.size/this.total);d<c&&(this.size-=c-d,d=c),this.inner.style[this.orientation=="horizontal"?"width":"height"]=d+"px",this.setPos(this.pos,x)};function T(O,E,S){this.addClass=O,this.horiz=new s(O,"horizontal",S),E(this.horiz.node),this.vert=new s(O,"vertical",S),E(this.vert.node),this.width=null}T.prototype.update=function(O){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,x=O.scrollWidth>O.clientWidth+1,d=O.scrollHeight>O.clientHeight+1;return this.vert.node.style.display=d?"block":"none",this.horiz.node.style.display=x?"block":"none",d&&(this.vert.update(O.scrollHeight,O.clientHeight,O.viewHeight-(x?S:0)),this.vert.node.style.bottom=x?S+"px":"0"),x&&(this.horiz.update(O.scrollWidth,O.clientWidth,O.viewWidth-(d?S:0)-O.barLeft),this.horiz.node.style.right=d?S+"px":"0",this.horiz.node.style.left=O.barLeft+"px"),{right:d?S:0,bottom:x?S:0}},T.prototype.setScrollTop=function(O){this.vert.setPos(O)},T.prototype.setScrollLeft=function(O){this.horiz.setPos(O)},T.prototype.clear=function(){var O=this.horiz.node.parentNode;O.removeChild(this.horiz.node),O.removeChild(this.vert.node)},p.scrollbarModel.simple=function(O,E){return new T("CodeMirror-simplescroll",O,E)},p.scrollbarModel.overlay=function(O,E){return new T("CodeMirror-overlayscroll",O,E)}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s="CodeMirror-activeline",c="CodeMirror-activeline-background",T="CodeMirror-activeline-gutter";p.defineOption("styleActiveLine",!1,function(d,l,u){var f=u==p.Init?!1:u;l!=f&&(f&&(d.off("beforeSelectionChange",x),O(d),delete d.state.activeLines),l&&(d.state.activeLines=[],S(d,d.listSelections()),d.on("beforeSelectionChange",x)))});function O(d){for(var l=0;l<d.state.activeLines.length;l++)d.removeLineClass(d.state.activeLines[l],"wrap",s),d.removeLineClass(d.state.activeLines[l],"background",c),d.removeLineClass(d.state.activeLines[l],"gutter",T)}function E(d,l){if(d.length!=l.length)return!1;for(var u=0;u<d.length;u++)if(d[u]!=l[u])return!1;return!0}function S(d,l){for(var u=[],f=0;f<l.length;f++){var b=l[f],M=d.getOption("styleActiveLine");if(!(typeof M=="object"&&M.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var A=d.getLineHandleVisualStart(b.head.line);u[u.length-1]!=A&&u.push(A)}}E(d.state.activeLines,u)||d.operation(function(){O(d);for(var g=0;g<u.length;g++)d.addLineClass(u[g],"wrap",s),d.addLineClass(u[g],"background",c),d.addLineClass(u[g],"gutter",T);d.state.activeLines=u})}function x(d,l){S(d,l.ranges)}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),c=p.Pos,T={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function O(u){return u&&u.bracketRegex||/[(){}[\\]]/}function E(u,f,b){var M=u.getLineHandle(f.line),A=f.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=O(b),W=!g&&A>=0&&y.test(M.text.charAt(A))&&T[M.text.charAt(A)]||y.test(M.text.charAt(A+1))&&T[M.text.charAt(++A)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(A==f.ch))return null;var H=u.getTokenTypeAt(c(f.line,A+1)),B=S(u,c(f.line,A+(D>0?1:0)),D,H,b);return B==null?null:{from:c(f.line,A),to:B&&B.pos,match:B&&B.ch==W.charAt(0),forward:D>0}}function S(u,f,b,M,A){for(var g=A&&A.maxScanLineLength||1e4,y=A&&A.maxScanLines||1e3,W=[],D=O(A),H=b>0?Math.min(f.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,f.line-y),B=f.line;B!=H;B+=b){var U=u.getLine(B);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(B==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(M===void 0||(u.getTokenTypeAt(c(B,Z+1))||"")==(M||""))){var I=T[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:c(B,Z),ch:rt}}}}}return B-b==(b>0?u.lastLine():u.firstLine())?!1:null}function x(u,f,b){for(var M=u.state.matchBrackets.maxHighlightLineLength||1e3,A=b&&b.highlightNonMatching,g=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(u,y[W].head,b);if(D&&(D.match||A!==!1)&&u.getLine(D.from.line).length<=M){var H=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(u.markText(D.from,c(D.from.line,D.from.ch+1),{className:H})),D.to&&u.getLine(D.to.line).length<=M&&g.push(u.markText(D.to,c(D.to.line,D.to.ch+1),{className:H}))}}if(g.length){s&&u.state.focused&&u.focus();var B=function(){u.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(f)setTimeout(B,800);else return B}}function d(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=x(u,!1,u.state.matchBrackets)})}function l(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}p.defineOption("matchBrackets",!1,function(u,f,b){b&&b!=p.Init&&(u.off("cursorActivity",d),u.off("focus",d),u.off("blur",l),l(u)),f&&(u.state.matchBrackets=typeof f=="object"?f:{},u.on("cursorActivity",d),u.on("focus",d),u.on("blur",l))}),p.defineExtension("matchBrackets",function(){x(this,!0)}),p.defineExtension("findMatchingBracket",function(u,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),E(this,u,f)}),p.defineExtension("scanForBracket",function(u,f,b,M){return S(this,u,f,b,M)})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},c=p.Pos;p.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=p.Init&&(g.removeKeyMap(O),g.state.closeBrackets=null),y&&(E(T(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(O))});function T(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:s[y]}var O={Backspace:d,Enter:l};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";O[D]||(O[D]=S(W))}}E(s.pairs+"\`");function S(g){return function(y){return b(y,g)}}function x(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function d(g){var y=x(g);if(!y||g.getOption("disableInput"))return p.Pass;for(var W=T(y,"pairs"),D=g.listSelections(),H=0;H<D.length;H++){if(!D[H].empty())return p.Pass;var B=M(g,D[H].head);if(!B||W.indexOf(B)%2!=0)return p.Pass}for(var H=D.length-1;H>=0;H--){var U=D[H].head;g.replaceRange("",c(U.line,U.ch-1),c(U.line,U.ch+1),"+delete")}}function l(g){var y=x(g),W=y&&T(y,"explode");if(!W||g.getOption("disableInput"))return p.Pass;for(var D=g.listSelections(),H=0;H<D.length;H++){if(!D[H].empty())return p.Pass;var B=M(g,D[H].head);if(!B||W.indexOf(B)%2!=0)return p.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),u(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function u(g,y){for(var W=[],D=g.listSelections(),H=0,B=0;B<D.length;B++){var U=D[B];U.head==g.getCursor()&&(H=B);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,H)}function f(g){var y=p.cmpPos(g.anchor,g.head)>0;return{anchor:new c(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new c(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=x(g);if(!W||g.getOption("disableInput"))return p.Pass;var D=T(W,"pairs"),H=D.indexOf(y);if(H==-1)return p.Pass;for(var B=T(W,"closeBefore"),U=T(W,"triples"),Z=D.charAt(H+1)==y,ot=g.listSelections(),rt=H%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=g.getRange(K,c(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&A(g,K)?L="both":U.indexOf(y)>=0&&g.getRange(K,c(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(c(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(c(K.line,K.ch-2))))return p.Pass;L="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(c(K.line,K.ch-1),K);if(!p.isWordChar(Q)&&it!=y&&!p.isWordChar(it))L="both";else return p.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||B.indexOf(Q)>-1))L="both";else return p.Pass;if(!I)I=L;else if(I!=L)return p.Pass}var J=H%2?D.charAt(H-1):y,lt=H%2?y:D.charAt(H+1);g.operation(function(){if(I=="skip")u(g,1);else if(I=="skipThree")u(g,3);else if(I=="surround"){for(var C=g.getSelections(),\$=0;\$<C.length;\$++)C[\$]=J+C[\$]+lt;g.replaceSelections(C,"around"),C=g.listSelections().slice();for(var \$=0;\$<C.length;\$++)C[\$]=f(C[\$]);g.setSelections(C)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),u(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),u(g,1))})}function M(g,y){var W=g.getRange(c(y.line,y.ch-1),c(y.line,y.ch+1));return W.length==2?W:null}function A(g,y){var W=g.getTokenAt(c(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(E,S,x,d){if(x&&x.call){var l=x;x=null}else var l=O(E,x,"rangeFinder");typeof S=="number"&&(S=p.Pos(S,0));var u=O(E,x,"minFoldSize");function f(g){var y=l(E,S);if(!y||y.to.line-y.from.line<u)return null;if(d==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(O(E,x,"scanUp"))for(;!b&&S.line>E.firstLine();)S=p.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||d==="unfold")){var M=c(E,x,b);p.on(M,"mousedown",function(g){A.clear(),p.e_preventDefault(g)});var A=E.markText(b.from,b.to,{replacedWith:M,clearOnEnter:O(E,x,"clearOnEnter"),__isFold:!0});A.on("clear",function(g,y){p.signal(E,"unfold",E,g,y)}),p.signal(E,"fold",E,b.from,b.to)}}function c(E,S,x){var d=O(E,S,"widget");if(typeof d=="function"&&(d=d(x.from,x.to)),typeof d=="string"){var l=document.createTextNode(d);d=document.createElement("span"),d.appendChild(l),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}p.newFoldFunction=function(E,S){return function(x,d){s(x,d,{rangeFinder:E,widget:S})}},p.defineExtension("foldCode",function(E,S,x){s(this,E,S,x)}),p.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),x=0;x<S.length;++x)if(S[x].__isFold)return!0}),p.commands.toggleFold=function(E){E.foldCode(E.getCursor())},p.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},p.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},p.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),x=E.lastLine();S<=x;S++)E.foldCode(p.Pos(S,0),{scanUp:!1},"fold")})},p.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),x=E.lastLine();S<=x;S++)E.foldCode(p.Pos(S,0),{scanUp:!1},"unfold")})},p.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,x){for(var d=0;d<E.length;++d){var l=E[d](S,x);if(l)return l}}}),p.registerHelper("fold","auto",function(E,S){for(var x=E.getHelpers(S,"fold"),d=0;d<x.length;d++){var l=x[d](E,S);if(l)return l}});var T={rangeFinder:p.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};p.defineOption("foldOptions",null);function O(E,S,x){if(S&&S[x]!==void 0)return S[x];var d=E.options.foldOptions;return d&&d[x]!==void 0?d[x]:T[x]}p.defineExtension("foldOption",function(E,S){return O(this,E,S)})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],p):p(CodeMirror)})(function(p){p.defineOption("foldGutter",!1,function(A,g,y){y&&y!=p.Init&&(A.clearGutter(A.state.foldGutter.options.gutter),A.state.foldGutter=null,A.off("gutterClick",l),A.off("changes",f),A.off("viewportChange",b),A.off("fold",M),A.off("unfold",M),A.off("swapDoc",f),A.off("optionChange",u)),g&&(A.state.foldGutter=new c(T(g)),d(A),A.on("gutterClick",l),A.on("changes",f),A.on("viewportChange",b),A.on("fold",M),A.on("unfold",M),A.on("swapDoc",f),A.on("optionChange",u))});var s=p.Pos;function c(A){this.options=A,this.from=this.to=0}function T(A){return A===!0&&(A={}),A.gutter==null&&(A.gutter="CodeMirror-foldgutter"),A.indicatorOpen==null&&(A.indicatorOpen="CodeMirror-foldgutter-open"),A.indicatorFolded==null&&(A.indicatorFolded="CodeMirror-foldgutter-folded"),A}function O(A,g){for(var y=A.findMarks(s(g,0),s(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(A){if(typeof A=="string"){var g=document.createElement("div");return g.className=A+" CodeMirror-guttermarker-subtle",g}else return A.cloneNode(!0)}function S(A,g,y){var W=A.state.foldGutter.options,D=g-1,H=A.foldOption(W,"minFoldSize"),B=A.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&x(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&x(W.indicatorOpen);A.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),O(A,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=s(D,0),k=B&&B(A,R);if(k&&k.to.line-k.from.line>=H){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||A.setGutterMarker(ot,W.gutter,rt)})}function x(A){return new RegExp("(^|\\\\s)"+A+"(?:\$|\\\\s)\\\\s*")}function d(A){var g=A.getViewport(),y=A.state.foldGutter;y&&(A.operation(function(){S(A,g.from,g.to)}),y.from=g.from,y.to=g.to)}function l(A,g,y){var W=A.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var H=O(A,g);H?H.clear():A.foldCode(s(g,0),D)}}}function u(A,g){g=="mode"&&f(A)}function f(A){var g=A.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){d(A)},y.foldOnChangeTimeSpan||600)}}function b(A){var g=A.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=A.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?d(A):A.operation(function(){W.from<g.from&&(S(A,W.from,g.from),g.from=W.from),W.to>g.to&&(S(A,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function M(A,g){var y=A.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(A,W,W+1)}}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s="CodeMirror-hint",c="CodeMirror-hint-active";p.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var H in W)D[H]=W[H];return g.showHint(D)},p.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new T(this,g);D.options.hint&&(p.signal(this,"startCompletion",this),D.update(!0))}}),p.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function T(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var O=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;T.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&p.signal(this.data,"close"),this.widget&&this.widget.close(),p.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(x(W),W.from||g.from,W.to||g.to,"complete"),p.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=O(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&p.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new u(this,g),p.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,H={};for(var B in A)H[B]=A[B];if(D)for(var B in D)D[B]!==void 0&&(H[B]=D[B]);if(W)for(var B in W)W[B]!==void 0&&(H[B]=W[B]);return H.hint.resolve&&(H.hint=H.hint.resolve(g,y)),H}function x(g){return typeof g=="string"?g:g.text}function d(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var H=g.options.customKeys,B=H?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,B[rt]=R}if(H)for(var Z in H)H.hasOwnProperty(Z)&&U(Z,H[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return B}function l(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function u(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,H=D.getInputField().ownerDocument,B=H.defaultView||H.parentWindow,U=this.hints=H.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(H.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+c);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(H.createTextNode(R.displayText||x(R))),I.hintId=rt}var K=g.options.container||H.body,L=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=L.left,it=L.bottom,J=!0,lt=0,C=0;if(K!==H.body){var \$=["absolute","relative","fixed"].indexOf(B.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,xt=dt.getBoundingClientRect(),Nt=H.body.getBoundingClientRect();lt=xt.left-Nt.left-dt.scrollLeft,C=xt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-C+"px";var Et=B.innerWidth||Math.max(H.body.offsetWidth,H.documentElement.offsetWidth),ft=B.innerHeight||Math.max(H.body.offsetHeight,H.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,mt;setTimeout(function(){mt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Tt=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Tt>Rt&&(U.style.height=(Tt=Rt)+"px"),U.style.top=(it=L.top-Tt)+C+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-Et;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>Et&&(U.style.width=Et-5+"px",Ee-=at.right-at.left-Et),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=d(g,{moveFocus:function(It,yt){W.changeActive(W.selectedHint+It,yt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var ke;D.on("blur",this.onBlur=function(){ke=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(ke)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),yt=D.getWrapperElement().getBoundingClientRect();mt||(mt=D.getScrollInfo());var Ue=it+mt.top-It.top,sn=Ue-(B.pageYOffset||(H.documentElement||H.body).scrollTop);if(J||(sn+=U.offsetHeight),sn<=yt.top||sn>=yt.bottom)return g.close();U.style.top=Ue+"px",U.style.left=Q+mt.left-It.left+"px"}),p.on(U,"dblclick",function(It){var yt=l(U,It.target||It.srcElement);yt&&yt.hintId!=null&&(W.changeActive(yt.hintId),W.pick())}),p.on(U,"click",function(It){var yt=l(U,It.target||It.srcElement);yt&&yt.hintId!=null&&(W.changeActive(yt.hintId),g.options.completeOnSingleClick&&W.pick())}),p.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),p.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+c,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+c,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),p.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function f(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var H=g(y,W);H&&H.then?H.then(D):D(H)}}function M(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var H=function(B,U,Z){var ot=f(B,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],B,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return H.async=!0,H.supportsSelection=!0,H}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(B){return p.hint.fromList(B,{words:D})}:p.hint.anyword?function(B,U){return p.hint.anyword(B,U)}:function(){}}p.registerHelper("hint","auto",{resolve:M}),p.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),H,B=p.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?H=D.string.substr(0,W.ch-D.start):(H="",B=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,H.length)==H&&Z.push(rt)}if(Z.length)return{list:Z,from:B,to:U}}),p.commands.autocomplete=p.showHint;var A={hint:p.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};p.defineOption("hintOptions",null)});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(c){return function(T,O){var E=O.line,S=T.getLine(E);function x(M){for(var A,g=O.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(M[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<O.ch)break;if(A=T.getTokenTypeAt(p.Pos(E,W+1)),!/^(comment|string)/.test(A))return{ch:W+1,tokenType:A,pair:M};g=W-1}}function d(M){var A=1,g=T.lastLine(),y,W=M.ch,D;t:for(var H=E;H<=g;++H)for(var B=T.getLine(H),U=H==E?W:0;;){var Z=B.indexOf(M.pair[0],U),ot=B.indexOf(M.pair[1],U);if(Z<0&&(Z=B.length),ot<0&&(ot=B.length),U=Math.min(Z,ot),U==B.length)break;if(T.getTokenTypeAt(p.Pos(H,U+1))==M.tokenType){if(U==Z)++A;else if(!--A){y=H,D=U;break t}}++U}return y==null||E==y?null:{from:p.Pos(E,W),to:p.Pos(y,D)}}for(var l=[],u=0;u<c.length;u++){var f=x(c[u]);f&&l.push(f)}l.sort(function(M,A){return M.ch-A.ch});for(var u=0;u<l.length;u++){var b=d(l[u]);if(b)return b}return null}}p.registerHelper("fold","brace",s([["{","}"],["[","]"]])),p.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),p.registerHelper("fold","import",function(c,T){function O(u){if(u<c.firstLine()||u>c.lastLine())return null;var f=c.getTokenAt(p.Pos(u,1));if(/\\S/.test(f.string)||(f=c.getTokenAt(p.Pos(u,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=u,M=Math.min(c.lastLine(),u+10);b<=M;++b){var A=c.getLine(b),g=A.indexOf(";");if(g!=-1)return{startCh:f.end,end:p.Pos(b,g)}}}var E=T.line,S=O(E),x;if(!S||O(E-1)||(x=O(E-2))&&x.end.line==E-1)return null;for(var d=S.end;;){var l=O(d.line+1);if(l==null)break;d=l.end}return{from:c.clipPos(p.Pos(E,S.startCh+1)),to:d}}),p.registerHelper("fold","include",function(c,T){function O(l){if(l<c.firstLine()||l>c.lastLine())return null;var u=c.getTokenAt(p.Pos(l,1));if(/\\S/.test(u.string)||(u=c.getTokenAt(p.Pos(l,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var E=T.line,S=O(E);if(S==null||O(E-1)!=null)return null;for(var x=E;;){var d=O(x+1);if(d==null)break;++x}return{from:p.Pos(E,S+1),to:c.clipPos(p.Pos(x))}})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(c,T){var O=c.getLine(T),E=O.search(/\\S/);return E==-1||/\\bcomment\\b/.test(c.getTokenTypeAt(p.Pos(T,E+1)))?-1:p.countColumn(O,null,c.getOption("tabSize"))}p.registerHelper("fold","indent",function(c,T){var O=s(c,T.line);if(!(O<0)){for(var E=null,S=T.line+1,x=c.lastLine();S<=x;++S){var d=s(c,S);if(d!=-1)if(d>O)E=S;else break}if(E)return{from:p.Pos(T.line,c.getLine(T.line).length),to:p.Pos(E,c.getLine(E).length)}}})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,c){var T=s.getModeAt(c),O=T.blockCommentStart,E=T.blockCommentEnd;if(!(!O||!E)){for(var S=c.line,x=s.getLine(S),d,l=c.ch,u=0;;){var f=l<=0?-1:x.lastIndexOf(O,l-1);if(f==-1){if(u==1)return;u=1,l=x.length;continue}if(u==1&&f<c.ch)return;if(/comment/.test(s.getTokenTypeAt(p.Pos(S,f+1)))&&(f==0||x.slice(f-E.length,f)==E||!/comment/.test(s.getTokenTypeAt(p.Pos(S,f))))){d=f+O.length;break}l=f-1}var b=1,M=s.lastLine(),A,g;t:for(var y=S;y<=M;++y)for(var W=s.getLine(y),D=y==S?d:0;;){var H=W.indexOf(O,D),B=W.indexOf(E,D);if(H<0&&(H=W.length),B<0&&(B=W.length),D=Math.min(H,B),D==W.length)break;if(D==H)++b;else if(!--b){A=y,g=D;break t}++D}if(!(A==null||S==A&&g==d))return{from:p.Pos(S,d),to:p.Pos(A,g)}}})});const nc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},ic={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...nc},rc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function sc(p,s){for(let[c,T]of Object.entries(p)){let O=document.querySelector(\`#\${c}\`);O&&(O.textContent=T[s])}}function ac(p,s){for(let[c,T]of Object.entries(p)){let O=document.querySelector(\`#\${c}\`);O&&(O.title=T[s])}}class oc{msg;start_loc;end_loc;constructor(s,c,T){this.msg=s,this.start_loc=c,this.end_loc=T}}function uc(p){return jt(bn,p[0])}function Ir(p){if(uc(p))return p;{let s="",c=0;for(;c<p.length;){switch(p[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:gt()}c+=1}return s}}function Fr(p){return p==null}function oi(p){return p instanceof Array}function jt(p,s){return p.includes(s)}function lc(p,s,c){p[s]=c}function Xs(p){return Array.isArray(p)&&p.length===0}function bt(p,s){let c=[];return JSON.stringify(p,(O,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E})}function Tu(p){return new RegExp(p,"u")}function uu(p,s){p==null?console.log("undefined"):console.log(JSON.stringify(p))}function gt(p){throw new Error(p)}function nn(p){return{...p}}function hc(p,s){return p.repeat(s)}function cc(p){return p.toLowerCase()}const ai=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],bn=["0","1","2","3","4","5","6","7","8","9"],fc="ـ",Bs=Tu("\\\\p{L}"),_c=Tu("\\\\p{N}"),lu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},pc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"};class hu{line;column;constructor(s,c){return this.line=s,this.column=c,this}}class dc{v;loc;constructor(s,c){return this.v=s,this.loc=c,this}}class gc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,c,T,O,E,S,x,d,l,u){return this.lang=s,this.code=c,this.start_loc=T,this.end_loc=O,this.tokens=E,this.errs=S,this.current_index=x,this.current=d,this.lookbehind=l,this.ignore_cmts_ws=u,this}init(s,c,T){this.lang=s,this.code=c,this.start_loc=new hu(1,1),this.end_loc=new hu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=T}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=nn(this.end_loc),this.add_token("\$eof")}add_token(s){const c=new dc(s,nn(this.start_loc));this.tokens.push(c)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const c=new oc(s,nn(this.start_loc),nn(this.end_loc));this.errs.push(c)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===fc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Fr(this.lookbehind)}expect_none_ahead(){return Fr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(Bs)}expect_num(){return this.lookahead().match(_c)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Fr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const c=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),c.push(nn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(c.length>1)s+=this.next()+this.next(),c.pop();else{s+=this.next(),c.pop();break}else s+=this.next();const T=c.pop();return T&&(this.start_loc=nn(T),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let c=this.next();switch(c){case"(":switch(c=this.next(),c){case"س":c=\`
\`;break;case"ر":c="\\r";break;case"ج":c="	";break;case"‹":c="‹";break;case"›":c="›";break;case"«":c="«";break;case"»":c="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+c);break;case"٪":c="٪";break;case"{":c="\${";break;default:this.insert_err("invalid escape character: "+c)}return c}else return this.current}en_escape_char(){if(this.current==="%"){let c=this.next();switch(c){case"n":c=\`
\`;break;case"r":c="\\r";break;case"t":c="	";break;case"'":c="'";break;case'"':c='"';break;case"%":c="%";break;case"{":c="\${";break;default:this.insert_err("invalid escape character: "+c);break}return c}else return this.current}enclosed_val(s){let c="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?c+=this.ar_escape_char():c+=this.en_escape_char()}return c}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let c="",T="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",T]);break}else c+=s+s;else this.lang==="ar"?T+=this.ar_escape_char():T+=this.en_escape_char(),T+=c}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){jt(ai,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(jt(bn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(jt(ai,this.lookahead()))s+=this.next();else if(jt(bn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,c=!1;for(;;){if(jt(bn,this.lookahead()))s+=this.next();else if(jt(ai,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),c=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}c?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?jt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();lu[s]?this.add_token(["key",lu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();pc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&jt(ai,this.lookahead());)s+=this.next();return s}maghrib_float(){if(jt(bn,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&jt(bn,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=nn(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:jt(ai,s)?this.mashriq_num():jt(bn,s)?this.maghrib_num():s==="_"||s.match(Bs)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=nn(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:jt(bn,s)?this.maghrib_num():jt(ai,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(Bs)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}const vc=[],Cu=[];class ht{id;t;v;constructor(s,c,T){this.id=s,this.t=c,this.v=T}}class cu{t;o;constructor(s,c){this.t=s,this.o=c}}class mc{name;fields;children;constructor(s,c,T){this.name=s,this.fields=c,this.children=T}}class bc{fields;o;constructor(s,c){this.fields=s,this.o=c}}class yc{t;ts;o;constructor(s,c,T){this.t=s,this.ts=c,this.o=T}}class wc{name;variant;constructor(s,c){this.name=s,this.variant=c}}class fu{k;v;constructor(s,c){this.k=s,this.v=c}}class en{opr;op;constructor(s,c){this.opr=s,this.op=c}}class qs{lopr;op;ropr;constructor(s,c,T){this.lopr=s,this.op=c,this.ropr=T}}class js{name;params;ret_types;body;constructor(s,c,T,O){this.name=s,this.params=c,this.ret_types=T,this.body=O}}class _u{_pat;t;constructor(s,c){this._pat=s,this.t=c}}class kc{k;v;constructor(s,c){this.k=s,this.v=c}}class pu{lhs;t;rhs;constructor(s,c,T){this.lhs=s,this.t=c,this.rhs=T}}class xc{expr;arms;constructor(s,c){this.expr=s,this.arms=c}}class Sc{pats;expr;constructor(s,c){this.pats=s,this.expr=c}}const Ec=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Tc=[".","!","not","-","+"],Cc=["?","!","%"],Lc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Oc{tokens;current_index;skipped_new_line;current;ast;tabs;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_consts_or_fns()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_consts_or_fns()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_consts_or_fns()||this.maybe_typedef(),s||gt("invalid syntax: "+bt(this.current))}}next(s){this.current_index+=1;const c=this.tokens[this.current_index];return this.current=c,c.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let c=this.current_index;for(;s>0;){for(c+=1;;){const T=this.tokens[c];let O;if(T&&(O=T.v[0]===\`
\`),O)c+=1;else break}s-=1}return this.tokens[c]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Fr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(oi(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(oi(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||gt("expecting an id: "+bt(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;gt('expecting "in" : '+bt(this.current))}req_asgmt(){return this.maybe_asgmt()||gt("expecting '=' : "+bt(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;gt("expecting ',' after : "+bt(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;gt("expecting '\`' after : "+bt(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;gt("expecting '\`\`\`' after : "+bt(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;gt("expecting '(' : "+bt(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;gt("expecting ')' : "+bt(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;gt("expecting '{' : "+bt(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;gt("expecting '}' : "+bt(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;gt("expecting '>' : "+bt(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;gt("expecting a colon ':' "+bt(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;gt("expecting a double colon '::' "+bt(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;gt("expecting '[' : "+bt(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;gt("expecting ']' : "+bt(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;gt("expecting '->' : "+bt(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;gt("expecting '=>' : "+bt(this.current))}req_then(){if(this.is_then())return this.next(),!0;gt("expecting 'then' : "+bt(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;gt("expecting a pattern: "+bt(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const T=this.maybe_pat();if(T)return s.push(T);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const T=this.maybe_pat();if(T)return s.push(T);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const T=this.maybe_id();if(!T)break;let O;this.is_colon()&&(this.next(),O=this.req_pat());const E=new kc(T,O);s.push(E)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){gt("enum patterns are not supported yet");const s=this.current;this.next();const c=new wc(s,_pat);if(_pat)return new ht("enum_pat","pat",c)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,c=this.stmts();if(Xs(c))gt("expecting a statement : "+bt(s));else return c}stmts(){let s=[],c;for(;c=this.maybe_stmt(),c&&s.push(c),!!c;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),O=new pu(s,c,T);return new ht("const","stmt",O)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),O=new pu(s,c,T);return new ht("var","stmt",O)}req_expr(){const s=this.current,c=this.maybe_expr();if(c)return c;gt("expecting expression : "+bt(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const T=this.maybe_stmt();if(T)s.push(T);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,c=this.maybe_do_block();if(c)return c;gt("expecting 'do' block : "+bt(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const T=this.maybe_stmt();if(T)s.push(T);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return jt(Ec,this.current.v)}is_postfix_uni_op(){return jt(Cc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else gt("expecting  an index [...]: "+bt(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let T=this.maybe_expr();T&&s.push(T)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,c){const T=s.v.opr,O=s.v.op;if(s.id==="prefix")if(this.prec_uni(c)>=this.prec_uni(O)){const E=new en(T,c),S=new ht("postfix","expr",E),x=new en(S,O),d=new ht("prefix","expr",x);return this.next(),d}else{const E=new en(s,c),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(s,c){if(s.id==="bin"){const T=s.v.op,O=s.v.ropr,E=s.v.lopr;if(this.prec_uni(c)>=this.prec_bin(T)){const S=new en(O,c),x=new ht("postfix","expr",S),d=new qs(E,T,x),l=new ht("bin","expr",d);return this.next(),l}else{const S=new en(s,c),x=new ht("postfix","expr",S);return this.next(),x}}}maybe_lopr_prefix_bin(s,c){const T=s.v.op;let O=s.v.opr;if(s.id==="prefix")if(this.prec_uni(T)>=this.prec_bin(c)){O=this.req_op(O);const E=new en(O,T);return new ht("prefix","expr",E)}else{const E=this.req_ropr(s),S=new qs(O,c,E),x=new ht("bin","expr",S),d=new en(x,T);return new ht("prefix","expr",d)}}get_lopr(s,c){let T=this.maybe_lopr_prefix_postfix(s,c);if(!T&&(T=this.maybe_lopr_bin_postfix(s,c),!T)){const O=new en(s,c);T=new ht("postfix","expr",O),this.next()}return T}req_ropr(s){let c;const T=this.current;return this.is_open_bracket()?(this.next(),c=this.req_list_index()):this.is_dot()?(this.next(),c=this.req_access(s)):this.is_open_paren()?(this.next(),c=this.req_call_args()):(this.next(),c=this.maybe_expr()),c||gt("expecting right operand: "+bt(T)),c}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:gt("unexpected unary operator: "+bt(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:gt("unexpected binary operator: "+bt(s))}}is_bin_rassoc(s){return jt(Lc,s)}maybe_op(s){const c=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,c);if(this.is_bin_op()){const T=this.maybe_lopr_prefix_bin(s,c);if(T)return T;let O=this.req_ropr(s);O&&(O.id==="bin"?O=this.while_op(O,this.prec_bin(O.v.op)>this.prec_bin(c)||this.prec_bin(O.v.op)===this.prec_bin(c)&&this.is_bin_rassoc(O.v.op)):O.id==="prefix"?O=this.while_op(O,this.prec_bin(c)>this.prec_uni(O.v.op)||this.is_bin_rassoc(c)):O=this.while_op(O,!1));const E=new qs(s,c,O);return new ht("bin","expr",E)}}req_op(s){const c=this.maybe_op(s);if(c)return c;gt("expect an operation: "+bt(this.lookahead()))}while_op(s,c){let T=nn(s);if(this.is_eof())return T;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&c!==!1;)T=this.req_op(T);return T}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;gt("expecting an ID: "+bt(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const c=()=>{if(!s)return;oi(s)||(s=[s]);const T=[];return s.forEach(O=>{O.id="id",O.type="pat",T.push(new ht("param","pat",new _u(O)))}),T};if(this.is_thick_arrow()){const T=c();this.next(),this.req_open_curly();const O=this.req_body_ret();this.req_close_curly();const E=new js("",T,null,O);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let c=null;if(c=this.maybe_expr(),c){let T=c;if(this.is_comma()){const O=[T];for(;;){const S=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||S)break;this.req_comma(),T=this.maybe_expr(),T?O.push(T):gt("expected an argument: "+s)}this.maybe_comma(),this.req_close_paren();const E=this.maybe_afn(O);return E||new ht("tuple","expr",O)}else{this.req_close_paren();const O=this.maybe_afn(c);return O||(c.grouped=!0,c)}}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let c=this.req_id();this.req_colon();let T=this.req_expr();s.push([c,T]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return jt(Tc,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const c=new en(this.req_prim(),s);return new ht("prefix","expr",c)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("int","expr",[s,c])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("float","expr",[s,c])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const T=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||T)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let c=!1;for(this.is_id&&this.expect_colon()&&(c=!0);;){s.length>0&&this.req_comma();let T;c&&(T=this.req_id(),this.req_colon());let O=this.req_expr();if(c?s.push([T,O]):s.push([O]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),c?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const c=()=>{const x=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let d;this.is_id()&&this.expect_colon()&&(d=this.current,this.next(),this.next());let l;if(d?l=new ht("named_arg","expr",[d,this.req_expr()]):l=this.maybe_expr(),!l)break;x.push(l),this.optional_comma()}return this.req_close_paren(),x}},T=x=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d},O=c(),E=T();return O||E?new ht("call","expr",[s,O,E]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const c=this.req_expr(),T=new Sc(s,c);return new ht("arm","",T)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||c.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const E=this.maybe_when_arm();if(E)c.push(E);else break}this.maybe_comma(),this.req_close_curly();const T=new xc(s,c);return new ht("when","expr",T)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||gt("expecting an expression: "+bt(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&jt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||gt("expecting an idnetifier after "+bt(this.current));const c=new ht("use","stmt",s);return this.ast.push(c),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const c=this.req_type();this.req_close_bracket();const T=new cu(c,this.maybe_optional());s=new ht("[","t",T)}else if(this.is_open_curly()){this.next();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){c.length>0&&this.req_comma();const O=this.maybe_id();let E;O&&this.is_colon()&&(this.next(),E=this.req_type());const S=new fu(O,E);c.push(S)}this.maybe_comma(),this.req_close_curly();const T=new bc(c,this.maybe_optional());s=new ht("{","t",T)}else if(this.is_id()){const c=this.req_id();if(this.is_open_angle()){const T=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)T.length>0&&this.req_comma(),T.push(this.req_type());this.maybe_comma(),this.req_close_angle();const O=new yc(c,T,this.maybe_optional());s=new ht("<","t",O)}else{const T=new cu(c,this.maybe_optional());s=new ht("t","t",T)}}return s}req_type(){let s=this.maybe_type();return s||gt("type required: "+bt(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||gt("requires type annotation: "+bt(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const c=this.req_pat(),T=this.maybe_tannotation(),O=new _u(c,T),E=new ht("param","pat",O);c.id!=="id"&&gt("only parameters with id patterns are currently supported"),s.push(E)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let c=this.next();this.is_exclamation()?(this.next(),s.push({id:c,_t:"throw"})):s.push({id:c,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();vc.push(s.v[1]);const c=this.maybe_fn_params(),T=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const O=this.req_body_ret(),E=new js(s,c,T,O),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const O=this.req_body_ret(),E=new js(s,c,T,O);return new ht("fn","fn",E)}}maybe_fields(){const s=[];for(;this.is_id();){const c=new ht("id","expr",this.req_id()),T=this.req_tannotation(),O=new fu(c,T),E=new ht("field","",O);if(s.push(E),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const d=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let l;this.is_id()&&this.expect_colon()&&(l=this.current,this.next(),this.next());let u;if(l?u=new ht("field","expr",[l,this.req_type()]):u=this.maybe_expr(),!u)break;d.push(u),this.optional_comma()}return this.req_close_paren(),d}},c=()=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d};if(!this.is_typedef())return;this.next();const T=this.req_id();Cu.push(T.v[1]);let O=s()||[];const E=c();if(!(O||E))return;if(E){const d={v:["id","__children"],loc:{line:0,column:0}},l={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[d,l]);O.push(u)}const S=new mc(T,O,E),x=new ht("type","def",S);return this.ast.push(x),!0}maybe_consts_or_fns(){let s=!1;for(;;)if(this.is_pat())this.ast.push(this.maybe_const()),s=!0;else if(this.is_fn())this.ast.push(this.maybe_fn()),s=!0;else break;return s}implicit_return(s){if(!s||s.length<=0)return;const c=s.length-1,T=s[c];if(!(jt(["when","while","if","for","return","let","var","const"],T.id)||T.id==="bin"&&T.v.op.v===":=")&&T.id!==";"&&!(T.id==="bin"&&T.v.op.v==="=")&&!(T.id==="bin"&&T.v.lopr.id==="ref"&&jt(["println","اطبع_سطر"],T.v.lopr.v.v[1]))&&T.t==="expr"){const O=new ht("iret","expr",T);return lc(s,c,O)}}}const Ac=["min_width","min_height","background_color","background_image","background_position","background_repeat","background_size","background_attachment","_webkite_background_size","aspect_ratio","border_right","border_left","border_top","border_bottom","border_radius","border_style","margin_top","margin_bottom","margin_right","margin_left","align_items","text_align","justify_content","justify_items","text_justify","object_fit","font_size","font_family","box_sizing","scrollbar_width","user_select","_ms_user_select","_webkit_user_select","_moz_user_select","box_shadow","_webkit_box_shadow","_moz_box_shadow","no_repeat","border_box","space_between","flex_direction","inter_word"],Lu=["readonly"],Nc=["html","body","div","span","p","textarea","field"];function kn(p){return Ac.includes(p)?p.replaceAll("_","-"):p}const \$s={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},du=p=>{switch(p){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return p}},gu={حوم:"hover"},Rc=p=>{switch(p){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return p}},Ou=p=>{switch(p){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return p}},Ys=p=>{switch(p){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return p}},Pr=p=>{switch(p){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return p}},Mc=p=>{switch(p){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return p}};function Au(p,s){switch(p.id){case"call":const c=p.v[0].v.v[1],T=\$s[c]||c,O=p.v[1]||[],E=p.v[2]||[];if(T==="br")return s+="<br>";switch(T){case"اختر":s=Nu(O,s)+"} ";break;case"عرف_خط":s=Fc(O,s);break;case"اطارات_رئيسية":s=Pc(O,E,s);break;default:s+=\`<\${T}\`,Nc.includes(T)&&(s+=" dir='rtl'"),O.forEach((S,x)=>{if(x===0&&S.id==="str")s+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const d=du(S.v[0].v[1]);if(Lu.includes(d))s+=\` \${d} \`;else if(s+=\` \${d}= \`,S.v[1].id==="str")s+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const l=Ir(S.v[1].v[0].v[1]),u=S.v[1].v[1]&&Ou(S.v[1].v[1].v[1])||"";s+=\`\${l}\${u}\`}else S.v[1].id==="bool"?s+=\`\${du(d)}\`:gt("not supported: "+bt(S))}else gt("not supported: "+bt(S))}),s+=">",E.forEach(S=>{s=Au(S,s)}),s+=\`</\${T}>\`}break;case"str":s+=p.v.v[1];break;default:gt("unknown html element: "+bt(p))}return s}function Nu(p,s){return p.forEach(c=>{const T=kn(Ys(c.v[0].v[1])),O=c.v[1];T==="element"?(s=Dc(O,s),s+=" {"):(s+=\`\${T} : \`,s=yn(O,s),s+="; ")}),s}function Dc(p,s){const c=T=>{const O=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(\$s).forEach(E=>{T=T.replaceAll(O(E),\$s[E])}),Object.keys(gu).forEach(E=>{T=T.replaceAll(O(E),gu[E])}),T};if(oi(p.v))s+=" ",p.v.forEach((T,O)=>{let E=T.v.v[1];s+=c(E),O<p.v.length-1&&(s+=",")});else{const T=p.v.v[1];s+=c(T)}return s}function yn(p,s){switch(p.id){case"bool":gt();break;case"int":case"float":const c=Ir(p.v[0].v[1]),T=Ou(p.v[1]&&p.v[1].v[1])||"";s+=c+T;break;case"prefix":s+=p.v.op.v,s=yn(p.v.opr,s);break;case"postfix":s=yn(p.v.opr,s),s+=p.v.op.v;break;case"str":s+=Mc(p.v.v[1]);break;case"ref":s+=kn(Pr(p.v.v[1]));break;case"tuple":p.v.forEach(d=>{s=yn(d,s+" ")});break;case"call":const O=Rc(p.v[0].v.v[1]),E=p.v[1];s+=\` \${O}(\`,E.forEach(d=>{s=yn(d,s)}),s+=")";break;case"bin":const S=new Mu;S.init(),S.write_expr(p);const x=S.get_code();s+="\${"+x+"}".trim();break;default:gt(\`not supported: html generations:  \${bt(p)}\`)}return s}function Fc(p,s){return s+="@font-face { ",s=Nu(p,s),s+="}",s}function Pc(p,s,c){return c+=\` @keyframes \${p[0].v.v[1]} { \`,s&&s.forEach(T=>{const O=T.v[0].v.v[1],E=Pr(T.v[1]);switch(O){case"عند":const S=E[0],x=E[1].v||[];c=yn(S,c),c+=" {",x.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=kn(Ys(l[0].v[1])),f=Pr(l[1]);c+=\` \${u} : \`,c=yn(f,c),c+="; "});else{const l=kn(Ys(d[0].v[1])),u=Pr(d[1]);c+=\` \${l} : \`,c=yn(u,c),c+="; "}}),c+="} ";break;default:gt("unsupported element: "+bt(O))}}),c+="}",c}function Ru(p,s){switch(p.id){case"call":let c=p.v[0].v.v[1],T=p.v[1]||[],O=p.v[2]||[];if(c==="br")return s+="<br>";switch(c){case"select":s=Wc(T,s)+"} ";break;case"font_face":s=zc(T,s);break;case"keyframes":s=Hc(T,O,s);break;default:s+=\`<\${c}\`,T.forEach((E,S)=>{if(S===0&&E.id==="str")s+=\` id='\${E.v.v[1]}'\`;else if(E.id==="named_arg"){const x=E.v[0].v[1];if(Lu.includes(x))s+=\` \${x} \`;else if(s+=\` \${x}= \`,E.v[1].id==="str")s+=\`'\${E.v[1].v.v[1]}'\`;else if(E.v[1].id==="int"||E.v[1].id==="float"){const d=E.v[1].v[0].v[1],l=E.v[1].v[1].v[1]||"";s+=\`\${d}\${l}\`}else E.v[1].id==="bool"?s+=\`\${x}\`:gt("not supported: "+bt(E))}else gt("not supported: "+bt(E))}),s+=">",O.forEach(E=>{s=Ru(E,s)}),s+=\`</\${c}>\`}break;case"str":s+=p.v.v[1];break;default:gt("unknown html element: "+bt(p))}return s}function Wc(p,s){return p.forEach(c=>{const T=kn(c.v[0].v[1]),O=c.v[1];T==="element"?(s=Ic(O,s),s+=" {"):(s+=\`\${T} : \`,s=wn(O,s),s+="; ")}),s}function Ic(p,s){return oi(p.v)?(s+=" ",p.v.forEach((c,T)=>{s+=\`\${c.v.v[1]} \`,T<p.v.length-1&&(s+=",")})):s+=\` \${p.v.v[1]}\`,s}function wn(p,s){switch(p.id){case"int":case"float":const c=p.v[0].v[1],T=p.v[1]&&p.v[1].v[1]||"";s+=c+T;break;case"prefix":s+=p.v.op.v,s=wn(p.v.opr,s);break;case"postfix":s=wn(p.v.opr,s),s+=p.v.op.v;break;case"str":s+=p.v.v[1];break;case"ref":s+=kn(p.v.v[1]);break;case"tuple":p.v.forEach(d=>{s=wn(d,s+" ")});break;case"call":const O=p.v[0].v.v[1],E=p.v[1];s+=\` \${O}(\`,E.forEach(d=>{s=wn(d,s)}),s+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(p);const x=S.get_code();pprint(x),s+="\${"+x+"}".trim();break;default:gt(\`not supported: html generations:  \${bt(p)}\`)}return s}function zc(p,s){return s+="@font-face { ",s=write_ar_css(p,s),s+="}",s}function Hc(p,s,c){return c+=\` @keyframes \${p[0].v.v[1]} { \`,s&&s.forEach(T=>{const O=T.v[0].v.v[1],E=T.v[1];switch(O){case"at":const S=E[0],x=E[1].v||[];c=wn(S,c),c+=" {",x.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=kn(l[0].v[1]),f=l[1];c+=\` \${u} : \`,c=wn(f,c),c+="; "});else{const l=kn(d[0].v[1]),u=d[1];c+=\` \${l} : \`,c=wn(u,c),c+="; "}}),c+="} ";break;default:gt("unsupported element: "+bt(O))}}),c+="}",c}const Bc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,vu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},qc=4;let Mu=class{current;indent_level;stack;astructs;ast;main_args;opts;constructor(s,c,T,O,E,S){return this.current=s,this.indent_level=c,this.stack=T,this.astructs=O,this.ast=E,this.opts=S,this}init(s,c,T){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.main_args=c,this.opts=T}run(){this.strict_mode();let s,c=0;for(;c<this.ast.length;){const O=this.ast[c];if(O){const E=O.v;switch(O.id){case"use":this.write_use(E);break;case"modif":this.write_modifier(E);break;case"main":s=E;break;case"const":this.write_const(E);break;case"fn":this.write_fn(E);break;case"type":this.write_typedef(E);break;default:gt("unsupported node: "+this.ast[c].id)}}c+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!oi(s.v)||vu[s.v[1]]&&(s.v[1]=vu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),hc(" ",s*qc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const c=s.v.v[1];this.append(c==="_"?"default":c)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let c=0;for(;c<s.v.length;)this.write_pat(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(Ir(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:gt("unsupported pattern "+bt(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let c=0;for(;c<s.length;)c>0&&this.append(", "),this.write_pat(s[c].v._pat),c+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let c=0;const T=s.v.length;for(;c<T;){const O=s.v[c];this.write_stmt(O),c+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,c){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),c?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",c),this.pop()}write_fields(s){const c=[];s.forEach(T=>{const O=T.v[0].v[1];c.push(O)}),c.forEach(T=>{this.appendi(this.spaces()+""+T+\`
\`)}),this.write_init(c)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let c=0;for(;c<s.length;)this.append(s[c]),c<s.length-1&&this.append(", "),c+=1;for(this.append(\`) {
\`),this.indent_level+=1,c=0;c<s.length;)this.appendi("this."+s[c]+" = "+s[c]+\`
\`),c+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):gt("cannot write stmt: "+bt(s))}write_body(s,c,T){if(this.append(\` {
\`),this.push(),this.indent_level+=1,T)for(const[S,x]of Object.entries(T))this.append(\`const \${S} = '\${x}'
\`);let O=0;const E=s.v.length;for(;O<E;){const S=s.v[O];this.write_stmt(S),O+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const c=s.v.v[1];this.append(c)}write_str(s){const c=s.v.v[1],T=c.indexOf("\${")===-1?'"':"\`";this.append(T+c+T)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){jt(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let c=0;const T=s.v.length;for(;c<T;)this.write_expr(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append("]")}write_structl(s){const c=s.v;this.append("{");let T=0;for(;T<c.length;){const O=c[T],E=O.k;E.v.v[1]?this.write_id(E.v):this.write_str_id(E.v);const S=O.v;this.append(": "),this.write_expr(S),T<c.length-1&&this.append(", "),T+=1}this.append("}")}write_args(s){this.append("(");let c=0;for(;c<s.v.length;){let T=s.v[c];T.v.op&&T.v.op.v===":"&&(T=T.v.ropr),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const c=s.v[1];this.write_expr(c)}write_tuple(s){this.append("[");let c=0;for(;c<s.v.length;){let T=s.v[c];T.id==="narg"&&(T=s.v[c].v[1]),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((c,T)=>{const O=c[0].v[1],E=c[1];this.append(O),this.append(": "),this.write_expr(E),T<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let c=0;for(;c<s.v.arms.length;){const T=s.v.arms[c],O=T.v.pats,E=T.v.expr;let S=0;for(;S<O.length;)O[S].id!=="_"&&this.appendi("case "),this.write_pat(O[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(E),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,c+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const c=s.v.op.v;switch(c){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else gt("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(c);break;default:gt("unsupported op: "+c);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let c=s.pop();switch(c.id){case"ref":this.write_expr(c),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const T=c.v[0],O=c.v[1];this.write_expr(T),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&O.length>0&&this.append(", "),O.forEach((E,S)=>{this.write_expr(E),S<O.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(c);break;default:throw new Error("syntax error |> :"+bt(c))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const T=Ru(s,"");this.append(\` (() => \\\`\${T}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const T=Au(s,"");this.append(\`(() => \\\`\${T}\\\`)()\`);return}else Cu.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const c=s.v[1];c&&c.forEach((T,O)=>{this.write_expr(T),O<c.length-1&&this.append(", ")}),s.v[2]&&(c&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(c=>{this.write_expr(c),this.append(",")}),this.append("]"))}write_bin(s){const c=s.v.op.v;switch(c){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let T=[],O=s.v.lopr,E=s.v.ropr;for(;;)if(T.push(O),E.id==="bin"&&E.v.op.v==="|>")O=E.v.lopr,E=E.v.ropr;else{T.push(E);break}this.write_pipe(T);break}case"||>":throw new Error(" ||> : WIP , "+bt(s));case":>":throw new Error(" :> : WIP , "+bt(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(c),(c==="=="||c==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:gt("cannot write binary operation: "+bt(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(Ir(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:gt("cannot write expr: "+bt(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Bc)}get_code(){return this.current}};class jc{ast;main_args;target;target_opts;init(s,c,T,O){this.ast=s,this.main_args=c,this.target=T,this.target_opts=O}run(){let s;switch(cc(this.target)){case"js":s=new Mu;break;default:gt('target "'+this.target+'" is not supported');break}return s.init(this.ast,this.main_args,this.target_opts),s.run()}}class Uc{src;main_args;target;target_opts;lang;tokens;ast;gen_code;constructor(s,c,T,O,E,S,x,d,l,u){return this.src=s,this.main_args=c,this.target=T,this.target_opts=O,this.lang=E,this.tokens=S,this.ast=x,this.symtab=d,this.transltab=l,this.gen_code=u,this}init(s,c,T,O){this.src=s,this.main_args=c,this.target="js",this.target_opts=O||{},this.lang=T||"en"}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const c=new gc;c.init(this.lang,this.src,s),c.run(),this.tokens=c.tokens,Xs(c.errs)||(uu(c.errs),gt(""))}parse(){const s=new Oc;s.init(this.tokens),s.run(),this.ast=s.ast,Xs(s.errs)||(uu(s.errs),gt(""))}generate(s){const c=new jc;c.init(this.ast,this.main_args,s,this.target_opts),this.gen_code=c.run()}}const mu="panda-syntax",Kc="ttcn_modified",Gc=["mode","lang","theme","statusbar"],Xc={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},\$c={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,bu=zr.mode||"code";let ui;switch(bu){case"code":ui=Xc;break;case"editor":ui=\$c;break;default:throw new Error("invalid mode! : "+bu)}let Yc=new URLSearchParams(window.location.search).get("lang"),Qs=Yc||zr.lang;Object.keys(zr).forEach(p=>{if(!Gc.includes(p))throw new Error("invalid option: "+p);ui[p]=zr[p]});window.console.log=p=>Xi(p);window.console.error=p=>{tf(),Xi(p.message,yu)};const yu="rgb(217 83 77)",Qc="rgb(108 141 211)",Zc={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},Jc={"Ctrl-9":p=>p.foldCode(p.getCursor()),Tab:()=>cf(),"Shift-Tab":()=>ff(),"Ctrl-'":()=>{hf("«»")},"Ctrl-0":()=>{oa()},"Ctrl-=":()=>{Iu()},"Ctrl--":()=>{zu()}},Du=["findCtrl"],wu=document.querySelector("#eval"),Fu=document.querySelector("#preview_area"),Vc=new MutationObserver((p,s)=>{Zs?Zs=!1:vf()});Vc.observe(Fu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Qs),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ua(Hr(Qs)),extraKeys:{...Jc},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Du}),Fn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ua("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Du});Fn.setSize(460);let Wr={},Pu,ia,li,rn,Us,Zs;function tf(){return!!navigator.userAgentData}function Hr(p){return p==="ar"?"rtl":"ltr"}const ku={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await ef(Qs);await xf();async function ef(p){Pu=p==="ar_m",ia=p.startsWith("ar");let s=p.startsWith("ar")?"ar":"en";li=14,rn=s,Us="",Zs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await af(s),document.querySelector("#left_side_label").innerText=rn==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=rn==="ar"?"العرض الأولي":"Preview",sa(li),of(s),lf(s),sc(ic,s),ac(rc,s),df(s),Yt.setValue(s==="ar"?ku.ar:ku.en),Yt.clearHistory(),uf(s),Wu(1,1),Us&&openProj(Us),await ra(ui.theme),nf()&&sf(),ui.statusbar||rf(),document.querySelector("body").style.visibility="visible"}function nf(){return ui.mode==="code"}function rf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function sf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function af(p){rn=p}async function of(p,s){p==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function uf(p){p==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function lf(p){let s=Hr(p);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function Wu(p,s){document.querySelector("#status_bar").textContent=rn==="ar"?\`سطر \${Ks(p)}, عمودي \${Ks(s)}\`:\`Ln \${p}, Col \${s}\`}function hf(p){let s=p;if(ia){const c=Yt.doc.getCursor(),T=c.line;Yt.doc.replaceRange(s,c),Yt.doc.setCursor(T,c.ch+s.length)}else return CodeMirror.Pass}function cf(){if(Yt.somethingSelected()){var p=Yt.getSelection(\`
\`);if(p.length>0&&(p.indexOf(\`
\`)>-1||p.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function ff(){Yt.indentSelection("subtract")}function Iu(){li++,sa(li)}function zu(){li--,sa(li)}async function _f(){let p=document.querySelector("#theme"),s=p.options[p.selectedIndex].value;await ra(s)}async function ra(p){p==="dark"?(p=mu,document.querySelector("#theme").value=mu):p==="light"&&(p=Kc,document.querySelector("#theme").value="ttcn");const s=(T,O)=>{[...T.classList].forEach(E=>{E.startsWith("cm-s")&&T.classList.remove(E)}),O.split(" ").forEach(E=>{T.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",p),Fn.setOption("theme",p),s(document.querySelector("#wrapper"),p),s(document.querySelector("#editor_output"),p),s(document.querySelector("#output"),p),pf();const c=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${c}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function pf(){const p=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));p.style.fontSize=s.getPropertyValue("font-size"),p.style.color=s.getPropertyValue("color"),p.style.backgroundColor=s.getPropertyValue("background-color")}function sa(p){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(c=>{c.style.fontSize=\`\${p}px\`})}function df(p){const s=p==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function gf(){document.querySelector("#right_side").style.display="flex"}function aa(){document.querySelector("#right_side").style.display="none"}function vf(){document.querySelector("#preview").style.display="flex"}function qr(){document.querySelector("#preview").style.display="none"}function Hu(){output.replaceChildren()}function mf(p){wu.replaceChildren();const s=document.createElement("iframe");wu.appendChild(s),s.contentWindow;const c=s.contentDocument||s.contentWindow.document,T=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${p}<\\/script>
      </head>
      <body>
      </body>\`;c.open(),c.write(T),c.close()}async function oa(){aa(),qr(),Hu();try{let p=await Bu();mf(p.get_code());const s=rn==="ar"?"انتهى":"End";Xi(\`
\`),Xi(\`--- \${s} ---
\`,Qc)}catch(p){console.error(p)}}async function bf(){aa(),Fn.setValue("")}async function yf(){qr(),Fu.replaceChildren()}async function wf(){qr(),gf(),await Bu()}async function Bu(){let p=Yt.getValue(),s=new Uc,c={ignore_export:!0};const T={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(p,T,rn,c),s.compile(),document.querySelector("#right_side_label").innerText=rn==="ar"?"نص البرنامج":"Code";let O=js_beautify(s.gen_code,Zc);return Fn.setOption("mode","javascript"),Fn.setOption("direction","ltr"),Fn.setOption("lineNumberFormatter",ua("ltr")),Fn.setValue(O),s}async function kf(){document.querySelector("#output").innerHTML=""}async function xf(){document.querySelector("body").addEventListener("keydown",p=>Sf(p)),document.querySelector("body").addEventListener("keyup",p=>{Wr[p.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>_f()),document.querySelector("#run").addEventListener("click",()=>oa()),document.querySelector("#srccode").addEventListener("click",()=>wf()),document.querySelector("#right_side_close").addEventListener("click",()=>bf()),document.querySelector("#preview_close").addEventListener("click",()=>yf()),document.querySelector("#clear").addEventListener("click",()=>kf()),Yt.on("cursorActivity",p=>{let{line:s,ch:c}=Yt.getCursor();s+=1,c+=1,Wu(s,c)})}function ua(p){return p==="rtl"?s=>Ks(s):s=>s}function Sf(p){Wr[p.key]=!0;let s="";switch(Object.entries(Wr).forEach(([c,T])=>{Wr[c]&&(s+=c)}),s.toLowerCase()){case"0control":case"control0":oa();break;case"-control":case"control-":Iu();break;case"=control":case"control=":zu();break}}function Ef(p){var s=document.querySelector("#output");s.appendChild(p),s.scrollTop=s.scrollHeight}function Xi(p,s){p===""&&console.log(\`
\`),ia&&(p&&(p=Tf(p)),Pu||p&&(p=Cf(p)));const c=document.createElement("p");c.textContent=p,c.setAttribute("dir",Hr(rn)),c.style.whiteSpace="pre-wrap",s&&(c.style.color=s),Ef(c)}function Tf(p){const s=/["'](.*?)["']/gi;return p.toString().replace(s,(c,T)=>c?\`«\${T}»\`:p)}function Cf(p){function s(T){let O="",E=0;for(;E<T.length;){switch(T[E]){case"0":O+="٠";break;case"1":O+="١";break;case"2":O+="٢";break;case"3":O+="٣";break;case"4":O+="٤";break;case"5":O+="٥";break;case"6":O+="٦";break;case"7":O+="٧";break;case"8":O+="٨";break;case"9":O+="٩";break;case".":O+="٫";break;default:Lf()}E+=1}return O}const c=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return p=p.replace(c,(T,O,E,S)=>{if(T){let x=\`\${s(O)}\`;return E&&(x+=",",S&&(x+=\`\${s(S)}\`)),x}else return p}),p}function Lf(p){throw new Error(p)}function Of(p){Yt.setValue(p)}window.setEditorValue=Of;window.hideRightSide=aa;window.hidePreview=qr;window.resetOutput=Hu;window.setTheme=ra;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
              }

              export function SeenCode(id, parent, opts) { 
                opts.mode = 'code'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(p,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(p=p||self,p.CodeMirror=s())})(void 0,function(){var p=navigator.userAgent,s=navigator.platform,c=/gecko\\/\\d/i.test(p),T=/MSIE \\d/.test(p),O=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(p),E=/Edge\\/(\\d+)/.exec(p),S=T||O||E,x=S&&(T?document.documentMode||6:+(E||O)[1]),d=!E&&/WebKit\\//.test(p),l=d&&/Qt\\/\\d+\\.\\d+/.test(p),u=!E&&/Chrome\\/(\\d+)/.exec(p),f=u&&+u[1],b=/Opera\\//.test(p),M=/Apple Computer/.test(navigator.vendor),A=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(p),g=/PhantomJS/.test(p),y=M&&(/Mobile\\/\\w+/.test(p)||navigator.maxTouchPoints>2),W=/Android/.test(p),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(p),H=y||/Mac/.test(s),B=/\\bCrOS\\b/.test(p),U=/win/i.test(s),Z=b&&p.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,d=!0);var ot=H&&(l||b&&(Z==null||Z<12.11)),rt=c||S&&x>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,i,n){var r=L(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function C(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function xt(t){return t.display.wrapper.ownerDocument}function Nt(t){return xt(t).defaultView}function Et(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=n||0,o=r||0;;){var h=t.indexOf("	",a);if(h<0||h>=e)return o+(e-a);o+=h-a,o+=i-o%i,a=h+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=Et(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function mt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ee=50,Tt={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function ke(t,e,i){for(var n=0,r=0;;){var a=t.indexOf("	",n);a==-1&&(a=t.length);var o=a-n;if(a==t.length||r+o>=e)return n+Math.min(o,e-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=e)return n}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(yt(ce)+" ");return ce[t]}function yt(t){return t[t.length-1]}function Ue(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function sn(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function hi(){}function \$i(t,e){var i;return Object.create?i=Object.create(t):(hi.prototype=t,i=new hi),e&&ft(e,i),i}var jr=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function ci(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||jr.test(t))}function Pn(t,e){return e?e.source.indexOf("\\\\w")>-1&&ci(t)?!0:e.test(t):ci(t)}function Yi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Wn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function fi(t){return t.charCodeAt(0)>=768&&Wn.test(t)}function Fe(t,e,i){for(;(i<0?e>0:e<t.length)&&fi(t.charAt(e));)e+=i;return e}function zt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,a=n<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:i;t(a)?i=a:e=a+n}}function xn(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<i&&o.to>e||e==i&&o.to==e)&&(n(Math.max(o.from,e),Math.min(o.to,i),o.level==1?"rtl":"ltr",a),r=!0)}r||n(e,i,"ltr")}var Pe=null;function Te(t,e,i){var n;Pe=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&i=="before"?n=r:Pe=r),a.from==e&&(a.from!=a.to&&i!="before"?n=r:Pe=r)}return n??Pe}var Ur=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,h=/[1n]/;function _(m,N,F){this.level=m,this.from=N,this.to=F}return function(m,N){var F=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=F;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=F;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var vt=1,pt=q[0];vt<j-1;++vt){var St=q[vt];St=="+"&&pt=="1"&&q[vt+1]=="1"?q[vt]="1":St==","&&pt==q[vt+1]&&(pt=="1"||pt=="n")&&(q[vt]=pt),pt=St}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Kt=0,ge=F;Kt<j;++Kt){var ne=q[Kt];ge=="L"&&ne=="1"?q[Kt]="L":a.test(ne)&&(ge=ne)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Gt=void 0;for(Gt=\$t+1;Gt<j&&r.test(q[Gt]);++Gt);for(var qt=(\$t?q[\$t-1]:F)=="L",ve=(Gt<j?q[Gt]:F)=="L",ri=qt==ve?qt?"L":"R":F,mn=\$t;mn<Gt;++mn)q[mn]=ri;\$t=Gt-1}for(var ae=[],je,te=0;te<j;)if(o.test(q[te])){var Is=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new _(0,Is,te))}else{var tn=te,Mn=ae.length,Dn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=tn;he<te;)if(h.test(q[he])){tn<he&&(ae.splice(Mn,0,new _(1,tn,he)),Mn+=Dn);var si=he;for(++he;he<te&&h.test(q[he]);++he);ae.splice(Mn,0,new _(2,si,he)),Mn+=Dn,tn=he}else++he;tn<te&&ae.splice(Mn,0,new _(1,tn,te))}return N=="ltr"&&(ae[0].level==1&&(je=m.match(/^\\s+/))&&(ae[0].from=je[0].length,ae.unshift(new _(0,0,je[0].length))),yt(ae).level==1&&(je=m.match(/\\s+\$/))&&(yt(ae).to-=je[0].length,ae.push(new _(0,j-je[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var i=t.order;return i==null&&(i=t.order=Ur(t.text,e)),i}var Qi=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Qi).concat(i)}};function _i(t,e){return t._handlers&&t._handlers[e]||Qi}function ie(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var a=mt(r,i);a>-1&&(n[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Ft(t,e){var i=_i(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function Ht(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ft(t,i||e.type,t,e),pi(e)||e.codemirrorIgnore}function Zi(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)mt(i,e[n])==-1&&i.push(e[n])}function oe(t,e){return _i(t,e).length>0}function ue(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){ie(this,e,i)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Sn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function pi(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Ke(t){re(t),Sn(t)}function fe(t){return t.target||t.srcElement}function di(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),H&&t.ctrlKey&&e==1&&(e=3),e}var Kr=function(){if(S&&x<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Le;function Gr(t){if(Le==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Le=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&x<8))}var i=Le?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var In;function Ji(t){if(In!=null)return In;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return k(t),!i||i.left==i.right?!1:In=n.right-i.right<3}var gi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(i.push(a.slice(0,o)),e+=o+1):(i.push(a),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},an=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},We=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Ie=null;function Vi(t){if(Ie!=null)return Ie;var e=K(t,L("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return Ie=Math.abs(i.left-n.left)>1}var Ae={},on={};function tr(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ae[t]=e}function zn(t,e){on[t]=e}function me(t){if(typeof t=="string"&&on.hasOwnProperty(t))t=on[t];else if(t&&typeof t.name=="string"&&on.hasOwnProperty(t.name)){var e=on[t.name];typeof e=="string"&&(e={name:e}),t=\$i(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Ge(t,e){e=me(e);var i=Ae[e.name];if(!i)return Ge(t,"text/plain");var n=i(t,e);if(un.hasOwnProperty(e.name)){var r=un[e.name];for(var a in r)r.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=r[a])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)n[o]=e.modeProps[o];return n}var un={};function er(t,e){var i=un.hasOwnProperty(t)?un[t]:un[t]={};ft(e,i)}function Xe(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function ln(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function vi(t,e,i){return t.startState?t.startState(e,i):!0}var Bt=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Bt.prototype.eol=function(){return this.pos>=this.string.length},Bt.prototype.sol=function(){return this.pos==this.lineStart},Bt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Bt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Bt.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Bt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Bt.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Bt.prototype.skipToEnd=function(){this.pos=this.string.length},Bt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Bt.prototype.backUp=function(t){this.pos-=t},Bt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(o){return i?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Bt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Bt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Bt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Bt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(e<a){i=r;break}e-=a}return i.lines[e]}function \$e(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(a){var o=a.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function Hn(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Oe(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Ot(t){if(t.parent==null)return null;for(var e=t.parent,i=mt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function ze(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],a=r.height;if(e<a){t=r;continue t}e-=a,i+=r.chunkSize()}return i}while(!t.lines);for(var o=0;o<t.lines.length;++o){var h=t.lines[o],_=h.height;if(e<_)break;e-=_}return i+o}function w(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function z(t,e,i){if(i===void 0&&(i=null),!(this instanceof z))return new z(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function wt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Ct(t){return z(t.line,t.ch)}function Lt(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function xe(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function kt(t,e){if(e.line<t.first)return z(t.first,0);var i=t.first+t.size-1;return e.line>i?z(i,ct(t,i).text.length):qu(e,ct(t,e.line).text.length)}function qu(t,e){var i=t.ch;return i==null||i>e?z(t.line,e):i<0?z(t.line,0):t}function la(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=kt(t,e[n]);return i}var nr=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,i){return e instanceof nr?new He(t,Xe(t.mode,e.state),i,e.lookAhead):new He(t,Xe(t.mode,e),i)},He.prototype.save=function(t){var e=t!==!1?Xe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new nr(e,this.maxLookAhead):e};function ha(t,e,i,n){var r=[t.state.modeGen],a={};ga(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},a,n);for(var o=i.state,h=function(m){i.baseTokens=r;var N=t.state.overlays[m],F=1,j=0;i.state=!0,ga(t,e.text,N.mode,i,function(q,X){for(var Y=F;j<q;){var V=r[F];V>q&&r.splice(F,1,q,r[F+1],V),F+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,F-Y,q,"overlay "+X),F=Y+2;else for(;Y<F;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),i.state=o,i.baseTokens=null,i.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)h(_);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function ca(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=mi(t,Ot(e)),r=e.text.length>t.options.maxHighlightLength&&Xe(t.doc.mode,n.state),a=ha(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function mi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new He(n,!0,e);var a=ju(t,e,i),o=a>n.first&&ct(n,a-1).stateAfter,h=o?He.fromSaved(n,o,a):new He(n,vi(n.mode),a);return n.iter(a,e,function(_){Xr(t,_.text,h);var m=h.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?h.save():null,h.nextLine()}),i&&(n.modeFrontier=h.line),h}function Xr(t,e,i,n){var r=t.doc.mode,a=new Bt(e,t.options.tabSize,i);for(a.start=a.pos=n||0,e==""&&fa(r,i.state);!a.eol();)\$r(r,a,i.state),a.start=a.pos}function fa(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=ln(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function \$r(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=ln(t,i).mode);var a=t.token(e,i);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var _a=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function pa(t,e,i,n){var r=t.doc,a=r.mode,o;e=kt(r,e);var h=ct(r,e.line),_=mi(t,e.line,i),m=new Bt(h.text,t.options.tabSize,_),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=\$r(a,m,_.state),n&&N.push(new _a(m,o,Xe(r.mode,_.state)));return n?N:new _a(m,o,_.state)}function da(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ga(t,e,i,n,r,a,o){var h=i.flattenSpans;h==null&&(h=t.options.flattenSpans);var _=0,m=null,N=new Bt(e,t.options.tabSize,n),F,j=t.options.addModeClass&&[null];for(e==""&&da(fa(i,n.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(h=!1,o&&Xr(t,e,n,N.pos),N.pos=e.length,F=null):F=da(\$r(i,N,n.state,j),a),j){var q=j[0].name;q&&(F="m-"+(F?q+" "+F:q))}if(!h||m!=F){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=F}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function ju(t,e,i){for(var n,r,a=t.doc,o=i?-1:e-(t.doc.mode.innerMode?1e3:100),h=e;h>o;--h){if(h<=a.first)return a.first;var _=ct(a,h-1),m=_.stateAfter;if(m&&(!i||h+(m instanceof nr?m.lookAhead:0)<=a.modeFrontier))return h;var N=at(_.text,null,t.options.tabSize);(r==null||n>N)&&(r=h-1,n=N)}return r}function Uu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof nr)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var va=!1,Ye=!1;function Ku(){va=!0}function Gu(){Ye=!0}function ir(t,e,i){this.marker=t,this.from=e,this.to=i}function bi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Xu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function \$u(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function Yu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(h||a.from==e&&o.type=="bookmark"&&(!i||!a.marker.insertLeft)){var _=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(n||(n=[])).push(new ir(o,a.from,_?null:a.to))}}return n}function Qu(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(h||a.from==e&&o.type=="bookmark"&&(!i||a.marker.insertLeft)){var _=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(n||(n=[])).push(new ir(o,_?null:a.from-e,a.to==null?null:a.to-e))}}return n}function Yr(t,e){if(e.full)return null;var i=w(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=w(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,h=Yu(i,r,o),_=Qu(n,a,o),m=e.text.length==1,N=yt(e.text).length+(m?r:0);if(h)for(var F=0;F<h.length;++F){var j=h[F];if(j.to==null){var q=bi(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=bi(h,Y.marker);V||(Y.from=N,m&&(h||(h=[])).push(Y))}else Y.from+=N,m&&(h||(h=[])).push(Y)}h&&(h=ma(h)),_&&_!=h&&(_=ma(_));var tt=[h];if(!m){var st=e.text.length-2,et;if(st>0&&h)for(var ut=0;ut<h.length;++ut)h[ut].to==null&&(et||(et=[])).push(new ir(h[ut].marker,null,null));for(var vt=0;vt<st;++vt)tt.push(et);tt.push(_)}return tt}function ma(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Zu(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||mt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],a=0;a<n.length;++a)for(var o=n[a],h=o.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,h.from)<0||G(m.from,h.to)>0)){var N=[_,1],F=G(m.from,h.from),j=G(m.to,h.to);(F<0||!o.inclusiveLeft&&!F)&&N.push({from:m.from,to:h.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:h.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function ba(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function ya(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function rr(t){return t.inclusiveLeft?-1:0}function sr(t){return t.inclusiveRight?1:0}function Qr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),a=G(n.from,r.from)||rr(t)-rr(e);if(a)return-a;var o=G(n.to,r.to)||sr(t)-sr(e);return o||e.id-t.id}function wa(t,e){var i=Ye&&t.markedSpans,n;if(i)for(var r=void 0,a=0;a<i.length;++a)r=i[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Qr(n,r.marker)<0)&&(n=r.marker);return n}function ka(t){return wa(t,!0)}function ar(t){return wa(t,!1)}function Ju(t,e){var i=Ye&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var a=i[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!n||Qr(n,a.marker)<0)&&(n=a.marker)}return n}function xa(t,e,i,n,r){var a=ct(t,e),o=Ye&&a.markedSpans;if(o)for(var h=0;h<o.length;++h){var _=o[h];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,i)||rr(_.marker)-rr(r),F=G(m.to,n)||sr(_.marker)-sr(r);if(!(N>=0&&F<=0||N<=0&&F>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Ne(t){for(var e;e=ka(t);)t=e.find(-1,!0).line;return t}function Vu(t){for(var e;e=ar(t);)t=e.find(1,!0).line;return t}function tl(t){for(var e,i;e=ar(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Zr(t,e){var i=ct(t,e),n=Ne(i);return i==n?e:Ot(n)}function Sa(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!hn(t,i))return e;for(;n=ar(i);)i=n.find(1,!0).line;return Ot(i)+1}function hn(t,e){var i=Ye&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Jr(t,e,n))return!0}}}function Jr(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return Jr(t,n.line,bi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Jr(t,e,r))return!0}function Qe(t){t=Ne(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var o=0;o<a.children.length;++o){var h=a.children[o];if(h==i)break;e+=h.height}return e}function or(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=ka(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=ar(n);){var a=i.find(0,!0);e-=n.text.length-a.from.ch,n=a.to.line,e+=n.text.length-a.to.ch}return e}function Vr(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=or(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=or(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var Bn=function(t,e,i){this.text=t,ya(this,e),this.height=i?i(this):1};Bn.prototype.lineNo=function(){return Ot(this)},ue(Bn);function el(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),ba(t),ya(t,i);var r=n?n(t):1;r!=t.height&&Oe(t,r)}function nl(t){t.parent=null,ba(t)}var il={},rl={};function Ea(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?rl:il;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function Ta(t,e){var i=Q("span",null,null,d?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;n.pos=0,n.addToken=al,Ji(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(n.addToken=ul(n.addToken,o)),n.map=[];var h=e!=t.display.externalMeasured&&Ot(a);ll(a,n,ca(t,a,h)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=\$(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=\$(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Gr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(d){var _=n.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Ft(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function sl(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function al(t,e,i,n,r,a,o){if(e){var h=t.splitSpaces?ol(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(h),t.map.push(t.pos,t.pos+e.length,N),S&&x<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var F=0;;){_.lastIndex=F;var j=_.exec(e),q=j?j.index-F:e.length-F;if(q){var X=document.createTextNode(h.slice(F,F+q));S&&x<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;F+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&x<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=h.charCodeAt(e.length-1)==32,i||n||r||m||a||o){var st=i||"";n&&(st+=n),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function ol(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),n+=a,i=a==" "}return n}function ul(t,e){return function(i,n,r,a,o,h,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var F=void 0,j=0;j<e.length&&(F=e[j],!(F.to>m&&F.from<=m));j++);if(F.to>=N)return t(i,n,r,a,o,h,_);t(i,n.slice(0,F.to-m),r,a,null,h,_),a=null,n=n.slice(F.to-m),m=F.to}}}function Ca(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function ll(t,e,i){var n=t.markedSpans,r=t.text,a=0;if(!n){for(var o=1;o<i.length;o+=2)e.addToken(e,r.slice(a,a=i[o]),Ea(i[o+1],e.cm.options));return}for(var h=r.length,_=0,m=1,N="",F,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,vt=0;vt<n.length;++vt){var pt=n[vt],St=pt.marker;if(St.type=="bookmark"&&pt.from==_&&St.widgetNode)et.push(St);else if(pt.from<=_&&(pt.to==null||pt.to>_||St.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),St.className&&(X+=" "+St.className),St.css&&(j=(j?j+";":"")+St.css),St.startStyle&&pt.from==_&&(V+=" "+St.startStyle),St.endStyle&&pt.to==q&&(ut||(ut=[])).push(St.endStyle,pt.to),St.title&&((st||(st={})).title=St.title),St.attributes)for(var Dt in St.attributes)(st||(st={}))[Dt]=St.attributes[Dt];St.collapsed&&(!tt||Qr(tt.marker,St)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)Ca(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(Ca(e,(tt.to==null?h+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=h)break;for(var ye=Math.min(h,q);;){if(N){var de=_+N.length;if(!tt){var Kt=de>ye?N.slice(0,ye-_):N;e.addToken(e,Kt,F?F+X:X,V,_+Kt.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-_),_=ye;break}_=de,V=""}N=r.slice(a,a=i[m++]),F=Ea(i[m++],e.cm.options)}}}function La(t,e,i){this.line=e,this.rest=tl(e),this.size=this.rest?Ot(yt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=hn(t,e)}function ur(t,e,i){for(var n=[],r,a=e;a<i;a=r){var o=new La(t.doc,ct(t.doc,a),a);r=a+o.size,n.push(o)}return n}var qn=null;function hl(t){qn?qn.ops.push(t):t.ownsGroup=qn={ops:[t],delayedCallbacks:[]}}function cl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function fl(t,e){var i=t.ownsGroup;if(i)try{cl(i)}finally{qn=null,e(i)}}var yi=null;function Qt(t,e){var i=_i(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;qn?r=qn.delayedCallbacks:yi?r=yi:(r=yi=[],setTimeout(_l,0));for(var a=function(h){r.push(function(){return i[h].apply(null,n)})},o=0;o<i.length;++o)a(o)}}function _l(){var t=yi;yi=null;for(var e=0;e<t.length;++e)t[e]()}function Oa(t,e,i,n){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?dl(t,e):a=="gutter"?Na(t,e,i,n):a=="class"?ts(t,e):a=="widget"&&gl(t,e,n)}e.changes=null}function wi(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&x<8&&(t.node.style.zIndex=2)),t.node}function pl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=wi(e);e.background=n.insertBefore(L("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Aa(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Ta(t,e)}function dl(t,e){var i=e.text.className,n=Aa(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,ts(t,e)):i&&(e.text.className=i)}function ts(t,e){pl(t,e),e.line.wrapClass?wi(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Na(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=wi(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=wi(e),h=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(h.setAttribute("aria-hidden","true"),t.display.input.setUneditable(h),o.insertBefore(h,e.text),e.line.gutterClass&&(h.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=h.appendChild(L("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=a.hasOwnProperty(m)&&a[m];N&&h.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function gl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Ra(t,e,i)}function vl(t,e,i,n){var r=Aa(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),ts(t,e),Na(t,e,i,n),Ra(t,e,n),e.node}function Ra(t,e,i){if(Ma(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Ma(t,e.rest[n],e,i,!1)}function Ma(t,e,i,n,r){if(e.widgets)for(var a=wi(i),o=0,h=e.widgets;o<h.length;++o){var _=h[o],m=L("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),ml(_,m,i,n),t.display.input.setUneditable(m),r&&_.above?a.insertBefore(m,i.gutter||i.text):a.appendChild(m),Qt(_,"redraw")}}function ml(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function ki(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ze(t,e){for(var i=fe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function lr(t){return t.lineSpace.offsetTop}function es(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Da(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function Be(t){return ee-t.display.nativeBarWidth}function En(t){return t.display.scroller.clientWidth-Be(t)-t.display.barWidth}function ns(t){return t.display.scroller.clientHeight-Be(t)-t.display.barHeight}function bl(t,e,i){var n=t.options.lineWrapping,r=n&&En(t);if(!e.measure.heights||n&&e.measure.width!=r){var a=e.measure.heights=[];if(n){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),h=0;h<o.length-1;h++){var _=o[h],m=o[h+1];Math.abs(_.bottom-m.bottom)>2&&a.push((_.bottom+m.top)/2-i.top)}}a.push(i.bottom-i.top)}}function Fa(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Ot(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function yl(t,e){e=Ne(e);var i=Ot(e),n=t.display.externalMeasured=new La(t.doc,e,i);n.lineN=i;var r=n.built=Ta(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function Pa(t,e,i,n){return qe(t,jn(t,e),i,n)}function is(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ln(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function jn(t,e){var i=Ot(e),n=is(t,i);n&&!n.text?n=null:n&&n.changes&&(Oa(t,n,i,us(t)),t.curOp.forceUpdate=!0),n||(n=yl(t,e));var r=Fa(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function qe(t,e,i,n,r){e.before&&(i=-1);var a=i+(n||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(bl(t,e.view,e.rect),e.hasHeights=!0),o=kl(t,e,i,n),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Wa={left:0,right:0,top:0,bottom:0};function Ia(t,e,i){for(var n,r,a,o,h,_,m=0;m<t.length;m+=3)if(h=t[m],_=t[m+1],e<h?(r=0,a=1,o="left"):e<_?(r=e-h,a=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(a=_-h,r=a-1,e>=_&&(o="right")),r!=null){if(n=t[m+2],h==_&&i==(n.insertLeft?"left":"right")&&(o=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],o="left";if(i=="right"&&r==_-h)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],o="right";break}return{node:n,start:r,end:a,collapse:o,coverStart:h,coverEnd:_}}function wl(t,e){var i=Wa;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function kl(t,e,i,n){var r=Ia(e.map,i,n),a=r.node,o=r.start,h=r.end,_=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&fi(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+h<r.coverEnd&&fi(e.line.text.charAt(r.coverStart+h));)++h;if(S&&x<9&&o==0&&h==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=wl(it(a,o,h).getClientRects(),n),m.left||m.right||o==0)break;h=o,o=o-1,_="right"}S&&x<11&&(m=xl(t.display.measure,m))}else{o>0&&(_=n="right");var F;t.options.lineWrapping&&(F=a.getClientRects()).length>1?m=F[n=="right"?F.length-1:0]:m=a.getBoundingClientRect()}if(S&&x<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Kn(t.display),top:j.top,bottom:j.bottom}:m=Wa}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function xl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Vi(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function za(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Ha(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)za(t.display.view[e])}function xi(t){Ha(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ba(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function qa(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function rs(t){var e=Ne(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=ki(i[r]));return n}function hr(t,e,i,n,r){if(!r){var a=rs(e);i.top+=a,i.bottom+=a}if(n=="line")return i;n||(n="local");var o=Qe(e);if(n=="local"?o+=lr(t.display):o-=t.display.viewOffset,n=="page"||n=="window"){var h=t.display.lineSpace.getBoundingClientRect();o+=h.top+(n=="window"?0:qa(xt(t)));var _=h.left+(n=="window"?0:Ba(xt(t)));i.left+=_,i.right+=_}return i.top+=o,i.bottom+=o,i}function ja(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ba(xt(t)),r-=qa(xt(t));else if(i=="local"||!i){var a=t.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function cr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),hr(t,n,Pa(t,n,e.ch,r),i)}function Re(t,e,i,n,r,a){n=n||ct(t.doc,e.line),r||(r=jn(t,n));function o(X,Y){var V=qe(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,hr(t,n,V,i)}var h=Ce(n,t.doc.direction),_=e.ch,m=e.sticky;if(_>=n.text.length?(_=n.text.length,m="before"):_<=0&&(_=0,m="after"),!h)return o(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=h[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var F=Te(h,_,m),j=Pe,q=N(_,F,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Ua(t,e){var i=0;e=kt(t.doc,e),t.options.lineWrapping||(i=Kn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Qe(n)+lr(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function ss(t,e,i,n,r){var a=z(t,e,i);return a.xRel=r,n&&(a.outside=n),a}function as(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return ss(n.first,0,null,-1,-1);var r=ze(n,i),a=n.first+n.size-1;if(r>a)return ss(n.first+n.size-1,ct(n,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(n,r);;){var h=Sl(t,o,r,e,i),_=Ju(o,h.ch+(h.xRel>0||h.outside>0?1:0));if(!_)return h;var m=_.find(1);if(m.line==r)return m;o=ct(n,r=m.line)}}function Ka(t,e,i,n){n-=rs(e);var r=e.text.length,a=zt(function(o){return qe(t,i,o-1).bottom<=n},r,0);return r=zt(function(o){return qe(t,i,o).top>n},a,r),{begin:a,end:r}}function Ga(t,e,i,n){i||(i=jn(t,e));var r=hr(t,e,qe(t,i,n),"line").top;return Ka(t,e,i,r)}function os(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Sl(t,e,i,n,r){r-=Qe(e);var a=jn(t,e),o=rs(e),h=0,_=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var F=(t.options.lineWrapping?Tl:El)(t,e,i,a,N,n,r);m=F.level!=1,h=m?F.from:F.to-1,_=m?F.to:F.from-1}var j=null,q=null,X=zt(function(vt){var pt=qe(t,a,vt);return pt.top+=o,pt.bottom+=o,os(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=vt,q=pt),!0):!1},h,_),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==h)&&X++,V=X==0?"after":X==e.text.length?"before":qe(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Re(t,z(i,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Fe(e.text,X,1),ss(i,X,V,tt,n-Y)}function El(t,e,i,n,r,a,o){var h=zt(function(F){var j=r[F],q=j.level!=1;return os(Re(t,z(i,q?j.to:j.from,q?"before":"after"),"line",e,n),a,o,!0)},0,r.length-1),_=r[h];if(h>0){var m=_.level!=1,N=Re(t,z(i,m?_.from:_.to,m?"after":"before"),"line",e,n);os(N,a,o,!0)&&N.top>o&&(_=r[h-1])}return _}function Tl(t,e,i,n,r,a,o){var h=Ka(t,e,n,o),_=h.begin,m=h.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,F=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=qe(t,n,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||F>V)&&(N=q,F=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Tn;function Un(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Tn==null){Tn=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Tn.appendChild(document.createTextNode("x")),Tn.appendChild(L("br"));Tn.appendChild(document.createTextNode("x"))}K(t.measure,Tn);var i=Tn.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),k(t.measure),i||1}function Kn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),i=L("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function us(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var h=t.display.gutterSpecs[o].className;i[h]=a.offsetLeft+a.clientLeft+r,n[h]=a.clientWidth}return{fixedPos:ls(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function ls(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Xa(t){var e=Un(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Kn(t.display)-3);return function(r){if(hn(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return i?a+(Math.ceil(r.text.length/n)||1)*e:a+e}}function hs(t){var e=t.doc,i=Xa(t);e.iter(function(n){var r=i(n);r!=n.height&&Oe(n,r)})}function Cn(t,e,i,n){var r=t.display;if(!i&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,h=r.lineSpace.getBoundingClientRect();try{a=e.clientX-h.left,o=e.clientY-h.top}catch{return null}var _=as(t,a,o),m;if(n&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=z(_.line,Math.max(0,Math.round((a-Da(t.display).left)/Kn(t.display))-N))}return _}function Ln(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function _e(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ye&&Zr(t.doc,e)<r.viewTo&&fn(t);else if(i<=r.viewFrom)Ye&&Sa(t.doc,i+n)>r.viewFrom?fn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)fn(t);else if(e<=r.viewFrom){var a=fr(t,i,i+n,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=n):fn(t)}else if(i>=r.viewTo){var o=fr(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):fn(t)}else{var h=fr(t,e,e,-1),_=fr(t,i,i+n,1);h&&_?(r.view=r.view.slice(0,h.index).concat(ur(t,h.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=n):fn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function cn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var a=n.view[Ln(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);mt(o,i)==-1&&o.push(i)}}}function fn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function fr(t,e,i,n){var r=Ln(t,e),a,o=t.display.view;if(!Ye||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var h=t.display.viewFrom,_=0;_<r;_++)h+=o[_].size;if(h!=e){if(n>0){if(r==o.length-1)return null;a=h+o[r].size-e,r++}else a=h-e;e+=a,i+=a}for(;Zr(t.doc,i)!=i;){if(r==(n<0?0:o.length-1))return null;i+=n*o[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Cl(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=ur(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=ur(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ln(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(ur(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ln(t,i)))),n.viewTo=i}function \$a(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Si(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ya(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var h=0;h<i.sel.ranges.length;h++)if(!(!e&&h==i.sel.primIndex)){var _=i.sel.ranges[h];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(o){var N=o(t,_);N&&cs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&cs(t,_.head,r);m||Ll(t,_,a)}}return n}function cs(t,e,i){var n=Re(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=cr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(n.other){var h=i.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));h.style.display="",h.style.left=n.other.left+"px",h.style.top=n.other.top+"px",h.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function _r(t,e){return t.top-e.top||t.left-e.left}function Ll(t,e,i){var n=t.display,r=t.doc,a=document.createDocumentFragment(),o=Da(t.display),h=o.left,_=Math.max(n.sizerWidth,En(t)-n.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,vt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(vt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function F(et,ut,vt){var pt=ct(r,et),St=pt.text.length,Dt,Vt;function Wt(Kt,ge){return cr(t,z(et,Kt),"div",pt,ge)}function ye(Kt,ge,ne){var \$t=Ga(t,pt,null,Kt),Gt=ge=="ltr"==(ne=="after")?"left":"right",qt=ne=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Gt)[Gt]}var de=Ce(pt,r.direction);return xn(de,ut||0,vt??St,function(Kt,ge,ne,\$t){var Gt=ne=="ltr",qt=Wt(Kt,Gt?"left":"right"),ve=Wt(ge-1,Gt?"right":"left"),ri=ut==null&&Kt==0,mn=vt==null&&ge==St,ae=\$t==0,je=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?ri:mn)&&ae,Is=(m?mn:ri)&&je,tn=te?h:(Gt?qt:ve).left,Mn=Is?_:(Gt?ve:qt).right;N(tn,qt.top,Mn-tn,qt.bottom)}else{var Dn,he,si,zs;Gt?(Dn=m&&ri&&ae?h:qt.left,he=m?_:ye(Kt,ne,"before"),si=m?h:ye(ge,ne,"after"),zs=m&&mn&&je?_:ve.right):(Dn=m?ye(Kt,ne,"before"):h,he=!m&&ri&&ae?_:qt.right,si=!m&&mn&&je?h:ve.left,zs=m?ye(ge,ne,"after"):_),N(Dn,qt.top,he-Dn,qt.bottom),qt.bottom<ve.top&&N(h,qt.bottom,null,ve.top),N(si,ve.top,zs-si,ve.bottom)}(!Dt||_r(qt,Dt)<0)&&(Dt=qt),_r(ve,Dt)<0&&(Dt=ve),(!Vt||_r(qt,Vt)<0)&&(Vt=qt),_r(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)F(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Ne(X)==Ne(Y),tt=F(j.line,j.ch,V?X.text.length+1:null).end,st=F(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(h,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(h,tt.bottom,null,st.top)}i.appendChild(a)}function fs(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Gn(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Qa(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ps(t))}function _s(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Gn(t))},100)}function ps(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Ft(t,"focus",t,e),t.state.focused=!0,C(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),d&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),fs(t))}function Gn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Ft(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function pr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var h=e.view[o],_=t.options.lineWrapping,m=void 0,N=0;if(!h.hidden){if(r+=h.line.height,S&&x<8){var F=h.node.offsetTop+h.node.offsetHeight;m=F-i,i=F}else{var j=h.node.getBoundingClientRect();m=j.bottom-j.top,!_&&h.text.firstChild&&(N=h.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=h.line.height-m;if((q>.005||q<-.005)&&(r<n&&(a-=q),Oe(h.line,m),Za(h.line),h.rest))for(var X=0;X<h.rest.length;X++)Za(h.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Kn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=h.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function Za(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function dr(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-lr(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,a=ze(e,n),o=ze(e,r);if(i&&i.ensure){var h=i.ensure.from.line,_=i.ensure.to.line;h<a?(a=h,o=ze(e,Qe(ct(e,h))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=o&&(a=ze(e,Qe(ct(e,_))-t.wrapper.clientHeight),o=_)}return{from:a,to:Math.max(o,a+1)}}function Ol(t,e){if(!Ht(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,a=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-lr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+Be(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Al(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?z(e.line,e.ch+1,"before"):e,e=e.ch?z(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,h=Re(t,e),_=!i||i==e?h:Re(t,i);r={left:Math.min(h.left,_.left),top:Math.min(h.top,_.top)-n,right:Math.max(h.left,_.left),bottom:Math.max(h.bottom,_.bottom)+n};var m=ds(t,r),N=t.doc.scrollTop,F=t.doc.scrollLeft;if(m.scrollTop!=null&&(Ti(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(On(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-F)>1&&(o=!0)),!o)break}return r}function Nl(t,e){var i=ds(t,e);i.scrollTop!=null&&Ti(t,i.scrollTop),i.scrollLeft!=null&&On(t,i.scrollLeft)}function ds(t,e){var i=t.display,n=Un(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,a=ns(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var h=t.doc.height+es(i),_=e.top<n,m=e.bottom>h-n;if(e.top<r)o.scrollTop=_?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?h:e.bottom)-a);N!=r&&(o.scrollTop=N)}var F=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-F,q=En(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+F-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function gs(t,e){e!=null&&(gr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Xn(t){gr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ei(t,e,i){(e!=null||i!=null)&&gr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Rl(t,e){gr(t),t.curOp.scrollToPos=e}function gr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=Ua(t,e.from),n=Ua(t,e.to);Ja(t,i,n,e.margin)}}function Ja(t,e,i,n){var r=ds(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ei(t,r.scrollLeft,r.scrollTop)}function Ti(t,e){Math.abs(t.doc.scrollTop-e)<2||(c||ms(t,{top:e}),Va(t,e,!0),c&&ms(t),Oi(t,100))}function Va(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function On(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,ro(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ci(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+es(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Be(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var An=function(t,e,i){this.cm=i;var n=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};An.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},An.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},An.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},An.prototype.zeroWidthHack=function(){var t=H&&!A?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},An.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),a=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},An.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Li=function(){};Li.prototype.update=function(){return{bottom:0,right:0}},Li.prototype.setScrollLeft=function(){},Li.prototype.setScrollTop=function(){},Li.prototype.clear=function(){};function \$n(t,e){e||(e=Ci(t));var i=t.display.barWidth,n=t.display.barHeight;to(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&pr(t),to(t,Ci(t)),i=t.display.barWidth,n=t.display.barHeight}function to(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var eo={native:An,null:Li};function no(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new eo[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?On(t,e):Ti(t,e)},t),t.display.scrollbars.addClass&&C(t.display.wrapper,t.display.scrollbars.addClass)}var Ml=0;function Nn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ml,markArrays:null},hl(t.curOp)}function Rn(t){var e=t.curOp;e&&fl(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Dl(i)})}function Dl(t){for(var e=t.ops,i=0;i<e.length;i++)Fl(e[i]);for(var n=0;n<e.length;n++)Pl(e[n]);for(var r=0;r<e.length;r++)Wl(e[r]);for(var a=0;a<e.length;a++)Il(e[a]);for(var o=0;o<e.length;o++)zl(e[o])}function Fl(t){var e=t.cm,i=e.display;Bl(e),t.updateMaxLine&&Vr(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new vr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Pl(t){t.updatedDisplay=t.mustUpdate&&vs(t.cm,t.update)}function Wl(t){var e=t.cm,i=e.display;t.updatedDisplay&&pr(e),t.barMeasure=Ci(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Pa(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Be(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-En(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Il(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&On(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(xt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&\$n(e,t.barMeasure),t.updatedDisplay&&ys(e,t.barMeasure),t.selectionChanged&&fs(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Qa(t.cm)}function zl(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&io(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&Va(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&On(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Al(e,kt(n,t.scrollToPos.from),kt(n,t.scrollToPos.to),t.scrollToPos.margin);Ol(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var h=0;h<a.length;++h)a[h].lines.length||Ft(a[h],"hide");if(o)for(var _=0;_<o.length;++_)o[_].lines.length&&Ft(o[_],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ft(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Nn(t);try{return e()}finally{Rn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Nn(t);try{return e.apply(t,arguments)}finally{Rn(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Nn(this);try{return t.apply(this,arguments)}finally{Rn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Nn(e);try{return t.apply(this,arguments)}finally{Rn(e)}}}function Oi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,Et(Hl,t))}function Hl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=mi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(n.line>=t.display.viewFrom){var o=a.styles,h=a.text.length>t.options.maxHighlightLength?Xe(e.mode,n.state):null,_=ha(t,a,n,!0);h&&(n.state=h),a.styles=_.styles;var m=a.styleClasses,N=_.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var F=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!F&&j<o.length;++j)F=o[j]!=a.styles[j];F&&r.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=t.options.maxHighlightLength&&Xr(t,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Oi(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)cn(t,r[a],"text")})}}var vr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=dr(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=En(t),this.force=i,this.dims=us(t),this.events=[]};vr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},vr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ft.apply(null,this.events[t])};function Bl(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Be(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Be(t)+"px",e.scrollbarsClipped=!0)}function ql(t){if(t.hasFocus())return null;var e=lt(xt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function jl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function vs(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return fn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&\$a(t)==0)return!1;so(t)&&(fn(t),e.dims=us(t));var r=n.first+n.size,a=Math.max(e.visible.from-t.options.viewportMargin,n.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(r,i.viewTo)),Ye&&(a=Zr(t.doc,a),o=Sa(t.doc,o));var h=a!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Cl(t,a,o),i.viewOffset=Qe(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var _=\$a(t);if(!h&&_==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=ql(t);return _>4&&(i.lineDiv.style.display="none"),Ul(t,i.updateLineNumbers,e.dims),_>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,jl(m),k(i.cursorDiv),k(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,h&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Oi(t,400)),i.updateLineNumbers=null,!0}function io(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==En(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+es(t.display)-ns(t),i.top)}),e.visible=dr(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=dr(t.display,t.doc,i));if(!vs(t,e))break;pr(t);var r=Ci(t);Si(t),\$n(t,r),ys(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ms(t,e){var i=new vr(t,e);if(vs(t,i)){pr(t),io(t,i);var n=Ci(t);Si(t),\$n(t,n),ys(t,n),i.finish()}}function Ul(t,e,i){var n=t.display,r=t.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function h(X){var Y=X.nextSibling;return d&&H&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=n.view,m=n.viewFrom,N=0;N<_.length;N++){var F=_[N];if(!F.hidden)if(!F.node||F.node.parentNode!=a){var j=vl(t,F,m,i);a.insertBefore(j,o)}else{for(;o!=F.node;)o=h(o);var q=r&&e!=null&&e<=m&&F.lineNumber;F.changes&&(mt(F.changes,"gutter")>-1&&(q=!1),Oa(t,F,m,i)),q&&(k(F.lineNumber),F.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=F.node.nextSibling}m+=F.size}for(;o;)o=h(o)}function bs(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ys(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Be(t)+"px"}function ro(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=ls(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){t.options.fixedGutter&&(i[o].gutter&&(i[o].gutter.style.left=a),i[o].gutterBackground&&(i[o].gutterBackground.style.left=a));var h=i[o].alignable;if(h)for(var _=0;_<h.length;_++)h[_].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function so(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",bs(t.display),!0}return!1}function ws(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:a,style:o})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function ao(t){var e=t.gutters,i=t.gutterSpecs;k(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],a=r.className,o=r.style,h=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(h.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=h,h.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",bs(t)}function Ai(t){ao(t.display),_e(t),ro(t)}function Kl(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&x<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!d&&!(c&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=ws(n.gutters,n.lineNumbers),ao(r),i.init(r)}var mr=0,Je=null;S?Je=-.53:c?Je=15:u?Je=-.7:M&&(Je=-1/3);function oo(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Gl(t){var e=oo(t);return e.x*=Je,e.y*=Je,e}function uo(t,e){u&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=oo(e),n=i.x,r=i.y,a=Je;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,a=1);var o=t.display,h=o.scroller,_=h.scrollWidth>h.clientWidth,m=h.scrollHeight>h.clientHeight;if(n&&_||r&&m){if(r&&H&&d){t:for(var N=e.target,F=o.view;N!=h;N=N.parentNode)for(var j=0;j<F.length;j++)if(F[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!c&&!b&&a!=null){r&&m&&Ti(t,Math.max(0,h.scrollTop+r*a)),On(t,Math.max(0,h.scrollLeft+n*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),ms(t,{top:X,bottom:Y})}mr<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=h.scrollLeft,o.wheelStartY=h.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=h.scrollLeft-o.wheelStartX,tt=h.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(Je=(Je*mr+st)/(mr+1),++mr)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!wt(i.anchor,n.anchor)||!wt(i.head,n.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new At(Ct(this.ranges[e].anchor),Ct(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var At=function(t,e){this.anchor=t,this.head=e};At.prototype.from=function(){return Xt(this.anchor,this.head)},At.prototype.to=function(){return Lt(this.anchor,this.head)},At.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Me(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=mt(e,r);for(var a=1;a<e.length;a++){var o=e[a],h=e[a-1],_=G(h.to(),o.from());if(n&&!o.empty()?_>0:_>=0){var m=Xt(h.from(),o.from()),N=Lt(h.to(),o.to()),F=h.empty()?o.from()==o.head:h.from()==h.head;a<=i&&--i,e.splice(--a,2,new At(F?N:m,F?m:N))}}return new Se(e,i)}function _n(t,e){return new Se([new At(t,e||t)],0)}function pn(t){return t.text?z(t.from.line+t.text.length-1,yt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function lo(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return pn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=pn(e).ch-e.to.ch),z(i,n)}function ks(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new At(lo(r.anchor,e),lo(r.head,e)))}return Me(t.cm,i,t.sel.primIndex)}function ho(t,e,i){return t.line==e.line?z(i.line,t.ch-e.ch+i.ch):z(i.line+(t.line-e.line),t.ch)}function Xl(t,e,i){for(var n=[],r=z(t.first,0),a=r,o=0;o<e.length;o++){var h=e[o],_=ho(h.from,r,a),m=ho(pn(h),r,a);if(r=h.to,a=m,i=="around"){var N=t.sel.ranges[o],F=G(N.head,N.anchor)<0;n[o]=new At(F?m:_,F?_:m)}else n[o]=new At(_,_)}return new Se(n,t.sel.primIndex)}function xs(t){t.doc.mode=Ge(t.options,t.doc.modeOption),Ni(t)}function Ni(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Oi(t,100),t.state.modeGen++,t.curOp&&_e(t)}function co(t,e){return e.from.ch==0&&e.to.ch==0&&yt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ss(t,e,i,n){function r(st){return i?i[st]:null}function a(st,et,ut){el(st,et,ut,n),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],vt=st;vt<et;++vt)ut.push(new Bn(m[vt],r(vt),n));return ut}var h=e.from,_=e.to,m=e.text,N=ct(t,h.line),F=ct(t,_.line),j=yt(m),q=r(m.length-1),X=_.line-h.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(co(t,e)){var Y=o(0,m.length-1);a(F,F.text,q),X&&t.remove(h.line,X),Y.length&&t.insert(h.line,Y)}else if(N==F)if(m.length==1)a(N,N.text.slice(0,h.ch)+j+N.text.slice(_.ch),q);else{var V=o(1,m.length-1);V.push(new Bn(j+N.text.slice(_.ch),q,n)),a(N,N.text.slice(0,h.ch)+m[0],r(0)),t.insert(h.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,h.ch)+m[0]+F.text.slice(_.ch),r(0)),t.remove(h.line+1,X);else{a(N,N.text.slice(0,h.ch)+m[0],r(0)),a(F,j+F.text.slice(_.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(h.line+1,X-1),t.insert(h.line+1,tt)}Qt(t,"change",t,e)}function dn(t,e,i){function n(r,a,o){if(r.linked)for(var h=0;h<r.linked.length;++h){var _=r.linked[h];if(_.doc!=a){var m=o&&_.sharedHist;i&&!m||(e(_.doc,m),n(_.doc,r,m))}}}n(t,null,!0)}function fo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,hs(t),xs(t),_o(t),t.options.direction=e.direction,t.options.lineWrapping||Vr(t),t.options.mode=e.modeOption,_e(t)}function _o(t){(t.doc.direction=="rtl"?C:R)(t.display.lineDiv,"CodeMirror-rtl")}function \$l(t){be(t,function(){_o(t),_e(t)})}function br(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Es(t,e){var i={from:Ct(e.from),to:pn(e),text:\$e(t,e.from,e.to)};return vo(t,i,e.from.line,e.to.line+1),dn(t,function(n){return vo(n,i,e.from.line,e.to.line+1)},!0),i}function po(t){for(;t.length;){var e=yt(t);if(e.ranges)t.pop();else break}}function Yl(t,e){if(e)return po(t.done),yt(t.done);if(t.done.length&&!yt(t.done).ranges)return yt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),yt(t.done)}function go(t,e,i,n){var r=t.history;r.undone.length=0;var a=+new Date,o,h;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=Yl(r,r.lastOp==n)))h=yt(o.changes),G(e.from,e.to)==0&&G(e.from,h.to)==0?h.to=pn(e):o.changes.push(Es(t,e));else{var _=yt(r.done);for((!_||!_.ranges)&&yr(t.sel,r.done),o={changes:[Es(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,h||Ft(t,"historyAdded")}function Ql(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Zl(t,e,i,n){var r=t.history,a=n&&n.origin;i==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||Ql(t,a,yt(r.done),e))?r.done[r.done.length-1]=e:yr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=i,n&&n.clearRedo!==!1&&po(r.undone)}function yr(t,e){var i=yt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function vo(t,e,i,n){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function Jl(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function Vl(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(Jl(i[r]));return n}function mo(t,e){var i=Vl(t,e),n=Yr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)t:for(var h=0;h<o.length;++h){for(var _=o[h],m=0;m<a.length;++m)if(a[m].marker==_.marker)continue t;a.push(_)}else o&&(i[r]=o)}return i}function Yn(t,e,i){for(var n=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){n.push(i?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,h=[];n.push({changes:h});for(var _=0;_<o.length;++_){var m=o[_],N=void 0;if(h.push({from:m.from,to:m.to,text:m.text}),e)for(var F in m)(N=F.match(/^spans_(\\d+)\$/))&&mt(e,Number(N[1]))>-1&&(yt(h)[F]=m[F],delete m[F])}}return n}function Ts(t,e,i,n){if(n){var r=t.anchor;if(i){var a=G(e,r)<0;a!=G(i,r)<0?(r=e,e=i):a!=G(e,i)<0&&(e=i)}return new At(r,e)}else return new At(i||e,e)}function wr(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Ts(t.sel.primary(),e,i,r)],0),n)}function bo(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)n[a]=Ts(t.sel.ranges[a],e[a],null,r);var o=Me(t.cm,n,t.sel.primIndex);se(t,o,i)}function Cs(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,se(t,Me(t.cm,r,t.sel.primIndex),n)}function yo(t,e,i,n){se(t,_n(e,i),n)}function th(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new At(kt(t,r[a].anchor),kt(t,r[a].head))},origin:i&&i.origin};return Ft(t,"beforeSelectionChange",t,n),t.cm&&Ft(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Me(t.cm,n.ranges,n.ranges.length-1):e}function wo(t,e,i){var n=t.history.done,r=yt(n);r&&r.ranges?(n[n.length-1]=e,kr(t,e,i)):se(t,e,i)}function se(t,e,i){kr(t,e,i),Zl(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function kr(t,e,i){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=th(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);ko(t,So(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Xn(t.cm)}function ko(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Zi(t.cm)),Qt(t,"cursorActivity",t))}function xo(t){ko(t,So(t,t.sel,null,!1))}function So(t,e,i,n){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],h=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],_=xr(t,o.anchor,h&&h.anchor,i,n),m=o.head==o.anchor?_:xr(t,o.head,h&&h.head,i,n);(r||_!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new At(_,m))}return r?Me(t.cm,r,e.primIndex):e}function Qn(t,e,i,n,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var h=a.markedSpans[o],_=h.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((h.from==null||(m?h.from<=e.ch:h.from<e.ch))&&(h.to==null||(N?h.to>=e.ch:h.to>e.ch))){if(r&&(Ft(_,"beforeCursorEnter"),_.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!_.atomic)continue;if(i){var F=_.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(F=Eo(t,F,-n,F&&F.line==e.line?a:null)),F&&F.line==e.line&&(j=G(F,i))&&(n<0?j<0:j>0))return Qn(t,F,e,n,r)}var q=_.find(n<0?-1:1);return(n<0?m:N)&&(q=Eo(t,q,n,q.line==e.line?a:null)),q?Qn(t,q,e,n,r):null}}return e}function xr(t,e,i,n,r){var a=n||1,o=Qn(t,e,i,a,r)||!r&&Qn(t,e,i,a,!0)||Qn(t,e,i,-a,r)||!r&&Qn(t,e,i,-a,!0);return o||(t.cantEdit=!0,z(t.first,0))}function Eo(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?kt(t,z(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?z(e.line+1,0):null:new z(e.line,e.ch+i)}function To(t){t.setSelection(z(t.firstLine(),0),z(t.lastLine()),Rt)}function Co(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,a,o,h){r&&(n.from=kt(t,r)),a&&(n.to=kt(t,a)),o&&(n.text=o),h!==void 0&&(n.origin=h)}),Ft(t,"beforeChange",t,n),t.cm&&Ft(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Zn(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Zn)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=Co(t,e,!0),!e))){var n=va&&!i&&Zu(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Lo(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else Lo(t,e)}}function Lo(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=ks(t,e);go(t,e,i,t.cm?t.cm.curOp.id:NaN),Ri(t,e,i,Yr(t,e));var n=[];dn(t,function(r,a){!a&&mt(n,r.history)==-1&&(Ro(r.history,e),n.push(r.history)),Ri(r,e,null,Yr(r,e))})}}function Sr(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,a,o=t.sel,h=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<h.length&&(a=h[m],!(i?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=h.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=h.pop(),a.ranges){if(yr(a,_),i&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(n){h.push(a);return}else break;var N=[];yr(o,_),_.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var F=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,F&&!Co(t,V,!1))return h.length=0,{};N.push(Es(t,V));var tt=Y?ks(t,V):yt(h);Ri(t,V,tt,mo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:pn(V)});var st=[];dn(t,function(et,ut){!ut&&mt(st,et.history)==-1&&(Ro(et.history,V),st.push(et.history)),Ri(et,V,null,mo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Oo(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ue(t.sel.ranges,function(r){return new At(z(r.anchor.line+e,r.anchor.ch),z(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)cn(t.cm,n,"gutter")}}function Ri(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Ri)(t,e,i,n);if(e.to.line<t.first){Oo(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Oo(t,r),e={from:z(t.first,0),to:z(e.to.line+r,e.to.ch),text:[yt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:z(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=\$e(t,e.from,e.to),i||(i=ks(t,e)),t.cm?eh(t.cm,e,n):Ss(t,e,n),kr(t,i,Rt),t.cantEdit&&xr(t,z(t.firstLine(),0))&&(t.cantEdit=!1)}}function eh(t,e,i){var n=t.doc,r=t.display,a=e.from,o=e.to,h=!1,_=a.line;t.options.lineWrapping||(_=Ot(Ne(ct(n,a.line))),n.iter(_,o.line+1,function(q){if(q==r.maxLine)return h=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Zi(t),Ss(n,e,i,Xa(t)),t.options.lineWrapping||(n.iter(_,a.line+e.text.length,function(q){var X=or(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,h=!1)}),h&&(t.curOp.updateMaxLine=!0)),Uu(n,a.line),Oi(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!co(t.doc,e)?cn(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),F=oe(t,"change");if(F||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};F&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function Jn(t,e,i,n,r){var a;n||(n=i),G(n,i)<0&&(a=[n,i],i=a[0],n=a[1]),typeof e=="string"&&(e=t.splitLines(e)),Zn(t,{from:i,to:n,text:e,origin:r})}function Ao(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function No(t,e,i,n){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var h=0;h<a.ranges.length;h++)Ao(a.ranges[h].anchor,e,i,n),Ao(a.ranges[h].head,e,i,n);continue}for(var _=0;_<a.changes.length;++_){var m=a.changes[_];if(i<m.from.line)m.from=z(m.from.line+n,m.from.ch),m.to=z(m.to.line+n,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Ro(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;No(t.done,i,n,r),No(t.undone,i,n,r)}function Mi(t,e,i,n){var r=e,a=e;return typeof e=="number"?a=ct(t,xe(t,e)):r=Ot(e),r==null?null:(n(a,r)&&t.cm&&cn(t.cm,r,i),a)}function Di(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,nl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Fi(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Fi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var a=Math.min(e,r-t),o=n.height;if(n.removeInner(t,a),this.height-=o-n.height,r==a&&(this.children.splice(i--,1),n.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Di))){var h=[];this.collapse(h),this.children=[new Di(h)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,h=o;h<r.lines.length;){var _=new Di(r.lines.slice(h,h+=25));r.height-=_.height,this.children.splice(++n,0,_),_.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Fi(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=mt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Fi(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,i))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Pi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Pi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Ot(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var a=ki(this);Oe(i,Math.max(0,i.height-a)),t&&(be(t,function(){Mo(t,i,-a),cn(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Pi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(hn(this.doc,n)||Oe(n,n.height+r),i&&be(i,function(){i.curOp.forceUpdate=!0,Mo(i,n,r),Qt(i,"lineWidgetChanged",i,t,Ot(n))}))},ue(Pi);function Mo(t,e,i){Qe(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&gs(t,i)}function nh(t,e,i,n){var r=new Pi(t,i,n),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Mi(t,e,"widget",function(o){var h=o.widgets||(o.widgets=[]);if(r.insertAt==null?h.push(r):h.splice(Math.min(h.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!hn(t,o)){var _=Qe(o)<t.scrollTop;Oe(o,o.height+ki(r)),_&&gs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Ot(e)),r}var Do=0,gn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Do};gn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Nn(t),oe(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],h=bi(o.markedSpans,this);t&&!this.collapsed?cn(t,Ot(o),"text"):t&&(h.to!=null&&(r=Ot(o)),h.from!=null&&(n=Ot(o))),o.markedSpans=Xu(o.markedSpans,h),h.from==null&&this.collapsed&&!hn(this.doc,o)&&t&&Oe(o,Un(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Ne(this.lines[_]),N=or(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&_e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&xo(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Rn(t),this.parent&&this.parent.clear()}},gn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var a=this.lines[r],o=bi(a.markedSpans,this);if(o.from!=null&&(i=z(e?a:Ot(a),o.from),t==-1))return i;if(o.to!=null&&(n=z(e?a:Ot(a),o.to),t==1))return n}return i&&{from:i,to:n}},gn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||be(n,function(){var r=e.line,a=Ot(e.line),o=is(n,a);if(o&&(za(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!hn(i.doc,r)&&i.height!=null){var h=i.height;i.height=null;var _=ki(i)-h;_&&Oe(r,r.height+_)}Qt(n,"markerChanged",n,t)})},gn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||mt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},gn.prototype.detachLine=function(t){if(this.lines.splice(mt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(gn);function Vn(t,e,i,n,r){if(n&&n.shared)return ih(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,Vn)(t,e,i,n,r);var a=new gn(t,r),o=G(e,i);if(n&&ft(n,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(xa(t,e.line,e,i,a)||e.line!=i.line&&xa(t,i.line,e,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Gu()}a.addToHistory&&go(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var h=e.line,_=t.cm,m;if(t.iter(h,i.line+1,function(F){_&&a.collapsed&&!_.options.lineWrapping&&Ne(F)==_.display.maxLine&&(m=!0),a.collapsed&&h!=e.line&&Oe(F,0),\$u(F,new ir(a,h==e.line?e.ch:null,h==i.line?i.ch:null),t.cm&&t.cm.curOp),++h}),a.collapsed&&t.iter(e.line,i.line+1,function(F){hn(t,F)&&Oe(F,0)}),a.clearOnEnter&&nt(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Ku(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Do,a.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),a.collapsed)_e(_,e.line,i.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=i.line;N++)cn(_,N,"text");a.atomic&&xo(_.doc),Qt(_,"markerAdded",_,a)}return a}var Wi=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Wi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},Wi.prototype.find=function(t,e){return this.primary.find(t,e)},ue(Wi);function ih(t,e,i,n,r){n=ft(n),n.shared=!1;var a=[Vn(t,e,i,n,r)],o=a[0],h=n.widgetNode;return dn(t,function(_){h&&(n.widgetNode=h.cloneNode(!0)),a.push(Vn(_,kt(_,e),kt(_,i),n,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;o=yt(a)}),new Wi(a,o)}function Fo(t){return t.findMarks(z(t.first,0),t.clipPos(z(t.lastLine())),function(e){return e.parent})}function rh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var h=Vn(t,a,o,n.primary,n.primary.type);n.markers.push(h),h.parent=n}}}function sh(t){for(var e=function(n){var r=t[n],a=[r.primary.doc];dn(r.primary.doc,function(_){return a.push(_)});for(var o=0;o<r.markers.length;o++){var h=r.markers[o];mt(a,h.doc)==-1&&(h.parent=null,r.markers.splice(o--,1))}},i=0;i<t.length;i++)e(i)}var ah=0,pe=function(t,e,i,n,r){if(!(this instanceof pe))return new pe(t,e,i,n,r);i==null&&(i=0),Fi.call(this,[new Di([new Bn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=z(i,0);this.sel=_n(a),this.history=new br(null),this.id=++ah,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Ss(this,{from:a,to:a,text:t}),se(this,_n(a),Rt)};pe.prototype=\$i(Fi.prototype,{constructor:pe,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Hn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=z(this.first,0),i=this.first+this.size-1;Zn(this,{from:e,to:z(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ei(this.cm,0,0),se(this,_n(e),Rt)}),replaceRange:function(t,e,i,n){e=kt(this,e),i=i?kt(this,i):e,Jn(this,t,e,i,n)},getRange:function(t,e,i){var n=\$e(this,kt(this,t),kt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(w(this,t))return ct(this,t)},getLineNumber:function(t){return Ot(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Ne(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return kt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){yo(this,kt(this,typeof t=="number"?z(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){yo(this,kt(this,t),kt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){wr(this,kt(this,t),e&&kt(this,e),i)}),extendSelections:Jt(function(t,e){bo(this,la(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ue(this.sel.ranges,t);bo(this,la(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new At(kt(this,t[r].anchor),kt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,Me(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new At(kt(this,t),kt(this,e||t))),se(this,Me(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=\$e(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=\$e(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:i}}for(var h=e&&e!="end"&&Xl(this,n,e),_=n.length-1;_>=0;_--)Zn(this,n[_]);h?wo(this,h):this.cm&&Xn(this.cm)}),undo:Jt(function(){Sr(this,"undo")}),redo:Jt(function(){Sr(this,"redo")}),undoSelection:Jt(function(){Sr(this,"undo",!0)}),redoSelection:Jt(function(){Sr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new br(this.history),dn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Yn(this.history.done),undone:Yn(this.history.undone)}},setHistory:function(t){var e=this.history=new br(this.history);e.done=Yn(t.done.slice(0),null,!0),e.undone=Yn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Mi(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Yi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Mi(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Yi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!w(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Ot(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Mi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Mi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=n[r];if(a)if(i==null)n[r]=null;else{var o=a.match(I(i));if(!o)return!1;var h=o.index+o[0].length;n[r]=a.slice(0,o.index)+(!o.index||h==a.length?"":" ")+a.slice(h)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return nh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Vn(this,kt(this,t),kt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=kt(this,t),Vn(this,t,t,i,"bookmark")},findMarksAt:function(t){t=kt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=kt(this,t),e=kt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var h=0;h<o.length;h++){var _=o[h];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!i||i(_.marker))&&n.push(_.marker.parent||_.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+n;if(a>t)return e=t,!0;t-=a,++i}),kt(this,z(i,e))},indexFromPos:function(t){t=kt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new pe(Hn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new pe(Hn(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],rh(n,Fo(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),sh(Fo(this));break}}if(t.history==this.history){var n=[t.id];dn(t,function(r){return n.push(r.id)},!0),t.history=new br(null),t.history.done=Yn(this.history.done,n),t.history.undone=Yn(this.history.undone,n)}},iterLinkedDocs:function(t){dn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):gi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&\$l(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var Po=0;function oh(t){var e=this;if(Wo(e),!(Ht(e,t)||Ze(e.display,t))){re(t),S&&(Po=+new Date);var i=Cn(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,h=function(){++o==r&&Zt(e,function(){i=kt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Zn(e.doc,q),wo(e.doc,_n(kt(e.doc,i),kt(e.doc,pn(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&mt(e.options.allowDropFileTypes,q.type)==-1){h();return}var Y=new FileReader;Y.onerror=function(){return h()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){h();return}a[X]=V,h()},Y.readAsText(q)},m=0;m<n.length;m++)_(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var F;if(e.state.draggingText&&!e.state.draggingText.copy&&(F=e.listSelections()),kr(e.doc,_n(i,i)),F)for(var j=0;j<F.length;++j)Jn(e.doc,"",F[j].anchor,F[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function uh(t,e){if(S&&(!t.state.draggingText||+new Date-Po<100)){Ke(e);return}if(!(Ht(t,e)||Ze(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!M)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function lh(t,e){var i=Cn(t,e);if(i){var n=document.createDocumentFragment();cs(t,i,n),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function Wo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Io(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var a=0;a<i.length;a++)t(i[a])})}}var zo=!1;function hh(){zo||(ch(),zo=!0)}function ch(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,Io(fh)},100))}),nt(window,"blur",function(){return Io(Gn)})}function fh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var vn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ii=0;Ii<10;Ii++)vn[Ii+48]=vn[Ii+96]=String(Ii);for(var Er=65;Er<=90;Er++)vn[Er]=String.fromCharCode(Er);for(var zi=1;zi<=12;zi++)vn[zi+111]=vn[zi+63235]="F"+zi;var Ve={};Ve.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ve.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ve.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ve.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ve.default=H?Ve.macDefault:Ve.pcDefault;function _h(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,a,o=0;o<e.length-1;o++){var h=e[o];if(/^(cmd|meta|m)\$/i.test(h))a=!0;else if(/^a(lt)?\$/i.test(h))i=!0;else if(/^(c|ctrl|control)\$/i.test(h))n=!0;else if(/^s(hift)?\$/i.test(h))r=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function ph(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ue(i.split(" "),_h),a=0;a<r.length;a++){var o=void 0,h=void 0;a==r.length-1?(h=r.join(" "),o=n):(h=r.slice(0,a+1).join(" "),o="...");var _=e[h];if(!_)e[h]=o;else if(_!=o)throw new Error("Inconsistent bindings for "+h)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ti(t,e,i,n){e=Tr(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ti(t,e.fallthrough,i,n);for(var a=0;a<e.fallthrough.length;a++){var o=ti(t,e.fallthrough[a],i,n);if(o)return o}}}function Ho(t){var e=typeof t=="string"?t:vn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Bo(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function qo(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=vn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Bo(i,t,e))}function Tr(t){return typeof t=="string"?Ve[t]:t}function ei(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=e(i[r]);n.length&&G(a.from,yt(n).to)<=0;){var o=n.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}be(t,function(){for(var h=n.length-1;h>=0;h--)Jn(t.doc,"",n[h].from,n[h].to,"+delete");Xn(t)})}function Ls(t,e,i){var n=Fe(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Os(t,e,i){var n=Ls(t,e.ch,i);return n==null?null:new z(e.line,n,i<0?"after":"before")}function As(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(i,e.doc.direction);if(a){var o=r<0?yt(a):a[0],h=r<0==(o.level==1),_=h?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=jn(e,i);m=r<0?i.text.length-1:0;var F=qe(e,N,m).top;m=zt(function(j){return qe(e,N,j).top==F},r<0==(o.level==1)?o.from:o.to-1,m),_=="before"&&(m=Ls(i,m,1))}else m=r<0?o.to:o.from;return new z(n,m,_)}}return new z(n,r<0?i.text.length:0,r<0?"before":"after")}function dh(t,e,i,n){var r=Ce(e,t.doc.direction);if(!r)return Os(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=Te(r,i.ch,i.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(n>0?o.to>i.ch:o.from<i.ch))return Os(e,i,n);var h=function(tt,st){return Ls(e,tt instanceof z?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||jn(t,e),Ga(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?h(i,-1):i.ch);if(t.doc.direction=="rtl"||o.level==1){var F=o.level==1==n<0,j=h(i,F?1:-1);if(j!=null&&(F?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=F?"before":"after";return new z(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new z(i.line,h(Dt,1),"before"):new z(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var vt=r[tt],pt=st>0==(vt.level!=1),St=pt?et.begin:h(et.end,-1);if(vt.from<=St&&St<vt.to||(St=pt?vt.from:h(vt.to,-1),et.begin<=St&&St<et.end))return ut(St,pt)}},Y=X(a+n,n,N);if(Y)return Y;var V=n>0?N.end:h(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var Hi={selectAll:To,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return ei(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:z(e.head.line+1,0)}:{from:e.head,to:z(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return ei(t,function(e){return{from:z(e.from().line,0),to:kt(t.doc,z(e.to().line+1,0))}})},delLineLeft:function(t){return ei(t,function(e){return{from:z(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return ei(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return ei(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(z(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(z(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return jo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Uo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return gh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?Uo(t,e.head):n},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var a=i[r].from(),o=at(t.getLine(a.line),a.ch,n);e.push(It(n-o%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new z(r.line,r.ch-1)),r.ch>0)r=new z(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),z(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new z(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),z(r.line-1,o.length-1),r,"+transpose"))}}i.push(new At(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Xn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function jo(t,e){var i=ct(t.doc,e),n=Ne(i);return n!=i&&(e=Ot(n)),As(!0,t,n,e,1)}function gh(t,e){var i=ct(t.doc,e),n=Vu(i);return n!=i&&(e=Ot(n)),As(!0,t,i,e,-1)}function Uo(t,e){var i=jo(t,e.line),n=ct(t.doc,i.line),r=Ce(n,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(i.ch,n.text.search(/\\S/)),o=e.line==i.line&&e.ch<=a&&e.ch;return z(i.line,o?0:a,i.sticky)}return i}function Cr(t,e,i){if(typeof e=="string"&&(e=Hi[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Tt}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function vh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ti(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ti(e,t.options.extraKeys,i,t)||ti(e,t.options.keyMap,i,t)}var mh=new _t;function Bi(t,e,i,n){var r=t.state.keySeq;if(r){if(Ho(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:mh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Ko(t,r+" "+e,i,n))return!0}return Ko(t,e,i,n)}function Ko(t,e,i,n){var r=vh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(re(i),fs(t)),!!r}function Go(t,e){var i=qo(e,!0);return i?e.shiftKey&&!t.state.keySeq?Bi(t,"Shift-"+i,e,function(n){return Cr(t,n,!0)})||Bi(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Cr(t,n)}):Bi(t,i,e,function(n){return Cr(t,n)}):!1}function bh(t,e,i){return Bi(t,"'"+i+"'",e,function(n){return Cr(t,n,!0)})}var Ns=null;function Xo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(xt(e)),!Ht(e,t))){S&&x<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Go(e,t);b&&(Ns=n?i:null,!n&&i==88&&!We&&(H?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),c&&!H&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&yh(e)}}function yh(t){var e=t.display.lineDiv;C(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),ie(document,"keyup",i),ie(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function \$o(t){t.keyCode==16&&(this.doc.sel.shift=!1),Ht(this,t)}function Yo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ze(e.display,t)||Ht(e,t)||t.ctrlKey&&!t.altKey||H&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Ns){Ns=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&Go(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(bh(e,t,r)||e.display.input.onKeyPress(t))}}}var wh=400,Rs=function(t,e,i){this.time=t,this.pos=e,this.button=i};Rs.prototype.compare=function(t,e,i){return this.time+wh>t&&G(e,this.pos)==0&&i==this.button};var qi,ji;function kh(t,e){var i=+new Date;return ji&&ji.compare(i,t,e)?(qi=ji=null,"triple"):qi&&qi.compare(i,t,e)?(ji=new Rs(i,t,e),qi=null,"double"):(qi=new Rs(i,t,e),ji=null,"single")}function Qo(t){var e=this,i=e.display;if(!(Ht(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ze(i,t)){d||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ms(e,t)){var n=Cn(e,t),r=di(t),a=n?kh(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&xh(e,r,n,a,t))&&(r==1?n?Eh(e,n,a,t):fe(t)==i.scroller&&re(t):r==2?(n&&wr(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):_s(e)))}}}function xh(t,e,i,n,r){var a="Click";return n=="double"?a="Double"+a:n=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,Bi(t,Bo(a,r),r,function(o){if(typeof o=="string"&&(o=Hi[o]),!o)return!1;var h=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),h=o(t,i)!=Tt}finally{t.state.suppressEdits=!1}return h})}function Sh(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var a=B?i.shiftKey&&i.metaKey:i.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=H?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(H?i.altKey:i.ctrlKey)),r}function Eh(t,e,i,n){S?setTimeout(Et(Qa,t),0):t.curOp.focus=lt(xt(t));var r=Sh(t,i,n),a=t.doc.sel,o;t.options.dragDrop&&Kr&&!t.isReadOnly()&&i=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Th(t,n,e,r):Ch(t,n,e,r)}function Th(t,e,i,n){var r=t.display,a=!1,o=Zt(t,function(m){d&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:_s(t)),ie(r.wrapper.ownerDocument,"mouseup",o),ie(r.wrapper.ownerDocument,"mousemove",h),ie(r.scroller,"dragstart",_),ie(r.scroller,"drop",o),a||(re(m),n.addNew||wr(t.doc,i,null,null,n.extend),d&&!M||S&&x==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),h=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return a=!0};d&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",o),nt(r.wrapper.ownerDocument,"mousemove",h),nt(r.scroller,"dragstart",_),nt(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Zo(t,e,i){if(i=="char")return new At(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new At(z(e.line,0),kt(t.doc,z(e.line+1,0)));var n=i(t,e);return new At(n.from,n.to)}function Ch(t,e,i,n){S&&_s(t);var r=t.display,a=t.doc;re(e);var o,h,_=a.sel,m=_.ranges;if(n.addNew&&!n.extend?(h=a.sel.contains(i),h>-1?o=m[h]:o=new At(i,i)):(o=a.sel.primary(),h=a.sel.primIndex),n.unit=="rectangle")n.addNew||(o=new At(i,i)),i=Cn(t,e,!0,!0),h=-1;else{var N=Zo(t,i,n.unit);n.extend?o=Ts(o,N.anchor,N.head,n.extend):o=N}n.addNew?h==-1?(h=m.length,se(a,Me(t,m.concat([o]),h),{scroll:!1,origin:"*mouse"})):m.length>1&&m[h].empty()&&n.unit=="char"&&!n.extend?(se(a,Me(t,m.slice(0,h).concat(m.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),_=a.sel):Cs(a,h,o,Ee):(h=0,se(a,new Se([o],0),Ee),_=a.sel);var F=i;function j(et){if(G(F,et)!=0)if(F=et,n.unit=="rectangle"){for(var ut=[],vt=t.options.tabSize,pt=at(ct(a,i.line).text,i.ch,vt),St=at(ct(a,et.line).text,et.ch,vt),Dt=Math.min(pt,St),Vt=Math.max(pt,St),Wt=Math.min(i.line,et.line),ye=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Kt=ke(de,Dt,vt);Dt==Vt?ut.push(new At(z(Wt,Kt),z(Wt,Kt))):de.length>Kt&&ut.push(new At(z(Wt,Kt),z(Wt,ke(de,Vt,vt))))}ut.length||ut.push(new At(i,i)),se(a,Me(t,_.ranges.slice(0,h).concat(ut),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ne=Zo(t,et,n.unit),\$t=ge.anchor,Gt;G(ne.anchor,\$t)>0?(Gt=ne.head,\$t=Xt(ge.from(),ne.anchor)):(Gt=ne.anchor,\$t=Lt(ge.to(),ne.head));var qt=_.ranges.slice(0);qt[h]=Lh(t,new At(kt(a,\$t),Gt)),se(a,Me(t,qt,h),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,vt=Cn(t,et,!0,n.unit=="rectangle");if(vt)if(G(vt,F)!=0){t.curOp.focus=lt(xt(t)),j(vt);var pt=dr(r,a);(vt.line>=pt.to||vt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var St=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;St&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=St,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ie(r.wrapper.ownerDocument,"mousemove",tt),ie(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!di(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Lh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,i.ch,i.sticky),h=a[o];if(h.from!=i.ch&&h.to!=i.ch)return e;var _=o+(h.from==i.ch==(h.level!=1)?0:1);if(_==0||_==a.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,n.ch,n.sticky),F=N-o||(n.ch-i.ch)*(h.level==1?-1:1);N==_-1||N==_?m=F<0:m=F>0}var j=a[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new At(new z(i.line,X,Y),n)}function Jo(t,e,i,n){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&re(e);var o=t.display,h=o.lineDiv.getBoundingClientRect();if(a>h.bottom||!oe(t,i))return pi(e);a-=h.top-o.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=o.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),F=t.display.gutterSpecs[_];return Ft(t,i,t,N,F.className,e),pi(e)}}}function Ms(t,e){return Jo(t,e,"gutterClick",!0)}function Vo(t,e){Ze(t.display,e)||Oh(t,e)||Ht(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Oh(t,e){return oe(t,"gutterContextMenu")?Jo(t,e,"gutterContextMenu",!1):!1}function tu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),xi(t)}var ni={toString:function(){return"CodeMirror.Init"}},eu={},Lr={};function Ah(t){var e=t.optionHandlers;function i(n,r,a,o){t.defaults[n]=r,a&&(e[n]=o?function(h,_,m){m!=ni&&a(h,_,m)}:a)}t.defineOption=i,t.Init=ni,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,xs(n)},!0),i("indentUnit",2,xs,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Ni(n),xi(n),_e(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var a=[],o=n.doc.first;n.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(z(o,N))}o++});for(var h=a.length-1;h>=0;h--)Jn(n.doc,r,a[h],z(a[h].line,a[h].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,a){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=ni&&n.refresh()}),i("specialCharPlaceholder",sl,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){tu(n),Ai(n)},!0),i("keyMap","default",function(n,r,a){var o=Tr(r),h=a!=ni&&Tr(a);h&&h.detach&&h.detach(n,o),o.attach&&o.attach(n,h||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Rh,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=ws(r,n.options.lineNumbers),Ai(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?ls(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return \$n(n)},!0),i("scrollbarStyle","native",function(n){no(n),\$n(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=ws(n.options.gutters,r),Ai(n)},!0),i("firstLineNumber",1,Ai,!0),i("lineNumberFormatter",function(n){return n},Ai,!0),i("showCursorWhenSelecting",!1,Si,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(Gn(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Nh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Si,!0),i("singleCursorHeightPerLine",!0,Si,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Ni,!0),i("addModeClass",!1,Ni,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Ni,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Nh(t,e,i){var n=i&&i!=ni;if(!e!=!n){var r=t.display.dragFunctions,a=e?nt:ie;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Rh(t){t.options.lineWrapping?(C(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),Vr(t)),hs(t),_e(t),xi(t),setTimeout(function(){return \$n(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(eu,e,!1);var n=e.value;typeof n=="string"?n=new pe(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Kl(t,n,r,e);a.wrapper.CodeMirror=this,tu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),no(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&x<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Mh(this),hh(),Nn(this),this.curOp.forceUpdate=!0,fo(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&ps(i)},20):Gn(this);for(var o in Lr)Lr.hasOwnProperty(o)&&Lr[o](this,e[o],ni);so(this),e.finishInit&&e.finishInit(this);for(var h=0;h<Ds.length;++h)Ds[h](this);Rn(this),d&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=eu,Pt.optionHandlers=Lr;function Mh(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,Qo)),S&&x<11?nt(e.scroller,"dblclick",Zt(t,function(_){if(!Ht(t,_)){var m=Cn(t,_);if(!(!m||Ms(t,_)||Ze(t.display,_))){re(_);var N=t.findWordAt(m);wr(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(_){return Ht(t,_)||re(_)}),nt(e.scroller,"contextmenu",function(_){return Vo(t,_)}),nt(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||Vo(t,_)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function a(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(_,m){if(m.left==null)return!0;var N=m.left-_.left,F=m.top-_.top;return N*N+F*F>20*20}nt(e.scroller,"touchstart",function(_){if(!Ht(t,_)&&!a(_)&&!Ms(t,_)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ze(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),F;!m.prev||o(m,m.prev)?F=new At(N,N):!m.prev.prev||o(m,m.prev.prev)?F=t.findWordAt(N):F=new At(z(N.line,0),kt(t.doc,z(N.line+1,0))),t.setSelection(F.anchor,F.head),t.focus(),re(_)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Ti(t,e.scroller.scrollTop),On(t,e.scroller.scrollLeft,!0),Ft(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(_){return uo(t,_)}),nt(e.scroller,"DOMMouseScroll",function(_){return uo(t,_)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){Ht(t,_)||Ke(_)},over:function(_){Ht(t,_)||(lh(t,_),Ke(_))},start:function(_){return uh(t,_)},drop:Zt(t,oh),leave:function(_){Ht(t,_)||Wo(t)}};var h=e.input.getField();nt(h,"keyup",function(_){return \$o.call(t,_)}),nt(h,"keydown",Zt(t,Xo)),nt(h,"keypress",Zt(t,Yo)),nt(h,"focus",function(_){return ps(t,_)}),nt(h,"blur",function(_){return Gn(t,_)})}var Ds=[];Pt.defineInitHook=function(t){return Ds.push(t)};function Ui(t,e,i,n){var r=t.doc,a;i==null&&(i="add"),i=="smart"&&(r.mode.indent?a=mi(t,e).state:i="prev");var o=t.options.tabSize,h=ct(r,e),_=at(h.text,null,o);h.stateAfter&&(h.stateAfter=null);var m=h.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(h.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(a,h.text.slice(m.length),h.text),N==Tt||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:i=="add"?N=_+t.options.indentUnit:i=="subtract"?N=_-t.options.indentUnit:typeof i=="number"&&(N=_+i),N=Math.max(0,N);var F="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,F+="	";if(j<N&&(F+=It(N-j)),F!=m)return Jn(r,F,z(e,0),z(e,m.length),"+input"),h.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=z(e,m.length);Cs(r,X,new At(V,V));break}}}var De=null;function Or(t){De=t}function Fs(t,e,i,n,r){var a=t.doc;t.display.shift=!1,n||(n=a.sel);var o=+new Date-200,h=r=="paste"||t.state.pasteIncoming>o,_=gi(e),m=null;if(h&&n.ranges.length>1)if(De&&De.text.join(\`
\`)==e){if(n.ranges.length%De.text.length==0){m=[];for(var N=0;N<De.text.length;N++)m.push(a.splitLines(De.text[N]))}}else _.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ue(_,function(tt){return[tt]}));for(var F=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=z(X.line,X.ch-i):t.state.overwrite&&!h?Y=z(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+yt(_).length)):h&&De&&De.lineWise&&De.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=z(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(h?"paste":t.state.cutIncoming>o?"cut":"+input")};Zn(t.doc,V),Qt(t,"inputRead",t,V)}e&&!h&&iu(t,e),Xn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=F),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function nu(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Fs(e,i,0,null,"paste")}),!0}function iu(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var h=0;h<a.electricChars.length;h++)if(e.indexOf(a.electricChars.charAt(h))>-1){o=Ui(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Ui(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function ru(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,a={anchor:z(r,0),head:z(r+1,0)};i.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:i}}function Ps(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function su(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Dh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var a=this.options,o=a[n];a[n]==r&&n!="mode"||(a[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,o),Ft(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Tr(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==n||r[a].name==n)return r.splice(a,1),!0},addOverlay:le(function(n,r){var a=n.token?n:t.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");sn(this.state.overlays,{mode:a,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(n){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==n||typeof n=="string"&&o.name==n){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(n,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),w(this.doc,n)&&Ui(this,n,r,a)}),indentSelection:le(function(n){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var h=r[o];if(h.empty())h.head.line>a&&(Ui(this,h.head.line,n,!0),a=h.head.line,o==this.doc.sel.primIndex&&Xn(this));else{var _=h.from(),m=h.to(),N=Math.max(a,_.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var F=N;F<a;++F)Ui(this,F,n);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[o].from().ch>0&&Cs(this.doc,o,new At(_,j[o].to()),Rt)}}}),getTokenAt:function(n,r){return pa(this,n,r)},getLineTokens:function(n,r){return pa(this,z(n),r,!0)},getTokenTypeAt:function(n){n=kt(this.doc,n);var r=ca(this,ct(this.doc,n.line)),a=0,o=(r.length-1)/2,h=n.ch,_;if(h==0)_=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=h)o=m;else if(r[m*2+1]<h)a=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var a=[];if(!i.hasOwnProperty(r))return a;var o=i[r],h=this.getModeAt(n);if(typeof h[r]=="string")o[h[r]]&&a.push(o[h[r]]);else if(h[r])for(var _=0;_<h[r].length;_++){var m=o[h[r][_]];m&&a.push(m)}else h.helperType&&o[h.helperType]?a.push(o[h.helperType]):o[h.name]&&a.push(o[h.name]);for(var N=0;N<o._global.length;N++){var F=o._global[N];F.pred(h,this)&&mt(a,F.val)==-1&&a.push(F.val)}return a},getStateAfter:function(n,r){var a=this.doc;return n=xe(a,n??a.first+a.size-1),mi(this,n+1,r).state},cursorCoords:function(n,r){var a,o=this.doc.sel.primary();return n==null?a=o.head:typeof n=="object"?a=kt(this.doc,n):a=n?o.from():o.to(),Re(this,a,r||"page")},charCoords:function(n,r){return cr(this,kt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=ja(this,n,r||"page"),as(this,n.left,n.top)},lineAtHeight:function(n,r){return n=ja(this,{top:n,left:0},r||"page").top,ze(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,a){var o=!1,h;if(typeof n=="number"){var _=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>_&&(n=_,o=!0),h=ct(this.doc,n)}else h=n;return hr(this,h,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Qe(h):0)},defaultTextHeight:function(){return Un(this.display)},defaultCharWidth:function(){return Kn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,a,o,h){var _=this.display;n=Re(this,kt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),o=="over")m=n.top;else if(o=="above"||o=="near"){var F=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(o=="above"||n.bottom+r.offsetHeight>F)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=F&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",h=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(h=="left"?N=0:h=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Nl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Xo),triggerOnKeyPress:le(Yo),triggerOnKeyUp:\$o,triggerOnMouseDown:le(Qo),execCommand:function(n){if(Hi.hasOwnProperty(n))return Hi[n].call(null,this)},triggerElectric:le(function(n){iu(this,n)}),findPosH:function(n,r,a,o){var h=1;r<0&&(h=-1,r=-r);for(var _=kt(this.doc,n),m=0;m<r&&(_=Ws(this.doc,_,h,a,o),!_.hitSide);++m);return _},moveH:le(function(n,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?Ws(a.doc,o.head,n,r,a.options.rtlMoveVisually):n<0?o.from():o.to()},we)}),deleteH:le(function(n,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):ei(this,function(h){var _=Ws(o,h.head,n,r,!1);return n<0?{from:_,to:h.head}:{from:h.head,to:_}})}),findPosV:function(n,r,a,o){var h=1,_=o;r<0&&(h=-1,r=-r);for(var m=kt(this.doc,n),N=0;N<r;++N){var F=Re(this,m,"div");if(_==null?_=F.left:F.left=_,m=au(this,F,h,a),m.hitSide)break}return m},moveV:le(function(n,r){var a=this,o=this.doc,h=[],_=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(_)return n<0?N.from():N.to();var F=Re(a,N.head,"div");N.goalColumn!=null&&(F.left=N.goalColumn),h.push(F.left);var j=au(a,F,n,r);return r=="page"&&N==o.sel.primary()&&gs(a,cr(a,j,"div").top-F.top),j},we),h.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=h[m]}),findWordAt:function(n){var r=this.doc,a=ct(r,n.line).text,o=n.ch,h=n.ch;if(a){var _=this.getHelper(n,"wordChars");(n.sticky=="before"||h==a.length)&&o?--o:++h;for(var m=a.charAt(o),N=Pn(m,_)?function(F){return Pn(F,_)}:/\\s/.test(m)?function(F){return/\\s/.test(F)}:function(F){return!/\\s/.test(F)&&!Pn(F)};o>0&&N(a.charAt(o-1));)--o;for(;h<a.length&&N(a.charAt(h));)++h}return new At(z(n.line,o),z(n.line,h))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?C(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(xt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(n,r){Ei(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Be(this)-this.display.barHeight,width:n.scrollWidth-Be(this)-this.display.barWidth,clientHeight:ns(this),clientWidth:En(this)}},scrollIntoView:le(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:z(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Rl(this,n):Ja(this,n.from,n.to,n.margin)}),setSize:le(function(n,r){var a=this,o=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};n!=null&&(this.display.wrapper.style.width=o(n)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&Ha(this);var h=this.display.viewFrom;this.doc.iter(h,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){cn(a,h,"widget");break}}++h}),this.curOp.forceUpdate=!0,Ft(this,"refresh",this)}),operation:function(n){return be(this,n)},startOperation:function(){return Nn(this)},endOperation:function(){return Rn(this)},refresh:le(function(){var n=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,xi(this),Ei(this,this.doc.scrollLeft,this.doc.scrollTop),bs(this.display),(n==null||Math.abs(n-Un(this.display))>.5||this.options.lineWrapping)&&hs(this),Ft(this,"refresh",this)}),swapDoc:le(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),fo(this,n),xi(this),this.display.input.reset(),Ei(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(n,r,a){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=a},t.registerGlobalHelper=function(n,r,a,o){t.registerHelper(n,r,o),i[n]._global.push({pred:a,val:o})}}function Ws(t,e,i,n,r){var a=e,o=i,h=ct(t,e.line),_=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new z(st,e.ch,e.sticky),h=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=h.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var vt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new z(e.line,Math.max(0,Math.min(h.text.length,e.ch+i*(vt?2:1))),-i)}}else r?et=dh(t.cm,h,e,i):et=Os(h,e,i);if(et==null)if(!st&&m())e=As(r,t.cm,h,e.line,_);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var F=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=h.text.charAt(e.ch)||\`
\`,V=Pn(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),F&&F!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(F=V),i>0&&!N(!X))break}var tt=xr(t,e,a,o,!0);return wt(a,tt)&&(tt.hitSide=!0),tt}function au(t,e,i,n){var r=t.doc,a=e.left,o;if(n=="page"){var h=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(h-.5*Un(t.display),3);o=(i>0?e.bottom:e.top)+i*_}else n=="line"&&(o=i>0?e.bottom+3:e.top-3);for(var m;m=as(t,a,o),!!m.outside;){if(i<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=i*5}return m}var Mt=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Mt.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Ps(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function a(h){for(var _=h.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}nt(r,"paste",function(h){!a(h)||Ht(n,h)||nu(h,n)||x<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(h){e.composing={data:h.data,done:!1}}),nt(r,"compositionupdate",function(h){e.composing||(e.composing={data:h.data,done:!1})}),nt(r,"compositionend",function(h){e.composing&&(h.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(h){if(!(!a(h)||Ht(n,h))){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()}),h.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var _=ru(n);Or({lineWise:!0,text:_.text}),h.type=="cut"&&n.operation(function(){n.setSelections(_.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(h.clipboardData){h.clipboardData.clearData();var m=De.text.join(\`
\`);if(h.clipboardData.setData("Text",m),h.clipboardData.getData("Text")==m){h.preventDefault();return}}var N=su(),F=N.firstChild;Ps(F),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),F.value=De.text.join(\`
\`);var j=lt(r.ownerDocument);dt(F),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",o),nt(r,"cut",o)},Mt.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Mt.prototype.prepareSelection=function(){var t=Ya(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Mt.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Mt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Mt.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Ar(e,t.anchorNode,t.anchorOffset),o=Ar(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),n)==0&&G(Lt(a,o),r)==0)){var h=e.display.view,_=n.line>=e.display.viewFrom&&ou(e,n)||{node:h[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&ou(e,r);if(!m){var N=h[h.length-1].measure,F=N.maps?N.maps[N.maps.length-1]:N.map;m={node:F[F.length-1],offset:F[F.length-2]-F[F.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(_.node,_.offset,m.offset,m.node)}catch{}q&&(!c&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):c&&this.startGracePeriod()),this.rememberSelection()}},Mt.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Mt.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Mt.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Mt.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Mt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Mt.prototype.blur=function(){this.div.blur()},Mt.prototype.getField=function(){return this.div},Mt.prototype.supportsTouch=function(){return!0},Mt.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Mt.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Mt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Fh(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Ar(e,t.anchorNode,t.anchorOffset),n=Ar(e,t.focusNode,t.focusOffset);i&&n&&be(e,function(){se(e.doc,_n(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Mt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=z(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=z(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,h;n.line==e.viewFrom||(a=Ln(t,n.line))==0?(o=Ot(e.view[0].line),h=e.view[0].node):(o=Ot(e.view[a].line),h=e.view[a-1].node.nextSibling);var _=Ln(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Ot(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!h)return!1;for(var F=t.doc.splitLines(Ph(t,h,N,o,m)),j=\$e(t.doc,z(o,0),z(m,ct(t.doc,m).text.length));F.length>1&&j.length>1;)if(yt(F)==yt(j))F.pop(),j.pop(),m--;else if(F[0]==j[0])F.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=F[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=yt(F),et=yt(j),ut=Math.min(st.length-(F.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(F.length==1&&j.length==1&&o==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;F[F.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),F[0]=F[0].slice(q).replace(/\\u200b+\$/,"");var vt=z(o,q),pt=z(m,j.length?yt(j).length-X:0);if(F.length>1||F[0]||G(vt,pt))return Jn(t.doc,F,vt,pt,"+input"),!0},Mt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Mt.prototype.reset=function(){this.forceCompositionEnd()},Mt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Mt.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Mt.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Mt.prototype.setUneditable=function(t){t.contentEditable="false"},Mt.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Fs)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Mt.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Mt.prototype.onContextMenu=function(){},Mt.prototype.resetPosition=function(){},Mt.prototype.needsContentAttribute=!0;function ou(t,e){var i=is(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Fa(i,n,e.line),a=Ce(n,t.doc.direction),o="left";if(a){var h=Te(a,e.ch);o=h%2?"right":"left"}var _=Ia(r.map,e.ch,o);return _.offset=_.collapse=="right"?_.end:_.start,_}function Fh(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function ii(t,e){return e&&(t.bad=!0),t}function Ph(t,e,i,n,r){var a="",o=!1,h=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=h,_&&(a+=h),o=_=!1)}function F(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){F(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(z(n,0),z(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&F(\$e(t.doc,V.from,V.to).join(h));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(o=!0)}else q.nodeType==3&&F(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,_=!1;return a}function Ar(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return ii(t.clipPos(z(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==n)return Wh(a,e,i)}}function Wh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return ii(z(Ot(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var a=t.rest?yt(t.rest):t.line;return ii(z(Ot(a),a.text.length),r)}var o=e.nodeType==3?e:null,h=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,i&&(i=o.nodeValue.length));h.parentNode!=n;)h=h.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],vt=0;vt<ut.length;vt+=3){var pt=ut[vt+2];if(pt==V||pt==tt){var St=Ot(et<0?t.line:t.rest[et]),Dt=ut[vt]+st;return(st<0||pt!=V)&&(Dt=ut[vt+(st?1:0)]),z(St,Dt)}}}var F=N(o,h,i);if(F)return ii(F,r);for(var j=h.nextSibling,q=o?o.nodeValue.length-i:0;j;j=j.nextSibling){if(F=N(j,j.firstChild,0),F)return ii(z(F.line,F.ch-q),r);q+=j.textContent.length}for(var X=h.previousSibling,Y=i;X;X=X.previousSibling){if(F=N(X,X.firstChild,-1),F)return ii(z(F.line,F.ch+Y),r);Y+=X.textContent.length}}var Ut=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ut.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&x>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(o){Ht(n,o)||nu(o,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function a(o){if(!Ht(n,o)){if(n.somethingSelected())Or({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var h=ru(n);Or({lineWise:!0,text:h.text}),o.type=="cut"?n.setSelections(h.ranges,null,Rt):(i.prevInput="",r.value=h.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",a),nt(r,"copy",a),nt(t.scroller,"paste",function(o){if(!(Ze(t,o)||Ht(n,o))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var h=new Event("paste");h.clipboardData=o.clipboardData,r.dispatchEvent(h)}}),nt(t.lineSpace,"selectstart",function(o){Ze(t,o)||re(o)}),nt(r,"compositionstart",function(){var o=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:o,range:n.markText(o,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ut.prototype.createField=function(t){this.wrapper=su(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ps(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},Ut.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Ut.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ya(t);if(t.options.moveInputWithCursor){var r=Re(t,i.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return n},Ut.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ut.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&x>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&x>=9&&(this.hasSelection=null));this.resetting=!1}},Ut.prototype.getField=function(){return this.textarea},Ut.prototype.supportsTouch=function(){return!1},Ut.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ut.prototype.blur=function(){this.textarea.blur()},Ut.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ut.prototype.receivedFocus=function(){this.slowPoll()},Ut.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Ut.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},Ut.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||an(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&x>=9&&this.hasSelection===r||H&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!n&&(n="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,h=Math.min(n.length,r.length);o<h&&n.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Fs(e,r.slice(o),n.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ut.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ut.prototype.onKeyPress=function(){S&&x>=9&&(this.hasSelection=null),this.fastPoll()},Ut.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Cn(i,t),o=n.scroller.scrollTop;if(!a||b)return;var h=i.options.resetSelectionOnContextMenu;h&&i.doc.sel.contains(a)==-1&&Zt(i,se)(i.doc,_n(a),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var F;d&&(F=r.ownerDocument.defaultView.scrollY),n.input.focus(),d&&r.ownerDocument.defaultView.scrollTo(null,F),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&x<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&x<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,To)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&x>=9&&j(),rt){Ke(t);var X=function(){ie(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},Ut.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},Ut.prototype.setUneditable=function(){},Ut.prototype.needsContentAttribute=!1;function Ih(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=h.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){n(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(_){_.save=n,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,n(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(ie(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var h=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return h}function zh(t){t.off=ie,t.on=nt,t.wheelEventPixels=Gl,t.Doc=pe,t.splitLines=gi,t.countColumn=at,t.findColumn=ke,t.isWordChar=ci,t.Pass=Tt,t.signal=Ft,t.Line=Bn,t.changeEnd=pn,t.scrollbarModel=eo,t.Pos=z,t.cmpPos=G,t.modes=Ae,t.mimeModes=on,t.resolveMode=me,t.getMode=Ge,t.modeExtensions=un,t.extendMode=er,t.copyState=Xe,t.startState=vi,t.innerMode=ln,t.commands=Hi,t.keyMap=Ve,t.keyName=qo,t.isModifierKey=Ho,t.lookupKey=ti,t.normalizeKeyMap=ph,t.StringStream=Bt,t.SharedTextMarker=Wi,t.TextMarker=gn,t.LineWidget=Pi,t.e_preventDefault=re,t.e_stopPropagation=Sn,t.e_stop=Ke,t.addClass=C,t.contains=J,t.rmClass=R,t.keyNames=vn}Ah(Pt),Dh(Pt);var Hh="iter insert remove copy getEditor constructor".split(" ");for(var Nr in pe.prototype)pe.prototype.hasOwnProperty(Nr)&&mt(Hh,Nr)<0&&(Pt.prototype[Nr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Nr]));return ue(pe),Pt.inputStyles={textarea:Ut,contenteditable:Mt},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),tr.apply(this,arguments)},Pt.defineMIME=zn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Ih,zh(Pt),Pt.version="5.65.12",Pt});const Bh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},qh=(()=>{let p=[];return Object.values(Bh).forEach(s=>{s.middle&&(p.push(s.general.code),p.push(s.middle.code),p.push(s.beginning.code))}),p})();function Rr(p){let s=[];return p.split("").forEach(c=>{qh.includes(c)?s.push(\`\${c}ـ*\`):c==="ـ"||s.push(c)}),s.join("")}function Ks(p){return(""+p).split("").map(T=>{switch(T){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const jh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],Js={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},Vs={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ta={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Uh={...Js,...Vs,...ta},Kh="[\\\\p{L}_]",Gh="[\\\\p{L}\\\\p{N}_]",Br=\`(?:\${Kh}\${Gh}*)\`,Xh="[^\\\\p{L}\\\\p{N}_]",ea="[٠-٩]",\$h=\`(?:,\${ea}+)\`,Yh=\`\${ea}+\${\$h}?\`,na="[0-9]",Qh=\`(?:\\\\.\${na}+)\`,xu=\`\${na}+\${Qh}?\`,Hs="\\\\\\\\",Mr="\\\\/",Dr="\\\\-",Ki="\\\\{",Gi="\\\\}",Zh="\\\\(",Jh="\\\\)",Gs="\\\\s",Vh=\`\${Zh}?\${Gs}*\${Jh}?\`,tc=()=>RegExp(\`(?:(?:#|#)\${Br})\`,"u"),ec=()=>RegExp(\`(?:~\${Br}?\${Gs}*\${Vh}\${Gs}*->)\`,"u"),Su=[{regex:tc(),token:"meta"},{regex:ec(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${jh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Eu={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var c=[function(E,S,x){var d=x(1).Beautifier,l=x(5).Options;E.exports=function(u,f){return new d(u,f).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,x){var d=x(2).Output,l=x(3).Token,u=x(4),f=x(5).Options,b=x(7).Tokenizer,M=x(7).line_starters,A=x(7).positionable_operators,g=x(7).TOKEN;function y(C,\$){return \$.indexOf(C)!==-1}function W(C,\$){return C&&C.type===g.RESERVED&&C.text===\$}function D(C,\$){return C&&C.type===g.RESERVED&&y(C.text,\$)}var H=["case","return","do","if","throw","else","await","break","continue","async"],B=function(C){for(var \$={},dt=0;dt<C.length;dt++)\$[C[dt].replace(/-/g,"_")]=C[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[B.before_newline,B.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(C,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||C.remove_indent(\$.start_line_index)}function Q(C){return C===I}function it(C){return y(C,[K,R,k])}function J(C,\$){\$=\$||{},this._source_text=C||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(C,\$){var dt=0;return C&&(dt=C.indentation_level,!this._output.just_added_newline()&&C.line_indent_level>dt&&(dt=C.line_indent_level)),{mode:\$,parent:C,last_token:C?C.last_token:new l(g.START_BLOCK,""),last_word:C?C.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:C?C.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(C){var \$=C.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new d(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(C,this._options));return this._tokens=\$.tokenize(),C},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var C=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,C&&u.lineBreak.test(C||"")&&(\$=C.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(C,\$){C.type===g.START_EXPR?this.handle_start_expr(C):C.type===g.END_EXPR?this.handle_end_expr(C):C.type===g.START_BLOCK?this.handle_start_block(C):C.type===g.END_BLOCK?this.handle_end_block(C):C.type===g.WORD||C.type===g.RESERVED?this.handle_word(C):C.type===g.SEMICOLON?this.handle_semicolon(C):C.type===g.STRING?this.handle_string(C):C.type===g.EQUALS?this.handle_equals(C):C.type===g.OPERATOR?this.handle_operator(C):C.type===g.COMMA?this.handle_comma(C):C.type===g.BLOCK_COMMENT?this.handle_block_comment(C,\$):C.type===g.COMMENT?this.handle_comment(C,\$):C.type===g.DOT?this.handle_dot(C):C.type===g.EOF?this.handle_eof(C):(C.type,g.UNKNOWN,this.handle_unknown(C,\$))},J.prototype.handle_whitespace_and_comments=function(C,\$){var dt=C.newlines,xt=this._options.keep_array_indentation&&Q(this._flags.mode);if(C.comments_before)for(var Nt=C.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=C.comments_before.next();if(xt)for(var Et=0;Et<dt;Et+=1)this.print_newline(0<Et,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(C,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&C.newlines||\$,(y(this._flags.last_token.text,A)||y(C.text,A))&&(C=y(this._flags.last_token.text,A)&&y(this._options.operator_position,U)||y(C.text,A),\$=\$&&C),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(C,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(C)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(C){this._output.just_added_newline()&&(this._options.keep_array_indentation&&C.newlines&&(C.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(C.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(C){var \$;this._output.raw?this._output.add_raw_token(C):(this._options.comma_first&&C.previous&&C.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(C),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(C),this._output.non_breaking_space=!0,this._output.add_token(C.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(C){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,C),this._flags=this.create_flags(this._previous_flags,C),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(C){return!!(D(this._flags.last_token,["var","let","const"])&&C.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!C.newlines||W(this._flags.last_token,"else")&&!(W(C,"if")&&!C.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(C.text==="--"||C.text==="++")&&this._last_last_text!=="function"&&C.type!==g.WORD&&C.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(C,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C,D(C,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C);var \$,dt,xt=K;if(C.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,M)&&(this._output.space_before_token=!0),this.print_token(C),this.set_mode(xt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));xt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,xt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,xt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&C.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,M)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(C),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(C,C.newlines),this.print_token(C),this.set_mode(xt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(C){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(C),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(C,C.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(C),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(C){this.handle_whitespace_and_comments(C);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var xt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((xt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==C))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,H)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(C),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(C),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(C){for(this.handle_whitespace_and_comments(C);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(C)},J.prototype.handle_word=function(C){if(C.type===g.RESERVED&&(y(C.text,["set","get"])&&this._flags.mode!==rt||C.text==="import"&&y(this._tokens.peek().text,["(","."])||y(C.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(C.type=g.WORD),this.start_of_statement(C)?D(this._flags.last_token,["var","let","const"])&&C.type===g.WORD&&(this._flags.declaration_statement=!0):!C.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(C):(this.handle_whitespace_and_comments(C),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(C,"while"))return this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(C,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(C,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(C),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(C),W(C,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||C.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(C),void(this._flags.last_word=C.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(C,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(C,M)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(C,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,H)||this._flags.last_token.text==="declare"&&D(C,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(C,["var","let","const"])||this._flags.last_token.text===":"||(W(C,"if")&&W(C.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(C,M)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!C.previous||C.previous.type!==g.WORD&&C.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(C),this._flags.last_word=C.text,C.type===g.RESERVED&&(C.text==="do"?this._flags.do_block=!0:C.text==="if"?this._flags.if_block=!0:C.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(C,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(C){this.start_of_statement(C)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(C);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(C)},J.prototype.handle_string=function(C){C.text.startsWith("\`")&&C.newlines===0&&C.whitespace_before===""&&(C.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(C)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(C),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C):!C.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||C.previous.text!=="]"&&C.previous.text!==")"||C.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(C)},J.prototype.handle_equals=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0},J.prototype.handle_comma=function(C){this.handle_whitespace_and_comments(C,!0),this.print_token(C),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)},J.prototype.handle_operator=function(C){var \$=C.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(C.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,M)||this._flags.last_token.text===",");if(this.start_of_statement(C)||this.handle_whitespace_and_comments(C,!\$),C.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(C);else if(C.text==="::")this.print_token(C);else if(y(C.text,["-","+"])&&this.start_of_object_property())this.print_token(C);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(C),C.text===":"&&this._flags.in_case)return this.print_token(C),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var xt=!0,Nt=!0,Et=!1;if(C.text===":"?this._flags.ternary_depth===0?xt=!1:(--this._flags.ternary_depth,Et=!0):C.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(C.text,A)){var ft=C.text===":",at=ft&&Et,_t=ft&&!Et;switch(this._options.operator_position){case B.before_newline:return this._output.space_before_token=!_t,this.print_token(C),ft&&!at||this.allow_wrap_or_preserved_newline(C),void(this._output.space_before_token=!0);case B.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(C):this._output.space_before_token=!1,this.print_token(C),void(this._output.space_before_token=!0);case B.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(C),xt=!(this._output.just_added_newline()||_t),this._output.space_before_token=xt,this.print_token(C),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(C),xt=!1,Nt=(Et=this._tokens.peek())&&y(Et.type,[g.WORD,g.RESERVED])):C.text==="..."?(this.allow_wrap_or_preserved_newline(C),xt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(C.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(C),Nt=xt=!1,!C.newlines||C.text!=="--"&&C.text!=="++"&&C.text!=="~"||((\$=D(this._flags.last_token,H)&&C.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(xt=!0),this._flags.last_token.type===g.RESERVED?xt=!0:this._flags.last_token.type===g.END_EXPR?xt=!(this._flags.last_token.text==="]"&&(C.text==="--"||C.text==="++")):this._flags.last_token.type===g.OPERATOR&&(xt=y(C.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(C.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||xt,this.print_token(C),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(C,\$){return this._output.raw?(this._output.add_raw_token(C),void(C.directives&&C.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):C.directives?(this.print_newline(!1,\$),this.print_token(C),C.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(C.text)||C.newlines?this.print_block_commment(C,\$):(this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(C,\$){var dt,xt,Nt,Et=function(_t){for(var mt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)mt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&mt.push(_t),mt}(C.text),ft=C.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(C),this._output.add_token(Et[0]),this.print_newline(!1,\$),1<Et.length){for(xt=function(_t,mt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==mt)return!1;return!0}(Et=Et.slice(1),"*"),Nt=function(_t,mt){for(var ee,Tt=0,Rt=_t.length;Tt<Rt;Tt++)if((ee=_t[Tt])&&ee.indexOf(mt)!==0)return!1;return!0}(Et,ft),xt&&(this._flags.alignment=1),dt=0;dt<Et.length;dt++)xt?(this.print_token_line_indentation(C),this._output.add_token(Et[dt].replace(/^\\s+/g,""))):Nt&&Et[dt]?(this.print_token_line_indentation(C),this._output.add_token(Et[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(Et[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(C,\$){C.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(C),this.print_newline(!1,\$)},J.prototype.handle_dot=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,H)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(C,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(C)},J.prototype.handle_unknown=function(C,\$){this.print_token(C),C.text[C.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(C){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(C)},E.exports.Beautifier=J},function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function x(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new x(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},x.prototype.get_indent_size=function(l,u){var f=this.__base_string_length;return f=(f=l<0?0:f)+l*this.__indent_size+(u=u||0)},x.prototype.get_indent_string=function(l,u){var f=this.__base_string;return u=u||0,l<0&&(l=0,f=""),u+=l*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},x.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},x.prototype.__add_column=function(){var l,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(l+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=d},function(E){E.exports.Token=function(S,x,d,l){this.type=S,this.text=x,this.comments_before=null,this.newlines=d||0,this.whitespace_before=l||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var x="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",d="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",l="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+d+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+u+"|["+x+d+l+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,x){var d=x(6).Options,l=["before-newline","after-newline","preserve-newline"];function u(b){d.call(this,b,"js");var b=this.raw_options.brace_style||null,M=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var A=0;A<M.length;A++)M[A]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=M[A];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",l),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new d,E.exports.Options=u},function(E){function S(l,u){this.raw_options=x(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function x(l,u){var f,b={};for(f in l=d(l))f!==u&&(b[f]=l[f]);if(u&&l[u])for(f in l[u])b[f]=l[u][f];return b}function d(l){var u,f={};for(u in l)f[u.replace(/-/g,"_")]=l[u];return f}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,f){if(f=this._get_selection_list(l,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return f[0]},S.prototype._get_selection_list=function(l,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(l,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(f){return u.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=x},function(E,S,U){var d=U(8).InputScanner,l=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function M(R,k){return k.indexOf(R)!==-1}function A(R,k){l.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,H=/[0-9]/,B=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(A.prototype=new l)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},A.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},A.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},A.prototype._reset=function(){g=!1},A.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},A.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},A.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&B.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},A.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},A.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},A.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(H)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return g=!0,this._create_token(y.COMMENT,k)}}else if(g&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,k);return null},A.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},A.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,it=new d(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){L+="\\\\",it.hasNext()&&(L+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},A.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&M(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&M(R.opened.previous.text,["if","while","for"])||M(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},A.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},A.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],C=L[2];if(!(L[L.length-1]||C.slice(0,8)==="![CDATA[")&&(C===Q||it&&C.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},A.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=A,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function x(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}x.prototype.restart=function(){this.__position=0},x.prototype.back=function(){0<this.__position&&--this.__position},x.prototype.hasNext=function(){return this.__position<this.__input_length},x.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},x.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},x.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},x.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},x.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},x.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},x.prototype.read=function(d,l,u){var f,b="";return d&&(f=this.match(d))&&(b+=f[0]),!l||!f&&d||(b+=this.readUntil(l,u)),b},x.prototype.readUntil=function(f,l){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,l&&(u+=f[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},x.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},x.prototype.get_regexp=function(d,f){var u=null,f=f&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,f):d&&(u=new RegExp(d.source,f)),u},x.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},x.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},x.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=x},function(E,S,x){function d(A,g){this._input=new l(A),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var l=x(8).InputScanner,u=x(3).Token,f=x(10).TokenStream,b=x(11).WhitespacePattern,M={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};d.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var A,g=new u(M.START,""),y=null,W=[],D=new f;g.type!==M.EOF;){for(A=this._get_next_token(g,y);this._is_comment(A);)D.add(A),A=this._get_next_token(g,y);D.isEmpty()||(A.comments_before=D,D=new f),A.parent=y,this._is_opening(A)?(W.push(y),y=A):y&&this._is_closing(A,y)&&((A.opened=y).closed=A,y=W.pop(),A.parent=y),(A.previous=g).next=A,this.__tokens.add(A),g=A}return this.__tokens},d.prototype._is_first_token=function(){return this.__tokens.isEmpty()},d.prototype._reset=function(){},d.prototype._get_next_token=function(A,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(M.RAW,y):this._create_token(M.EOF,"")},d.prototype._is_comment=function(A){return!1},d.prototype._is_opening=function(A){return!1},d.prototype._is_closing=function(A,g){return!1},d.prototype._create_token=function(A,g){return new u(A,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},d.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=d,E.exports.TOKEN=M},function(E){function S(x){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=x}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var x=null;return this.hasNext()&&(x=this.__tokens[this.__position],this.__position+=1),x},S.prototype.peek=function(x){var d=null;return x=x||0,d=0<=(x+=this.__position)&&x<this.__tokens_length?this.__tokens[x]:d},S.prototype.add=function(x){this.__parent_token&&(x.parent=this.__parent_token),this.__tokens.push(x),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,x){var d=x(12).Pattern;function l(u,f){d.call(this,u,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(l.prototype=new d).__set_whitespace_patterns=function(u,f){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},l.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(u=this.__split(this._newline_regexp,f),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),f},l.prototype.matching=function(u,f){var b=this._create();return b.__set_whitespace_patterns(u,f),b._update(),b},l.prototype._create=function(){return new l(this._input,this)},l.prototype.__split=function(u,f){for(var b=u.lastIndex=0,M=[],A=u.exec(f);A;)M.push(f.substring(b,A.index)),b=A.index+A[0].length,A=u.exec(f);return b<f.length?M.push(f.substring(b,f.length)):M.push(""),M},E.exports.WhitespacePattern=l},function(E){function S(x,d){this._input=x,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,d&&(this._starting_pattern=this._input.get_regexp(d._starting_pattern,!0),this._match_pattern=this._input.get_regexp(d._match_pattern,!0),this._until_pattern=this._input.get_regexp(d._until_pattern),this._until_after=d._until_after)}S.prototype.read=function(){var x=this._input.read(this._starting_pattern);return this._starting_pattern&&!x||(x+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),x},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(x){var d=this._create();return d._until_after=!0,d._until_pattern=this._input.get_regexp(x),d._update(),d},S.prototype.until=function(x){var d=this._create();return d._until_after=!1,d._until_pattern=this._input.get_regexp(x),d._update(),d},S.prototype.starting_with=function(x){var d=this._create();return d._starting_pattern=this._input.get_regexp(x,!0),d._update(),d},S.prototype.matching=function(x){var d=this._create();return d._match_pattern=this._input.get_regexp(x,!0),d._update(),d},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(x,d){x=typeof x=="string"?x:x.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(x+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(x+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(x){if(!x.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(x));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(x);return d},S.prototype.readIgnored=function(x){return x.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,x){var d=x(12).Pattern,l={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(f,b){d.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},l),this._excluded=Object.assign({},l),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new d(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new d)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},u.prototype.read_options=function(f){var b,M=this._create();for(b in l)M._disabled[b]=f.templating.indexOf(b)===-1;return M._update(),M},u.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},u.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},u.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},u.prototype._read_template=function(){var f,b="",M=this._input.peek();return M==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):M==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=u}],T={},O=function E(S){var x=T[S];return x!==void 0?x.exports:(x=T[S]={exports:{}},c[S](x,x.exports,E),x.exports)}(0);p=O})();var p,s=p;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var O=[,,function(x){function d(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function l(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(f,b){this.__indent_cache=new l(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new d(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}d.prototype.clone_empty=function(){var f=new d(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},d.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},d.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},d.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},d.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},d.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},d.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},d.prototype.is_empty=function(){return this.__items.length===0},d.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},d.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},d.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},d.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},d.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},d.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},d.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},l.prototype.get_indent_size=function(f,b){var M=this.__base_string_length;return M=(M=f<0?0:M)+f*this.__indent_size+(b=b||0)},l.prototype.get_indent_string=function(f,b){var M=this.__base_string;return b=b||0,f<0&&(f=0,M=""),b+=f*this.__indent_size,this.__ensure_cache(b),M+=this.__cache[b]},l.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},l.prototype.__add_column=function(){var f,b=this.__cache.length,M="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,M=new Array(f+1).join(this.__indent_string)),b&&(M+=new Array(b+1).join(" ")),this.__cache.push(M)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},u.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(f,b){for(var M=this.__lines.length-2;0<=M;){var A=this.__lines[M];if(A.is_empty())break;if(A.item(0).indexOf(f)!==0&&A.item(-1)!==b){this.__lines.splice(M+1,0,new d(this)),this.previous_line=this.__lines[this.__lines.length-2];break}M--}},x.exports.Output=u},function(x){x.exports.Token=function(d,l,u,f){this.type=d,this.text=l,this.comments_before=null,this.newlines=u||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(x){function d(f,b){this.raw_options=l(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function l(f,b){var M,A={};for(M in f=u(f))M!==b&&(A[M]=f[M]);if(b&&f[b])for(M in f[b])A[M]=f[b][M];return A}function u(f){var b,M={};for(b in f)M[b.replace(/-/g,"_")]=f[b];return M}d.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},d.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},d.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},d.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},d.prototype._get_selection=function(f,b,M){if(M=this._get_selection_list(f,b,M),M.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return M[0]},d.prototype._get_selection_list=function(f,b,M){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(M=M||[b[0]],!this._is_valid_selection(M,b))throw new Error("Invalid Default Value!");if(M=this._get_array(f,M),this._is_valid_selection(M,b))return M;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},d.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(M){return b.indexOf(M)===-1})},x.exports.Options=d,x.exports.normalizeOpts=u,x.exports.mergeOpts=l},,function(x){var d=RegExp.prototype.hasOwnProperty("sticky");function l(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}l.prototype.restart=function(){this.__position=0},l.prototype.back=function(){0<this.__position&&--this.__position},l.prototype.hasNext=function(){return this.__position<this.__input_length},l.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},l.prototype.peek=function(u){var f=null;return u=u||0,f=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):f},l.prototype.__match=function(u,f){u.lastIndex=f;var b=u.exec(this.__input);return!b||d&&u.sticky||b.index!==f&&(b=null),b},l.prototype.test=function(u,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(u,f)},l.prototype.testChar=function(u,f){return f=this.peek(f),u.lastIndex=0,f!==null&&u.test(f)},l.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},l.prototype.read=function(u,f,b){var M,A="";return u&&(M=this.match(u))&&(A+=M[0]),!f||!M&&u||(A+=this.readUntil(f,b)),A},l.prototype.readUntil=function(M,f){var b=this.__position,M=(M.lastIndex=this.__position,M.exec(this.__input));return M?(b=M.index,f&&(b+=M[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},l.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},l.prototype.get_regexp=function(u,M){var b=null,M=M&&d?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,M):u&&(b=new RegExp(u.source,M)),b},l.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},l.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},l.prototype.lookBack=function(u){var f=this.__position-1;return f>=u.length&&this.__input.substring(f-u.length,f).toLowerCase()===u},x.exports.InputScanner=l},function(x,d,l){function u(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new A(this._input)}var f=l(8).InputScanner,b=l(3).Token,M=l(10).TokenStream,A=l(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new M,this._reset();for(var y,W=new b(g.START,""),D=null,H=[],B=new M;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)B.add(y),y=this._get_next_token(W,D);B.isEmpty()||(y.comments_before=B,B=new M),y.parent=D,this._is_opening(y)?(H.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=H.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},x.exports.Tokenizer=u,x.exports.TOKEN=g},function(x){function d(l){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=l}d.prototype.restart=function(){this.__position=0},d.prototype.isEmpty=function(){return this.__tokens_length===0},d.prototype.hasNext=function(){return this.__position<this.__tokens_length},d.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__tokens[this.__position],this.__position+=1),l},d.prototype.peek=function(l){var u=null;return l=l||0,u=0<=(l+=this.__position)&&l<this.__tokens_length?this.__tokens[l]:u},d.prototype.add=function(l){this.__parent_token&&(l.parent=this.__parent_token),this.__tokens.push(l),this.__tokens_length+=1},x.exports.TokenStream=d},function(x,d,l){var u=l(12).Pattern;function f(b,M){u.call(this,b,M),M?this._line_regexp=this._input.get_regexp(M._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new u).__set_whitespace_patterns=function(b,M){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(M+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+M+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,M=this._input.read(this._match_pattern);return M===" "?this.whitespace_before_token=" ":M&&(b=this.__split(this._newline_regexp,M),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),M},f.prototype.matching=function(b,M){var A=this._create();return A.__set_whitespace_patterns(b,M),A._update(),A},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,M){for(var A=b.lastIndex=0,g=[],y=b.exec(M);y;)g.push(M.substring(A,y.index)),A=y.index+y[0].length,y=b.exec(M);return A<M.length?g.push(M.substring(A,M.length)):g.push(""),g},x.exports.WhitespacePattern=f},function(x){function d(l,u){this._input=l,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}d.prototype.read=function(){var l=this._input.read(this._starting_pattern);return this._starting_pattern&&!l||(l+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),l},d.prototype.read_match=function(){return this._input.match(this._match_pattern)},d.prototype.until_after=function(l){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.until=function(l){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.starting_with=function(l){var u=this._create();return u._starting_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype.matching=function(l){var u=this._create();return u._match_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype._create=function(){return new d(this._input,this)},d.prototype._update=function(){},x.exports.Pattern=d},function(x){function d(l,u){l=typeof l=="string"?l:l.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(l+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(l+/\\sbeautify\\signore:end\\s/.source+u,"g")}d.prototype.get_directives=function(l){if(!l.match(this.__directives_block_pattern))return null;for(var u={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(l));f;)u[f[1]]=f[2],f=this.__directive_pattern.exec(l);return u},d.prototype.readIgnored=function(l){return l.readUntilAfter(this.__directives_end_ignore_pattern)},x.exports.Directives=d},function(x,d,l){var u=l(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(M,A){u.call(this,M,A),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),A&&(this.__template_pattern=this._input.get_regexp(A.__template_pattern),this._excluded=Object.assign(this._excluded,A._excluded),this._disabled=Object.assign(this._disabled,A._disabled)),A=new u(M),this.__patterns={handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:A.starting_with(/{{{/).until_after(/}}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),php:A.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:A.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:A.starting_with(/{%/).until_after(/%}/),django_value:A.starting_with(/{{/).until_after(/}}/),django_comment:A.starting_with(/{#/).until_after(/#}/),smarty:A.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:A.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:A.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(M){var A=this._create();return A._disabled[M]=!0,A._update(),A},b.prototype.read_options=function(M){var A,g=this._create();for(A in f)g._disabled[A]=M.templating.indexOf(A)===-1;return g._update(),g},b.prototype.exclude=function(M){var A=this._create();return A._excluded[M]=!0,A._update(),A},b.prototype.read=function(){for(var M="",M=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),A=this._read_template();A;)this._match_pattern?A+=this._input.read(this._match_pattern):A+=this._input.readUntil(this.__template_pattern),M+=A,A=this._read_template();return this._until_after&&(M+=this._input.readUntilAfter(this._until_pattern)),M},b.prototype.__set_templated_pattern=function(){var M=[];this._disabled.php||M.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||M.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||M.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(M.push(this.__patterns.django._starting_pattern.source),M.push(this.__patterns.django_value._starting_pattern.source),M.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||M.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&M.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+M.join("|")+")")},b.prototype._read_template=function(){var M,A="",g=this._input.peek();return g==="<"?(M=this._input.peek(1),this._disabled.php||this._excluded.php||M!=="?"||(A=A||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||M!=="%"||(A=A||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(A=(A=(A=A||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(A=A||this.__patterns.django_value.read()),this._excluded.django||(A=(A=A||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(A=(A=(A=A||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),A},x.exports.TemplatablePattern=b},,,,function(x,d,l){var u=l(19).Beautifier,f=l(20).Options;x.exports=function(b,M,A,g){return new u(b,M,A,g).beautify()},x.exports.defaultOptions=function(){return new f}},function(x,d,l){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new M(I,R)}function f(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,it=L.next;it.type!==g.EOF&&L.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=l(20).Options,M=l(2).Output,A=l(21).Tokenizer,g=l(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function H(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function B(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}B.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},B.prototype.record_tag=function(I){I=new H(this._current_frame,I,this._printer.indent_level),this._current_frame=I},B.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},B.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},B.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},B.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),it=new A(I,this._options).tokenize(),J=(this._tag_stack=new B(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===g.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,it="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(C,\$){return new U(C,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);it=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=L.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=f(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===g.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===g.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},x.exports.Beautifier=U},function(x,d,l){var u=l(6).Options;function f(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new u,x.exports.Options=f},function(x,d,l){function u(B,U){f.call(this,B,U),this._current_tag_name="";var B=new A(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:B.until(/[\\n\\r\\t <]/),single_quote:B.until_after(/'/),double_quote:B.until_after(/"/),attribute:B.until(/[\\n\\r\\t =>]|\\/>/),element_name:B.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(B=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(B).until_after(B))}var f=l(9).Tokenizer,b=l(9).TOKEN,M=l(13).Directives,A=l(14).TemplatablePattern,g=l(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new M(/<\\!--/,/-->/);(u.prototype=new f)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,H){return D.type===y.TAG_CLOSE&&H&&((D.text===">"||D.text==="/>")&&H.text[0]==="<"||D.text==="}}"&&H.text[0]==="{"&&H.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,H){this._readWhitespace();var B=this._input.peek();return B===null?this._create_token(y.EOF,""):this._read_open_handlebars(B,H)||this._read_attribute(B,D,H)||this._read_close(B,H)||this._read_raw_content(B,D,H)||this._read_content_word(B)||this._read_comment_or_cdata(B)||this._read_processing(B)||this._read_open(B,H)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var H=null,B=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((B=this.__patterns.comment.read())?(U=W.get_directives(B))&&U.ignore==="start"&&(B+=W.readIgnored(this._input)):B=this.__patterns.cdata.read()),B&&((H=this._create_token(y.COMMENT,B)).directives=U)),H},u.prototype._read_processing=function(D){var H=null,B=null;return D==="<"&&(B=(D=this._input.peek(1))!=="!"&&D!=="?"?B:(B=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((H=this._create_token(y.COMMENT,B)).directives=null),H},u.prototype._read_open=function(D,H){var B=null,U=null;return H||D==="<"&&(B=this._input.next(),this._input.peek()==="/"&&(B+=this._input.next()),B+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,B)),U},u.prototype._read_open_handlebars=function(D,H){var B=null,U=null;return H||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(B=(B=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,B)):(B=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,B))),U},u.prototype._read_close=function(D,H){var B=null,U=null;return H&&(H.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(B=this._input.next(),D==="/"&&(B+=this._input.next()),U=this._create_token(y.TAG_CLOSE,B)):H.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,H,B){var U=null;return B&&B.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(B=this._input.next(),B+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,B)):(D=this.__patterns.attribute.read())&&(U=H.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,H,B){var U="";if(B&&B.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(H.type===y.TAG_CLOSE&&H.opened.text[0]==="<"&&H.text[0]!=="/")if(B=H.opened.text.substr(1).toLowerCase(),B==="script"||B==="style"){if(H=this._read_comment_or_cdata(D),H)return H.type=y.TEXT,H;U=this._input.readUntil(new RegExp("</"+B+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(B)&&(U=this._input.readUntil(new RegExp("</"+B+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var H="";if(H=(H=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():H)||this.__patterns.word.read())return this._create_token(y.TEXT,H)},x.exports.Tokenizer=u,x.exports.TOKEN=y}],E={},S=function x(d){var l=E[d];return l!==void 0?l.exports:(l=E[d]={exports:{}},O[d](l,l.exports,x),l.exports)}(18);p=S})();var p,s,c,T=p;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(O){var E=O("./beautify"),S=O("./beautify-css");return{html_beautify:function(x,d){return T(x,d,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),c=require("./beautify-css.js"),exports.html_beautify=function(O,E){return T(O,E,s.js_beautify,c.css_beautify)}):typeof window<"u"?window.html_beautify=function(O,E){return T(O,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(O,E){return T(O,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var c=[,,function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function x(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new x(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},x.prototype.get_indent_size=function(l,u){var f=this.__base_string_length;return f=(f=l<0?0:f)+l*this.__indent_size+(u=u||0)},x.prototype.get_indent_string=function(l,u){var f=this.__base_string;return u=u||0,l<0&&(l=0,f=""),u+=l*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},x.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},x.prototype.__add_column=function(){var l,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(l+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},E.exports.Output=d},,,,function(E){function S(l,u){this.raw_options=x(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function x(l,u){var f,b={};for(f in l=d(l))f!==u&&(b[f]=l[f]);if(u&&l[u])for(f in l[u])b[f]=l[u][f];return b}function d(l){var u,f={};for(u in l)f[u.replace(/-/g,"_")]=l[u];return f}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,f){if(f=this._get_selection_list(l,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return f[0]},S.prototype._get_selection_list=function(l,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(l,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(f){return u.indexOf(f)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=x},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function x(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}x.prototype.restart=function(){this.__position=0},x.prototype.back=function(){0<this.__position&&--this.__position},x.prototype.hasNext=function(){return this.__position<this.__input_length},x.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},x.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},x.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},x.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},x.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},x.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},x.prototype.read=function(d,l,u){var f,b="";return d&&(f=this.match(d))&&(b+=f[0]),!l||!f&&d||(b+=this.readUntil(l,u)),b},x.prototype.readUntil=function(f,l){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,l&&(u+=f[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},x.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},x.prototype.get_regexp=function(d,f){var u=null,f=f&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,f):d&&(u=new RegExp(d.source,f)),u},x.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},x.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},x.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=x},,,,,function(E){function S(x,d){x=typeof x=="string"?x:x.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(x+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(x+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(x){if(!x.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(x));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(x);return d},S.prototype.readIgnored=function(x){return x.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,x){var d=x(16).Beautifier,l=x(17).Options;E.exports=function(u,f){return new d(u,f).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,x){var d=x(17).Options,l=x(2).Output,u=x(8).InputScanner,f=new(x(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,M=/\\r\\n|[\\r\\n]/g,A=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(H,B){this._source_text=H||"",this._options=new d(B),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(H){var B="";for(this._ch=this._input.next();this._ch;){if(B+=this._ch,this._ch==="\\\\")B+=this._input.next();else if(H.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return B},D.prototype.eatWhitespace=function(H){for(var B=A.test(this._input.peek()),U=0;A.test(this._input.peek());)this._ch=this._input.next(),H&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return B},D.prototype.foundNestedPseudoClass=function(){for(var H=0,B=1,U=this._input.peek(B);U;){if(U==="{")return!0;if(U==="(")H+=1;else if(U===")"){if(H===0)return!1;--H}else if(U===";"||U==="}")return!1;B++,U=this._input.peek(B)}return!1},D.prototype.print_string=function(H){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(H)},D.prototype.preserveSingleSpace=function(H){H&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var H,B,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(M,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new l(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,it=this._ch,J=!1;H=this._input.read(g)!=="",B=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),C=f.get_directives(lt);C&&C.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(H),this.print_string(this._ch),C=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),C.match(/[ :]\$/)&&(C=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(C),this._output.space_before_token=!0),I===0&&C.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(H),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(H),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(B==="("?this._output.space_before_token=!1:B!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),B==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(B==='"'||B==="'"||H),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(H||U),this.print_string(this._ch),k&&B==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(H),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),A.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(B==='"'||B==="'"||H),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&A.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,x){var d=x(6).Options;function l(f){d.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var M=0;M<b.length;M++)b[M]!=="expand"?this.brace_style="collapse":this.brace_style=b[M]}l.prototype=new d,E.exports.Options=l}],T={},O=function E(S){var x=T[S];return x!==void 0?x.exports:(x=T[S]={exports:{}},c[S](x,x.exports,E),x.exports)}(15);p=O})();var p,s=p;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineSimpleMode=function(u,f){p.defineMode(u,function(b){return p.simpleMode(b,f)})},p.simpleMode=function(u,f){s(f,"start");var b={},M=f.meta||{},A=!1;for(var g in f)if(g!=M&&f.hasOwnProperty(g))for(var y=b[g]=[],W=f[g],D=0;D<W.length;D++){var H=W[D];y.push(new O(H,f)),(H.indent||H.dedent)&&(A=!0)}var B={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:A?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=p.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:p.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:l(b,M)};if(M)for(var U in M)M.hasOwnProperty(U)&&(B[U]=M[U]);return B};function s(u,f){if(!u.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function c(u,f){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((f===!1?"":"^")+"(?:"+u+")",b)}function T(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var f=[],b=0;b<u.length;b++)f.push(u[b]&&u[b].replace(/\\./g," "));return f}function O(u,f){(u.next||u.push)&&s(f,u.next||u.push),this.regex=c(u.regex),this.token=T(u.token),this.data=u}function E(u,f){return function(b,M){if(M.pending){var A=M.pending.shift();return M.pending.length==0&&(M.pending=null),b.pos+=A.text.length,A.token}if(M.local)if(M.local.end&&b.match(M.local.end)){var g=M.local.endToken||null;return M.local=M.localState=null,g}else{var g=M.local.mode.token(b,M.localState),y;return M.local.endScan&&(y=M.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=u[M.state],D=0;D<W.length;D++){var H=W[D],B=(!H.data.sol||b.sol())&&b.match(H.regex);if(B){H.data.next?M.state=H.data.next:H.data.push?((M.stack||(M.stack=[])).push(M.state),M.state=H.data.push):H.data.pop&&M.stack&&M.stack.length&&(M.state=M.stack.pop()),H.data.mode&&x(f,M,H.data.mode,H.token),H.data.indent&&M.indent.push(b.indentation()+f.indentUnit),H.data.dedent&&M.indent.pop();var U=H.token;if(U&&U.apply&&(U=U(B)),B.length>2&&H.token&&typeof H.token!="string"){for(var Z=2;Z<B.length;Z++)B[Z]&&(M.pending||(M.pending=[])).push({text:B[Z],token:H.token[Z-1]});return b.backUp(B[0].length-(B[1]?B[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,f){if(u===f)return!0;if(!u||typeof u!="object"||!f||typeof f!="object")return!1;var b=0;for(var M in u)if(u.hasOwnProperty(M)){if(!f.hasOwnProperty(M)||!S(u[M],f[M]))return!1;b++}for(var M in f)f.hasOwnProperty(M)&&b--;return b==0}function x(u,f,b,M){var A;if(b.persistent)for(var g=f.persistentStates;g&&!A;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(A=g);var y=A?A.mode:b.mode||p.getMode(u,b.spec),W=A?A.state:p.startState(y);b.persistent&&!A&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&c(b.end),endScan:b.end&&b.forceEnd!==!1&&c(b.end,!1),endToken:M&&M.join?M[M.length-1]:M}}function d(u,f){for(var b=0;b<f.length;b++)if(f[b]===u)return!0}function l(u,f){return function(b,M,A){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,M,A);if(b.indent==null||b.local||f.dontIndentStates&&d(b.state,f.dontIndentStates)>-1)return p.Pass;var g=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var H=D.regex.exec(M);if(H&&H[0]){g--,(D.next||D.push)&&(y=u[D.next||D.push]),M=M.slice(H[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){const s=["س","ر","ج"],c=["ا","ب","ج","د","ه","و"],T=s.map(it=>Rr(it)).join(""),O=\`[\${c.map(it=>Rr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${T}›»]\`,x=Rr("م"),d=\`(?:\${x}\${Ki}(?:\${ea}|\${O}){1,6}\${Gi})\`,l=\`(?:\${x}\${Ki}(?:\${na}|\${E}){1,6}\${Gi})\`,u=\`(?:\${d}|\${l})\`,f=\`[^›\${Mr}]\`,b=it=>RegExp(M(it),"u"),M=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Rr(lt.ar))),\`(?:\${J.join("|")})\`},A=()=>RegExp(\`\${Ki}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Gi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Mr}(?:\${S}|\${u})\`,H=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),B=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Mr}»]|\${Mr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Yh})|(?:\${xu})\`,"u"),k=()=>RegExp(\`(?!\${M(Uh)}(?:\${Xh}|\\\\s|\$))\${Br}\`,"u"),K=()=>b(Js),L=()=>b(Vs),Q=()=>b(ta);p.defineSimpleMode("seen-ar",{start:[{regex:A(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:B(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:H(),token:"string-2"},{regex:R(),token:"number"},...Su,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Eu}),p.defineMIME("text/x-seen-ar-src","seen-ar"),p.defineMIME("text/seen-ar","seen-ar")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){const s=\`[nrt'"]\`,c=\`u\${Ki}[\\\\da-fA-F]{1,6}\${Gi}\`,T=\`[^'\${Hs}]\`;function O(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${Ki}\${Dr}\`),S=()=>RegExp(".*"),x=()=>RegExp(\`.*?\${Dr}\${Gi}\`),d=()=>RegExp(\`\${Dr}\${Dr}.*\`),l=\`\${Hs}(?:\${s}|\${c})\`,u=()=>RegExp(\`'(?:\${T}|\${l})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),M=()=>RegExp('"""'),A=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${T}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${xu})\`),D=()=>RegExp(\`\${Br}\`,"u"),H=()=>O(Js),B=()=>O(Vs),U=()=>O(ta);p.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:d(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:A(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Su,{regex:H(),token:"keyword"},{regex:B(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:x(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:M(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Eu}),p.defineMIME("text/x-seen-en-src","seen-en"),p.defineMIME("text/seen-en","seen-en")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("javascript",function(s,c){var T=s.indentUnit,O=c.statementIndent,E=c.jsonld,S=c.json||E,x=c.trackScope!==!1,d=c.typescript,l=c.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function w(Xt){return{type:Xt,style:"keyword"}}var P=w("keyword a"),z=w("keyword b"),G=w("keyword c"),wt=w("keyword d"),Ct=w("operator"),Lt={type:"atom",style:"atom"};return{if:w("if"),while:P,with:P,else:z,do:z,try:z,finally:z,return:wt,break:wt,continue:wt,new:w("new"),delete:G,void:G,throw:G,debugger:w("debugger"),var:w("var"),const:w("var"),let:w("var"),function:w("function"),catch:w("catch"),for:w("for"),switch:w("switch"),case:w("case"),default:w("default"),in:Ct,typeof:Ct,instanceof:Ct,true:Lt,false:Lt,null:Lt,undefined:Lt,NaN:Lt,Infinity:Lt,this:w("this"),class:w("class"),super:w("atom"),yield:G,export:w("export"),import:w("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function M(w){for(var P=!1,z,G=!1;(z=w.next())!=null;){if(!P){if(z=="/"&&!G)return;z=="["?G=!0:G&&z=="]"&&(G=!1)}P=!P&&z=="\\\\"}}var A,g;function y(w,P,z){return A=w,g=z,P}function W(w,P){var z=w.next();if(z=='"'||z=="'")return P.tokenize=D(z),P.tokenize(w,P);if(z=="."&&w.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(z=="."&&w.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(z))return y(z);if(z=="="&&w.eat(">"))return y("=>","operator");if(z=="0"&&w.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(z))return w.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(z=="/")return w.eat("*")?(P.tokenize=H,H(w,P)):w.eat("/")?(w.skipToEnd(),y("comment","comment")):ze(w,P,1)?(M(w),w.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(w.eat("="),y("operator","operator",w.current()));if(z=="\`")return P.tokenize=B,B(w,P);if(z=="#"&&w.peek()=="!")return w.skipToEnd(),y("meta","meta");if(z=="#"&&w.eatWhile(l))return y("variable","property");if(z=="<"&&w.match("!--")||z=="-"&&w.match("->")&&!/\\S/.test(w.string.slice(0,w.start)))return w.skipToEnd(),y("comment","comment");if(f.test(z))return(z!=">"||!P.lexical||P.lexical.type!=">")&&(w.eat("=")?(z=="!"||z=="=")&&w.eat("="):/[<>*+\\-|&?]/.test(z)&&(w.eat(z),z==">"&&w.eat(z))),z=="?"&&w.eat(".")?y("."):y("operator","operator",w.current());if(l.test(z)){w.eatWhile(l);var G=w.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var wt=u[G];return y(wt.type,wt.style,G)}if(G=="async"&&w.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(w){return function(P,z){var G=!1,wt;if(E&&P.peek()=="@"&&P.match(b))return z.tokenize=W,y("jsonld-keyword","meta");for(;(wt=P.next())!=null&&!(wt==w&&!G);)G=!G&&wt=="\\\\";return G||(z.tokenize=W),y("string","string")}}function H(w,P){for(var z=!1,G;G=w.next();){if(G=="/"&&z){P.tokenize=W;break}z=G=="*"}return y("comment","comment")}function B(w,P){for(var z=!1,G;(G=w.next())!=null;){if(!z&&(G=="\`"||G=="\$"&&w.eat("{"))){P.tokenize=W;break}z=!z&&G=="\\\\"}return y("quasi","string-2",w.current())}var U="([{}])";function Z(w,P){P.fatArrowAt&&(P.fatArrowAt=null);var z=w.string.indexOf("=>",w.start);if(!(z<0)){if(d){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(w.string.slice(w.start,z));G&&(z=G.index)}for(var wt=0,Ct=!1,Lt=z-1;Lt>=0;--Lt){var Xt=w.string.charAt(Lt),xe=U.indexOf(Xt);if(xe>=0&&xe<3){if(!wt){++Lt;break}if(--wt==0){Xt=="("&&(Ct=!0);break}}else if(xe>=3&&xe<6)++wt;else if(l.test(Xt))Ct=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Lt){if(Lt==0)return;var kt=w.string.charAt(Lt-1);if(kt==Xt&&w.string.charAt(Lt-2)!="\\\\"){Lt--;break}}else if(Ct&&!wt){++Lt;break}}Ct&&!wt&&(P.fatArrowAt=Lt)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(w,P,z,G,wt,Ct){this.indented=w,this.column=P,this.type=z,this.prev=wt,this.info=Ct,G!=null&&(this.align=G)}function I(w,P){if(!x)return!1;for(var z=w.localVars;z;z=z.next)if(z.name==P)return!0;for(var G=w.context;G;G=G.prev)for(var z=G.vars;z;z=z.next)if(z.name==P)return!0}function R(w,P,z,G,wt){var Ct=w.cc;for(k.state=w,k.stream=wt,k.marked=null,k.cc=Ct,k.style=P,w.lexical.hasOwnProperty("align")||(w.lexical.align=!0);;){var Lt=Ct.length?Ct.pop():S?Tt:mt;if(Lt(z,G)){for(;Ct.length&&Ct[Ct.length-1].lex;)Ct.pop()();return k.marked?k.marked:z=="variable"&&I(w,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var w=arguments.length-1;w>=0;w--)k.cc.push(arguments[w])}function L(){return K.apply(null,arguments),!0}function Q(w,P){for(var z=P;z;z=z.next)if(z.name==w)return!0;return!1}function it(w){var P=k.state;if(k.marked="def",!!x){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var z=J(w,P.context);if(z!=null){P.context=z;return}}else if(!Q(w,P.localVars)){P.localVars=new \$(w,P.localVars);return}}c.globalVars&&!Q(w,P.globalVars)&&(P.globalVars=new \$(w,P.globalVars))}}function J(w,P){if(P)if(P.block){var z=J(w,P.prev);return z?z==P.prev?P:new C(z,P.vars,!0):null}else return Q(w,P.vars)?P:new C(P.prev,new \$(w,P.vars),!1);else return null}function lt(w){return w=="public"||w=="private"||w=="protected"||w=="abstract"||w=="readonly"}function C(w,P,z){this.prev=w,this.vars=P,this.block=z}function \$(w,P){this.name=w,this.next=P}var dt=new \$("this",new \$("arguments",null));function xt(){k.state.context=new C(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new C(k.state.context,k.state.localVars,!0),k.state.localVars=null}xt.lex=Nt.lex=!0;function Et(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}Et.lex=!0;function ft(w,P){var z=function(){var G=k.state,wt=G.indented;if(G.lexical.type=="stat")wt=G.lexical.indented;else for(var Ct=G.lexical;Ct&&Ct.type==")"&&Ct.align;Ct=Ct.prev)wt=Ct.indented;G.lexical=new rt(wt,k.stream.column(),w,null,G.lexical,P)};return z.lex=!0,z}function at(){var w=k.state;w.lexical.prev&&(w.lexical.type==")"&&(w.indented=w.lexical.indented),w.lexical=w.lexical.prev)}at.lex=!0;function _t(w){function P(z){return z==w?L():w==";"||z=="}"||z==")"||z=="]"?K():L(P)}return P}function mt(w,P){return w=="var"?L(ft("vardef",P),Ke,_t(";"),at):w=="keyword a"?L(ft("form"),Ee,mt,at):w=="keyword b"?L(ft("form"),mt,at):w=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),ke,_t(";"),at):w=="debugger"?L(_t(";")):w=="{"?L(ft("}"),Nt,Pe,at,Et):w==";"?L():w=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,mt,at,In)):w=="function"?L(We):w=="for"?L(ft("form"),Nt,Ji,mt,Et,at):w=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form",w=="class"?w:P),tr,at)):w=="variable"?d&&P=="declare"?(k.marked="keyword",L(mt)):d&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Hn):P=="type"?L(Vi,_t("operator"),nt,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),Pe,at,at)):d&&P=="namespace"?(k.marked="keyword",L(ft("form"),Tt,mt,at)):d&&P=="abstract"?(k.marked="keyword",L(mt)):L(ft("stat"),Pn):w=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,Pe,at,at,Et):w=="case"?L(Tt,_t(":")):w=="default"?L(_t(":")):w=="catch"?L(ft("form"),xt,ee,mt,at,Et):w=="export"?L(ft("stat"),un,at):w=="import"?L(ft("stat"),Xe,at):w=="async"?L(mt):P=="@"?L(Tt,mt):K(ft("stat"),Tt,_t(";"),at)}function ee(w){if(w=="(")return L(Ae,_t(")"))}function Tt(w,P){return we(w,P,!1)}function Rt(w,P){return we(w,P,!0)}function Ee(w){return w!="("?K():L(ft(")"),ke,_t(")"),at)}function we(w,P,z){if(k.state.fatArrowAt==k.stream.start){var G=z?hi:sn;if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,_t("=>"),G,Et);if(w=="variable")return K(xt,fe,_t("=>"),G,Et)}var wt=z?It:ce;return ot.hasOwnProperty(w)?L(wt):w=="function"?L(We,wt):w=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form"),on,at)):w=="keyword c"||w=="async"?L(z?Rt:Tt):w=="("?L(ft(")"),ke,_t(")"),at,wt):w=="operator"||w=="spread"?L(z?Rt:Tt):w=="["?L(ft("]"),\$e,at,wt):w=="{"?xn(Wn,"}",null,wt):w=="quasi"?K(yt,wt):w=="new"?L(\$i(z)):L()}function ke(w){return w.match(/[;\\}\\)\\],]/)?K():K(Tt)}function ce(w,P){return w==","?L(ke):It(w,P,!1)}function It(w,P,z){var G=z==!1?ce:It,wt=z==!1?Tt:Rt;if(w=="=>")return L(xt,z?hi:sn,Et);if(w=="operator")return/\\+\\+|--/.test(P)||d&&P=="!"?L(G):d&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),zt(nt,">"),at,G):P=="?"?L(Tt,_t(":"),wt):L(wt);if(w=="quasi")return K(yt,G);if(w!=";"){if(w=="(")return xn(Rt,")","call",G);if(w==".")return L(Yi,G);if(w=="[")return L(ft("]"),ke,_t("]"),at,G);if(d&&P=="as")return k.marked="keyword",L(nt,G);if(w=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(wt)}}function yt(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?L(yt):L(ke,Ue)}function Ue(w){if(w=="}")return k.marked="string-2",k.state.tokenize=B,L(yt)}function sn(w){return Z(k.stream,k.state),K(w=="{"?mt:Tt)}function hi(w){return Z(k.stream,k.state),K(w=="{"?mt:Rt)}function \$i(w){return function(P){return P=="."?L(w?ci:jr):P=="variable"&&d?L(re,w?It:ce):K(w?Rt:Tt)}}function jr(w,P){if(P=="target")return k.marked="keyword",L(ce)}function ci(w,P){if(P=="target")return k.marked="keyword",L(It)}function Pn(w){return w==":"?L(at,mt):K(ce,_t(";"),at)}function Yi(w){if(w=="variable")return k.marked="property",L()}function Wn(w,P){if(w=="async")return k.marked="property",L(Wn);if(w=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(fi);var z;return d&&k.state.fatArrowAt==k.stream.start&&(z=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+z[0].length),L(Fe)}else{if(w=="number"||w=="string")return k.marked=E?"property":k.style+" property",L(Fe);if(w=="jsonld-keyword")return L(Fe);if(d&&lt(P))return k.marked="keyword",L(Wn);if(w=="[")return L(Tt,Te,_t("]"),Fe);if(w=="spread")return L(Rt,Fe);if(P=="*")return k.marked="keyword",L(Wn);if(w==":")return K(Fe)}}function fi(w){return w!="variable"?K(Fe):(k.marked="property",L(We))}function Fe(w){if(w==":")return L(Rt);if(w=="(")return K(We)}function zt(w,P,z){function G(wt,Ct){if(z?z.indexOf(wt)>-1:wt==","){var Lt=k.state.lexical;return Lt.info=="call"&&(Lt.pos=(Lt.pos||0)+1),L(function(Xt,xe){return Xt==P||xe==P?K():K(w)},G)}return wt==P||Ct==P?L():z&&z.indexOf(";")>-1?K(w):L(_t(P))}return function(wt,Ct){return wt==P||Ct==P?L():K(w,G)}}function xn(w,P,z){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,z),zt(w,P),at)}function Pe(w){return w=="}"?L():K(mt,Pe)}function Te(w,P){if(d){if(w==":")return L(nt);if(P=="?")return L(Te)}}function Ur(w,P){if(d&&(w==":"||P=="in"))return L(nt)}function Ce(w){if(d&&w==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Tt,Qi,nt):L(nt)}function Qi(w,P){if(P=="is")return k.marked="keyword",L()}function nt(w,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:nt);if(w=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(nt);if(w=="string"||w=="number"||w=="atom")return L(ue);if(w=="[")return L(ft("]"),zt(nt,"]",","),at,ue);if(w=="{")return L(ft("}"),ie,at,ue);if(w=="(")return L(zt(oe,")"),_i,ue);if(w=="<")return L(zt(nt,">"),nt);if(w=="quasi")return K(Ht,ue)}function _i(w){if(w=="=>")return L(nt)}function ie(w){return w.match(/[\\}\\)\\]]/)?L():w==","||w==";"?L(ie):K(Ft,ie)}function Ft(w,P){if(w=="variable"||k.style=="keyword")return k.marked="property",L(Ft);if(P=="?"||w=="number"||w=="string")return L(Ft);if(w==":")return L(nt);if(w=="[")return L(_t("variable"),Ur,_t("]"),Ft);if(w=="(")return K(Ie,Ft);if(!w.match(/[;\\}\\)\\],]/))return L()}function Ht(w,P){return w!="quasi"?K():P.slice(P.length-2)!="\${"?L(Ht):L(nt,Zi)}function Zi(w){if(w=="}")return k.marked="string-2",k.state.tokenize=B,L(Ht)}function oe(w,P){return w=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):w==":"?L(nt):w=="spread"?L(oe):K(nt)}function ue(w,P){if(P=="<")return L(ft(">"),zt(nt,">"),at,ue);if(P=="|"||w=="."||P=="&")return L(nt);if(w=="[")return L(nt,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(nt);if(P=="?")return L(nt,_t(":"),nt)}function re(w,P){if(P=="<")return L(ft(">"),zt(nt,">"),at,ue)}function Sn(){return K(nt,pi)}function pi(w,P){if(P=="=")return L(nt)}function Ke(w,P){return P=="enum"?(k.marked="keyword",L(Hn)):K(fe,Te,Le,Gr)}function fe(w,P){if(d&&lt(P))return k.marked="keyword",L(fe);if(w=="variable")return it(P),L();if(w=="spread")return L(fe);if(w=="[")return xn(Kr,"]");if(w=="{")return xn(di,"}")}function di(w,P){return w=="variable"&&!k.stream.match(/^\\s*:/,!1)?(it(P),L(Le)):(w=="variable"&&(k.marked="property"),w=="spread"?L(fe):w=="}"?K():w=="["?L(Tt,_t("]"),_t(":"),di):L(_t(":"),fe,Le))}function Kr(){return K(fe,Le)}function Le(w,P){if(P=="=")return L(Rt)}function Gr(w){if(w==",")return L(Ke)}function In(w,P){if(w=="keyword b"&&P=="else")return L(ft("form","else"),mt,at)}function Ji(w,P){if(P=="await")return L(Ji);if(w=="(")return L(ft(")"),gi,at)}function gi(w){return w=="var"?L(Ke,an):w=="variable"?L(an):K(an)}function an(w,P){return w==")"?L():w==";"?L(an):P=="in"||P=="of"?(k.marked="keyword",L(Tt,an)):K(Tt,an)}function We(w,P){if(P=="*")return k.marked="keyword",L(We);if(w=="variable")return it(P),L(We);if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,Ce,mt,Et);if(d&&P=="<")return L(ft(">"),zt(Sn,">"),at,We)}function Ie(w,P){if(P=="*")return k.marked="keyword",L(Ie);if(w=="variable")return it(P),L(Ie);if(w=="(")return L(xt,ft(")"),zt(Ae,")"),at,Ce,Et);if(d&&P=="<")return L(ft(">"),zt(Sn,">"),at,Ie)}function Vi(w,P){if(w=="keyword"||w=="variable")return k.marked="type",L(Vi);if(P=="<")return L(ft(">"),zt(Sn,">"),at)}function Ae(w,P){return P=="@"&&L(Tt,Ae),w=="spread"?L(Ae):d&&lt(P)?(k.marked="keyword",L(Ae)):d&&w=="this"?L(Te,Le):K(fe,Te,Le)}function on(w,P){return w=="variable"?tr(w,P):zn(w,P)}function tr(w,P){if(w=="variable")return it(P),L(zn)}function zn(w,P){if(P=="<")return L(ft(">"),zt(Sn,">"),at,zn);if(P=="extends"||P=="implements"||d&&w==",")return P=="implements"&&(k.marked="keyword"),L(d?nt:Tt,zn);if(w=="{")return L(ft("}"),me,at)}function me(w,P){if(w=="async"||w=="variable"&&(P=="static"||P=="get"||P=="set"||d&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(w=="variable"||k.style=="keyword")return k.marked="property",L(Ge,me);if(w=="number"||w=="string")return L(Ge,me);if(w=="[")return L(Tt,Te,_t("]"),Ge,me);if(P=="*")return k.marked="keyword",L(me);if(d&&w=="(")return K(Ie,me);if(w==";"||w==",")return L(me);if(w=="}")return L();if(P=="@")return L(Tt,me)}function Ge(w,P){if(P=="!"||P=="?")return L(Ge);if(w==":")return L(nt,Le);if(P=="=")return L(Rt);var z=k.state.lexical.prev,G=z&&z.info=="interface";return K(G?Ie:We)}function un(w,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Tt,_t(";"))):w=="{"?L(zt(er,"}"),ct,_t(";")):K(mt)}function er(w,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(w=="variable")return K(Rt,er)}function Xe(w){return w=="string"?L():w=="("?K(Tt):w=="."?K(ce):K(ln,vi,ct)}function ln(w,P){return w=="{"?xn(ln,"}"):(w=="variable"&&it(P),P=="*"&&(k.marked="keyword"),L(Bt))}function vi(w){if(w==",")return L(ln,vi)}function Bt(w,P){if(P=="as")return k.marked="keyword",L(ln)}function ct(w,P){if(P=="from")return k.marked="keyword",L(Tt)}function \$e(w){return w=="]"?L():K(zt(Rt,"]"))}function Hn(){return K(ft("form"),fe,_t("{"),ft("}"),zt(Oe,"}"),at,at)}function Oe(){return K(fe,Le)}function Ot(w,P){return w.lastType=="operator"||w.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(w,P,z){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(w.string.slice(0,w.pos-(z||0)))}return{startState:function(w){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((w||0)-T,0,"block",!1),localVars:c.localVars,context:c.localVars&&new C(null,null,!1),indented:w||0};return c.globalVars&&typeof c.globalVars=="object"&&(P.globalVars=c.globalVars),P},token:function(w,P){if(w.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=w.indentation(),Z(w,P)),P.tokenize!=H&&w.eatSpace())return null;var z=P.tokenize(w,P);return A=="comment"?z:(P.lastType=A=="operator"&&(g=="++"||g=="--")?"incdec":A,R(P,z,A,g,w))},indent:function(w,P){if(w.tokenize==H||w.tokenize==B)return p.Pass;if(w.tokenize!=W)return 0;var z=P&&P.charAt(0),G=w.lexical,wt;if(!/^\\s*else\\b/.test(P))for(var Ct=w.cc.length-1;Ct>=0;--Ct){var Lt=w.cc[Ct];if(Lt==at)G=G.prev;else if(Lt!=In&&Lt!=Et)break}for(;(G.type=="stat"||G.type=="form")&&(z=="}"||(wt=w.cc[w.cc.length-1])&&(wt==ce||wt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;O&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,xe=z==Xt;return Xt=="vardef"?G.indented+(w.lastType=="operator"||w.lastType==","?G.info.length+1:0):Xt=="form"&&z=="{"?G.indented:Xt=="form"?G.indented+T:Xt=="stat"?G.indented+(Ot(w,P)?O||T:0):G.info=="switch"&&!xe&&c.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?T:2*T):G.align?G.column+(xe?0:1):G.indented+(xe?0:T)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:ze,skipExpression:function(w){R(w,"atom","atom","true",new p.StringStream("",2,null))}}}),p.registerHelper("wordChars","javascript",/[\\w\$]/),p.defineMIME("text/javascript","javascript"),p.defineMIME("text/ecmascript","javascript"),p.defineMIME("application/javascript","javascript"),p.defineMIME("application/x-javascript","javascript"),p.defineMIME("application/ecmascript","javascript"),p.defineMIME("application/json",{name:"javascript",json:!0}),p.defineMIME("application/x-json",{name:"javascript",json:!0}),p.defineMIME("application/manifest+json",{name:"javascript",json:!0}),p.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),p.defineMIME("text/typescript",{name:"javascript",typescript:!0}),p.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],p):p(CodeMirror)})(function(p){p.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),p.defineMIME("text/x-rustsrc","rust"),p.defineMIME("text/rust","rust")});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(O,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=O+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var x=this;p.on(this.inner,"mousedown",function(l){if(l.which!=1)return;p.e_preventDefault(l);var u=x.orientation=="horizontal"?"pageX":"pageY",f=l[u],b=x.pos;function M(){p.off(document,"mousemove",A),p.off(document,"mouseup",M)}function A(g){if(g.which!=1)return M();x.moveTo(b+(g[u]-f)*(x.total/x.size))}p.on(document,"mousemove",A),p.on(document,"mouseup",M)}),p.on(this.node,"click",function(l){p.e_preventDefault(l);var u=x.inner.getBoundingClientRect(),f;x.orientation=="horizontal"?f=l.clientX<u.left?-1:l.clientX>u.right?1:0:f=l.clientY<u.top?-1:l.clientY>u.bottom?1:0,x.moveTo(x.pos+f*x.screen)});function d(l){var u=p.wheelEventPixels(l)[x.orientation=="horizontal"?"x":"y"],f=x.pos;x.moveTo(x.pos+u),x.pos!=f&&p.e_preventDefault(l)}p.on(this.node,"mousewheel",d),p.on(this.node,"DOMMouseScroll",d)}s.prototype.setPos=function(O,E){return O<0&&(O=0),O>this.total-this.screen&&(O=this.total-this.screen),!E&&O==this.pos?!1:(this.pos=O,this.inner.style[this.orientation=="horizontal"?"left":"top"]=O*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(O){this.setPos(O)&&this.scroll(O,this.orientation)};var c=10;s.prototype.update=function(O,E,S){var x=this.screen!=E||this.total!=O||this.size!=S;x&&(this.screen=E,this.total=O,this.size=S);var d=this.screen*(this.size/this.total);d<c&&(this.size-=c-d,d=c),this.inner.style[this.orientation=="horizontal"?"width":"height"]=d+"px",this.setPos(this.pos,x)};function T(O,E,S){this.addClass=O,this.horiz=new s(O,"horizontal",S),E(this.horiz.node),this.vert=new s(O,"vertical",S),E(this.vert.node),this.width=null}T.prototype.update=function(O){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,x=O.scrollWidth>O.clientWidth+1,d=O.scrollHeight>O.clientHeight+1;return this.vert.node.style.display=d?"block":"none",this.horiz.node.style.display=x?"block":"none",d&&(this.vert.update(O.scrollHeight,O.clientHeight,O.viewHeight-(x?S:0)),this.vert.node.style.bottom=x?S+"px":"0"),x&&(this.horiz.update(O.scrollWidth,O.clientWidth,O.viewWidth-(d?S:0)-O.barLeft),this.horiz.node.style.right=d?S+"px":"0",this.horiz.node.style.left=O.barLeft+"px"),{right:d?S:0,bottom:x?S:0}},T.prototype.setScrollTop=function(O){this.vert.setPos(O)},T.prototype.setScrollLeft=function(O){this.horiz.setPos(O)},T.prototype.clear=function(){var O=this.horiz.node.parentNode;O.removeChild(this.horiz.node),O.removeChild(this.vert.node)},p.scrollbarModel.simple=function(O,E){return new T("CodeMirror-simplescroll",O,E)},p.scrollbarModel.overlay=function(O,E){return new T("CodeMirror-overlayscroll",O,E)}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s="CodeMirror-activeline",c="CodeMirror-activeline-background",T="CodeMirror-activeline-gutter";p.defineOption("styleActiveLine",!1,function(d,l,u){var f=u==p.Init?!1:u;l!=f&&(f&&(d.off("beforeSelectionChange",x),O(d),delete d.state.activeLines),l&&(d.state.activeLines=[],S(d,d.listSelections()),d.on("beforeSelectionChange",x)))});function O(d){for(var l=0;l<d.state.activeLines.length;l++)d.removeLineClass(d.state.activeLines[l],"wrap",s),d.removeLineClass(d.state.activeLines[l],"background",c),d.removeLineClass(d.state.activeLines[l],"gutter",T)}function E(d,l){if(d.length!=l.length)return!1;for(var u=0;u<d.length;u++)if(d[u]!=l[u])return!1;return!0}function S(d,l){for(var u=[],f=0;f<l.length;f++){var b=l[f],M=d.getOption("styleActiveLine");if(!(typeof M=="object"&&M.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var A=d.getLineHandleVisualStart(b.head.line);u[u.length-1]!=A&&u.push(A)}}E(d.state.activeLines,u)||d.operation(function(){O(d);for(var g=0;g<u.length;g++)d.addLineClass(u[g],"wrap",s),d.addLineClass(u[g],"background",c),d.addLineClass(u[g],"gutter",T);d.state.activeLines=u})}function x(d,l){S(d,l.ranges)}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),c=p.Pos,T={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function O(u){return u&&u.bracketRegex||/[(){}[\\]]/}function E(u,f,b){var M=u.getLineHandle(f.line),A=f.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=O(b),W=!g&&A>=0&&y.test(M.text.charAt(A))&&T[M.text.charAt(A)]||y.test(M.text.charAt(A+1))&&T[M.text.charAt(++A)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(A==f.ch))return null;var H=u.getTokenTypeAt(c(f.line,A+1)),B=S(u,c(f.line,A+(D>0?1:0)),D,H,b);return B==null?null:{from:c(f.line,A),to:B&&B.pos,match:B&&B.ch==W.charAt(0),forward:D>0}}function S(u,f,b,M,A){for(var g=A&&A.maxScanLineLength||1e4,y=A&&A.maxScanLines||1e3,W=[],D=O(A),H=b>0?Math.min(f.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,f.line-y),B=f.line;B!=H;B+=b){var U=u.getLine(B);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(B==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(M===void 0||(u.getTokenTypeAt(c(B,Z+1))||"")==(M||""))){var I=T[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:c(B,Z),ch:rt}}}}}return B-b==(b>0?u.lastLine():u.firstLine())?!1:null}function x(u,f,b){for(var M=u.state.matchBrackets.maxHighlightLineLength||1e3,A=b&&b.highlightNonMatching,g=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(u,y[W].head,b);if(D&&(D.match||A!==!1)&&u.getLine(D.from.line).length<=M){var H=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(u.markText(D.from,c(D.from.line,D.from.ch+1),{className:H})),D.to&&u.getLine(D.to.line).length<=M&&g.push(u.markText(D.to,c(D.to.line,D.to.ch+1),{className:H}))}}if(g.length){s&&u.state.focused&&u.focus();var B=function(){u.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(f)setTimeout(B,800);else return B}}function d(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=x(u,!1,u.state.matchBrackets)})}function l(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}p.defineOption("matchBrackets",!1,function(u,f,b){b&&b!=p.Init&&(u.off("cursorActivity",d),u.off("focus",d),u.off("blur",l),l(u)),f&&(u.state.matchBrackets=typeof f=="object"?f:{},u.on("cursorActivity",d),u.on("focus",d),u.on("blur",l))}),p.defineExtension("matchBrackets",function(){x(this,!0)}),p.defineExtension("findMatchingBracket",function(u,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),E(this,u,f)}),p.defineExtension("scanForBracket",function(u,f,b,M){return S(this,u,f,b,M)})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},c=p.Pos;p.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=p.Init&&(g.removeKeyMap(O),g.state.closeBrackets=null),y&&(E(T(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(O))});function T(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:s[y]}var O={Backspace:d,Enter:l};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";O[D]||(O[D]=S(W))}}E(s.pairs+"\`");function S(g){return function(y){return b(y,g)}}function x(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function d(g){var y=x(g);if(!y||g.getOption("disableInput"))return p.Pass;for(var W=T(y,"pairs"),D=g.listSelections(),H=0;H<D.length;H++){if(!D[H].empty())return p.Pass;var B=M(g,D[H].head);if(!B||W.indexOf(B)%2!=0)return p.Pass}for(var H=D.length-1;H>=0;H--){var U=D[H].head;g.replaceRange("",c(U.line,U.ch-1),c(U.line,U.ch+1),"+delete")}}function l(g){var y=x(g),W=y&&T(y,"explode");if(!W||g.getOption("disableInput"))return p.Pass;for(var D=g.listSelections(),H=0;H<D.length;H++){if(!D[H].empty())return p.Pass;var B=M(g,D[H].head);if(!B||W.indexOf(B)%2!=0)return p.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),u(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function u(g,y){for(var W=[],D=g.listSelections(),H=0,B=0;B<D.length;B++){var U=D[B];U.head==g.getCursor()&&(H=B);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,H)}function f(g){var y=p.cmpPos(g.anchor,g.head)>0;return{anchor:new c(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new c(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=x(g);if(!W||g.getOption("disableInput"))return p.Pass;var D=T(W,"pairs"),H=D.indexOf(y);if(H==-1)return p.Pass;for(var B=T(W,"closeBefore"),U=T(W,"triples"),Z=D.charAt(H+1)==y,ot=g.listSelections(),rt=H%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=g.getRange(K,c(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&A(g,K)?L="both":U.indexOf(y)>=0&&g.getRange(K,c(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(c(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(c(K.line,K.ch-2))))return p.Pass;L="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(c(K.line,K.ch-1),K);if(!p.isWordChar(Q)&&it!=y&&!p.isWordChar(it))L="both";else return p.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||B.indexOf(Q)>-1))L="both";else return p.Pass;if(!I)I=L;else if(I!=L)return p.Pass}var J=H%2?D.charAt(H-1):y,lt=H%2?y:D.charAt(H+1);g.operation(function(){if(I=="skip")u(g,1);else if(I=="skipThree")u(g,3);else if(I=="surround"){for(var C=g.getSelections(),\$=0;\$<C.length;\$++)C[\$]=J+C[\$]+lt;g.replaceSelections(C,"around"),C=g.listSelections().slice();for(var \$=0;\$<C.length;\$++)C[\$]=f(C[\$]);g.setSelections(C)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),u(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),u(g,1))})}function M(g,y){var W=g.getRange(c(y.line,y.ch-1),c(y.line,y.ch+1));return W.length==2?W:null}function A(g,y){var W=g.getTokenAt(c(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(E,S,x,d){if(x&&x.call){var l=x;x=null}else var l=O(E,x,"rangeFinder");typeof S=="number"&&(S=p.Pos(S,0));var u=O(E,x,"minFoldSize");function f(g){var y=l(E,S);if(!y||y.to.line-y.from.line<u)return null;if(d==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(O(E,x,"scanUp"))for(;!b&&S.line>E.firstLine();)S=p.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||d==="unfold")){var M=c(E,x,b);p.on(M,"mousedown",function(g){A.clear(),p.e_preventDefault(g)});var A=E.markText(b.from,b.to,{replacedWith:M,clearOnEnter:O(E,x,"clearOnEnter"),__isFold:!0});A.on("clear",function(g,y){p.signal(E,"unfold",E,g,y)}),p.signal(E,"fold",E,b.from,b.to)}}function c(E,S,x){var d=O(E,S,"widget");if(typeof d=="function"&&(d=d(x.from,x.to)),typeof d=="string"){var l=document.createTextNode(d);d=document.createElement("span"),d.appendChild(l),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}p.newFoldFunction=function(E,S){return function(x,d){s(x,d,{rangeFinder:E,widget:S})}},p.defineExtension("foldCode",function(E,S,x){s(this,E,S,x)}),p.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),x=0;x<S.length;++x)if(S[x].__isFold)return!0}),p.commands.toggleFold=function(E){E.foldCode(E.getCursor())},p.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},p.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},p.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),x=E.lastLine();S<=x;S++)E.foldCode(p.Pos(S,0),{scanUp:!1},"fold")})},p.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),x=E.lastLine();S<=x;S++)E.foldCode(p.Pos(S,0),{scanUp:!1},"unfold")})},p.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,x){for(var d=0;d<E.length;++d){var l=E[d](S,x);if(l)return l}}}),p.registerHelper("fold","auto",function(E,S){for(var x=E.getHelpers(S,"fold"),d=0;d<x.length;d++){var l=x[d](E,S);if(l)return l}});var T={rangeFinder:p.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};p.defineOption("foldOptions",null);function O(E,S,x){if(S&&S[x]!==void 0)return S[x];var d=E.options.foldOptions;return d&&d[x]!==void 0?d[x]:T[x]}p.defineExtension("foldOption",function(E,S){return O(this,E,S)})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],p):p(CodeMirror)})(function(p){p.defineOption("foldGutter",!1,function(A,g,y){y&&y!=p.Init&&(A.clearGutter(A.state.foldGutter.options.gutter),A.state.foldGutter=null,A.off("gutterClick",l),A.off("changes",f),A.off("viewportChange",b),A.off("fold",M),A.off("unfold",M),A.off("swapDoc",f),A.off("optionChange",u)),g&&(A.state.foldGutter=new c(T(g)),d(A),A.on("gutterClick",l),A.on("changes",f),A.on("viewportChange",b),A.on("fold",M),A.on("unfold",M),A.on("swapDoc",f),A.on("optionChange",u))});var s=p.Pos;function c(A){this.options=A,this.from=this.to=0}function T(A){return A===!0&&(A={}),A.gutter==null&&(A.gutter="CodeMirror-foldgutter"),A.indicatorOpen==null&&(A.indicatorOpen="CodeMirror-foldgutter-open"),A.indicatorFolded==null&&(A.indicatorFolded="CodeMirror-foldgutter-folded"),A}function O(A,g){for(var y=A.findMarks(s(g,0),s(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(A){if(typeof A=="string"){var g=document.createElement("div");return g.className=A+" CodeMirror-guttermarker-subtle",g}else return A.cloneNode(!0)}function S(A,g,y){var W=A.state.foldGutter.options,D=g-1,H=A.foldOption(W,"minFoldSize"),B=A.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&x(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&x(W.indicatorOpen);A.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),O(A,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=s(D,0),k=B&&B(A,R);if(k&&k.to.line-k.from.line>=H){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||A.setGutterMarker(ot,W.gutter,rt)})}function x(A){return new RegExp("(^|\\\\s)"+A+"(?:\$|\\\\s)\\\\s*")}function d(A){var g=A.getViewport(),y=A.state.foldGutter;y&&(A.operation(function(){S(A,g.from,g.to)}),y.from=g.from,y.to=g.to)}function l(A,g,y){var W=A.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var H=O(A,g);H?H.clear():A.foldCode(s(g,0),D)}}}function u(A,g){g=="mode"&&f(A)}function f(A){var g=A.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){d(A)},y.foldOnChangeTimeSpan||600)}}function b(A){var g=A.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=A.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?d(A):A.operation(function(){W.from<g.from&&(S(A,W.from,g.from),g.from=W.from),W.to>g.to&&(S(A,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function M(A,g){var y=A.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(A,W,W+1)}}});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var s="CodeMirror-hint",c="CodeMirror-hint-active";p.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var H in W)D[H]=W[H];return g.showHint(D)},p.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new T(this,g);D.options.hint&&(p.signal(this,"startCompletion",this),D.update(!0))}}),p.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function T(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var O=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;T.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&p.signal(this.data,"close"),this.widget&&this.widget.close(),p.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(x(W),W.from||g.from,W.to||g.to,"complete"),p.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=O(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&p.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new u(this,g),p.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,H={};for(var B in A)H[B]=A[B];if(D)for(var B in D)D[B]!==void 0&&(H[B]=D[B]);if(W)for(var B in W)W[B]!==void 0&&(H[B]=W[B]);return H.hint.resolve&&(H.hint=H.hint.resolve(g,y)),H}function x(g){return typeof g=="string"?g:g.text}function d(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var H=g.options.customKeys,B=H?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,B[rt]=R}if(H)for(var Z in H)H.hasOwnProperty(Z)&&U(Z,H[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return B}function l(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function u(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,H=D.getInputField().ownerDocument,B=H.defaultView||H.parentWindow,U=this.hints=H.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(H.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+c);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(H.createTextNode(R.displayText||x(R))),I.hintId=rt}var K=g.options.container||H.body,L=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=L.left,it=L.bottom,J=!0,lt=0,C=0;if(K!==H.body){var \$=["absolute","relative","fixed"].indexOf(B.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,xt=dt.getBoundingClientRect(),Nt=H.body.getBoundingClientRect();lt=xt.left-Nt.left-dt.scrollLeft,C=xt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-C+"px";var Et=B.innerWidth||Math.max(H.body.offsetWidth,H.documentElement.offsetWidth),ft=B.innerHeight||Math.max(H.body.offsetHeight,H.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,mt;setTimeout(function(){mt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Tt=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Tt>Rt&&(U.style.height=(Tt=Rt)+"px"),U.style.top=(it=L.top-Tt)+C+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-Et;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>Et&&(U.style.width=Et-5+"px",Ee-=at.right-at.left-Et),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=d(g,{moveFocus:function(It,yt){W.changeActive(W.selectedHint+It,yt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var ke;D.on("blur",this.onBlur=function(){ke=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(ke)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),yt=D.getWrapperElement().getBoundingClientRect();mt||(mt=D.getScrollInfo());var Ue=it+mt.top-It.top,sn=Ue-(B.pageYOffset||(H.documentElement||H.body).scrollTop);if(J||(sn+=U.offsetHeight),sn<=yt.top||sn>=yt.bottom)return g.close();U.style.top=Ue+"px",U.style.left=Q+mt.left-It.left+"px"}),p.on(U,"dblclick",function(It){var yt=l(U,It.target||It.srcElement);yt&&yt.hintId!=null&&(W.changeActive(yt.hintId),W.pick())}),p.on(U,"click",function(It){var yt=l(U,It.target||It.srcElement);yt&&yt.hintId!=null&&(W.changeActive(yt.hintId),g.options.completeOnSingleClick&&W.pick())}),p.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),p.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+c,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+c,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),p.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function f(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var H=g(y,W);H&&H.then?H.then(D):D(H)}}function M(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var H=function(B,U,Z){var ot=f(B,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],B,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return H.async=!0,H.supportsSelection=!0,H}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(B){return p.hint.fromList(B,{words:D})}:p.hint.anyword?function(B,U){return p.hint.anyword(B,U)}:function(){}}p.registerHelper("hint","auto",{resolve:M}),p.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),H,B=p.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?H=D.string.substr(0,W.ch-D.start):(H="",B=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,H.length)==H&&Z.push(rt)}if(Z.length)return{list:Z,from:B,to:U}}),p.commands.autocomplete=p.showHint;var A={hint:p.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};p.defineOption("hintOptions",null)});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(c){return function(T,O){var E=O.line,S=T.getLine(E);function x(M){for(var A,g=O.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(M[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<O.ch)break;if(A=T.getTokenTypeAt(p.Pos(E,W+1)),!/^(comment|string)/.test(A))return{ch:W+1,tokenType:A,pair:M};g=W-1}}function d(M){var A=1,g=T.lastLine(),y,W=M.ch,D;t:for(var H=E;H<=g;++H)for(var B=T.getLine(H),U=H==E?W:0;;){var Z=B.indexOf(M.pair[0],U),ot=B.indexOf(M.pair[1],U);if(Z<0&&(Z=B.length),ot<0&&(ot=B.length),U=Math.min(Z,ot),U==B.length)break;if(T.getTokenTypeAt(p.Pos(H,U+1))==M.tokenType){if(U==Z)++A;else if(!--A){y=H,D=U;break t}}++U}return y==null||E==y?null:{from:p.Pos(E,W),to:p.Pos(y,D)}}for(var l=[],u=0;u<c.length;u++){var f=x(c[u]);f&&l.push(f)}l.sort(function(M,A){return M.ch-A.ch});for(var u=0;u<l.length;u++){var b=d(l[u]);if(b)return b}return null}}p.registerHelper("fold","brace",s([["{","}"],["[","]"]])),p.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),p.registerHelper("fold","import",function(c,T){function O(u){if(u<c.firstLine()||u>c.lastLine())return null;var f=c.getTokenAt(p.Pos(u,1));if(/\\S/.test(f.string)||(f=c.getTokenAt(p.Pos(u,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=u,M=Math.min(c.lastLine(),u+10);b<=M;++b){var A=c.getLine(b),g=A.indexOf(";");if(g!=-1)return{startCh:f.end,end:p.Pos(b,g)}}}var E=T.line,S=O(E),x;if(!S||O(E-1)||(x=O(E-2))&&x.end.line==E-1)return null;for(var d=S.end;;){var l=O(d.line+1);if(l==null)break;d=l.end}return{from:c.clipPos(p.Pos(E,S.startCh+1)),to:d}}),p.registerHelper("fold","include",function(c,T){function O(l){if(l<c.firstLine()||l>c.lastLine())return null;var u=c.getTokenAt(p.Pos(l,1));if(/\\S/.test(u.string)||(u=c.getTokenAt(p.Pos(l,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var E=T.line,S=O(E);if(S==null||O(E-1)!=null)return null;for(var x=E;;){var d=O(x+1);if(d==null)break;++x}return{from:p.Pos(E,S+1),to:c.clipPos(p.Pos(x))}})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function s(c,T){var O=c.getLine(T),E=O.search(/\\S/);return E==-1||/\\bcomment\\b/.test(c.getTokenTypeAt(p.Pos(T,E+1)))?-1:p.countColumn(O,null,c.getOption("tabSize"))}p.registerHelper("fold","indent",function(c,T){var O=s(c,T.line);if(!(O<0)){for(var E=null,S=T.line+1,x=c.lastLine();S<=x;++S){var d=s(c,S);if(d!=-1)if(d>O)E=S;else break}if(E)return{from:p.Pos(T.line,c.getLine(T.line).length),to:p.Pos(E,c.getLine(E).length)}}})});(function(p){typeof exports=="object"&&typeof module=="object"?p(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,c){var T=s.getModeAt(c),O=T.blockCommentStart,E=T.blockCommentEnd;if(!(!O||!E)){for(var S=c.line,x=s.getLine(S),d,l=c.ch,u=0;;){var f=l<=0?-1:x.lastIndexOf(O,l-1);if(f==-1){if(u==1)return;u=1,l=x.length;continue}if(u==1&&f<c.ch)return;if(/comment/.test(s.getTokenTypeAt(p.Pos(S,f+1)))&&(f==0||x.slice(f-E.length,f)==E||!/comment/.test(s.getTokenTypeAt(p.Pos(S,f))))){d=f+O.length;break}l=f-1}var b=1,M=s.lastLine(),A,g;t:for(var y=S;y<=M;++y)for(var W=s.getLine(y),D=y==S?d:0;;){var H=W.indexOf(O,D),B=W.indexOf(E,D);if(H<0&&(H=W.length),B<0&&(B=W.length),D=Math.min(H,B),D==W.length)break;if(D==H)++b;else if(!--b){A=y,g=D;break t}++D}if(!(A==null||S==A&&g==d))return{from:p.Pos(S,d),to:p.Pos(A,g)}}})});const nc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},ic={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...nc},rc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function sc(p,s){for(let[c,T]of Object.entries(p)){let O=document.querySelector(\`#\${c}\`);O&&(O.textContent=T[s])}}function ac(p,s){for(let[c,T]of Object.entries(p)){let O=document.querySelector(\`#\${c}\`);O&&(O.title=T[s])}}class oc{msg;start_loc;end_loc;constructor(s,c,T){this.msg=s,this.start_loc=c,this.end_loc=T}}function uc(p){return jt(bn,p[0])}function Ir(p){if(uc(p))return p;{let s="",c=0;for(;c<p.length;){switch(p[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:gt()}c+=1}return s}}function Fr(p){return p==null}function oi(p){return p instanceof Array}function jt(p,s){return p.includes(s)}function lc(p,s,c){p[s]=c}function Xs(p){return Array.isArray(p)&&p.length===0}function bt(p,s){let c=[];return JSON.stringify(p,(O,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E})}function Tu(p){return new RegExp(p,"u")}function uu(p,s){p==null?console.log("undefined"):console.log(JSON.stringify(p))}function gt(p){throw new Error(p)}function nn(p){return{...p}}function hc(p,s){return p.repeat(s)}function cc(p){return p.toLowerCase()}const ai=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],bn=["0","1","2","3","4","5","6","7","8","9"],fc="ـ",Bs=Tu("\\\\p{L}"),_c=Tu("\\\\p{N}"),lu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},pc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"};class hu{line;column;constructor(s,c){return this.line=s,this.column=c,this}}class dc{v;loc;constructor(s,c){return this.v=s,this.loc=c,this}}class gc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,c,T,O,E,S,x,d,l,u){return this.lang=s,this.code=c,this.start_loc=T,this.end_loc=O,this.tokens=E,this.errs=S,this.current_index=x,this.current=d,this.lookbehind=l,this.ignore_cmts_ws=u,this}init(s,c,T){this.lang=s,this.code=c,this.start_loc=new hu(1,1),this.end_loc=new hu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=T}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=nn(this.end_loc),this.add_token("\$eof")}add_token(s){const c=new dc(s,nn(this.start_loc));this.tokens.push(c)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const c=new oc(s,nn(this.start_loc),nn(this.end_loc));this.errs.push(c)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===fc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Fr(this.lookbehind)}expect_none_ahead(){return Fr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(Bs)}expect_num(){return this.lookahead().match(_c)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Fr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const c=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),c.push(nn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(c.length>1)s+=this.next()+this.next(),c.pop();else{s+=this.next(),c.pop();break}else s+=this.next();const T=c.pop();return T&&(this.start_loc=nn(T),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let c=this.next();switch(c){case"(":switch(c=this.next(),c){case"س":c=\`
\`;break;case"ر":c="\\r";break;case"ج":c="	";break;case"‹":c="‹";break;case"›":c="›";break;case"«":c="«";break;case"»":c="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+c);break;case"٪":c="٪";break;case"{":c="\${";break;default:this.insert_err("invalid escape character: "+c)}return c}else return this.current}en_escape_char(){if(this.current==="%"){let c=this.next();switch(c){case"n":c=\`
\`;break;case"r":c="\\r";break;case"t":c="	";break;case"'":c="'";break;case'"':c='"';break;case"%":c="%";break;case"{":c="\${";break;default:this.insert_err("invalid escape character: "+c);break}return c}else return this.current}enclosed_val(s){let c="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?c+=this.ar_escape_char():c+=this.en_escape_char()}return c}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let c="",T="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",T]);break}else c+=s+s;else this.lang==="ar"?T+=this.ar_escape_char():T+=this.en_escape_char(),T+=c}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){jt(ai,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(jt(bn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(jt(ai,this.lookahead()))s+=this.next();else if(jt(bn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,c=!1;for(;;){if(jt(bn,this.lookahead()))s+=this.next();else if(jt(ai,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),c=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}c?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?jt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();lu[s]?this.add_token(["key",lu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();pc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&jt(ai,this.lookahead());)s+=this.next();return s}maghrib_float(){if(jt(bn,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&jt(bn,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=nn(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:jt(ai,s)?this.mashriq_num():jt(bn,s)?this.maghrib_num():s==="_"||s.match(Bs)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=nn(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:jt(bn,s)?this.maghrib_num():jt(ai,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(Bs)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}const vc=[],Cu=[];class ht{id;t;v;constructor(s,c,T){this.id=s,this.t=c,this.v=T}}class cu{t;o;constructor(s,c){this.t=s,this.o=c}}class mc{name;fields;children;constructor(s,c,T){this.name=s,this.fields=c,this.children=T}}class bc{fields;o;constructor(s,c){this.fields=s,this.o=c}}class yc{t;ts;o;constructor(s,c,T){this.t=s,this.ts=c,this.o=T}}class wc{name;variant;constructor(s,c){this.name=s,this.variant=c}}class fu{k;v;constructor(s,c){this.k=s,this.v=c}}class en{opr;op;constructor(s,c){this.opr=s,this.op=c}}class qs{lopr;op;ropr;constructor(s,c,T){this.lopr=s,this.op=c,this.ropr=T}}class js{name;params;ret_types;body;constructor(s,c,T,O){this.name=s,this.params=c,this.ret_types=T,this.body=O}}class _u{_pat;t;constructor(s,c){this._pat=s,this.t=c}}class kc{k;v;constructor(s,c){this.k=s,this.v=c}}class pu{lhs;t;rhs;constructor(s,c,T){this.lhs=s,this.t=c,this.rhs=T}}class xc{expr;arms;constructor(s,c){this.expr=s,this.arms=c}}class Sc{pats;expr;constructor(s,c){this.pats=s,this.expr=c}}const Ec=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Tc=[".","!","not","-","+"],Cc=["?","!","%"],Lc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Oc{tokens;current_index;skipped_new_line;current;ast;tabs;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_consts_or_fns()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_consts_or_fns()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_consts_or_fns()||this.maybe_typedef(),s||gt("invalid syntax: "+bt(this.current))}}next(s){this.current_index+=1;const c=this.tokens[this.current_index];return this.current=c,c.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let c=this.current_index;for(;s>0;){for(c+=1;;){const T=this.tokens[c];let O;if(T&&(O=T.v[0]===\`
\`),O)c+=1;else break}s-=1}return this.tokens[c]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Fr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(oi(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(oi(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||gt("expecting an id: "+bt(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;gt('expecting "in" : '+bt(this.current))}req_asgmt(){return this.maybe_asgmt()||gt("expecting '=' : "+bt(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;gt("expecting ',' after : "+bt(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;gt("expecting '\`' after : "+bt(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;gt("expecting '\`\`\`' after : "+bt(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;gt("expecting '(' : "+bt(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;gt("expecting ')' : "+bt(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;gt("expecting '{' : "+bt(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;gt("expecting '}' : "+bt(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;gt("expecting '>' : "+bt(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;gt("expecting a colon ':' "+bt(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;gt("expecting a double colon '::' "+bt(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;gt("expecting '[' : "+bt(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;gt("expecting ']' : "+bt(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;gt("expecting '->' : "+bt(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;gt("expecting '=>' : "+bt(this.current))}req_then(){if(this.is_then())return this.next(),!0;gt("expecting 'then' : "+bt(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;gt("expecting a pattern: "+bt(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const T=this.maybe_pat();if(T)return s.push(T);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const T=this.maybe_pat();if(T)return s.push(T);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const T=this.maybe_id();if(!T)break;let O;this.is_colon()&&(this.next(),O=this.req_pat());const E=new kc(T,O);s.push(E)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){gt("enum patterns are not supported yet");const s=this.current;this.next();const c=new wc(s,_pat);if(_pat)return new ht("enum_pat","pat",c)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,c=this.stmts();if(Xs(c))gt("expecting a statement : "+bt(s));else return c}stmts(){let s=[],c;for(;c=this.maybe_stmt(),c&&s.push(c),!!c;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),O=new pu(s,c,T);return new ht("const","stmt",O)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),O=new pu(s,c,T);return new ht("var","stmt",O)}req_expr(){const s=this.current,c=this.maybe_expr();if(c)return c;gt("expecting expression : "+bt(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const T=this.maybe_stmt();if(T)s.push(T);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,c=this.maybe_do_block();if(c)return c;gt("expecting 'do' block : "+bt(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const T=this.maybe_stmt();if(T)s.push(T);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return jt(Ec,this.current.v)}is_postfix_uni_op(){return jt(Cc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else gt("expecting  an index [...]: "+bt(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let T=this.maybe_expr();T&&s.push(T)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,c){const T=s.v.opr,O=s.v.op;if(s.id==="prefix")if(this.prec_uni(c)>=this.prec_uni(O)){const E=new en(T,c),S=new ht("postfix","expr",E),x=new en(S,O),d=new ht("prefix","expr",x);return this.next(),d}else{const E=new en(s,c),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(s,c){if(s.id==="bin"){const T=s.v.op,O=s.v.ropr,E=s.v.lopr;if(this.prec_uni(c)>=this.prec_bin(T)){const S=new en(O,c),x=new ht("postfix","expr",S),d=new qs(E,T,x),l=new ht("bin","expr",d);return this.next(),l}else{const S=new en(s,c),x=new ht("postfix","expr",S);return this.next(),x}}}maybe_lopr_prefix_bin(s,c){const T=s.v.op;let O=s.v.opr;if(s.id==="prefix")if(this.prec_uni(T)>=this.prec_bin(c)){O=this.req_op(O);const E=new en(O,T);return new ht("prefix","expr",E)}else{const E=this.req_ropr(s),S=new qs(O,c,E),x=new ht("bin","expr",S),d=new en(x,T);return new ht("prefix","expr",d)}}get_lopr(s,c){let T=this.maybe_lopr_prefix_postfix(s,c);if(!T&&(T=this.maybe_lopr_bin_postfix(s,c),!T)){const O=new en(s,c);T=new ht("postfix","expr",O),this.next()}return T}req_ropr(s){let c;const T=this.current;return this.is_open_bracket()?(this.next(),c=this.req_list_index()):this.is_dot()?(this.next(),c=this.req_access(s)):this.is_open_paren()?(this.next(),c=this.req_call_args()):(this.next(),c=this.maybe_expr()),c||gt("expecting right operand: "+bt(T)),c}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:gt("unexpected unary operator: "+bt(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:gt("unexpected binary operator: "+bt(s))}}is_bin_rassoc(s){return jt(Lc,s)}maybe_op(s){const c=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,c);if(this.is_bin_op()){const T=this.maybe_lopr_prefix_bin(s,c);if(T)return T;let O=this.req_ropr(s);O&&(O.id==="bin"?O=this.while_op(O,this.prec_bin(O.v.op)>this.prec_bin(c)||this.prec_bin(O.v.op)===this.prec_bin(c)&&this.is_bin_rassoc(O.v.op)):O.id==="prefix"?O=this.while_op(O,this.prec_bin(c)>this.prec_uni(O.v.op)||this.is_bin_rassoc(c)):O=this.while_op(O,!1));const E=new qs(s,c,O);return new ht("bin","expr",E)}}req_op(s){const c=this.maybe_op(s);if(c)return c;gt("expect an operation: "+bt(this.lookahead()))}while_op(s,c){let T=nn(s);if(this.is_eof())return T;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&c!==!1;)T=this.req_op(T);return T}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;gt("expecting an ID: "+bt(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const c=()=>{if(!s)return;oi(s)||(s=[s]);const T=[];return s.forEach(O=>{O.id="id",O.type="pat",T.push(new ht("param","pat",new _u(O)))}),T};if(this.is_thick_arrow()){const T=c();this.next(),this.req_open_curly();const O=this.req_body_ret();this.req_close_curly();const E=new js("",T,null,O);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let c=null;if(c=this.maybe_expr(),c){let T=c;if(this.is_comma()){const O=[T];for(;;){const S=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||S)break;this.req_comma(),T=this.maybe_expr(),T?O.push(T):gt("expected an argument: "+s)}this.maybe_comma(),this.req_close_paren();const E=this.maybe_afn(O);return E||new ht("tuple","expr",O)}else{this.req_close_paren();const O=this.maybe_afn(c);return O||(c.grouped=!0,c)}}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let c=this.req_id();this.req_colon();let T=this.req_expr();s.push([c,T]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return jt(Tc,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const c=new en(this.req_prim(),s);return new ht("prefix","expr",c)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("int","expr",[s,c])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("float","expr",[s,c])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const T=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||T)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let c=!1;for(this.is_id&&this.expect_colon()&&(c=!0);;){s.length>0&&this.req_comma();let T;c&&(T=this.req_id(),this.req_colon());let O=this.req_expr();if(c?s.push([T,O]):s.push([O]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),c?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const c=()=>{const x=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let d;this.is_id()&&this.expect_colon()&&(d=this.current,this.next(),this.next());let l;if(d?l=new ht("named_arg","expr",[d,this.req_expr()]):l=this.maybe_expr(),!l)break;x.push(l),this.optional_comma()}return this.req_close_paren(),x}},T=x=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d},O=c(),E=T();return O||E?new ht("call","expr",[s,O,E]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const c=this.req_expr(),T=new Sc(s,c);return new ht("arm","",T)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||c.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const E=this.maybe_when_arm();if(E)c.push(E);else break}this.maybe_comma(),this.req_close_curly();const T=new xc(s,c);return new ht("when","expr",T)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||gt("expecting an expression: "+bt(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&jt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||gt("expecting an idnetifier after "+bt(this.current));const c=new ht("use","stmt",s);return this.ast.push(c),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const c=this.req_type();this.req_close_bracket();const T=new cu(c,this.maybe_optional());s=new ht("[","t",T)}else if(this.is_open_curly()){this.next();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){c.length>0&&this.req_comma();const O=this.maybe_id();let E;O&&this.is_colon()&&(this.next(),E=this.req_type());const S=new fu(O,E);c.push(S)}this.maybe_comma(),this.req_close_curly();const T=new bc(c,this.maybe_optional());s=new ht("{","t",T)}else if(this.is_id()){const c=this.req_id();if(this.is_open_angle()){const T=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)T.length>0&&this.req_comma(),T.push(this.req_type());this.maybe_comma(),this.req_close_angle();const O=new yc(c,T,this.maybe_optional());s=new ht("<","t",O)}else{const T=new cu(c,this.maybe_optional());s=new ht("t","t",T)}}return s}req_type(){let s=this.maybe_type();return s||gt("type required: "+bt(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||gt("requires type annotation: "+bt(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const c=this.req_pat(),T=this.maybe_tannotation(),O=new _u(c,T),E=new ht("param","pat",O);c.id!=="id"&&gt("only parameters with id patterns are currently supported"),s.push(E)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let c=this.next();this.is_exclamation()?(this.next(),s.push({id:c,_t:"throw"})):s.push({id:c,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();vc.push(s.v[1]);const c=this.maybe_fn_params(),T=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const O=this.req_body_ret(),E=new js(s,c,T,O),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const O=this.req_body_ret(),E=new js(s,c,T,O);return new ht("fn","fn",E)}}maybe_fields(){const s=[];for(;this.is_id();){const c=new ht("id","expr",this.req_id()),T=this.req_tannotation(),O=new fu(c,T),E=new ht("field","",O);if(s.push(E),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const d=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let l;this.is_id()&&this.expect_colon()&&(l=this.current,this.next(),this.next());let u;if(l?u=new ht("field","expr",[l,this.req_type()]):u=this.maybe_expr(),!u)break;d.push(u),this.optional_comma()}return this.req_close_paren(),d}},c=()=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d};if(!this.is_typedef())return;this.next();const T=this.req_id();Cu.push(T.v[1]);let O=s()||[];const E=c();if(!(O||E))return;if(E){const d={v:["id","__children"],loc:{line:0,column:0}},l={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[d,l]);O.push(u)}const S=new mc(T,O,E),x=new ht("type","def",S);return this.ast.push(x),!0}maybe_consts_or_fns(){let s=!1;for(;;)if(this.is_pat())this.ast.push(this.maybe_const()),s=!0;else if(this.is_fn())this.ast.push(this.maybe_fn()),s=!0;else break;return s}implicit_return(s){if(!s||s.length<=0)return;const c=s.length-1,T=s[c];if(!(jt(["when","while","if","for","return","let","var","const"],T.id)||T.id==="bin"&&T.v.op.v===":=")&&T.id!==";"&&!(T.id==="bin"&&T.v.op.v==="=")&&!(T.id==="bin"&&T.v.lopr.id==="ref"&&jt(["println","اطبع_سطر"],T.v.lopr.v.v[1]))&&T.t==="expr"){const O=new ht("iret","expr",T);return lc(s,c,O)}}}const Ac=["min_width","min_height","background_color","background_image","background_position","background_repeat","background_size","background_attachment","_webkite_background_size","aspect_ratio","border_right","border_left","border_top","border_bottom","border_radius","border_style","margin_top","margin_bottom","margin_right","margin_left","align_items","text_align","justify_content","justify_items","text_justify","object_fit","font_size","font_family","box_sizing","scrollbar_width","user_select","_ms_user_select","_webkit_user_select","_moz_user_select","box_shadow","_webkit_box_shadow","_moz_box_shadow","no_repeat","border_box","space_between","flex_direction","inter_word"],Lu=["readonly"],Nc=["html","body","div","span","p","textarea","field"];function kn(p){return Ac.includes(p)?p.replaceAll("_","-"):p}const \$s={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},du=p=>{switch(p){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return p}},gu={حوم:"hover"},Rc=p=>{switch(p){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return p}},Ou=p=>{switch(p){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return p}},Ys=p=>{switch(p){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return p}},Pr=p=>{switch(p){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return p}},Mc=p=>{switch(p){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return p}};function Au(p,s){switch(p.id){case"call":const c=p.v[0].v.v[1],T=\$s[c]||c,O=p.v[1]||[],E=p.v[2]||[];if(T==="br")return s+="<br>";switch(T){case"اختر":s=Nu(O,s)+"} ";break;case"عرف_خط":s=Fc(O,s);break;case"اطارات_رئيسية":s=Pc(O,E,s);break;default:s+=\`<\${T}\`,Nc.includes(T)&&(s+=" dir='rtl'"),O.forEach((S,x)=>{if(x===0&&S.id==="str")s+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const d=du(S.v[0].v[1]);if(Lu.includes(d))s+=\` \${d} \`;else if(s+=\` \${d}= \`,S.v[1].id==="str")s+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const l=Ir(S.v[1].v[0].v[1]),u=S.v[1].v[1]&&Ou(S.v[1].v[1].v[1])||"";s+=\`\${l}\${u}\`}else S.v[1].id==="bool"?s+=\`\${du(d)}\`:gt("not supported: "+bt(S))}else gt("not supported: "+bt(S))}),s+=">",E.forEach(S=>{s=Au(S,s)}),s+=\`</\${T}>\`}break;case"str":s+=p.v.v[1];break;default:gt("unknown html element: "+bt(p))}return s}function Nu(p,s){return p.forEach(c=>{const T=kn(Ys(c.v[0].v[1])),O=c.v[1];T==="element"?(s=Dc(O,s),s+=" {"):(s+=\`\${T} : \`,s=yn(O,s),s+="; ")}),s}function Dc(p,s){const c=T=>{const O=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(\$s).forEach(E=>{T=T.replaceAll(O(E),\$s[E])}),Object.keys(gu).forEach(E=>{T=T.replaceAll(O(E),gu[E])}),T};if(oi(p.v))s+=" ",p.v.forEach((T,O)=>{let E=T.v.v[1];s+=c(E),O<p.v.length-1&&(s+=",")});else{const T=p.v.v[1];s+=c(T)}return s}function yn(p,s){switch(p.id){case"bool":gt();break;case"int":case"float":const c=Ir(p.v[0].v[1]),T=Ou(p.v[1]&&p.v[1].v[1])||"";s+=c+T;break;case"prefix":s+=p.v.op.v,s=yn(p.v.opr,s);break;case"postfix":s=yn(p.v.opr,s),s+=p.v.op.v;break;case"str":s+=Mc(p.v.v[1]);break;case"ref":s+=kn(Pr(p.v.v[1]));break;case"tuple":p.v.forEach(d=>{s=yn(d,s+" ")});break;case"call":const O=Rc(p.v[0].v.v[1]),E=p.v[1];s+=\` \${O}(\`,E.forEach(d=>{s=yn(d,s)}),s+=")";break;case"bin":const S=new Mu;S.init(),S.write_expr(p);const x=S.get_code();s+="\${"+x+"}".trim();break;default:gt(\`not supported: html generations:  \${bt(p)}\`)}return s}function Fc(p,s){return s+="@font-face { ",s=Nu(p,s),s+="}",s}function Pc(p,s,c){return c+=\` @keyframes \${p[0].v.v[1]} { \`,s&&s.forEach(T=>{const O=T.v[0].v.v[1],E=Pr(T.v[1]);switch(O){case"عند":const S=E[0],x=E[1].v||[];c=yn(S,c),c+=" {",x.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=kn(Ys(l[0].v[1])),f=Pr(l[1]);c+=\` \${u} : \`,c=yn(f,c),c+="; "});else{const l=kn(Ys(d[0].v[1])),u=Pr(d[1]);c+=\` \${l} : \`,c=yn(u,c),c+="; "}}),c+="} ";break;default:gt("unsupported element: "+bt(O))}}),c+="}",c}function Ru(p,s){switch(p.id){case"call":let c=p.v[0].v.v[1],T=p.v[1]||[],O=p.v[2]||[];if(c==="br")return s+="<br>";switch(c){case"select":s=Wc(T,s)+"} ";break;case"font_face":s=zc(T,s);break;case"keyframes":s=Hc(T,O,s);break;default:s+=\`<\${c}\`,T.forEach((E,S)=>{if(S===0&&E.id==="str")s+=\` id='\${E.v.v[1]}'\`;else if(E.id==="named_arg"){const x=E.v[0].v[1];if(Lu.includes(x))s+=\` \${x} \`;else if(s+=\` \${x}= \`,E.v[1].id==="str")s+=\`'\${E.v[1].v.v[1]}'\`;else if(E.v[1].id==="int"||E.v[1].id==="float"){const d=E.v[1].v[0].v[1],l=E.v[1].v[1].v[1]||"";s+=\`\${d}\${l}\`}else E.v[1].id==="bool"?s+=\`\${x}\`:gt("not supported: "+bt(E))}else gt("not supported: "+bt(E))}),s+=">",O.forEach(E=>{s=Ru(E,s)}),s+=\`</\${c}>\`}break;case"str":s+=p.v.v[1];break;default:gt("unknown html element: "+bt(p))}return s}function Wc(p,s){return p.forEach(c=>{const T=kn(c.v[0].v[1]),O=c.v[1];T==="element"?(s=Ic(O,s),s+=" {"):(s+=\`\${T} : \`,s=wn(O,s),s+="; ")}),s}function Ic(p,s){return oi(p.v)?(s+=" ",p.v.forEach((c,T)=>{s+=\`\${c.v.v[1]} \`,T<p.v.length-1&&(s+=",")})):s+=\` \${p.v.v[1]}\`,s}function wn(p,s){switch(p.id){case"int":case"float":const c=p.v[0].v[1],T=p.v[1]&&p.v[1].v[1]||"";s+=c+T;break;case"prefix":s+=p.v.op.v,s=wn(p.v.opr,s);break;case"postfix":s=wn(p.v.opr,s),s+=p.v.op.v;break;case"str":s+=p.v.v[1];break;case"ref":s+=kn(p.v.v[1]);break;case"tuple":p.v.forEach(d=>{s=wn(d,s+" ")});break;case"call":const O=p.v[0].v.v[1],E=p.v[1];s+=\` \${O}(\`,E.forEach(d=>{s=wn(d,s)}),s+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(p);const x=S.get_code();pprint(x),s+="\${"+x+"}".trim();break;default:gt(\`not supported: html generations:  \${bt(p)}\`)}return s}function zc(p,s){return s+="@font-face { ",s=write_ar_css(p,s),s+="}",s}function Hc(p,s,c){return c+=\` @keyframes \${p[0].v.v[1]} { \`,s&&s.forEach(T=>{const O=T.v[0].v.v[1],E=T.v[1];switch(O){case"at":const S=E[0],x=E[1].v||[];c=wn(S,c),c+=" {",x.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=kn(l[0].v[1]),f=l[1];c+=\` \${u} : \`,c=wn(f,c),c+="; "});else{const l=kn(d[0].v[1]),u=d[1];c+=\` \${l} : \`,c=wn(u,c),c+="; "}}),c+="} ";break;default:gt("unsupported element: "+bt(O))}}),c+="}",c}const Bc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,vu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},qc=4;let Mu=class{current;indent_level;stack;astructs;ast;main_args;opts;constructor(s,c,T,O,E,S){return this.current=s,this.indent_level=c,this.stack=T,this.astructs=O,this.ast=E,this.opts=S,this}init(s,c,T){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.main_args=c,this.opts=T}run(){this.strict_mode();let s,c=0;for(;c<this.ast.length;){const O=this.ast[c];if(O){const E=O.v;switch(O.id){case"use":this.write_use(E);break;case"modif":this.write_modifier(E);break;case"main":s=E;break;case"const":this.write_const(E);break;case"fn":this.write_fn(E);break;case"type":this.write_typedef(E);break;default:gt("unsupported node: "+this.ast[c].id)}}c+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!oi(s.v)||vu[s.v[1]]&&(s.v[1]=vu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),hc(" ",s*qc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const c=s.v.v[1];this.append(c==="_"?"default":c)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let c=0;for(;c<s.v.length;)this.write_pat(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(Ir(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:gt("unsupported pattern "+bt(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let c=0;for(;c<s.length;)c>0&&this.append(", "),this.write_pat(s[c].v._pat),c+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let c=0;const T=s.v.length;for(;c<T;){const O=s.v[c];this.write_stmt(O),c+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,c){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),c?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",c),this.pop()}write_fields(s){const c=[];s.forEach(T=>{const O=T.v[0].v[1];c.push(O)}),c.forEach(T=>{this.appendi(this.spaces()+""+T+\`
\`)}),this.write_init(c)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let c=0;for(;c<s.length;)this.append(s[c]),c<s.length-1&&this.append(", "),c+=1;for(this.append(\`) {
\`),this.indent_level+=1,c=0;c<s.length;)this.appendi("this."+s[c]+" = "+s[c]+\`
\`),c+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):gt("cannot write stmt: "+bt(s))}write_body(s,c,T){if(this.append(\` {
\`),this.push(),this.indent_level+=1,T)for(const[S,x]of Object.entries(T))this.append(\`const \${S} = '\${x}'
\`);let O=0;const E=s.v.length;for(;O<E;){const S=s.v[O];this.write_stmt(S),O+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const c=s.v.v[1];this.append(c)}write_str(s){const c=s.v.v[1],T=c.indexOf("\${")===-1?'"':"\`";this.append(T+c+T)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){jt(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let c=0;const T=s.v.length;for(;c<T;)this.write_expr(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append("]")}write_structl(s){const c=s.v;this.append("{");let T=0;for(;T<c.length;){const O=c[T],E=O.k;E.v.v[1]?this.write_id(E.v):this.write_str_id(E.v);const S=O.v;this.append(": "),this.write_expr(S),T<c.length-1&&this.append(", "),T+=1}this.append("}")}write_args(s){this.append("(");let c=0;for(;c<s.v.length;){let T=s.v[c];T.v.op&&T.v.op.v===":"&&(T=T.v.ropr),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const c=s.v[1];this.write_expr(c)}write_tuple(s){this.append("[");let c=0;for(;c<s.v.length;){let T=s.v[c];T.id==="narg"&&(T=s.v[c].v[1]),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((c,T)=>{const O=c[0].v[1],E=c[1];this.append(O),this.append(": "),this.write_expr(E),T<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let c=0;for(;c<s.v.arms.length;){const T=s.v.arms[c],O=T.v.pats,E=T.v.expr;let S=0;for(;S<O.length;)O[S].id!=="_"&&this.appendi("case "),this.write_pat(O[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(E),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,c+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const c=s.v.op.v;switch(c){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else gt("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(c);break;default:gt("unsupported op: "+c);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let c=s.pop();switch(c.id){case"ref":this.write_expr(c),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const T=c.v[0],O=c.v[1];this.write_expr(T),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&O.length>0&&this.append(", "),O.forEach((E,S)=>{this.write_expr(E),S<O.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(c);break;default:throw new Error("syntax error |> :"+bt(c))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const T=Ru(s,"");this.append(\` (() => \\\`\${T}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const T=Au(s,"");this.append(\`(() => \\\`\${T}\\\`)()\`);return}else Cu.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const c=s.v[1];c&&c.forEach((T,O)=>{this.write_expr(T),O<c.length-1&&this.append(", ")}),s.v[2]&&(c&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(c=>{this.write_expr(c),this.append(",")}),this.append("]"))}write_bin(s){const c=s.v.op.v;switch(c){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let T=[],O=s.v.lopr,E=s.v.ropr;for(;;)if(T.push(O),E.id==="bin"&&E.v.op.v==="|>")O=E.v.lopr,E=E.v.ropr;else{T.push(E);break}this.write_pipe(T);break}case"||>":throw new Error(" ||> : WIP , "+bt(s));case":>":throw new Error(" :> : WIP , "+bt(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(c),(c==="=="||c==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:gt("cannot write binary operation: "+bt(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(Ir(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:gt("cannot write expr: "+bt(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Bc)}get_code(){return this.current}};class jc{ast;main_args;target;target_opts;init(s,c,T,O){this.ast=s,this.main_args=c,this.target=T,this.target_opts=O}run(){let s;switch(cc(this.target)){case"js":s=new Mu;break;default:gt('target "'+this.target+'" is not supported');break}return s.init(this.ast,this.main_args,this.target_opts),s.run()}}class Uc{src;main_args;target;target_opts;lang;tokens;ast;gen_code;constructor(s,c,T,O,E,S,x,d,l,u){return this.src=s,this.main_args=c,this.target=T,this.target_opts=O,this.lang=E,this.tokens=S,this.ast=x,this.symtab=d,this.transltab=l,this.gen_code=u,this}init(s,c,T,O){this.src=s,this.main_args=c,this.target="js",this.target_opts=O||{},this.lang=T||"en"}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const c=new gc;c.init(this.lang,this.src,s),c.run(),this.tokens=c.tokens,Xs(c.errs)||(uu(c.errs),gt(""))}parse(){const s=new Oc;s.init(this.tokens),s.run(),this.ast=s.ast,Xs(s.errs)||(uu(s.errs),gt(""))}generate(s){const c=new jc;c.init(this.ast,this.main_args,s,this.target_opts),this.gen_code=c.run()}}const mu="panda-syntax",Kc="ttcn_modified",Gc=["mode","lang","theme","statusbar"],Xc={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},\$c={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,bu=zr.mode||"code";let ui;switch(bu){case"code":ui=Xc;break;case"editor":ui=\$c;break;default:throw new Error("invalid mode! : "+bu)}let Yc=new URLSearchParams(window.location.search).get("lang"),Qs=Yc||zr.lang;Object.keys(zr).forEach(p=>{if(!Gc.includes(p))throw new Error("invalid option: "+p);ui[p]=zr[p]});window.console.log=p=>Xi(p);window.console.error=p=>{tf(),Xi(p.message,yu)};const yu="rgb(217 83 77)",Qc="rgb(108 141 211)",Zc={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},Jc={"Ctrl-9":p=>p.foldCode(p.getCursor()),Tab:()=>cf(),"Shift-Tab":()=>ff(),"Ctrl-'":()=>{hf("«»")},"Ctrl-0":()=>{oa()},"Ctrl-=":()=>{Iu()},"Ctrl--":()=>{zu()}},Du=["findCtrl"],wu=document.querySelector("#eval"),Fu=document.querySelector("#preview_area"),Vc=new MutationObserver((p,s)=>{Zs?Zs=!1:vf()});Vc.observe(Fu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Qs),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ua(Hr(Qs)),extraKeys:{...Jc},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Du}),Fn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ua("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Du});Fn.setSize(460);let Wr={},Pu,ia,li,rn,Us,Zs;function tf(){return!!navigator.userAgentData}function Hr(p){return p==="ar"?"rtl":"ltr"}const ku={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await ef(Qs);await xf();async function ef(p){Pu=p==="ar_m",ia=p.startsWith("ar");let s=p.startsWith("ar")?"ar":"en";li=14,rn=s,Us="",Zs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await af(s),document.querySelector("#left_side_label").innerText=rn==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=rn==="ar"?"العرض الأولي":"Preview",sa(li),of(s),lf(s),sc(ic,s),ac(rc,s),df(s),Yt.setValue(s==="ar"?ku.ar:ku.en),Yt.clearHistory(),uf(s),Wu(1,1),Us&&openProj(Us),await ra(ui.theme),nf()&&sf(),ui.statusbar||rf(),document.querySelector("body").style.visibility="visible"}function nf(){return ui.mode==="code"}function rf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function sf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function af(p){rn=p}async function of(p,s){p==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function uf(p){p==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function lf(p){let s=Hr(p);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function Wu(p,s){document.querySelector("#status_bar").textContent=rn==="ar"?\`سطر \${Ks(p)}, عمودي \${Ks(s)}\`:\`Ln \${p}, Col \${s}\`}function hf(p){let s=p;if(ia){const c=Yt.doc.getCursor(),T=c.line;Yt.doc.replaceRange(s,c),Yt.doc.setCursor(T,c.ch+s.length)}else return CodeMirror.Pass}function cf(){if(Yt.somethingSelected()){var p=Yt.getSelection(\`
\`);if(p.length>0&&(p.indexOf(\`
\`)>-1||p.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function ff(){Yt.indentSelection("subtract")}function Iu(){li++,sa(li)}function zu(){li--,sa(li)}async function _f(){let p=document.querySelector("#theme"),s=p.options[p.selectedIndex].value;await ra(s)}async function ra(p){p==="dark"?(p=mu,document.querySelector("#theme").value=mu):p==="light"&&(p=Kc,document.querySelector("#theme").value="ttcn");const s=(T,O)=>{[...T.classList].forEach(E=>{E.startsWith("cm-s")&&T.classList.remove(E)}),O.split(" ").forEach(E=>{T.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",p),Fn.setOption("theme",p),s(document.querySelector("#wrapper"),p),s(document.querySelector("#editor_output"),p),s(document.querySelector("#output"),p),pf();const c=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${c}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function pf(){const p=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));p.style.fontSize=s.getPropertyValue("font-size"),p.style.color=s.getPropertyValue("color"),p.style.backgroundColor=s.getPropertyValue("background-color")}function sa(p){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(c=>{c.style.fontSize=\`\${p}px\`})}function df(p){const s=p==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function gf(){document.querySelector("#right_side").style.display="flex"}function aa(){document.querySelector("#right_side").style.display="none"}function vf(){document.querySelector("#preview").style.display="flex"}function qr(){document.querySelector("#preview").style.display="none"}function Hu(){output.replaceChildren()}function mf(p){wu.replaceChildren();const s=document.createElement("iframe");wu.appendChild(s),s.contentWindow;const c=s.contentDocument||s.contentWindow.document,T=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${p}<\\/script>
      </head>
      <body>
      </body>\`;c.open(),c.write(T),c.close()}async function oa(){aa(),qr(),Hu();try{let p=await Bu();mf(p.get_code());const s=rn==="ar"?"انتهى":"End";Xi(\`
\`),Xi(\`--- \${s} ---
\`,Qc)}catch(p){console.error(p)}}async function bf(){aa(),Fn.setValue("")}async function yf(){qr(),Fu.replaceChildren()}async function wf(){qr(),gf(),await Bu()}async function Bu(){let p=Yt.getValue(),s=new Uc,c={ignore_export:!0};const T={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(p,T,rn,c),s.compile(),document.querySelector("#right_side_label").innerText=rn==="ar"?"نص البرنامج":"Code";let O=js_beautify(s.gen_code,Zc);return Fn.setOption("mode","javascript"),Fn.setOption("direction","ltr"),Fn.setOption("lineNumberFormatter",ua("ltr")),Fn.setValue(O),s}async function kf(){document.querySelector("#output").innerHTML=""}async function xf(){document.querySelector("body").addEventListener("keydown",p=>Sf(p)),document.querySelector("body").addEventListener("keyup",p=>{Wr[p.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>_f()),document.querySelector("#run").addEventListener("click",()=>oa()),document.querySelector("#srccode").addEventListener("click",()=>wf()),document.querySelector("#right_side_close").addEventListener("click",()=>bf()),document.querySelector("#preview_close").addEventListener("click",()=>yf()),document.querySelector("#clear").addEventListener("click",()=>kf()),Yt.on("cursorActivity",p=>{let{line:s,ch:c}=Yt.getCursor();s+=1,c+=1,Wu(s,c)})}function ua(p){return p==="rtl"?s=>Ks(s):s=>s}function Sf(p){Wr[p.key]=!0;let s="";switch(Object.entries(Wr).forEach(([c,T])=>{Wr[c]&&(s+=c)}),s.toLowerCase()){case"0control":case"control0":oa();break;case"-control":case"control-":Iu();break;case"=control":case"control=":zu();break}}function Ef(p){var s=document.querySelector("#output");s.appendChild(p),s.scrollTop=s.scrollHeight}function Xi(p,s){p===""&&console.log(\`
\`),ia&&(p&&(p=Tf(p)),Pu||p&&(p=Cf(p)));const c=document.createElement("p");c.textContent=p,c.setAttribute("dir",Hr(rn)),c.style.whiteSpace="pre-wrap",s&&(c.style.color=s),Ef(c)}function Tf(p){const s=/["'](.*?)["']/gi;return p.toString().replace(s,(c,T)=>c?\`«\${T}»\`:p)}function Cf(p){function s(T){let O="",E=0;for(;E<T.length;){switch(T[E]){case"0":O+="٠";break;case"1":O+="١";break;case"2":O+="٢";break;case"3":O+="٣";break;case"4":O+="٤";break;case"5":O+="٥";break;case"6":O+="٦";break;case"7":O+="٧";break;case"8":O+="٨";break;case"9":O+="٩";break;case".":O+="٫";break;default:Lf()}E+=1}return O}const c=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return p=p.replace(c,(T,O,E,S)=>{if(T){let x=\`\${s(O)}\`;return E&&(x+=",",S&&(x+=\`\${s(S)}\`)),x}else return p}),p}function Lf(p){throw new Error(p)}function Of(p){Yt.setValue(p)}window.setEditorValue=Of;window.hideRightSide=aa;window.hidePreview=qr;window.resetOutput=Hu;window.setTheme=ra;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
              }                
              