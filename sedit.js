/*version: 0.1.4*/
export function SeenEditor(id, parent, opts) { 
                opts.mode = 'editor'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(g,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(g=g||self,g.CodeMirror=s())})(void 0,function(){var g=navigator.userAgent,s=navigator.platform,l=/gecko\\/\\d/i.test(g),E=/MSIE \\d/.test(g),C=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(g),T=/Edge\\/(\\d+)/.exec(g),S=E||C||T,w=S&&(E?document.documentMode||6:+(T||C)[1]),p=!T&&/WebKit\\//.test(g),h=p&&/Qt\\/\\d+\\.\\d+/.test(g),u=!T&&/Chrome\\/(\\d+)/.exec(g),f=u&&+u[1],b=/Opera\\//.test(g),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(g),d=/PhantomJS/.test(g),y=F&&(/Mobile\\/\\w+/.test(g)||navigator.maxTouchPoints>2),W=/Android/.test(g),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(g),z=y||/Mac/.test(s),H=/\\bCrOS\\b/.test(g),U=/win/i.test(s),Z=b&&g.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,p=!0);var ot=z&&(h||b&&(Z==null||Z<12.11)),rt=l||S&&w>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var n=t.className,i=I(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,n,i){var r=L(t,e,n,i);return r.setAttribute("role","presentation"),r}var nt;document.createRange?nt=function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:nt=function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch{return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(t,e){var n=t.className;I(e).test(n)||(t.className+=(n?" ":"")+e)}function \$(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!I(n[i]).test(e)&&(e+=" "+n[i]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,n){e||(e={});for(var i in t)t.hasOwnProperty(i)&&(n!==!1||!e.hasOwnProperty(i))&&(e[i]=t[i]);return e}function at(t,e,n,i,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=i||0,o=r||0;;){var c=t.indexOf("	",a);if(c<0||c>=e)return o+(e-a);o+=c-a,o+=n-o%n,a=c+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};function vt(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}var ee=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function xe(t,e,n){for(var i=0,r=0;;){var a=t.indexOf("	",i);a==-1&&(a=t.length);var o=a-i;if(a==t.length||r+o>=e)return i+Math.min(o,e-r);if(r+=a-i,r+=n-r%n,i=a+1,r>=e)return i}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(mt(ce)+" ");return ce[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function ai(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)}function cn(){}function Yn(t,e){var n;return Object.create?n=Object.create(t):(cn.prototype=t,n=new cn),e&&ft(e,n),n}var Ur=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function fn(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ur.test(t))}function Wi(t,e){return e?e.source.indexOf("\\\\w")>-1&&fn(t)?!0:e.test(t):fn(t)}function Qn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Ii=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function _n(t){return t.charCodeAt(0)>=768&&Ii.test(t)}function Pe(t,e,n){for(;(n<0?e>0:e<t.length)&&_n(t.charAt(e));)e+=n;return e}function Bt(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,a=i<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:n;t(a)?n=a:e=a+i}}function xi(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<n&&o.to>e||e==n&&o.to==e)&&(i(Math.max(o.from,e),Math.min(o.to,n),o.level==1?"rtl":"ltr",a),r=!0)}r||i(e,n,"ltr")}var We=null;function Te(t,e,n){var i;We=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&n=="before"?i=r:We=r),a.from==e&&(a.from!=a.to&&n!="before"?i=r:We=r)}return i??We}var Kr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var i=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,c=/[1n]/;function _(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!i.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(n(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Ut=0,ge=M;Ut<j;++Ut){var ie=q[Ut];ge=="L"&&ie=="1"?q[Ut]="L":a.test(ie)&&(ge=ie)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",ve=(Kt<j?q[Kt]:M)=="L",an=qt==ve?qt?"L":"R":M,bi=\$t;bi<Kt;++bi)q[bi]=an;\$t=Kt-1}for(var ae=[],Ue,te=0;te<j;)if(o.test(q[te])){var Bs=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new _(0,Bs,te))}else{var ii=te,Ri=ae.length,Fi=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=ii;he<te;)if(c.test(q[he])){ii<he&&(ae.splice(Ri,0,new _(1,ii,he)),Ri+=Fi);var on=he;for(++he;he<te&&c.test(q[he]);++he);ae.splice(Ri,0,new _(2,on,he)),Ri+=Fi,ii=he}else++he;ii<te&&ae.splice(Ri,0,new _(1,ii,te))}return N=="ltr"&&(ae[0].level==1&&(Ue=m.match(/^\\s+/))&&(ae[0].from=Ue[0].length,ae.unshift(new _(0,0,Ue[0].length))),mt(ae).level==1&&(Ue=m.match(/\\s+\$/))&&(mt(ae).to-=Ue[0].length,ae.push(new _(0,j-Ue[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var n=t.order;return n==null&&(n=t.order=Kr(t.text,e)),n}var Zn=[],it=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||Zn).concat(n)}};function pn(t,e){return t._handlers&&t._handlers[e]||Zn}function ne(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var a=vt(r,n);a>-1&&(i[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Mt(t,e){var n=pn(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function zt(t,e,n){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,n||e.type,t,e),dn(e)||e.codemirrorIgnore}function Jn(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)vt(n,e[i])==-1&&n.push(e[i])}function oe(t,e){return pn(t,e).length>0}function ue(t){t.prototype.on=function(e,n){it(this,e,n)},t.prototype.off=function(e,n){ne(this,e,n)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function ki(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function dn(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){re(t),ki(t)}function fe(t){return t.target||t.srcElement}function gn(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var Gr=function(){if(S&&w<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Ae;function Xr(t){if(Ae==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Ae=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&w<8))}var n=Ae?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var Bi;function Vn(t){if(Bi!=null)return Bi;var e=K(t,document.createTextNode("AخA")),n=nt(e,0,1).getBoundingClientRect(),i=nt(e,1,2).getBoundingClientRect();return k(t),!n||n.left==n.right?!1:Bi=i.right-n.right<3}var vn=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(n.push(a.slice(0,o)),e+=o+1):(n.push(a),e=r+1)}return n}:function(t){return t.split(/\\r\\n?|\\n/)},oi=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Ie=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Be=null;function tr(t){if(Be!=null)return Be;var e=K(t,L("span","x")),n=e.getBoundingClientRect(),i=nt(e,0,1).getBoundingClientRect();return Be=Math.abs(n.left-i.left)>1}var Ne={},ui={};function er(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ne[t]=e}function zi(t,e){ui[t]=e}function me(t){if(typeof t=="string"&&ui.hasOwnProperty(t))t=ui[t];else if(t&&typeof t.name=="string"&&ui.hasOwnProperty(t.name)){var e=ui[t.name];typeof e=="string"&&(e={name:e}),t=Yn(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=me(e);var n=Ne[e.name];if(!n)return \$e(t,"text/plain");var i=n(t,e);if(li.hasOwnProperty(e.name)){var r=li[e.name];for(var a in r)r.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=r[a])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)i[o]=e.modeProps[o];return i}var li={};function ir(t,e){var n=li.hasOwnProperty(t)?li[t]:li[t]={};ft(e,n)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function hi(t,e){for(var n;t.innerMode&&(n=t.innerMode(e),!(!n||n.mode==t));)e=n.state,t=n.mode;return n||{mode:t,state:e}}function mn(t,e,n){return t.startState?t.startState(e,n):!0}var Ht=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),n;if(typeof t=="string"?n=e==t:n=e&&(t.test?t.test(e):t(e)),n)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,n){if(typeof t=="string"){var i=function(o){return n?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(i(r)==i(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],a=r.chunkSize();if(e<a){n=r;break}e-=a}return n.lines[e]}function Qe(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(a){var o=a.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function Hi(t,e,n){var i=[];return t.iter(e,n,function(r){i.push(r.text)}),i}function Le(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,n=vt(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function ze(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],a=r.height;if(e<a){t=r;continue t}e-=a,n+=r.chunkSize()}return n}while(!t.lines);for(var o=0;o<t.lines.length;++o){var c=t.lines[o],_=c.height;if(e<_)break;e-=_}return n+o}function x(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,n){if(n===void 0&&(n=null),!(this instanceof B))return new B(t,e,n);this.line=t,this.ch=e,this.sticky=n}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function ke(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var n=t.first+t.size-1;return e.line>n?B(n,ct(t,n).text.length):ju(e,ct(t,e.line).text.length)}function ju(t,e){var n=t.ch;return n==null||n>e?B(t.line,e):n<0?B(t.line,0):t}function ca(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=yt(t,e[i]);return n}var nr=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,n){return e instanceof nr?new He(t,Ye(t.mode,e.state),n,e.lookAhead):new He(t,Ye(t.mode,e),n)},He.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new nr(e,this.maxLookAhead):e};function fa(t,e,n,i){var r=[t.state.modeGen],a={};ma(t,e.text,t.doc.mode,n,function(m,N){return r.push(m,N)},a,i);for(var o=n.state,c=function(m){n.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;n.state=!0,ma(t,e.text,N.mode,n,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),n.state=o,n.baseTokens=null,n.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)c(_);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function _a(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=bn(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,i.state),a=fa(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function bn(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new He(i,!0,e);var a=Uu(t,e,n),o=a>i.first&&ct(i,a-1).stateAfter,c=o?He.fromSaved(i,o,a):new He(i,mn(i.mode),a);return i.iter(a,e,function(_){\$r(t,_.text,c);var m=c.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?c.save():null,c.nextLine()}),n&&(i.modeFrontier=c.line),c}function \$r(t,e,n,i){var r=t.doc.mode,a=new Ht(e,t.options.tabSize,n);for(a.start=a.pos=i||0,e==""&&pa(r,n.state);!a.eol();)Yr(r,a,n.state),a.start=a.pos}function pa(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=hi(t,e);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function Yr(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=hi(t,n).mode);var a=t.token(e,n);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var da=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ga(t,e,n,i){var r=t.doc,a=r.mode,o;e=yt(r,e);var c=ct(r,e.line),_=bn(t,e.line,n),m=new Ht(c.text,t.options.tabSize,_),N;for(i&&(N=[]);(i||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=Yr(a,m,_.state),i&&N.push(new da(m,o,Ye(r.mode,_.state)));return i?N:new da(m,o,_.state)}function va(t,e){if(t)for(;;){var n=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";e[i]==null?e[i]=n[2]:new RegExp("(?:^|\\\\s)"+n[2]+"(?:\$|\\\\s)").test(e[i])||(e[i]+=" "+n[2])}return t}function ma(t,e,n,i,r,a,o){var c=n.flattenSpans;c==null&&(c=t.options.flattenSpans);var _=0,m=null,N=new Ht(e,t.options.tabSize,i),M,j=t.options.addModeClass&&[null];for(e==""&&va(pa(n,i.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(c=!1,o&&\$r(t,e,i,N.pos),N.pos=e.length,M=null):M=va(Yr(n,N,i.state,j),a),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!c||m!=M){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=M}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function Uu(t,e,n){for(var i,r,a=t.doc,o=n?-1:e-(t.doc.mode.innerMode?1e3:100),c=e;c>o;--c){if(c<=a.first)return a.first;var _=ct(a,c-1),m=_.stateAfter;if(m&&(!n||c+(m instanceof nr?m.lookAhead:0)<=a.modeFrontier))return c;var N=at(_.text,null,t.options.tabSize);(r==null||i>N)&&(r=c-1,i=N)}return r}function Ku(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=ct(t,i).stateAfter;if(r&&(!(r instanceof nr)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}var ba=!1,Ze=!1;function Gu(){ba=!0}function Xu(){Ze=!0}function rr(t,e,n){this.marker=t,this.from=e,this.to=n}function yn(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function \$u(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Yu(t,e,n){var i=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));i&&t.markedSpans&&i.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],i&&i.add(t.markedSpans)),e.marker.attachLine(t)}function Qu(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,c=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(c||a.from==e&&o.type=="bookmark"&&(!n||!a.marker.insertLeft)){var _=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(i||(i=[])).push(new rr(o,a.from,_?null:a.to))}}return i}function Zu(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,c=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(c||a.from==e&&o.type=="bookmark"&&(!n||a.marker.insertLeft)){var _=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(i||(i=[])).push(new rr(o,_?null:a.from-e,a.to==null?null:a.to-e))}}return i}function Qr(t,e){if(e.full)return null;var n=x(t,e.from.line)&&ct(t,e.from.line).markedSpans,i=x(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,c=Qu(n,r,o),_=Zu(i,a,o),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(c)for(var M=0;M<c.length;++M){var j=c[M];if(j.to==null){var q=yn(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=yn(c,Y.marker);V||(Y.from=N,m&&(c||(c=[])).push(Y))}else Y.from+=N,m&&(c||(c=[])).push(Y)}c&&(c=ya(c)),_&&_!=c&&(_=ya(_));var tt=[c];if(!m){var st=e.text.length-2,et;if(st>0&&c)for(var ut=0;ut<c.length;++ut)c[ut].to==null&&(et||(et=[])).push(new rr(c[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(_)}return tt}function ya(t){for(var e=0;e<t.length;++e){var n=t[e];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Ju(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!i||vt(i,Y)==-1)&&(i||(i=[])).push(Y)}}),!i)return null;for(var r=[{from:e,to:n}],a=0;a<i.length;++a)for(var o=i[a],c=o.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,c.from)<0||G(m.from,c.to)>0)){var N=[_,1],M=G(m.from,c.from),j=G(m.to,c.to);(M<0||!o.inclusiveLeft&&!M)&&N.push({from:m.from,to:c.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:c.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function wa(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function xa(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function sr(t){return t.inclusiveLeft?-1:0}function ar(t){return t.inclusiveRight?1:0}function Zr(t,e){var n=t.lines.length-e.lines.length;if(n!=0)return n;var i=t.find(),r=e.find(),a=G(i.from,r.from)||sr(t)-sr(e);if(a)return-a;var o=G(i.to,r.to)||ar(t)-ar(e);return o||e.id-t.id}function ka(t,e){var n=Ze&&t.markedSpans,i;if(n)for(var r=void 0,a=0;a<n.length;++a)r=n[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!i||Zr(i,r.marker)<0)&&(i=r.marker);return i}function Sa(t){return ka(t,!0)}function or(t){return ka(t,!1)}function Vu(t,e){var n=Ze&&t.markedSpans,i;if(n)for(var r=0;r<n.length;++r){var a=n[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!i||Zr(i,a.marker)<0)&&(i=a.marker)}return i}function Ea(t,e,n,i,r){var a=ct(t,e),o=Ze&&a.markedSpans;if(o)for(var c=0;c<o.length;++c){var _=o[c];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,n)||sr(_.marker)-sr(r),M=G(m.to,i)||ar(_.marker)-ar(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,n)>=0:G(m.to,n)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,i)<=0:G(m.from,i)<0)))return!0}}}function Re(t){for(var e;e=Sa(t);)t=e.find(-1,!0).line;return t}function tl(t){for(var e;e=or(t);)t=e.find(1,!0).line;return t}function el(t){for(var e,n;e=or(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function Jr(t,e){var n=ct(t,e),i=Re(n);return n==i?e:Lt(i)}function Ta(t,e){if(e>t.lastLine())return e;var n=ct(t,e),i;if(!ci(t,n))return e;for(;i=or(n);)n=i.find(1,!0).line;return Lt(n)+1}function ci(t,e){var n=Ze&&e.markedSpans;if(n){for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],!!i.marker.collapsed){if(i.from==null)return!0;if(!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&Vr(t,e,i))return!0}}}function Vr(t,e,n){if(n.to==null){var i=n.marker.find(1,!0);return Vr(t,i.line,yn(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(r.to==null||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vr(t,e,r))return!0}function Je(t){t=Re(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var a=n.parent;a;n=a,a=n.parent)for(var o=0;o<a.children.length;++o){var c=a.children[o];if(c==n)break;e+=c.height}return e}function ur(t){if(t.height==0)return 0;for(var e=t.text.length,n,i=t;n=Sa(i);){var r=n.find(0,!0);i=r.from.line,e+=r.from.ch-r.to.ch}for(i=t;n=or(i);){var a=n.find(0,!0);e-=i.text.length-a.from.ch,i=a.to.line,e+=i.text.length-a.to.ch}return e}function ts(t){var e=t.display,n=t.doc;e.maxLine=ct(n,n.first),e.maxLineLength=ur(e.maxLine),e.maxLineChanged=!0,n.iter(function(i){var r=ur(i);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=i)})}var qi=function(t,e,n){this.text=t,xa(this,e),this.height=n?n(this):1};qi.prototype.lineNo=function(){return Lt(this)},ue(qi);function il(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),wa(t),xa(t,n);var r=i?i(t):1;r!=t.height&&Le(t,r)}function nl(t){t.parent=null,wa(t)}var rl={},sl={};function Ca(t,e){if(!t||/^\\s*\$/.test(t))return null;var n=e.addModeClass?sl:rl;return n[t]||(n[t]=t.replace(/\\S+/g,"cm-\$&"))}function Aa(t,e){var n=Q("span",null,null,p?"padding-right: .1px":null),i={pre:Q("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;i.pos=0,i.addToken=ol,Vn(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(i.addToken=ll(i.addToken,o)),i.map=[];var c=e!=t.display.externalMeasured&&Lt(a);hl(a,i,_a(t,a,c)),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=\$(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=\$(a.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(Xr(t.display.measure))),r==0?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(p){var _=i.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=\$(i.pre.className,i.textClass||"")),i}function al(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ol(t,e,n,i,r,a,o){if(e){var c=t.splitSpaces?ul(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,N),S&&w<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){_.lastIndex=M;var j=_.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(c.slice(M,M+q));S&&w<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&w<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=c.charCodeAt(e.length-1)==32,n||i||r||m||a||o){var st=n||"";i&&(st+=i),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function ul(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&n&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),i+=a,n=a==" "}return i}function ll(t,e){return function(n,i,r,a,o,c,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=n.pos,N=m+i.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(n,i,r,a,o,c,_);t(n,i.slice(0,M.to-m),r,a,null,c,_),a=null,i=i.slice(M.to-m),m=M.to}}}function La(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function hl(t,e,n){var i=t.markedSpans,r=t.text,a=0;if(!i){for(var o=1;o<n.length;o+=2)e.addToken(e,r.slice(a,a=n[o]),Ca(n[o+1],e.cm.options));return}for(var c=r.length,_=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<i.length;++gt){var pt=i[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==_&&xt.widgetNode)et.push(xt);else if(pt.from<=_&&(pt.to==null||pt.to>_||xt.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==_&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Zr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)La(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(La(e,(tt.to==null?c+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=c)break;for(var ye=Math.min(c,q);;){if(N){var de=_+N.length;if(!tt){var Ut=de>ye?N.slice(0,ye-_):N;e.addToken(e,Ut,M?M+X:X,V,_+Ut.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-_),_=ye;break}_=de,V=""}N=r.slice(a,a=n[m++]),M=Ca(n[m++],e.cm.options)}}}function Oa(t,e,n){this.line=e,this.rest=el(e),this.size=this.rest?Lt(mt(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ci(t,e)}function lr(t,e,n){for(var i=[],r,a=e;a<n;a=r){var o=new Oa(t.doc,ct(t.doc,a),a);r=a+o.size,i.push(o)}return i}var ji=null;function cl(t){ji?ji.ops.push(t):t.ownsGroup=ji={ops:[t],delayedCallbacks:[]}}function fl(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function _l(t,e){var n=t.ownsGroup;if(n)try{fl(n)}finally{ji=null,e(n)}}var wn=null;function Qt(t,e){var n=pn(t,e);if(n.length){var i=Array.prototype.slice.call(arguments,2),r;ji?r=ji.delayedCallbacks:wn?r=wn:(r=wn=[],setTimeout(pl,0));for(var a=function(c){r.push(function(){return n[c].apply(null,i)})},o=0;o<n.length;++o)a(o)}}function pl(){var t=wn;wn=null;for(var e=0;e<t.length;++e)t[e]()}function Na(t,e,n,i){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?gl(t,e):a=="gutter"?Fa(t,e,n,i):a=="class"?es(t,e):a=="widget"&&vl(t,e,i)}e.changes=null}function xn(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&w<8&&(t.node.style.zIndex=2)),t.node}function dl(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=xn(e);e.background=i.insertBefore(L("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}function Ra(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Aa(t,e)}function gl(t,e){var n=e.text.className,i=Ra(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,es(t,e)):n&&(e.text.className=n)}function es(t,e){dl(t,e),e.line.wrapClass?xn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Fa(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=xn(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=xn(e),c=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(c.setAttribute("aria-hidden","true"),t.display.input.setUneditable(c),o.insertBefore(c,e.text),e.line.gutterClass&&(c.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=c.appendChild(L("div",P(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=a.hasOwnProperty(m)&&a[m];N&&c.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+i.gutterLeft[m]+"px; width: "+i.gutterWidth[m]+"px"))}}}function vl(t,e,n){e.alignable&&(e.alignable=null);for(var i=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,i.test(r.className)&&e.node.removeChild(r);Da(t,e,n)}function ml(t,e,n,i){var r=Ra(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),es(t,e),Fa(t,e,n,i),Da(t,e,i),e.node}function Da(t,e,n){if(Ma(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)Ma(t,e.rest[i],e,n,!1)}function Ma(t,e,n,i,r){if(e.widgets)for(var a=xn(n),o=0,c=e.widgets;o<c.length;++o){var _=c[o],m=L("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),bl(_,m,n,i),t.display.input.setUneditable(m),r&&_.above?a.insertBefore(m,n.gutter||n.text):a.appendChild(m),Qt(_,"redraw")}}function bl(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function kn(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var n=fe(e);n!=t.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==t.sizer&&n!=t.mover)return!0}function hr(t){return t.lineSpace.offsetTop}function is(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Pa(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(i.left)&&!isNaN(i.right)&&(t.cachedPaddingH=i),i}function qe(t){return ee-t.display.nativeBarWidth}function Si(t){return t.display.scroller.clientWidth-qe(t)-t.display.barWidth}function ns(t){return t.display.scroller.clientHeight-qe(t)-t.display.barHeight}function yl(t,e,n){var i=t.options.lineWrapping,r=i&&Si(t);if(!e.measure.heights||i&&e.measure.width!=r){var a=e.measure.heights=[];if(i){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),c=0;c<o.length-1;c++){var _=o[c],m=o[c+1];Math.abs(_.bottom-m.bottom)>2&&a.push((_.bottom+m.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Wa(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function wl(t,e){e=Re(e);var n=Lt(e),i=t.display.externalMeasured=new Oa(t.doc,e,n);i.lineN=n;var r=i.built=Aa(t,i);return i.text=r.pre,K(t.display.lineMeasure,r.pre),i}function Ia(t,e,n,i){return je(t,Ui(t,e),n,i)}function rs(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ci(t,e)];var n=t.display.externalMeasured;if(n&&e>=n.lineN&&e<n.lineN+n.size)return n}function Ui(t,e){var n=Lt(e),i=rs(t,n);i&&!i.text?i=null:i&&i.changes&&(Na(t,i,n,ls(t)),t.curOp.forceUpdate=!0),i||(i=wl(t,e));var r=Wa(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function je(t,e,n,i,r){e.before&&(n=-1);var a=n+(i||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(yl(t,e.view,e.rect),e.hasHeights=!0),o=kl(t,e,n,i),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ba={left:0,right:0,top:0,bottom:0};function za(t,e,n){for(var i,r,a,o,c,_,m=0;m<t.length;m+=3)if(c=t[m],_=t[m+1],e<c?(r=0,a=1,o="left"):e<_?(r=e-c,a=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(a=_-c,r=a-1,e>=_&&(o="right")),r!=null){if(i=t[m+2],c==_&&n==(i.insertLeft?"left":"right")&&(o=n),n=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)i=t[(m-=3)+2],o="left";if(n=="right"&&r==_-c)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)i=t[(m+=3)+2],o="right";break}return{node:i,start:r,end:a,collapse:o,coverStart:c,coverEnd:_}}function xl(t,e){var n=Ba;if(e=="left")for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function kl(t,e,n,i){var r=za(e.map,n,i),a=r.node,o=r.start,c=r.end,_=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&_n(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+c<r.coverEnd&&_n(e.line.text.charAt(r.coverStart+c));)++c;if(S&&w<9&&o==0&&c==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=xl(nt(a,o,c).getClientRects(),i),m.left||m.right||o==0)break;c=o,o=o-1,_="right"}S&&w<11&&(m=Sl(t.display.measure,m))}else{o>0&&(_=i="right");var M;t.options.lineWrapping&&(M=a.getClientRects()).length>1?m=M[i=="right"?M.length-1:0]:m=a.getBoundingClientRect()}if(S&&w<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Gi(t.display),top:j.top,bottom:j.bottom}:m=Ba}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Sl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function Ha(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function qa(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Ha(t.display.view[e])}function Sn(t){qa(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ja(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ua(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ss(t){var e=Re(t),n=e.widgets,i=0;if(n)for(var r=0;r<n.length;++r)n[r].above&&(i+=kn(n[r]));return i}function cr(t,e,n,i,r){if(!r){var a=ss(e);n.top+=a,n.bottom+=a}if(i=="line")return n;i||(i="local");var o=Je(e);if(i=="local"?o+=hr(t.display):o-=t.display.viewOffset,i=="page"||i=="window"){var c=t.display.lineSpace.getBoundingClientRect();o+=c.top+(i=="window"?0:Ua(wt(t)));var _=c.left+(i=="window"?0:ja(wt(t)));n.left+=_,n.right+=_}return n.top+=o,n.bottom+=o,n}function Ka(t,e,n){if(n=="div")return e;var i=e.left,r=e.top;if(n=="page")i-=ja(wt(t)),r-=Ua(wt(t));else if(n=="local"||!n){var a=t.display.sizer.getBoundingClientRect();i+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:r-o.top}}function fr(t,e,n,i,r){return i||(i=ct(t.doc,e.line)),cr(t,i,Ia(t,i,e.ch,r),n)}function Fe(t,e,n,i,r,a){i=i||ct(t.doc,e.line),r||(r=Ui(t,i));function o(X,Y){var V=je(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,cr(t,i,V,n)}var c=Ce(i,t.doc.direction),_=e.ch,m=e.sticky;if(_>=i.text.length?(_=i.text.length,m="before"):_<=0&&(_=0,m="after"),!c)return o(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=c[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var M=Te(c,_,m),j=We,q=N(_,M,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Ga(t,e){var n=0;e=yt(t.doc,e),t.options.lineWrapping||(n=Gi(t.display)*e.ch);var i=ct(t.doc,e.line),r=Je(i)+hr(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function as(t,e,n,i,r){var a=B(t,e,n);return a.xRel=r,i&&(a.outside=i),a}function os(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,n<0)return as(i.first,0,null,-1,-1);var r=ze(i,n),a=i.first+i.size-1;if(r>a)return as(i.first+i.size-1,ct(i,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(i,r);;){var c=El(t,o,r,e,n),_=Vu(o,c.ch+(c.xRel>0||c.outside>0?1:0));if(!_)return c;var m=_.find(1);if(m.line==r)return m;o=ct(i,r=m.line)}}function Xa(t,e,n,i){i-=ss(e);var r=e.text.length,a=Bt(function(o){return je(t,n,o-1).bottom<=i},r,0);return r=Bt(function(o){return je(t,n,o).top>i},a,r),{begin:a,end:r}}function \$a(t,e,n,i){n||(n=Ui(t,e));var r=cr(t,e,je(t,n,i),"line").top;return Xa(t,e,n,r)}function us(t,e,n,i){return t.bottom<=n?!1:t.top>n?!0:(i?t.left:t.right)>e}function El(t,e,n,i,r){r-=Je(e);var a=Ui(t,e),o=ss(e),c=0,_=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Cl:Tl)(t,e,n,a,N,i,r);m=M.level!=1,c=m?M.from:M.to-1,_=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=je(t,a,gt);return pt.top+=o,pt.bottom+=o,us(pt,i,r,!1)?(pt.top<=r&&pt.left<=i&&(j=gt,q=pt),!0):!1},c,_),Y,V,tt=!1;if(q){var st=i-q.left<q.right-i,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==c)&&X++,V=X==0?"after":X==e.text.length?"before":je(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Fe(t,B(n,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Pe(e.text,X,1),as(n,X,V,tt,i-Y)}function Tl(t,e,n,i,r,a,o){var c=Bt(function(M){var j=r[M],q=j.level!=1;return us(Fe(t,B(n,q?j.to:j.from,q?"before":"after"),"line",e,i),a,o,!0)},0,r.length-1),_=r[c];if(c>0){var m=_.level!=1,N=Fe(t,B(n,m?_.from:_.to,m?"after":"before"),"line",e,i);us(N,a,o,!0)&&N.top>o&&(_=r[c-1])}return _}function Cl(t,e,n,i,r,a,o){var c=Xa(t,e,i,o),_=c.begin,m=c.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=je(t,i,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Ei;function Ki(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Ei==null){Ei=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Ei.appendChild(document.createTextNode("x")),Ei.appendChild(L("br"));Ei.appendChild(document.createTextNode("x"))}K(t.measure,Ei);var n=Ei.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),k(t.measure),n||1}function Gi(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),n=L("pre",[e],"CodeMirror-line-like");K(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ls(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var c=t.display.gutterSpecs[o].className;n[c]=a.offsetLeft+a.clientLeft+r,i[c]=a.clientWidth}return{fixedPos:hs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function hs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Ya(t){var e=Ki(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/Gi(t.display)-3);return function(r){if(ci(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return n?a+(Math.ceil(r.text.length/i)||1)*e:a+e}}function cs(t){var e=t.doc,n=Ya(t);e.iter(function(i){var r=n(i);r!=i.height&&Le(i,r)})}function Ti(t,e,n,i){var r=t.display;if(!n&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,c=r.lineSpace.getBoundingClientRect();try{a=e.clientX-c.left,o=e.clientY-c.top}catch{return null}var _=os(t,a,o),m;if(i&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=B(_.line,Math.max(0,Math.round((a-Pa(t.display).left)/Gi(t.display))-N))}return _}function Ci(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,e<0)return i}function _e(t,e,n,i){e==null&&(e=t.doc.first),n==null&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&Jr(t.doc,e)<r.viewTo&&_i(t);else if(n<=r.viewFrom)Ze&&Ta(t.doc,n+i)>r.viewFrom?_i(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)_i(t);else if(e<=r.viewFrom){var a=_r(t,n,n+i,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=i):_i(t)}else if(n>=r.viewTo){var o=_r(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):_i(t)}else{var c=_r(t,e,e,-1),_=_r(t,n,n+i,1);c&&_?(r.view=r.view.slice(0,c.index).concat(lr(t,c.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=i):_i(t)}var m=r.externalMeasured;m&&(n<m.lineN?m.lineN+=i:e<m.lineN+m.size&&(r.externalMeasured=null))}function fi(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var a=i.view[Ci(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);vt(o,n)==-1&&o.push(n)}}}function _i(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function _r(t,e,n,i){var r=Ci(t,e),a,o=t.display.view;if(!Ze||n==t.doc.first+t.doc.size)return{index:r,lineN:n};for(var c=t.display.viewFrom,_=0;_<r;_++)c+=o[_].size;if(c!=e){if(i>0){if(r==o.length-1)return null;a=c+o[r].size-e,r++}else a=c-e;e+=a,n+=a}for(;Jr(t.doc,n)!=n;){if(r==(i<0?0:o.length-1))return null;n+=i*o[r-(i<0?1:0)].size,r+=i}return{index:r,lineN:n}}function Al(t,e,n){var i=t.display,r=i.view;r.length==0||e>=i.viewTo||n<=i.viewFrom?(i.view=lr(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=lr(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Ci(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(lr(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Ci(t,n)))),i.viewTo=n}function Qa(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];!r.hidden&&(!r.node||r.changes)&&++n}return n}function En(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Za(t,e){e===void 0&&(e=!0);var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),a=i.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var c=0;c<n.sel.ranges.length;c++)if(!(!e&&c==n.sel.primIndex)){var _=n.sel.ranges[c];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(o){var N=o(t,_);N&&fs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&fs(t,_.head,r);m||Ll(t,_,a)}}return i}function fs(t,e,n){var i=Fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=fr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(i.other){var c=n.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));c.style.display="",c.style.left=i.other.left+"px",c.style.top=i.other.top+"px",c.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function pr(t,e){return t.top-e.top||t.left-e.left}function Ll(t,e,n){var i=t.display,r=t.doc,a=document.createDocumentFragment(),o=Pa(t.display),c=o.left,_=Math.max(i.sizerWidth,Si(t)-i.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,ge){return fr(t,B(et,Ut),"div",pt,ge)}function ye(Ut,ge,ie){var \$t=\$a(t,pt,null,Ut),Kt=ge=="ltr"==(ie=="after")?"left":"right",qt=ie=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var de=Ce(pt,r.direction);return xi(de,ut||0,gt??xt,function(Ut,ge,ie,\$t){var Kt=ie=="ltr",qt=Wt(Ut,Kt?"left":"right"),ve=Wt(ge-1,Kt?"right":"left"),an=ut==null&&Ut==0,bi=gt==null&&ge==xt,ae=\$t==0,Ue=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?an:bi)&&ae,Bs=(m?bi:an)&&Ue,ii=te?c:(Kt?qt:ve).left,Ri=Bs?_:(Kt?ve:qt).right;N(ii,qt.top,Ri-ii,qt.bottom)}else{var Fi,he,on,zs;Kt?(Fi=m&&an&&ae?c:qt.left,he=m?_:ye(Ut,ie,"before"),on=m?c:ye(ge,ie,"after"),zs=m&&bi&&Ue?_:ve.right):(Fi=m?ye(Ut,ie,"before"):c,he=!m&&an&&ae?_:qt.right,on=!m&&bi&&Ue?c:ve.left,zs=m?ye(ge,ie,"after"):_),N(Fi,qt.top,he-Fi,qt.bottom),qt.bottom<ve.top&&N(c,qt.bottom,null,ve.top),N(on,ve.top,zs-on,ve.bottom)}(!Dt||pr(qt,Dt)<0)&&(Dt=qt),pr(ve,Dt)<0&&(Dt=ve),(!Vt||pr(qt,Vt)<0)&&(Vt=qt),pr(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Re(X)==Re(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(c,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(c,tt.bottom,null,st.top)}n.appendChild(a)}function _s(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Xi(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ja(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ds(t))}function ps(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Xi(t))},100)}function ds(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,A(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),p&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),_s(t))}function Xi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function dr(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var c=e.view[o],_=t.options.lineWrapping,m=void 0,N=0;if(!c.hidden){if(r+=c.line.height,S&&w<8){var M=c.node.offsetTop+c.node.offsetHeight;m=M-n,n=M}else{var j=c.node.getBoundingClientRect();m=j.bottom-j.top,!_&&c.text.firstChild&&(N=c.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=c.line.height-m;if((q>.005||q<-.005)&&(r<i&&(a-=q),Le(c.line,m),Va(c.line),c.rest))for(var X=0;X<c.rest.length;X++)Va(c.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Gi(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function Va(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function gr(t,e,n){var i=n&&n.top!=null?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-hr(t));var r=n&&n.bottom!=null?n.bottom:i+t.wrapper.clientHeight,a=ze(e,i),o=ze(e,r);if(n&&n.ensure){var c=n.ensure.from.line,_=n.ensure.to.line;c<a?(a=c,o=ze(e,Je(ct(e,c))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=o&&(a=ze(e,Je(ct(e,_))-t.wrapper.clientHeight),o=_)}return{from:a,to:Math.max(o,a+1)}}function Ol(t,e){if(!zt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null,a=n.wrapper.ownerDocument;if(e.top+i.top<0?r=!0:e.bottom+i.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!d){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-n.viewOffset-hr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+qe(t)+n.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Nl(t,e,n,i){i==null&&(i=0);var r;!t.options.lineWrapping&&e==n&&(n=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,c=Fe(t,e),_=!n||n==e?c:Fe(t,n);r={left:Math.min(c.left,_.left),top:Math.min(c.top,_.top)-i,right:Math.max(c.left,_.left),bottom:Math.max(c.bottom,_.bottom)+i};var m=gs(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Cn(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(Ai(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(o=!0)),!o)break}return r}function Rl(t,e){var n=gs(t,e);n.scrollTop!=null&&Cn(t,n.scrollTop),n.scrollLeft!=null&&Ai(t,n.scrollLeft)}function gs(t,e){var n=t.display,i=Ki(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:n.scroller.scrollTop,a=ns(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var c=t.doc.height+is(n),_=e.top<i,m=e.bottom>c-i;if(e.top<r)o.scrollTop=_?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?c:e.bottom)-a);N!=r&&(o.scrollTop=N)}var M=t.options.fixedGutter?0:n.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:n.scroller.scrollLeft-M,q=Si(t)-n.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function vs(t,e){e!=null&&(vr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function \$i(t){vr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Tn(t,e,n){(e!=null||n!=null)&&vr(t),e!=null&&(t.curOp.scrollLeft=e),n!=null&&(t.curOp.scrollTop=n)}function Fl(t,e){vr(t),t.curOp.scrollToPos=e}function vr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Ga(t,e.from),i=Ga(t,e.to);to(t,n,i,e.margin)}}function to(t,e,n,i){var r=gs(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Tn(t,r.scrollLeft,r.scrollTop)}function Cn(t,e){Math.abs(t.doc.scrollTop-e)<2||(l||bs(t,{top:e}),eo(t,e,!0),l&&bs(t),On(t,100))}function eo(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ai(t,e,n,i){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i)&&(t.doc.scrollLeft=e,ao(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function An(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+is(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+qe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Li=function(t,e,n){this.cm=n;var i=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),it(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),it(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Li.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(i==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Li.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Li.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Li.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Li.prototype.enableZeroWidthBar=function(t,e,n){t.style.visibility="";function i(){var r=t.getBoundingClientRect(),a=n=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,i)}e.set(1e3,i)},Li.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Ln=function(){};Ln.prototype.update=function(){return{bottom:0,right:0}},Ln.prototype.setScrollLeft=function(){},Ln.prototype.setScrollTop=function(){},Ln.prototype.clear=function(){};function Yi(t,e){e||(e=An(t));var n=t.display.barWidth,i=t.display.barHeight;io(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&dr(t),io(t,An(t)),n=t.display.barWidth,i=t.display.barHeight}function io(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}var no={native:Li,null:Ln};function ro(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new no[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),it(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){n=="horizontal"?Ai(t,e):Cn(t,e)},t),t.display.scrollbars.addClass&&A(t.display.wrapper,t.display.scrollbars.addClass)}var Dl=0;function Oi(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Dl,markArrays:null},cl(t.curOp)}function Ni(t){var e=t.curOp;e&&_l(e,function(n){for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;Ml(n)})}function Ml(t){for(var e=t.ops,n=0;n<e.length;n++)Pl(e[n]);for(var i=0;i<e.length;i++)Wl(e[i]);for(var r=0;r<e.length;r++)Il(e[r]);for(var a=0;a<e.length;a++)Bl(e[a]);for(var o=0;o<e.length;o++)zl(e[o])}function Pl(t){var e=t.cm,n=e.display;ql(e),t.updateMaxLine&&ts(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new mr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Wl(t){t.updatedDisplay=t.mustUpdate&&ms(t.cm,t.update)}function Il(t){var e=t.cm,n=e.display;t.updatedDisplay&&dr(e),t.barMeasure=An(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ia(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+qe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Si(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Bl(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ai(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Yi(e,t.barMeasure),t.updatedDisplay&&ws(e,t.barMeasure),t.selectionChanged&&_s(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Ja(t.cm)}function zl(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&so(e,t.update),n.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),t.scrollTop!=null&&eo(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Ai(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Nl(e,yt(i,t.scrollToPos.from),yt(i,t.scrollToPos.to),t.scrollToPos.margin);Ol(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var c=0;c<a.length;++c)a[c].lines.length||Mt(a[c],"hide");if(o)for(var _=0;_<o.length;++_)o[_].lines.length&&Mt(o[_],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Oi(t);try{return e()}finally{Ni(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Oi(t);try{return e.apply(t,arguments)}finally{Ni(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Oi(this);try{return t.apply(this,arguments)}finally{Ni(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Oi(e);try{return t.apply(this,arguments)}finally{Ni(e)}}}function On(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(Hl,t))}function Hl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=bn(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(i.line>=t.display.viewFrom){var o=a.styles,c=a.text.length>t.options.maxHighlightLength?Ye(e.mode,i.state):null,_=fa(t,a,i,!0);c&&(i.state=c),a.styles=_.styles;var m=a.styleClasses,N=_.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var M=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<o.length;++j)M=o[j]!=a.styles[j];M&&r.push(i.line),a.stateAfter=i.save(),i.nextLine()}else a.text.length<=t.options.maxHighlightLength&&\$r(t,a.text,i),a.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return On(t,t.options.workDelay),!0}),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)fi(t,r[a],"text")})}}var mr=function(t,e,n){var i=t.display;this.viewport=e,this.visible=gr(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Si(t),this.force=n,this.dims=ls(t),this.events=[]};mr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},mr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function ql(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=qe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=qe(t)+"px",e.scrollbarsClipped=!0)}function jl(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=Nt(t).getSelection();i.anchorNode&&i.extend&&J(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Ul(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),i=e.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),n.removeAllRanges(),n.addRange(i),n.extend(t.focusNode,t.focusOffset)}}function ms(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return _i(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Qa(t)==0)return!1;oo(t)&&(_i(t),e.dims=ls(t));var r=i.first+i.size,a=Math.max(e.visible.from-t.options.viewportMargin,i.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(r,n.viewTo)),Ze&&(a=Jr(t.doc,a),o=Ta(t.doc,o));var c=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Al(t,a,o),n.viewOffset=Je(ct(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var _=Qa(t);if(!c&&_==0&&!e.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var m=jl(t);return _>4&&(n.lineDiv.style.display="none"),Kl(t,n.updateLineNumbers,e.dims),_>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Ul(m),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,c&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,On(t,400)),n.updateLineNumbers=null,!0}function so(t,e){for(var n=e.viewport,i=!0;;i=!1){if(!i||!t.options.lineWrapping||e.oldDisplayWidth==Si(t)){if(n&&n.top!=null&&(n={top:Math.min(t.doc.height+is(t.display)-ns(t),n.top)}),e.visible=gr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else i&&(e.visible=gr(t.display,t.doc,n));if(!ms(t,e))break;dr(t);var r=An(t);En(t),Yi(t,r),ws(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function bs(t,e){var n=new mr(t,e);if(ms(t,n)){dr(t),so(t,n);var i=An(t);En(t),Yi(t,i),ws(t,i),n.finish()}}function Kl(t,e,n){var i=t.display,r=t.options.lineNumbers,a=i.lineDiv,o=a.firstChild;function c(X){var Y=X.nextSibling;return p&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=i.view,m=i.viewFrom,N=0;N<_.length;N++){var M=_[N];if(!M.hidden)if(!M.node||M.node.parentNode!=a){var j=ml(t,M,m,n);a.insertBefore(j,o)}else{for(;o!=M.node;)o=c(o);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Na(t,M,m,n)),q&&(k(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=M.node.nextSibling}m+=M.size}for(;o;)o=c(o)}function ys(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ws(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+qe(t)+"px"}function ao(t){var e=t.display,n=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var i=hs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){t.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=a),n[o].gutterBackground&&(n[o].gutterBackground.style.left=a));var c=n[o].alignable;if(c)for(var _=0;_<c.length;_++)c[_].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function oo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=P(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(L("div",[L("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ys(t.display),!0}return!1}function xs(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)i=!0;else continue;n.push({className:a,style:o})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function uo(t){var e=t.gutters,n=t.gutterSpecs;k(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],a=r.className,o=r.style,c=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(c.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=c,c.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ys(t)}function Nn(t){uo(t.display),_e(t),ao(t)}function Gl(t,e,n,i){var r=this;this.input=n,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&w<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!p&&!(l&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=xs(i.gutters,i.lineNumbers),uo(r),n.init(r)}var br=0,ti=null;S?ti=-.53:l?ti=15:u?ti=-.7:F&&(ti=-1/3);function lo(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),n==null&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:n==null&&(n=t.wheelDelta),{x:e,y:n}}function Xl(t){var e=lo(t);return e.x*=ti,e.y*=ti,e}function ho(t,e){u&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var n=lo(e),i=n.x,r=n.y,a=ti;e.deltaMode===0&&(i=e.deltaX,r=e.deltaY,a=1);var o=t.display,c=o.scroller,_=c.scrollWidth>c.clientWidth,m=c.scrollHeight>c.clientHeight;if(i&&_||r&&m){if(r&&z&&p){t:for(var N=e.target,M=o.view;N!=c;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(i&&!l&&!b&&a!=null){r&&m&&Cn(t,Math.max(0,c.scrollTop+r*a)),Ai(t,Math.max(0,c.scrollLeft+i*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),bs(t,{top:X,bottom:Y})}br<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=c.scrollLeft,o.wheelStartY=c.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=c.scrollLeft-o.wheelStartX,tt=c.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(ti=(ti*br+st)/(br+1),++br)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!bt(n.anchor,i.anchor)||!bt(n.head,i.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(G(e,i.from())>=0&&G(t,i.to())<=0)return n}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function De(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort(function(j,q){return G(j.from(),q.from())}),n=vt(e,r);for(var a=1;a<e.length;a++){var o=e[a],c=e[a-1],_=G(c.to(),o.from());if(i&&!o.empty()?_>0:_>=0){var m=Xt(c.from(),o.from()),N=Ct(c.to(),o.to()),M=c.empty()?o.from()==o.head:c.from()==c.head;a<=n&&--n,e.splice(--a,2,new Ot(M?N:m,M?m:N))}}return new Se(e,n)}function pi(t,e){return new Se([new Ot(t,e||t)],0)}function di(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function co(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return di(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=di(e).ch-e.to.ch),B(n,i)}function ks(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Ot(co(r.anchor,e),co(r.head,e)))}return De(t.cm,n,t.sel.primIndex)}function fo(t,e,n){return t.line==e.line?B(n.line,t.ch-e.ch+n.ch):B(n.line+(t.line-e.line),t.ch)}function \$l(t,e,n){for(var i=[],r=B(t.first,0),a=r,o=0;o<e.length;o++){var c=e[o],_=fo(c.from,r,a),m=fo(di(c),r,a);if(r=c.to,a=m,n=="around"){var N=t.sel.ranges[o],M=G(N.head,N.anchor)<0;i[o]=new Ot(M?m:_,M?_:m)}else i[o]=new Ot(_,_)}return new Se(i,t.sel.primIndex)}function Ss(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Rn(t)}function Rn(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,On(t,100),t.state.modeGen++,t.curOp&&_e(t)}function _o(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Es(t,e,n,i){function r(st){return n?n[st]:null}function a(st,et,ut){il(st,et,ut,i),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new qi(m[gt],r(gt),i));return ut}var c=e.from,_=e.to,m=e.text,N=ct(t,c.line),M=ct(t,_.line),j=mt(m),q=r(m.length-1),X=_.line-c.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(_o(t,e)){var Y=o(0,m.length-1);a(M,M.text,q),X&&t.remove(c.line,X),Y.length&&t.insert(c.line,Y)}else if(N==M)if(m.length==1)a(N,N.text.slice(0,c.ch)+j+N.text.slice(_.ch),q);else{var V=o(1,m.length-1);V.push(new qi(j+N.text.slice(_.ch),q,i)),a(N,N.text.slice(0,c.ch)+m[0],r(0)),t.insert(c.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,c.ch)+m[0]+M.text.slice(_.ch),r(0)),t.remove(c.line+1,X);else{a(N,N.text.slice(0,c.ch)+m[0],r(0)),a(M,j+M.text.slice(_.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(c.line+1,X-1),t.insert(c.line+1,tt)}Qt(t,"change",t,e)}function gi(t,e,n){function i(r,a,o){if(r.linked)for(var c=0;c<r.linked.length;++c){var _=r.linked[c];if(_.doc!=a){var m=o&&_.sharedHist;n&&!m||(e(_.doc,m),i(_.doc,r,m))}}}i(t,null,!0)}function po(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,cs(t),Ss(t),go(t),t.options.direction=e.direction,t.options.lineWrapping||ts(t),t.options.mode=e.modeOption,_e(t)}function go(t){(t.doc.direction=="rtl"?A:R)(t.display.lineDiv,"CodeMirror-rtl")}function Yl(t){be(t,function(){go(t),_e(t)})}function yr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Ts(t,e){var n={from:Tt(e.from),to:di(e),text:Qe(t,e.from,e.to)};return bo(t,n,e.from.line,e.to.line+1),gi(t,function(i){return bo(i,n,e.from.line,e.to.line+1)},!0),n}function vo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function Ql(t,e){if(e)return vo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function mo(t,e,n,i){var r=t.history;r.undone.length=0;var a=+new Date,o,c;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=Ql(r,r.lastOp==i)))c=mt(o.changes),G(e.from,e.to)==0&&G(e.from,c.to)==0?c.to=di(e):o.changes.push(Ts(t,e));else{var _=mt(r.done);for((!_||!_.ranges)&&wr(t.sel,r.done),o={changes:[Ts(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,c||Mt(t,"historyAdded")}function Zl(t,e,n,i){var r=e.charAt(0);return r=="*"||r=="+"&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Jl(t,e,n,i){var r=t.history,a=i&&i.origin;n==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||Zl(t,a,mt(r.done),e))?r.done[r.done.length-1]=e:wr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=n,i&&i.clearRedo!==!1&&vo(r.undone)}function wr(t,e){var n=mt(e);n&&n.ranges&&n.equals(t)||e.push(t)}function bo(t,e,n,i){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function Vl(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function th(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(Vl(n[r]));return i}function yo(t,e){var n=th(t,e),i=Qr(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var a=n[r],o=i[r];if(a&&o)t:for(var c=0;c<o.length;++c){for(var _=o[c],m=0;m<a.length;++m)if(a[m].marker==_.marker)continue t;a.push(_)}else o&&(n[r]=o)}return n}function Qi(t,e,n){for(var i=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){i.push(n?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,c=[];i.push({changes:c});for(var _=0;_<o.length;++_){var m=o[_],N=void 0;if(c.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(c)[M]=m[M],delete m[M])}}return i}function Cs(t,e,n,i){if(i){var r=t.anchor;if(n){var a=G(e,r)<0;a!=G(n,r)<0?(r=e,e=n):a!=G(e,n)<0&&(e=n)}return new Ot(r,e)}else return new Ot(n||e,e)}function xr(t,e,n,i,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Cs(t.sel.primary(),e,n,r)],0),i)}function wo(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)i[a]=Cs(t.sel.ranges[a],e[a],null,r);var o=De(t.cm,i,t.sel.primIndex);se(t,o,n)}function As(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,se(t,De(t.cm,r,t.sel.primIndex),i)}function xo(t,e,n,i){se(t,pi(e,n),i)}function eh(t,e,n){var i={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new Ot(yt(t,r[a].anchor),yt(t,r[a].head))},origin:n&&n.origin};return Mt(t,"beforeSelectionChange",t,i),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?De(t.cm,i.ranges,i.ranges.length-1):e}function ko(t,e,n){var i=t.history.done,r=mt(i);r&&r.ranges?(i[i.length-1]=e,kr(t,e,n)):se(t,e,n)}function se(t,e,n){kr(t,e,n),Jl(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function kr(t,e,n){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=eh(t,e,n));var i=n&&n.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);So(t,To(t,e,i,!0)),!(n&&n.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&\$i(t.cm)}function So(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Jn(t.cm)),Qt(t,"cursorActivity",t))}function Eo(t){So(t,To(t,t.sel,null,!1))}function To(t,e,n,i){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],c=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],_=Sr(t,o.anchor,c&&c.anchor,n,i),m=o.head==o.anchor?_:Sr(t,o.head,c&&c.head,n,i);(r||_!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new Ot(_,m))}return r?De(t.cm,r,e.primIndex):e}function Zi(t,e,n,i,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var c=a.markedSpans[o],_=c.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((c.from==null||(m?c.from<=e.ch:c.from<e.ch))&&(c.to==null||(N?c.to>=e.ch:c.to>e.ch))){if(r&&(Mt(_,"beforeCursorEnter"),_.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!_.atomic)continue;if(n){var M=_.find(i<0?1:-1),j=void 0;if((i<0?N:m)&&(M=Co(t,M,-i,M&&M.line==e.line?a:null)),M&&M.line==e.line&&(j=G(M,n))&&(i<0?j<0:j>0))return Zi(t,M,e,i,r)}var q=_.find(i<0?-1:1);return(i<0?m:N)&&(q=Co(t,q,i,q.line==e.line?a:null)),q?Zi(t,q,e,i,r):null}}return e}function Sr(t,e,n,i,r){var a=i||1,o=Zi(t,e,n,a,r)||!r&&Zi(t,e,n,a,!0)||Zi(t,e,n,-a,r)||!r&&Zi(t,e,n,-a,!0);return o||(t.cantEdit=!0,B(t.first,0))}function Co(t,e,n,i){return n<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:n>0&&e.ch==(i||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+n)}function Ao(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function Lo(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(r,a,o,c){r&&(i.from=yt(t,r)),a&&(i.to=yt(t,a)),o&&(i.text=o),c!==void 0&&(i.origin=c)}),Mt(t,"beforeChange",t,i),t.cm&&Mt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ji(t,e,n){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Ji)(t,e,n);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=Lo(t,e,!0),!e))){var i=ba&&!n&&Ju(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Oo(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else Oo(t,e)}}function Oo(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var n=ks(t,e);mo(t,e,n,t.cm?t.cm.curOp.id:NaN),Fn(t,e,n,Qr(t,e));var i=[];gi(t,function(r,a){!a&&vt(i,r.history)==-1&&(Do(r.history,e),i.push(r.history)),Fn(r,e,null,Qr(r,e))})}}function Er(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!(i&&!n)){for(var r=t.history,a,o=t.sel,c=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<c.length&&(a=c[m],!(n?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=c.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=c.pop(),a.ranges){if(wr(a,_),n&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(i){c.push(a);return}else break;var N=[];wr(o,_),_.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var M=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,M&&!Lo(t,V,!1))return c.length=0,{};N.push(Ts(t,V));var tt=Y?ks(t,V):mt(c);Fn(t,V,tt,yo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:di(V)});var st=[];gi(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Do(et.history,V),st.push(et.history)),Fn(et,V,null,yo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function No(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)fi(t.cm,i,"gutter")}}function Fn(t,e,n,i){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Fn)(t,e,n,i);if(e.to.line<t.first){No(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);No(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:B(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),n||(n=ks(t,e)),t.cm?ih(t.cm,e,i):Es(t,e,i),kr(t,n,Rt),t.cantEdit&&Sr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function ih(t,e,n){var i=t.doc,r=t.display,a=e.from,o=e.to,c=!1,_=a.line;t.options.lineWrapping||(_=Lt(Re(ct(i,a.line))),i.iter(_,o.line+1,function(q){if(q==r.maxLine)return c=!0,!0})),i.sel.contains(e.from,e.to)>-1&&Jn(t),Es(i,e,n,Ya(t)),t.options.lineWrapping||(i.iter(_,a.line+e.text.length,function(q){var X=ur(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),Ku(i,a.line),On(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!_o(t.doc,e)?fi(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),M=oe(t,"change");if(M||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function Vi(t,e,n,i,r){var a;i||(i=n),G(i,n)<0&&(a=[i,n],n=a[0],i=a[1]),typeof e=="string"&&(e=t.splitLines(e)),Ji(t,{from:n,to:i,text:e,origin:r})}function Ro(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function Fo(t,e,n,i){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var c=0;c<a.ranges.length;c++)Ro(a.ranges[c].anchor,e,n,i),Ro(a.ranges[c].head,e,n,i);continue}for(var _=0;_<a.changes.length;++_){var m=a.changes[_];if(n<m.from.line)m.from=B(m.from.line+i,m.from.ch),m.to=B(m.to.line+i,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Do(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;Fo(t.done,n,i,r),Fo(t.undone,n,i,r)}function Dn(t,e,n,i){var r=e,a=e;return typeof e=="number"?a=ct(t,ke(t,e)):r=Lt(e),r==null?null:(i(a,r)&&t.cm&&fi(t.cm,r,n),a)}function Mn(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}Mn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,nl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}};function Pn(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}Pn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var a=Math.min(e,r-t),o=i.height;if(i.removeInner(t,a),this.height-=o-i.height,r==a&&(this.children.splice(n--,1),i.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Mn))){var c=[];this.collapse(c),this.children=[new Mn(c)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,c=o;c<r.lines.length;){var _=new Mn(r.lines.slice(c,c+=25));r.height-=_.height,this.children.splice(++i,0,_),_.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Pn(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Pn(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,n))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Wn=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Wn.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=Lt(n);if(!(i==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var a=kn(this);Le(n,Math.max(0,n.height-a)),t&&(be(t,function(){Mo(t,n,-a),fi(t,i,"widget")}),Qt(t,"lineWidgetCleared",t,this,i))}},Wn.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=kn(this)-e;r&&(ci(this.doc,i)||Le(i,i.height+r),n&&be(n,function(){n.curOp.forceUpdate=!0,Mo(n,i,r),Qt(n,"lineWidgetChanged",n,t,Lt(i))}))},ue(Wn);function Mo(t,e,n){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&vs(t,n)}function nh(t,e,n,i){var r=new Wn(t,n,i),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Dn(t,e,"widget",function(o){var c=o.widgets||(o.widgets=[]);if(r.insertAt==null?c.push(r):c.splice(Math.min(c.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!ci(t,o)){var _=Je(o)<t.scrollTop;Le(o,o.height+kn(r)),_&&vs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Lt(e)),r}var Po=0,vi=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Po};vi.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Oi(t),oe(this,"clear")){var n=this.find();n&&Qt(this,"clear",n.from,n.to)}for(var i=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],c=yn(o.markedSpans,this);t&&!this.collapsed?fi(t,Lt(o),"text"):t&&(c.to!=null&&(r=Lt(o)),c.from!=null&&(i=Lt(o))),o.markedSpans=\$u(o.markedSpans,c),c.from==null&&this.collapsed&&!ci(this.doc,o)&&t&&Le(o,Ki(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Re(this.lines[_]),N=ur(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}i!=null&&t&&this.collapsed&&_e(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Eo(t.doc)),t&&Qt(t,"markerCleared",t,this,i,r),e&&Ni(t),this.parent&&this.parent.clear()}},vi.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var a=this.lines[r],o=yn(a.markedSpans,this);if(o.from!=null&&(n=B(e?a:Lt(a),o.from),t==-1))return n;if(o.to!=null&&(i=B(e?a:Lt(a),o.to),t==1))return i}return n&&{from:n,to:i}},vi.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;!e||!i||be(i,function(){var r=e.line,a=Lt(e.line),o=rs(i,a);if(o&&(Ha(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ci(n.doc,r)&&n.height!=null){var c=n.height;n.height=null;var _=kn(n)-c;_&&Le(r,r.height+_)}Qt(i,"markerChanged",i,t)})},vi.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vi.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(vi);function tn(t,e,n,i,r){if(i&&i.shared)return rh(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,tn)(t,e,n,i,r);var a=new vi(t,r),o=G(e,n);if(i&&ft(i,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ea(t,e.line,e,n,a)||e.line!=n.line&&Ea(t,n.line,e,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Xu()}a.addToHistory&&mo(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var c=e.line,_=t.cm,m;if(t.iter(c,n.line+1,function(M){_&&a.collapsed&&!_.options.lineWrapping&&Re(M)==_.display.maxLine&&(m=!0),a.collapsed&&c!=e.line&&Le(M,0),Yu(M,new rr(a,c==e.line?e.ch:null,c==n.line?n.ch:null),t.cm&&t.cm.curOp),++c}),a.collapsed&&t.iter(e.line,n.line+1,function(M){ci(t,M)&&Le(M,0)}),a.clearOnEnter&&it(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Gu(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Po,a.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),a.collapsed)_e(_,e.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=n.line;N++)fi(_,N,"text");a.atomic&&Eo(_.doc),Qt(_,"markerAdded",_,a)}return a}var In=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};In.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},In.prototype.find=function(t,e){return this.primary.find(t,e)},ue(In);function rh(t,e,n,i,r){i=ft(i),i.shared=!1;var a=[tn(t,e,n,i,r)],o=a[0],c=i.widgetNode;return gi(t,function(_){c&&(i.widgetNode=c.cloneNode(!0)),a.push(tn(_,yt(_,e),yt(_,n),i,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;o=mt(a)}),new In(a,o)}function Wo(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function sh(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var c=tn(t,a,o,i.primary,i.primary.type);i.markers.push(c),c.parent=i}}}function ah(t){for(var e=function(i){var r=t[i],a=[r.primary.doc];gi(r.primary.doc,function(_){return a.push(_)});for(var o=0;o<r.markers.length;o++){var c=r.markers[o];vt(a,c.doc)==-1&&(c.parent=null,r.markers.splice(o--,1))}},n=0;n<t.length;n++)e(n)}var oh=0,pe=function(t,e,n,i,r){if(!(this instanceof pe))return new pe(t,e,n,i,r);n==null&&(n=0),Pn.call(this,[new Mn([new qi("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var a=B(n,0);this.sel=pi(a),this.history=new yr(null),this.id=++oh,this.modeOption=e,this.lineSep=i,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Es(this,{from:a,to:a,text:t}),se(this,pi(a),Rt)};pe.prototype=Yn(Pn.prototype,{constructor:pe,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Hi(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),n=this.first+this.size-1;Ji(this,{from:e,to:B(n,ct(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Tn(this.cm,0,0),se(this,pi(e),Rt)}),replaceRange:function(t,e,n,i){e=yt(this,e),n=n?yt(this,n):e,Vi(this,t,e,n,i)},getRange:function(t,e,n){var i=Qe(this,yt(this,t),yt(this,e));return n===!1?i:n===""?i.join(""):i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(x(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Re(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),n;return t==null||t=="head"?n=e.head:t=="anchor"?n=e.anchor:t=="end"||t=="to"||t===!1?n=e.to():n=e.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,n){xo(this,yt(this,typeof t=="number"?B(t,e||0):t),null,n)}),setSelection:Jt(function(t,e,n){xo(this,yt(this,t),yt(this,e||t),n)}),extendSelection:Jt(function(t,e,n){xr(this,yt(this,t),e&&yt(this,e),n)}),extendSelections:Jt(function(t,e){wo(this,ca(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var n=Ge(this.sel.ranges,t);wo(this,ca(this,n),e)}),setSelections:Jt(function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,De(this.cm,i,e),n)}}),addSelection:Jt(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Ot(yt(this,t),yt(this,e||t))),se(this,De(this.cm,i,i.length-1),n)}),getSelection:function(t){for(var e=this.sel.ranges,n,i=0;i<e.length;i++){var r=Qe(this,e[i].from(),e[i].to());n=n?n.concat(r):r}return t===!1?n:n.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Qe(this,n[i].from(),n[i].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Jt(function(t,e,n){for(var i=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];i[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:n}}for(var c=e&&e!="end"&&\$l(this,i,e),_=i.length-1;_>=0;_--)Ji(this,i[_]);c?ko(this,c):this.cm&&\$i(this.cm)}),undo:Jt(function(){Er(this,"undo")}),redo:Jt(function(){Er(this,"redo")}),undoSelection:Jt(function(){Er(this,"undo",!0)}),redoSelection:Jt(function(){Er(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new yr(this.history),gi(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Qi(this.history.done),undone:Qi(this.history.undone)}},setHistory:function(t){var e=this.history=new yr(this.history);e.done=Qi(t.done.slice(0),null,!0),e.undone=Qi(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,n){return Dn(this,t,"gutter",function(i){var r=i.gutterMarkers||(i.gutterMarkers={});return r[e]=n,!n&&Qn(r)&&(i.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&Dn(e,n,"gutter",function(){return n.gutterMarkers[t]=null,Qn(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!x(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,n){return Dn(this,t,e=="gutter"?"gutter":"class",function(i){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!i[r])i[r]=n;else{if(I(n).test(i[r]))return!1;i[r]+=" "+n}return!0})}),removeLineClass:Jt(function(t,e,n){return Dn(this,t,e=="gutter"?"gutter":"class",function(i){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=i[r];if(a)if(n==null)i[r]=null;else{var o=a.match(I(n));if(!o)return!1;var c=o.index+o[0].length;i[r]=a.slice(0,o.index)+(!o.index||c==a.length?"":" ")+a.slice(c)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,n){return nh(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return tn(this,yt(this,t),yt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),tn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],n=ct(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=yt(this,t),e=yt(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var c=0;c<o.length;c++){var _=o[c];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!n||n(_.marker))&&i.push(_.marker.parent||_.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)n[i].from!=null&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+i;if(a>t)return e=t,!0;t-=a,++n}),yt(this,B(n,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(i){e+=i.text.length+n}),e},copy:function(t){var e=new pe(Hi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<n&&(n=t.to);var i=new pe(Hi(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],sh(i,Wo(this)),i},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),ah(Wo(this));break}}if(t.history==this.history){var i=[t.id];gi(t,function(r){return i.push(r.id)},!0),t.history=new yr(null),t.history.done=Qi(this.history.done,i),t.history.undone=Qi(this.history.undone,i)}},iterLinkedDocs:function(t){gi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):vn(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&Yl(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var Io=0;function uh(t){var e=this;if(Bo(e),!(zt(e,t)||Ve(e.display,t))){re(t),S&&(Io=+new Date);var n=Ti(e,t,!0),i=t.dataTransfer.files;if(!(!n||e.isReadOnly()))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,a=Array(r),o=0,c=function(){++o==r&&Zt(e,function(){n=yt(e.doc,n);var q={from:n,to:n,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Ji(e.doc,q),ko(e.doc,pi(yt(e.doc,n),yt(e.doc,di(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){c();return}var Y=new FileReader;Y.onerror=function(){return c()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){c();return}a[X]=V,c()},Y.readAsText(q)},m=0;m<i.length;m++)_(i[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),kr(e.doc,pi(n,n)),M)for(var j=0;j<M.length;++j)Vi(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function lh(t,e){if(S&&(!t.state.draggingText||+new Date-Io<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var n=L("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),b&&n.parentNode.removeChild(n)}}function hh(t,e){var n=Ti(t,e);if(n){var i=document.createDocumentFragment();fs(t,n,i),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,i)}}function Bo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function zo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var a=0;a<n.length;a++)t(n[a])})}}var Ho=!1;function ch(){Ho||(fh(),Ho=!0)}function fh(){var t;it(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,zo(_h)},100))}),it(window,"blur",function(){return zo(Xi)})}function _h(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var mi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bn=0;Bn<10;Bn++)mi[Bn+48]=mi[Bn+96]=String(Bn);for(var Tr=65;Tr<=90;Tr++)mi[Tr]=String.fromCharCode(Tr);for(var zn=1;zn<=12;zn++)mi[zn+111]=mi[zn+63235]="F"+zn;var ei={};ei.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ei.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ei.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ei.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ei.default=z?ei.macDefault:ei.pcDefault;function ph(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var n,i,r,a,o=0;o<e.length-1;o++){var c=e[o];if(/^(cmd|meta|m)\$/i.test(c))a=!0;else if(/^a(lt)?\$/i.test(c))n=!0;else if(/^(c|ctrl|control)\$/i.test(c))i=!0;else if(/^s(hift)?\$/i.test(c))r=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function dh(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)\$/.test(n))continue;if(i=="..."){delete t[n];continue}for(var r=Ge(n.split(" "),ph),a=0;a<r.length;a++){var o=void 0,c=void 0;a==r.length-1?(c=r.join(" "),o=i):(c=r.slice(0,a+1).join(" "),o="...");var _=e[c];if(!_)e[c]=o;else if(_!=o)throw new Error("Inconsistent bindings for "+c)}delete t[n]}for(var m in e)t[m]=e[m];return t}function en(t,e,n,i){e=Cr(e);var r=e.call?e.call(t,i):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&n(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return en(t,e.fallthrough,n,i);for(var a=0;a<e.fallthrough.length;a++){var o=en(t,e.fallthrough[a],n,i);if(o)return o}}}function qo(t){var e=typeof t=="string"?t:mi[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function jo(t,e,n){var i=t;return e.altKey&&i!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&i!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&i!="Mod"&&(t="Cmd-"+t),!n&&e.shiftKey&&i!="Shift"&&(t="Shift-"+t),t}function Uo(t,e){if(b&&t.keyCode==34&&t.char)return!1;var n=mi[t.keyCode];return n==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(n=t.code),jo(n,t,e))}function Cr(t){return typeof t=="string"?ei[t]:t}function nn(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var a=e(n[r]);i.length&&G(a.from,mt(i).to)<=0;){var o=i.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}i.push(a)}be(t,function(){for(var c=i.length-1;c>=0;c--)Vi(t.doc,"",i[c].from,i[c].to,"+delete");\$i(t)})}function Ls(t,e,n){var i=Pe(t.text,e+n,n);return i<0||i>t.text.length?null:i}function Os(t,e,n){var i=Ls(t,e.ch,n);return i==null?null:new B(e.line,i,n<0?"after":"before")}function Ns(t,e,n,i,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(n,e.doc.direction);if(a){var o=r<0?mt(a):a[0],c=r<0==(o.level==1),_=c?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=Ui(e,n);m=r<0?n.text.length-1:0;var M=je(e,N,m).top;m=Bt(function(j){return je(e,N,j).top==M},r<0==(o.level==1)?o.from:o.to-1,m),_=="before"&&(m=Ls(n,m,1))}else m=r<0?o.to:o.from;return new B(i,m,_)}}return new B(i,r<0?n.text.length:0,r<0?"before":"after")}function gh(t,e,n,i){var r=Ce(e,t.doc.direction);if(!r)return Os(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var a=Te(r,n.ch,n.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(i>0?o.to>n.ch:o.from<n.ch))return Os(e,n,i);var c=function(tt,st){return Ls(e,tt instanceof B?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||Ui(t,e),\$a(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(n.sticky=="before"?c(n,-1):n.ch);if(t.doc.direction=="rtl"||o.level==1){var M=o.level==1==i<0,j=c(n,M?1:-1);if(j!=null&&(M?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=M?"before":"after";return new B(n.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(n.line,c(Dt,1),"before"):new B(n.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:c(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:c(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(a+i,i,N);if(Y)return Y;var V=i>0?N.end:c(N.begin,-1);return V!=null&&!(i>0&&V==e.text.length)&&(Y=X(i>0?0:r.length-1,i,m(V)),Y)?Y:null}var Hn={selectAll:Ao,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return nn(t,function(e){if(e.empty()){var n=ct(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,n)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return nn(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return nn(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return nn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}})},delWrappedLineRight:function(t){return nn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Ko(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Go(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return vh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\\S/)?Go(t,e.head):i},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var a=n[r].from(),o=at(t.getLine(a.line),a.ch,i);e.push(It(i-o%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new B(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),B(r.line-1,o.length-1),r,"+transpose"))}}n.push(new Ot(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);\$i(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Ko(t,e){var n=ct(t.doc,e),i=Re(n);return i!=n&&(e=Lt(i)),Ns(!0,t,i,e,1)}function vh(t,e){var n=ct(t.doc,e),i=tl(n);return i!=n&&(e=Lt(i)),Ns(!0,t,n,e,-1)}function Go(t,e){var n=Ko(t,e.line),i=ct(t.doc,n.line),r=Ce(i,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(n.ch,i.text.search(/\\S/)),o=e.line==n.line&&e.ch<=a&&e.ch;return B(n.line,o?0:a,n.sticky)}return n}function Ar(t,e,n){if(typeof e=="string"&&(e=Hn[e],!e))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function mh(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=en(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&en(e,t.options.extraKeys,n,t)||en(e,t.options.keyMap,n,t)}var bh=new _t;function qn(t,e,n,i){var r=t.state.keySeq;if(r){if(qo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:bh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Xo(t,r+" "+e,n,i))return!0}return Xo(t,e,n,i)}function Xo(t,e,n,i){var r=mh(t,e,i);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,n),(r=="handled"||r=="multi")&&(re(n),_s(t)),!!r}function \$o(t,e){var n=Uo(e,!0);return n?e.shiftKey&&!t.state.keySeq?qn(t,"Shift-"+n,e,function(i){return Ar(t,i,!0)})||qn(t,n,e,function(i){if(typeof i=="string"?/^go[A-Z]/.test(i):i.motion)return Ar(t,i)}):qn(t,n,e,function(i){return Ar(t,i)}):!1}function yh(t,e,n){return qn(t,"'"+n+"'",e,function(i){return Ar(t,i,!0)})}var Rs=null;function Yo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&w<11&&t.keyCode==27&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=n==16||t.shiftKey;var i=\$o(e,t);b&&(Rs=i?n:null,!i&&n==88&&!Ie&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),l&&!z&&!i&&n==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&wh(e)}}function wh(t){var e=t.display.lineDiv;A(e,"CodeMirror-crosshair");function n(i){(i.keyCode==18||!i.altKey)&&(R(e,"CodeMirror-crosshair"),ne(document,"keyup",n),ne(document,"mouseover",n))}it(document,"keyup",n),it(document,"mouseover",n)}function Qo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Zo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(b&&n==Rs){Rs=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&\$o(e,t))){var r=String.fromCharCode(i??n);r!="\\b"&&(yh(e,t,r)||e.display.input.onKeyPress(t))}}}var xh=400,Fs=function(t,e,n){this.time=t,this.pos=e,this.button=n};Fs.prototype.compare=function(t,e,n){return this.time+xh>t&&G(e,this.pos)==0&&n==this.button};var jn,Un;function kh(t,e){var n=+new Date;return Un&&Un.compare(n,t,e)?(jn=Un=null,"triple"):jn&&jn.compare(n,t,e)?(Un=new Fs(n,t,e),jn=null,"double"):(jn=new Fs(n,t,e),Un=null,"single")}function Jo(t){var e=this,n=e.display;if(!(zt(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=t.shiftKey,Ve(n,t)){p||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Ds(e,t)){var i=Ti(e,t),r=gn(t),a=i?kh(i,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(i&&Sh(e,r,i,a,t))&&(r==1?i?Th(e,i,a,t):fe(t)==n.scroller&&re(t):r==2?(i&&xr(e.doc,i),setTimeout(function(){return n.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):ps(e)))}}}function Sh(t,e,n,i,r){var a="Click";return i=="double"?a="Double"+a:i=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,qn(t,jo(a,r),r,function(o){if(typeof o=="string"&&(o=Hn[o]),!o)return!1;var c=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),c=o(t,n)!=Et}finally{t.state.suppressEdits=!1}return c})}function Eh(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(r.unit==null){var a=H?n.shiftKey&&n.metaKey:n.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),r.addNew==null&&(r.addNew=z?n.metaKey:n.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?n.altKey:n.ctrlKey)),r}function Th(t,e,n,i){S?setTimeout(kt(Ja,t),0):t.curOp.focus=lt(wt(t));var r=Eh(t,n,i),a=t.doc.sel,o;t.options.dragDrop&&Gr&&!t.isReadOnly()&&n=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Ch(t,i,e,r):Ah(t,i,e,r)}function Ch(t,e,n,i){var r=t.display,a=!1,o=Zt(t,function(m){p&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ps(t)),ne(r.wrapper.ownerDocument,"mouseup",o),ne(r.wrapper.ownerDocument,"mousemove",c),ne(r.scroller,"dragstart",_),ne(r.scroller,"drop",o),a||(re(m),i.addNew||xr(t.doc,n,null,null,i.extend),p&&!F||S&&w==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),c=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return a=!0};p&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!i.moveOnDrag,it(r.wrapper.ownerDocument,"mouseup",o),it(r.wrapper.ownerDocument,"mousemove",c),it(r.scroller,"dragstart",_),it(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Vo(t,e,n){if(n=="char")return new Ot(e,e);if(n=="word")return t.findWordAt(e);if(n=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var i=n(t,e);return new Ot(i.from,i.to)}function Ah(t,e,n,i){S&&ps(t);var r=t.display,a=t.doc;re(e);var o,c,_=a.sel,m=_.ranges;if(i.addNew&&!i.extend?(c=a.sel.contains(n),c>-1?o=m[c]:o=new Ot(n,n)):(o=a.sel.primary(),c=a.sel.primIndex),i.unit=="rectangle")i.addNew||(o=new Ot(n,n)),n=Ti(t,e,!0,!0),c=-1;else{var N=Vo(t,n,i.unit);i.extend?o=Cs(o,N.anchor,N.head,i.extend):o=N}i.addNew?c==-1?(c=m.length,se(a,De(t,m.concat([o]),c),{scroll:!1,origin:"*mouse"})):m.length>1&&m[c].empty()&&i.unit=="char"&&!i.extend?(se(a,De(t,m.slice(0,c).concat(m.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),_=a.sel):As(a,c,o,Ee):(c=0,se(a,new Se([o],0),Ee),_=a.sel);var M=n;function j(et){if(G(M,et)!=0)if(M=et,i.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(a,n.line).text,n.ch,gt),xt=at(ct(a,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(n.line,et.line),ye=Math.min(t.lastLine(),Math.max(n.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Ut=xe(de,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):de.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,xe(de,Vt,gt))))}ut.length||ut.push(new Ot(n,n)),se(a,De(t,_.ranges.slice(0,c).concat(ut),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ie=Vo(t,et,i.unit),\$t=ge.anchor,Kt;G(ie.anchor,\$t)>0?(Kt=ie.head,\$t=Xt(ge.from(),ie.anchor)):(Kt=ie.anchor,\$t=Ct(ge.to(),ie.head));var qt=_.ranges.slice(0);qt[c]=Lh(t,new Ot(yt(a,\$t),Kt)),se(a,De(t,qt,c),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=Ti(t,et,!0,i.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=gr(r,a);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ne(r.wrapper.ownerDocument,"mousemove",tt),ne(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!gn(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,it(r.wrapper.ownerDocument,"mousemove",tt),it(r.wrapper.ownerDocument,"mouseup",st)}function Lh(t,e){var n=e.anchor,i=e.head,r=ct(t.doc,n.line);if(G(n,i)==0&&n.sticky==i.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,n.ch,n.sticky),c=a[o];if(c.from!=n.ch&&c.to!=n.ch)return e;var _=o+(c.from==n.ch==(c.level!=1)?0:1);if(_==0||_==a.length)return e;var m;if(i.line!=n.line)m=(i.line-n.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,i.ch,i.sticky),M=N-o||(i.ch-n.ch)*(c.level==1?-1:1);N==_-1||N==_?m=M<0:m=M>0}var j=a[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return n.ch==X&&n.sticky==Y?e:new Ot(new B(n.line,X,Y),i)}function tu(t,e,n,i){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&re(e);var o=t.display,c=o.lineDiv.getBoundingClientRect();if(a>c.bottom||!oe(t,n))return dn(e);a-=c.top-o.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=o.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),M=t.display.gutterSpecs[_];return Mt(t,n,t,N,M.className,e),dn(e)}}}function Ds(t,e){return tu(t,e,"gutterClick",!0)}function eu(t,e){Ve(t.display,e)||Oh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Oh(t,e){return oe(t,"gutterContextMenu")?tu(t,e,"gutterContextMenu",!1):!1}function iu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Sn(t)}var rn={toString:function(){return"CodeMirror.Init"}},nu={},Lr={};function Nh(t){var e=t.optionHandlers;function n(i,r,a,o){t.defaults[i]=r,a&&(e[i]=o?function(c,_,m){m!=rn&&a(c,_,m)}:a)}t.defineOption=n,t.Init=rn,n("value","",function(i,r){return i.setValue(r)},!0),n("mode",null,function(i,r){i.doc.modeOption=r,Ss(i)},!0),n("indentUnit",2,Ss,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(i){Rn(i),Sn(i),_e(i)},!0),n("lineSeparator",null,function(i,r){if(i.doc.lineSep=r,!!r){var a=[],o=i.doc.first;i.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(B(o,N))}o++});for(var c=a.length-1;c>=0;c--)Vi(i.doc,r,a[c],B(a[c].line,a[c].ch+r.length))}}),n("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(i,r,a){i.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=rn&&i.refresh()}),n("specialCharPlaceholder",al,function(i){return i.refresh()},!0),n("electricChars",!0),n("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(i,r){return i.getInputField().spellcheck=r},!0),n("autocorrect",!1,function(i,r){return i.getInputField().autocorrect=r},!0),n("autocapitalize",!1,function(i,r){return i.getInputField().autocapitalize=r},!0),n("rtlMoveVisually",!U),n("wholeLineUpdateBefore",!0),n("theme","default",function(i){iu(i),Nn(i)},!0),n("keyMap","default",function(i,r,a){var o=Cr(r),c=a!=rn&&Cr(a);c&&c.detach&&c.detach(i,o),o.attach&&o.attach(i,c||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Fh,!0),n("gutters",[],function(i,r){i.display.gutterSpecs=xs(r,i.options.lineNumbers),Nn(i)},!0),n("fixedGutter",!0,function(i,r){i.display.gutters.style.left=r?hs(i.display)+"px":"0",i.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(i){return Yi(i)},!0),n("scrollbarStyle","native",function(i){ro(i),Yi(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),n("lineNumbers",!1,function(i,r){i.display.gutterSpecs=xs(i.options.gutters,r),Nn(i)},!0),n("firstLineNumber",1,Nn,!0),n("lineNumberFormatter",function(i){return i},Nn,!0),n("showCursorWhenSelecting",!1,En,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(i,r){r=="nocursor"&&(Xi(i),i.display.input.blur()),i.display.input.readOnlyChanged(r)}),n("screenReaderLabel",null,function(i,r){r=r===""?null:r,i.display.input.screenReaderLabelChanged(r)}),n("disableInput",!1,function(i,r){r||i.display.input.reset()},!0),n("dragDrop",!0,Rh),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,En,!0),n("singleCursorHeightPerLine",!0,En,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Rn,!0),n("addModeClass",!1,Rn,!0),n("pollInterval",100),n("undoDepth",200,function(i,r){return i.doc.history.undoDepth=r}),n("historyEventDelay",1250),n("viewportMargin",10,function(i){return i.refresh()},!0),n("maxHighlightLength",1e4,Rn,!0),n("moveInputWithCursor",!0,function(i,r){r||i.display.input.resetPosition()}),n("tabindex",null,function(i,r){return i.display.input.getField().tabIndex=r||""}),n("autofocus",null),n("direction","ltr",function(i,r){return i.doc.setDirection(r)},!0),n("phrases",null)}function Rh(t,e,n){var i=n&&n!=rn;if(!e!=!i){var r=t.display.dragFunctions,a=e?it:ne;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Fh(t){t.options.lineWrapping?(A(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ts(t)),cs(t),_e(t),Sn(t),setTimeout(function(){return Yi(t)},100)}function Pt(t,e){var n=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(nu,e,!1);var i=e.value;typeof i=="string"?i=new pe(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Gl(t,i,r,e);a.wrapper.CodeMirror=this,iu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ro(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&w<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Dh(this),ch(),Oi(this),this.curOp.forceUpdate=!0,po(this,i),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&ds(n)},20):Xi(this);for(var o in Lr)Lr.hasOwnProperty(o)&&Lr[o](this,e[o],rn);oo(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ms.length;++c)Ms[c](this);Ni(this),p&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=nu,Pt.optionHandlers=Lr;function Dh(t){var e=t.display;it(e.scroller,"mousedown",Zt(t,Jo)),S&&w<11?it(e.scroller,"dblclick",Zt(t,function(_){if(!zt(t,_)){var m=Ti(t,_);if(!(!m||Ds(t,_)||Ve(t.display,_))){re(_);var N=t.findWordAt(m);xr(t.doc,N.anchor,N.head)}}})):it(e.scroller,"dblclick",function(_){return zt(t,_)||re(_)}),it(e.scroller,"contextmenu",function(_){return eu(t,_)}),it(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||eu(t,_)});var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),i=e.activeTouch,i.end=+new Date)}function a(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(_,m){if(m.left==null)return!0;var N=m.left-_.left,M=m.top-_.top;return N*N+M*M>20*20}it(e.scroller,"touchstart",function(_){if(!zt(t,_)&&!a(_)&&!Ds(t,_)){e.input.ensurePolled(),clearTimeout(n);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-i.end<=300?i:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),it(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),it(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ve(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||o(m,m.prev)?M=new Ot(N,N):!m.prev.prev||o(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),re(_)}r()}),it(e.scroller,"touchcancel",r),it(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Cn(t,e.scroller.scrollTop),Ai(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),it(e.scroller,"mousewheel",function(_){return ho(t,_)}),it(e.scroller,"DOMMouseScroll",function(_){return ho(t,_)}),it(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){zt(t,_)||Xe(_)},over:function(_){zt(t,_)||(hh(t,_),Xe(_))},start:function(_){return lh(t,_)},drop:Zt(t,uh),leave:function(_){zt(t,_)||Bo(t)}};var c=e.input.getField();it(c,"keyup",function(_){return Qo.call(t,_)}),it(c,"keydown",Zt(t,Yo)),it(c,"keypress",Zt(t,Zo)),it(c,"focus",function(_){return ds(t,_)}),it(c,"blur",function(_){return Xi(t,_)})}var Ms=[];Pt.defineInitHook=function(t){return Ms.push(t)};function Kn(t,e,n,i){var r=t.doc,a;n==null&&(n="add"),n=="smart"&&(r.mode.indent?a=bn(t,e).state:n="prev");var o=t.options.tabSize,c=ct(r,e),_=at(c.text,null,o);c.stateAfter&&(c.stateAfter=null);var m=c.text.match(/^\\s*/)[0],N;if(!i&&!/\\S/.test(c.text))N=0,n="not";else if(n=="smart"&&(N=r.mode.indent(a,c.text.slice(m.length),c.text),N==Et||N>150)){if(!i)return;n="prev"}n=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:n=="add"?N=_+t.options.indentUnit:n=="subtract"?N=_-t.options.indentUnit:typeof n=="number"&&(N=_+n),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return Vi(r,M,B(e,0),B(e,m.length),"+input"),c.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);As(r,X,new Ot(V,V));break}}}var Me=null;function Or(t){Me=t}function Ps(t,e,n,i,r){var a=t.doc;t.display.shift=!1,i||(i=a.sel);var o=+new Date-200,c=r=="paste"||t.state.pasteIncoming>o,_=vn(e),m=null;if(c&&i.ranges.length>1)if(Me&&Me.text.join(\`
\`)==e){if(i.ranges.length%Me.text.length==0){m=[];for(var N=0;N<Me.text.length;N++)m.push(a.splitLines(Me.text[N]))}}else _.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(_,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=i.ranges.length-1;j>=0;j--){var q=i.ranges[j],X=q.from(),Y=q.to();q.empty()&&(n&&n>0?X=B(X.line,X.ch-n):t.state.overwrite&&!c?Y=B(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+mt(_).length)):c&&Me&&Me.lineWise&&Me.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(c?"paste":t.state.cutIncoming>o?"cut":"+input")};Ji(t.doc,V),Qt(t,"inputRead",t,V)}e&&!c&&su(t,e),\$i(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function ru(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Ps(e,n,0,null,"paste")}),!0}function su(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var c=0;c<a.electricChars.length;c++)if(e.indexOf(a.electricChars.charAt(c))>-1){o=Kn(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Kn(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function au(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,a={anchor:B(r,0),head:B(r+1,0)};n.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:n}}function Ws(t,e,n,i){t.setAttribute("autocorrect",n?"on":"off"),t.setAttribute("autocapitalize",i?"on":"off"),t.setAttribute("spellcheck",!!e)}function ou(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Mh(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(i,r){var a=this.options,o=a[i];a[i]==r&&i!="mode"||(a[i]=r,e.hasOwnProperty(i)&&Zt(this,e[i])(this,r,o),Mt(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,r){this.state.keyMaps[r?"push":"unshift"](Cr(i))},removeKeyMap:function(i){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==i||r[a].name==i)return r.splice(a,1),!0},addOverlay:le(function(i,r){var a=i.token?i:t.getMode(this.options,i);if(a.startState)throw new Error("Overlays may not be stateful.");ai(this.state.overlays,{mode:a,modeSpec:i,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(i){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==i||typeof i=="string"&&o.name==i){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(i,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),x(this.doc,i)&&Kn(this,i,r,a)}),indentSelection:le(function(i){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var c=r[o];if(c.empty())c.head.line>a&&(Kn(this,c.head.line,i,!0),a=c.head.line,o==this.doc.sel.primIndex&&\$i(this));else{var _=c.from(),m=c.to(),N=Math.max(a,_.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<a;++M)Kn(this,M,i);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[o].from().ch>0&&As(this.doc,o,new Ot(_,j[o].to()),Rt)}}}),getTokenAt:function(i,r){return ga(this,i,r)},getLineTokens:function(i,r){return ga(this,B(i),r,!0)},getTokenTypeAt:function(i){i=yt(this.doc,i);var r=_a(this,ct(this.doc,i.line)),a=0,o=(r.length-1)/2,c=i.ch,_;if(c==0)_=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=c)o=m;else if(r[m*2+1]<c)a=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(i){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(i).state).mode:r},getHelper:function(i,r){return this.getHelpers(i,r)[0]},getHelpers:function(i,r){var a=[];if(!n.hasOwnProperty(r))return a;var o=n[r],c=this.getModeAt(i);if(typeof c[r]=="string")o[c[r]]&&a.push(o[c[r]]);else if(c[r])for(var _=0;_<c[r].length;_++){var m=o[c[r][_]];m&&a.push(m)}else c.helperType&&o[c.helperType]?a.push(o[c.helperType]):o[c.name]&&a.push(o[c.name]);for(var N=0;N<o._global.length;N++){var M=o._global[N];M.pred(c,this)&&vt(a,M.val)==-1&&a.push(M.val)}return a},getStateAfter:function(i,r){var a=this.doc;return i=ke(a,i??a.first+a.size-1),bn(this,i+1,r).state},cursorCoords:function(i,r){var a,o=this.doc.sel.primary();return i==null?a=o.head:typeof i=="object"?a=yt(this.doc,i):a=i?o.from():o.to(),Fe(this,a,r||"page")},charCoords:function(i,r){return fr(this,yt(this.doc,i),r||"page")},coordsChar:function(i,r){return i=Ka(this,i,r||"page"),os(this,i.left,i.top)},lineAtHeight:function(i,r){return i=Ka(this,{top:i,left:0},r||"page").top,ze(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,r,a){var o=!1,c;if(typeof i=="number"){var _=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>_&&(i=_,o=!0),c=ct(this.doc,i)}else c=i;return cr(this,c,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Je(c):0)},defaultTextHeight:function(){return Ki(this.display)},defaultCharWidth:function(){return Gi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,r,a,o,c){var _=this.display;i=Fe(this,yt(this.doc,i));var m=i.bottom,N=i.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),o=="over")m=i.top;else if(o=="above"||o=="near"){var M=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(o=="above"||i.bottom+r.offsetHeight>M)&&i.top>r.offsetHeight?m=i.top-r.offsetHeight:i.bottom+r.offsetHeight<=M&&(m=i.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",c=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(c=="left"?N=0:c=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Rl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Yo),triggerOnKeyPress:le(Zo),triggerOnKeyUp:Qo,triggerOnMouseDown:le(Jo),execCommand:function(i){if(Hn.hasOwnProperty(i))return Hn[i].call(null,this)},triggerElectric:le(function(i){su(this,i)}),findPosH:function(i,r,a,o){var c=1;r<0&&(c=-1,r=-r);for(var _=yt(this.doc,i),m=0;m<r&&(_=Is(this.doc,_,c,a,o),!_.hitSide);++m);return _},moveH:le(function(i,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?Is(a.doc,o.head,i,r,a.options.rtlMoveVisually):i<0?o.from():o.to()},we)}),deleteH:le(function(i,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):nn(this,function(c){var _=Is(o,c.head,i,r,!1);return i<0?{from:_,to:c.head}:{from:c.head,to:_}})}),findPosV:function(i,r,a,o){var c=1,_=o;r<0&&(c=-1,r=-r);for(var m=yt(this.doc,i),N=0;N<r;++N){var M=Fe(this,m,"div");if(_==null?_=M.left:M.left=_,m=uu(this,M,c,a),m.hitSide)break}return m},moveV:le(function(i,r){var a=this,o=this.doc,c=[],_=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(_)return i<0?N.from():N.to();var M=Fe(a,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),c.push(M.left);var j=uu(a,M,i,r);return r=="page"&&N==o.sel.primary()&&vs(a,fr(a,j,"div").top-M.top),j},we),c.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=c[m]}),findWordAt:function(i){var r=this.doc,a=ct(r,i.line).text,o=i.ch,c=i.ch;if(a){var _=this.getHelper(i,"wordChars");(i.sticky=="before"||c==a.length)&&o?--o:++c;for(var m=a.charAt(o),N=Wi(m,_)?function(M){return Wi(M,_)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!Wi(M)};o>0&&N(a.charAt(o-1));)--o;for(;c<a.length&&N(a.charAt(c));)++c}return new Ot(B(i.line,o),B(i.line,c))},toggleOverwrite:function(i){i!=null&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(i,r){Tn(this,i,r)}),getScrollInfo:function(){var i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-qe(this)-this.display.barHeight,width:i.scrollWidth-qe(this)-this.display.barWidth,clientHeight:ns(this),clientWidth:Si(this)}},scrollIntoView:le(function(i,r){i==null?(i={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof i=="number"?i={from:B(i,0),to:null}:i.from==null&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=r||0,i.from.line!=null?Fl(this,i):to(this,i.from,i.to,i.margin)}),setSize:le(function(i,r){var a=this,o=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};i!=null&&(this.display.wrapper.style.width=o(i)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&qa(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){fi(a,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(i){return be(this,i)},startOperation:function(){return Oi(this)},endOperation:function(){return Ni(this)},refresh:le(function(){var i=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,Sn(this),Tn(this,this.doc.scrollLeft,this.doc.scrollTop),ys(this.display),(i==null||Math.abs(i-Ki(this.display))>.5||this.options.lineWrapping)&&cs(this),Mt(this,"refresh",this)}),swapDoc:le(function(i){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),po(this,i),Sn(this),this.display.input.reset(),Tn(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(i){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,i)?r[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(i,r,a){n.hasOwnProperty(i)||(n[i]=t[i]={_global:[]}),n[i][r]=a},t.registerGlobalHelper=function(i,r,a,o){t.registerHelper(i,r,o),n[i]._global.push({pred:a,val:o})}}function Is(t,e,n,i,r){var a=e,o=n,c=ct(t,e.line),_=r&&t.direction=="rtl"?-n:n;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),c=ct(t,st))}function N(st){var et;if(i=="codepoint"){var ut=c.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(ut))et=null;else{var gt=n>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(c.text.length,e.ch+n*(gt?2:1))),-n)}}else r?et=gh(t.cm,c,e,n):et=Os(c,e,n);if(et==null)if(!st&&m())e=Ns(r,t.cm,c,e.line,_);else return!1;else e=et;return!0}if(i=="char"||i=="codepoint")N();else if(i=="column")N(!0);else if(i=="word"||i=="group")for(var M=null,j=i=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(n<0&&!N(!X));X=!1){var Y=c.text.charAt(e.ch)||\`
\`,V=Wi(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){n<0&&(n=1,N(),e.sticky="after");break}if(V&&(M=V),n>0&&!N(!X))break}var tt=Sr(t,e,a,o,!0);return bt(a,tt)&&(tt.hitSide=!0),tt}function uu(t,e,n,i){var r=t.doc,a=e.left,o;if(i=="page"){var c=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(c-.5*Ki(t.display),3);o=(n>0?e.bottom:e.top)+n*_}else i=="line"&&(o=n>0?e.bottom+3:e.top-3);for(var m;m=os(t,a,o),!!m.outside;){if(n<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=n*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;r.contentEditable=!0,Ws(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize);function a(c){for(var _=c.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}it(r,"paste",function(c){!a(c)||zt(i,c)||ru(c,i)||w<=11&&setTimeout(Zt(i,function(){return e.updateFromDOM()}),20)}),it(r,"compositionstart",function(c){e.composing={data:c.data,done:!1}}),it(r,"compositionupdate",function(c){e.composing||(e.composing={data:c.data,done:!1})}),it(r,"compositionend",function(c){e.composing&&(c.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),it(r,"touchstart",function(){return n.forceCompositionEnd()}),it(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(c){if(!(!a(c)||zt(i,c))){if(i.somethingSelected())Or({lineWise:!1,text:i.getSelections()}),c.type=="cut"&&i.replaceSelection("",null,"cut");else if(i.options.lineWiseCopyCut){var _=au(i);Or({lineWise:!0,text:_.text}),c.type=="cut"&&i.operation(function(){i.setSelections(_.ranges,0,Rt),i.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var m=Me.text.join(\`
\`);if(c.clipboardData.setData("Text",m),c.clipboardData.getData("Text")==m){c.preventDefault();return}}var N=ou(),M=N.firstChild;Ws(M),i.display.lineSpace.insertBefore(N,i.display.lineSpace.firstChild),M.value=Me.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){i.display.lineSpace.removeChild(N),j.focus(),j==r&&n.showPrimarySelection()},50)}}it(r,"copy",o),it(r,"cut",o)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Za(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Nr(e,t.anchorNode,t.anchorOffset),o=Nr(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),i)==0&&G(Ct(a,o),r)==0)){var c=e.display.view,_=i.line>=e.display.viewFrom&&lu(e,i)||{node:c[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&lu(e,r);if(!m){var N=c[c.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=nt(_.node,_.offset,m.offset,m.node)}catch{}q&&(!l&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):l&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function n(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Ph(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Nr(e,t.anchorNode,t.anchorOffset),i=Nr(e,t.focusNode,t.focusOffset);n&&i&&be(e,function(){se(e.doc,pi(n,i),Rt),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,n=t.doc.sel.primary(),i=n.from(),r=n.to();if(i.ch==0&&i.line>t.firstLine()&&(i=B(i.line-1,ct(t.doc,i.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),i.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,c;i.line==e.viewFrom||(a=Ci(t,i.line))==0?(o=Lt(e.view[0].line),c=e.view[0].node):(o=Lt(e.view[a].line),c=e.view[a-1].node.nextSibling);var _=Ci(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!c)return!1;for(var M=t.doc.splitLines(Wh(t,c,N,o,m)),j=Qe(t.doc,B(o,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&o==i.line)for(;q&&q>i.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(o,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return Vi(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Ps)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function lu(t,e){var n=rs(t,e.line);if(!n||n.hidden)return null;var i=ct(t.doc,e.line),r=Wa(n,i,e.line),a=Ce(i,t.doc.direction),o="left";if(a){var c=Te(a,e.ch);o=c%2?"right":"left"}var _=za(r.map,e.ch,o);return _.offset=_.collapse=="right"?_.end:_.start,_}function Ph(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function sn(t,e){return e&&(t.bad=!0),t}function Wh(t,e,n,i,r){var a="",o=!1,c=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=c,_&&(a+=c),o=_=!1)}function M(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(i,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(c));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(o=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=n;)e=e.nextSibling,_=!1;return a}function Nr(t,e,n){var i;if(e==t.display.lineDiv){if(i=t.display.lineDiv.childNodes[n],!i)return sn(t.clipPos(B(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==i)return Ih(a,e,n)}}function Ih(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!J(i,e))return sn(B(Lt(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?mt(t.rest):t.line;return sn(B(Lt(a),a.text.length),r)}var o=e.nodeType==3?e:null,c=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,n&&(n=o.nodeValue.length));c.parentNode!=i;)c=c.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(o,c,n);if(M)return sn(M,r);for(var j=c.nextSibling,q=o?o.nodeValue.length-n:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return sn(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=c.previousSibling,Y=n;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return sn(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),it(r,"input",function(){S&&w>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),it(r,"paste",function(o){zt(i,o)||ru(o,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())});function a(o){if(!zt(i,o)){if(i.somethingSelected())Or({lineWise:!1,text:i.getSelections()});else if(i.options.lineWiseCopyCut){var c=au(i);Or({lineWise:!0,text:c.text}),o.type=="cut"?i.setSelections(c.ranges,null,Rt):(n.prevInput="",r.value=c.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(i.state.cutIncoming=+new Date)}}it(r,"cut",a),it(r,"copy",a),it(t.scroller,"paste",function(o){if(!(Ve(t,o)||zt(i,o))){if(!r.dispatchEvent){i.state.pasteIncoming=+new Date,n.focus();return}var c=new Event("paste");c.clipboardData=o.clipboardData,r.dispatchEvent(c)}}),it(t.lineSpace,"selectstart",function(o){Ve(t,o)||re(o)}),it(r,"compositionstart",function(){var o=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:o,range:i.markText(o,i.getCursor("to"),{className:"CodeMirror-composing"})}}),it(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},jt.prototype.createField=function(t){this.wrapper=ou(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ws(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=Za(t);if(t.options.moveInputWithCursor){var r=Fe(t,n.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return i},jt.prototype.showSelection=function(t){var e=this.cm,n=e.display;K(n.cursorDiv,t.cursors),K(n.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&dt(this.textarea),S&&w>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",S&&w>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function n(){var i=e.poll();!i&&!t?(t=!0,e.polling.set(60,n)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,n)},jt.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||oi(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(S&&w>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!i&&(i="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,c=Math.min(i.length,r.length);o<c&&i.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Ps(e,r.slice(o),i.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&w>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Ti(n,t),o=i.scroller.scrollTop;if(!a||b)return;var c=n.options.resetSelectionOnContextMenu;c&&n.doc.sel.contains(a)==-1&&Zt(n,se)(n.doc,pi(a),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;p&&(M=r.ownerDocument.defaultView.scrollY),i.input.focus(),p&&r.ownerDocument.defaultView.scrollTo(null,M),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=n.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,i.selForContextMenu=n.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&w<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&w<9)&&j();var Y=0,V=function(){i.selForContextMenu==n.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(n,Ao)(n):Y++<10?i.detectingSelectAll=setTimeout(V,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(V,200)}}if(S&&w>=9&&j(),rt){Xe(t);var X=function(){ne(window,"mouseup",X),setTimeout(q,20)};it(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Bh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var n=lt(t.ownerDocument);e.autofocus=n==t||t.getAttribute("autofocus")!=null&&n==document.body}function i(){t.value=c.getValue()}var r;if(t.form&&(it(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){i(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(_){_.save=i,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,i(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(ne(t.form,"submit",i),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var c=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return c}function zh(t){t.off=ne,t.on=it,t.wheelEventPixels=Xl,t.Doc=pe,t.splitLines=vn,t.countColumn=at,t.findColumn=xe,t.isWordChar=fn,t.Pass=Et,t.signal=Mt,t.Line=qi,t.changeEnd=di,t.scrollbarModel=no,t.Pos=B,t.cmpPos=G,t.modes=Ne,t.mimeModes=ui,t.resolveMode=me,t.getMode=\$e,t.modeExtensions=li,t.extendMode=ir,t.copyState=Ye,t.startState=mn,t.innerMode=hi,t.commands=Hn,t.keyMap=ei,t.keyName=Uo,t.isModifierKey=qo,t.lookupKey=en,t.normalizeKeyMap=dh,t.StringStream=Ht,t.SharedTextMarker=In,t.TextMarker=vi,t.LineWidget=Wn,t.e_preventDefault=re,t.e_stopPropagation=ki,t.e_stop=Xe,t.addClass=A,t.contains=J,t.rmClass=R,t.keyNames=mi}Nh(Pt),Mh(Pt);var Hh="iter insert remove copy getEditor constructor".split(" ");for(var Rr in pe.prototype)pe.prototype.hasOwnProperty(Rr)&&vt(Hh,Rr)<0&&(Pt.prototype[Rr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Rr]));return ue(pe),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),er.apply(this,arguments)},Pt.defineMIME=zi,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Bh,zh(Pt),Pt.version="5.65.12",Pt});const qh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},jh=(()=>{let g=[];return Object.values(qh).forEach(s=>{s.middle&&(g.push(s.general.code),g.push(s.middle.code),g.push(s.beginning.code))}),g})();function Fr(g){let s=[];return g.split("").forEach(l=>{jh.includes(l)?s.push(\`\${l}ـ*\`):l==="ـ"||s.push(l)}),s.join("")}function Ys(g){return(""+g).split("").map(E=>{switch(E){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Uh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],ta={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ea={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ia={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Kh={...ta,...ea,...ia},Gh="[\\\\p{L}_]",Xh="[\\\\p{L}\\\\p{N}_]",qr=\`(?:\${Gh}\${Xh}*)\`,\$h="[^\\\\p{L}\\\\p{N}_]",na="[٠-٩]",Yh=\`(?:,\${na}+)\`,Qh=\`\${na}+\${Yh}?\`,ra="[0-9]",Zh=\`(?:\\\\.\${ra}+)\`,Au=\`\${ra}+\${Zh}?\`,Hs="\\\\\\\\",Dr="\\\\/",Mr="\\\\-",Gn="\\\\{",Xn="\\\\}",Jh="\\\\(",Vh="\\\\)",Qs="\\\\s",tc=\`\${Jh}?\${Qs}*\${Vh}?\`,ec=()=>RegExp(\`(?:(?:#|#)\${qr})\`,"u"),ic=()=>RegExp(\`(?:~\${qr}?\${Qs}*\${tc}\${Qs}*->)\`,"u"),Lu=[{regex:ec(),token:"meta"},{regex:ic(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Uh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Ou={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var l=[function(T,S,w){var p=w(1).Beautifier,h=w(5).Options;T.exports=function(u,f){return new p(u,f).beautify()},T.exports.defaultOptions=function(){return new h}},function(T,S,w){var p=w(2).Output,h=w(3).Token,u=w(4),f=w(5).Options,b=w(7).Tokenizer,F=w(7).line_starters,O=w(7).positionable_operators,d=w(7).TOKEN;function y(A,\$){return \$.indexOf(A)!==-1}function W(A,\$){return A&&A.type===d.RESERVED&&A.text===\$}function D(A,\$){return A&&A.type===d.RESERVED&&y(A.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(A){for(var \$={},dt=0;dt<A.length;dt++)\$[A[dt].replace(/-/g,"_")]=A[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(A,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||A.remove_indent(\$.start_line_index)}function Q(A){return A===I}function nt(A){return y(A,[K,R,k])}function J(A,\$){\$=\$||{},this._source_text=A||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(A,\$){var dt=0;return A&&(dt=A.indentation_level,!this._output.just_added_newline()&&A.line_indent_level>dt&&(dt=A.line_indent_level)),{mode:\$,parent:A,last_token:A?A.last_token:new h(d.START_BLOCK,""),last_word:A?A.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:A?A.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(A){var \$=A.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new p(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(A,this._options));return this._tokens=\$.tokenize(),A},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var A=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,A&&u.lineBreak.test(A||"")&&(\$=A.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(A,\$){A.type===d.START_EXPR?this.handle_start_expr(A):A.type===d.END_EXPR?this.handle_end_expr(A):A.type===d.START_BLOCK?this.handle_start_block(A):A.type===d.END_BLOCK?this.handle_end_block(A):A.type===d.WORD||A.type===d.RESERVED?this.handle_word(A):A.type===d.SEMICOLON?this.handle_semicolon(A):A.type===d.STRING?this.handle_string(A):A.type===d.EQUALS?this.handle_equals(A):A.type===d.OPERATOR?this.handle_operator(A):A.type===d.COMMA?this.handle_comma(A):A.type===d.BLOCK_COMMENT?this.handle_block_comment(A,\$):A.type===d.COMMENT?this.handle_comment(A,\$):A.type===d.DOT?this.handle_dot(A):A.type===d.EOF?this.handle_eof(A):(A.type,d.UNKNOWN,this.handle_unknown(A,\$))},J.prototype.handle_whitespace_and_comments=function(A,\$){var dt=A.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(A.comments_before)for(var Nt=A.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=A.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(A,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&A.newlines||\$,(y(this._flags.last_token.text,O)||y(A.text,O))&&(A=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(A.text,O),\$=\$&&A),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(A,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==d.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(A)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(A){this._output.just_added_newline()&&(this._options.keep_array_indentation&&A.newlines&&(A.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(A.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(A){var \$;this._output.raw?this._output.add_raw_token(A):(this._options.comma_first&&A.previous&&A.previous.type===d.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(A),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(A),this._output.non_breaking_space=!0,this._output.add_token(A.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(A){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,A),this._flags=this.create_flags(this._previous_flags,A),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(A){return!!(D(this._flags.last_token,["var","let","const"])&&A.type===d.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!A.newlines||W(this._flags.last_token,"else")&&!(W(A,"if")&&!A.comments_before)||this._flags.last_token.type===d.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===d.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(A.text==="--"||A.text==="++")&&this._last_last_text!=="function"&&A.type!==d.WORD&&A.type!==d.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(A,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A,D(A,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A);var \$,dt,wt=K;if(A.text==="["){if(this._flags.last_token.type===d.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(A),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[d.START_EXPR,d.END_EXPR,d.WORD,d.OPERATOR,d.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===d.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&A.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===d.EQUALS||this._flags.last_token.type===d.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):this._flags.last_token.type===d.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(A),(this._flags.last_token.type===d.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===d.START_BLOCK?this.print_newline():this._flags.last_token.type!==d.END_EXPR&&this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==d.COMMA||this.allow_wrap_or_preserved_newline(A,A.newlines),this.print_token(A),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(A,A.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==d.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(A),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(A){this.handle_whitespace_and_comments(A);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===d.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[d.STRING,d.WORD,d.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[d.WORD,d.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==d.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[d.EQUALS,d.START_EXPR,d.COMMA,d.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===d.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==d.EOF&&(Nt.type!==d.END_BLOCK||Nt.opened!==A))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==d.OPERATOR&&(dt||this._flags.last_token.type===d.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.COMMA||(this._flags.last_token.type!==d.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===d.COMMA||this._flags.last_token.type===d.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(A),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==d.OPERATOR&&this._flags.last_token.type!==d.START_EXPR&&(y(this._flags.last_token.type,[d.START_BLOCK,d.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(A),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(A){for(this.handle_whitespace_and_comments(A);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===d.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(A)},J.prototype.handle_word=function(A){if(A.type===d.RESERVED&&(y(A.text,["set","get"])&&this._flags.mode!==rt||A.text==="import"&&y(this._tokens.peek().text,["(","."])||y(A.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(A.type=d.WORD),this.start_of_statement(A)?D(this._flags.last_token,["var","let","const"])&&A.type===d.WORD&&(this._flags.declaration_statement=!0):!A.newlines||nt(this._flags.mode)||this._flags.last_token.type===d.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===d.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(A):(this.handle_whitespace_and_comments(A),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(A,"while"))return this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(A,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(A,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(A),void(this._flags.in_case=!0);if(this._flags.last_token.type!==d.COMMA&&this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.EQUALS&&this._flags.last_token.type!==d.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(A),W(A,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==d.OPERATOR)||this._output.just_added_blankline()||A.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===d.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(nt(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(A),void(this._flags.last_word=A.text);var \$="NONE";this._flags.last_token.type===d.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(A,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===d.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===d.SEMICOLON&&nt(this._flags.mode)?\$="SPACE":this._flags.last_token.type===d.STRING?\$="NEWLINE":this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===d.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===d.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(A,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(A,["else","catch","finally"])?(this._flags.last_token.type!==d.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(A,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==d.END_EXPR?this._flags.last_token.type===d.START_EXPR&&D(A,["var","let","const"])||this._flags.last_token.text===":"||(W(A,"if")&&W(A.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(A,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!A.previous||A.previous.type!==d.WORD&&A.previous.type!==d.RESERVED||(this._output.space_before_token=!0),this.print_token(A),this._flags.last_word=A.text,A.type===d.RESERVED&&(A.text==="do"?this._flags.do_block=!0:A.text==="if"?this._flags.if_block=!0:A.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(A,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(A){this.start_of_statement(A)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(A);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(A)},J.prototype.handle_string=function(A){A.text.startsWith("\`")&&A.newlines===0&&A.whitespace_before===""&&(A.previous.text===")"||this._flags.last_token.type===d.WORD)||(this.start_of_statement(A)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(A),this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===d.COMMA||this._flags.last_token.type===d.START_EXPR||this._flags.last_token.type===d.EQUALS||this._flags.last_token.type===d.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):!A.text.startsWith("\`")||this._flags.last_token.type!==d.END_EXPR||A.previous.text!=="]"&&A.previous.text!==")"||A.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(A)},J.prototype.handle_equals=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0},J.prototype.handle_comma=function(A){this.handle_whitespace_and_comments(A,!0),this.print_token(A),this._output.space_before_token=!0,this._flags.declaration_statement?(nt(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)},J.prototype.handle_operator=function(A){var \$=A.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[d.START_BLOCK,d.COMMA,d.END_BLOCK,d.SEMICOLON])),dt=y(A.text,["-","+"])&&(y(this._flags.last_token.type,[d.START_BLOCK,d.START_EXPR,d.EQUALS,d.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!\$),A.text==="*"&&this._flags.last_token.type===d.DOT)this.print_token(A);else if(A.text==="::")this.print_token(A);else if(y(A.text,["-","+"])&&this.start_of_object_property())this.print_token(A);else{if(this._flags.last_token.type===d.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(A),A.text===":"&&this._flags.in_case)return this.print_token(A),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==d.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(A.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):A.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(A.text,O)){var ft=A.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(A),ft&&!at||this.allow_wrap_or_preserved_newline(A),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(A):this._output.space_before_token=!1,this.print_token(A),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(A),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(A),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(A),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[d.WORD,d.RESERVED])):A.text==="..."?(this.allow_wrap_or_preserved_newline(A),wt=this._flags.last_token.type===d.START_BLOCK,Nt=!1):(y(A.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==d.COMMA&&this._flags.last_token.type!==d.START_EXPR||this.allow_wrap_or_preserved_newline(A),Nt=wt=!1,!A.newlines||A.text!=="--"&&A.text!=="++"&&A.text!=="~"||((\$=D(this._flags.last_token,z)&&A.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&nt(this._flags.mode)&&(wt=!0),this._flags.last_token.type===d.RESERVED?wt=!0:this._flags.last_token.type===d.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(A.text==="--"||A.text==="++")):this._flags.last_token.type===d.OPERATOR&&(wt=y(A.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(A.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(A),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(A,\$){return this._output.raw?(this._output.add_raw_token(A),void(A.directives&&A.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):A.directives?(this.print_newline(!1,\$),this.print_token(A),A.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(A.text)||A.newlines?this.print_block_commment(A,\$):(this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(A,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)vt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(A.text),ft=A.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(A),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ee,Et=0,Rt=_t.length;Et<Rt;Et++)if((ee=_t[Et])&&ee.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(A,\$){A.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(A),this.print_newline(!1,\$)},J.prototype.handle_dot=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(A,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(A)},J.prototype.handle_unknown=function(A,\$){this.print_token(A),A.text[A.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A)},T.exports.Beautifier=J},function(T){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(h,u){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),u=u||"",0<h.indent_level&&(u=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function p(h,u){this.__indent_cache=new w(h,u),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(h))return!0;return!1},S.prototype.set_indent=function(h,u){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var u=h.lastIndexOf(\`
\`);u!==-1?this.__character_count=h.length-u:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},w.prototype.get_indent_size=function(h,u){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(h,u){var f=this.__base_string;return u=u||0,h<0&&(h=0,f=""),u+=h*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},w.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var h,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(h=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,u){return this.__indent_cache.get_indent_string(h,u)},p.prototype.get_indent_size=function(h,u){return this.__indent_cache.get_indent_size(h,u)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=h!==\`
\`?u.replace(/[\\n]/g,h):u},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,u){return this.next_line.set_indent(h=h||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(h,u),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var u=0;u<h.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var u=this.__lines.length;h<u;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},T.exports.Output=p},function(T){T.exports.Token=function(S,w,p,h){this.type=S,this.text=w,this.comments_before=null,this.newlines=p||0,this.whitespace_before=h||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(T,S){var w="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",p="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",h="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+p+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+u+"|["+w+p+h+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(T,S,w){var p=w(6).Options,h=["before-newline","after-newline","preserve-newline"];function u(b){p.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",h),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new p,T.exports.Options=u},function(T){function S(h,u){this.raw_options=w(h,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(h,u){var f,b={};for(f in h=p(h))f!==u&&(b[f]=h[f]);if(u&&h[u])for(f in h[u])b[f]=h[u][f];return b}function p(h){var u,f={};for(u in h)f[u.replace(/-/g,"_")]=h[u];return f}S.prototype._get_array=function(h,u){return h=this.raw_options[h],u=u||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(u=h.concat()):typeof h=="string"&&(u=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(h,u){return h=this.raw_options[h],h===void 0?!!u:!!h},S.prototype._get_characters=function(h,u){return h=this.raw_options[h],u=u||"",u=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(h,u){return h=this.raw_options[h],u=parseInt(u,10),isNaN(u)&&(u=0),h=parseInt(h,10),h=isNaN(h)?u:h},S.prototype._get_selection=function(h,u,f){if(f=this._get_selection_list(h,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,u){return h.length&&u.length&&!h.some(function(f){return u.indexOf(f)===-1})},T.exports.Options=S,T.exports.normalizeOpts=p,T.exports.mergeOpts=w},function(T,S,U){var p=U(8).InputScanner,h=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,k){return k.indexOf(R)!==-1}function O(R,k){h.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var d,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new h)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},O.prototype._reset=function(){d=!1},O.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},O.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},O.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return d=!0,this._create_token(y.COMMENT,k)}}else if(d&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return d=!1,this._create_token(y.COMMENT,k);return null},O.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,nt=new p(K),J=null;nt.hasNext();)if((J=nt.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),nt.peek()==="\\\\"){if(nt.next(),nt.peek()==="x")J=nt.match(/x([0-9A-Fa-f]{2})/g);else{if(nt.peek()!=="u"){L+="\\\\",nt.hasNext()&&(L+=nt.next());continue}J=(J=nt.match(/u([0-9A-Fa-f]{4})/g))||nt.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),nt=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],A=L[2];if(!(L[L.length-1]||A.slice(0,8)==="![CDATA[")&&(A===Q||nt&&A.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,nt=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),nt+=J+=Q.read()}return nt},T.exports.Tokenizer=O,T.exports.TOKEN=y,T.exports.positionable_operators=U.slice(),T.exports.line_starters=ot.slice()},function(T){var S=RegExp.prototype.hasOwnProperty("sticky");function w(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},w.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},w.prototype.__match=function(p,h){p.lastIndex=h;var u=p.exec(this.__input);return!u||S&&p.sticky||u.index!==h&&(u=null),u},w.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},w.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},w.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},w.prototype.read=function(p,h,u){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,u)),b},w.prototype.readUntil=function(f,h){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,h&&(u+=f[0].length)):u=this.__input_length,h=this.__input.substring(this.__position,u),this.__position=u,h},w.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},w.prototype.get_regexp=function(p,f){var u=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?u=new RegExp(p,f):p&&(u=new RegExp(p.source,f)),u},w.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var h=this.__position,u=this.readUntilAfter(u);return this.__position=h,u},w.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},T.exports.InputScanner=w},function(T,S,w){function p(O,d){this._input=new h(O),this._options=d||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var h=w(8).InputScanner,u=w(3).Token,f=w(10).TokenStream,b=w(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};p.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var O,d=new u(F.START,""),y=null,W=[],D=new f;d.type!==F.EOF;){for(O=this._get_next_token(d,y);this._is_comment(O);)D.add(O),O=this._get_next_token(d,y);D.isEmpty()||(O.comments_before=D,D=new f),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=d).next=O,this.__tokens.add(O),d=O}return this.__tokens},p.prototype._is_first_token=function(){return this.__tokens.isEmpty()},p.prototype._reset=function(){},p.prototype._get_next_token=function(O,d){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},p.prototype._is_comment=function(O){return!1},p.prototype._is_opening=function(O){return!1},p.prototype._is_closing=function(O,d){return!1},p.prototype._create_token=function(O,d){return new u(O,d,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},p.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},T.exports.Tokenizer=p,T.exports.TOKEN=F},function(T){function S(w){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=w}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var w=null;return this.hasNext()&&(w=this.__tokens[this.__position],this.__position+=1),w},S.prototype.peek=function(w){var p=null;return w=w||0,p=0<=(w+=this.__position)&&w<this.__tokens_length?this.__tokens[w]:p},S.prototype.add=function(w){this.__parent_token&&(w.parent=this.__parent_token),this.__tokens.push(w),this.__tokens_length+=1},T.exports.TokenStream=S},function(T,S,w){var p=w(12).Pattern;function h(u,f){p.call(this,u,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(h.prototype=new p).__set_whitespace_patterns=function(u,f){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},h.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(u=this.__split(this._newline_regexp,f),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),f},h.prototype.matching=function(u,f){var b=this._create();return b.__set_whitespace_patterns(u,f),b._update(),b},h.prototype._create=function(){return new h(this._input,this)},h.prototype.__split=function(u,f){for(var b=u.lastIndex=0,F=[],O=u.exec(f);O;)F.push(f.substring(b,O.index)),b=O.index+O[0].length,O=u.exec(f);return b<f.length?F.push(f.substring(b,f.length)):F.push(""),F},T.exports.WhitespacePattern=h},function(T){function S(w,p){this._input=w,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,p&&(this._starting_pattern=this._input.get_regexp(p._starting_pattern,!0),this._match_pattern=this._input.get_regexp(p._match_pattern,!0),this._until_pattern=this._input.get_regexp(p._until_pattern),this._until_after=p._until_after)}S.prototype.read=function(){var w=this._input.read(this._starting_pattern);return this._starting_pattern&&!w||(w+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),w},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(w){var p=this._create();return p._until_after=!0,p._until_pattern=this._input.get_regexp(w),p._update(),p},S.prototype.until=function(w){var p=this._create();return p._until_after=!1,p._until_pattern=this._input.get_regexp(w),p._update(),p},S.prototype.starting_with=function(w){var p=this._create();return p._starting_pattern=this._input.get_regexp(w,!0),p._update(),p},S.prototype.matching=function(w){var p=this._create();return p._match_pattern=this._input.get_regexp(w,!0),p._update(),p},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},T.exports.Pattern=S},function(T){function S(w,p){w=typeof w=="string"?w:w.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(w);return p},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},T.exports.Directives=S},function(T,S,w){var p=w(12).Pattern,h={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(f,b){p.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},h),this._excluded=Object.assign({},h),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new p(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new p)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},u.prototype.read_options=function(f){var b,F=this._create();for(b in h)F._disabled[b]=f.templating.indexOf(b)===-1;return F._update(),F},u.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},u.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},u.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},u.prototype._read_template=function(){var f,b="",F=this._input.peek();return F==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},T.exports.TemplatablePattern=u}],E={},C=function T(S){var w=E[S];return w!==void 0?w.exports:(w=E[S]={exports:{}},l[S](w,w.exports,T),w.exports)}(0);g=C})();var g,s=g;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var C=[,,function(w){function p(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function h(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(f,b){this.__indent_cache=new h(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new p(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}p.prototype.clone_empty=function(){var f=new p(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},p.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},p.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},p.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},p.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},p.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},p.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},p.prototype.is_empty=function(){return this.__items.length===0},p.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},p.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},p.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},p.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},p.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},p.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},p.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},h.prototype.get_indent_size=function(f,b){var F=this.__base_string_length;return F=(F=f<0?0:F)+f*this.__indent_size+(b=b||0)},h.prototype.get_indent_string=function(f,b){var F=this.__base_string;return b=b||0,f<0&&(f=0,F=""),b+=f*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},h.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},h.prototype.__add_column=function(){var f,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(f+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},u.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(f,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(f)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new p(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},w.exports.Output=u},function(w){w.exports.Token=function(p,h,u,f){this.type=p,this.text=h,this.comments_before=null,this.newlines=u||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(w){function p(f,b){this.raw_options=h(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function h(f,b){var F,O={};for(F in f=u(f))F!==b&&(O[F]=f[F]);if(b&&f[b])for(F in f[b])O[F]=f[b][F];return O}function u(f){var b,F={};for(b in f)F[b.replace(/-/g,"_")]=f[b];return F}p.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},p.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},p.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},p.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},p.prototype._get_selection=function(f,b,F){if(F=this._get_selection_list(f,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return F[0]},p.prototype._get_selection_list=function(f,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(f,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},p.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(F){return b.indexOf(F)===-1})},w.exports.Options=p,w.exports.normalizeOpts=u,w.exports.mergeOpts=h},,function(w){var p=RegExp.prototype.hasOwnProperty("sticky");function h(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}h.prototype.restart=function(){this.__position=0},h.prototype.back=function(){0<this.__position&&--this.__position},h.prototype.hasNext=function(){return this.__position<this.__input_length},h.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},h.prototype.peek=function(u){var f=null;return u=u||0,f=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):f},h.prototype.__match=function(u,f){u.lastIndex=f;var b=u.exec(this.__input);return!b||p&&u.sticky||b.index!==f&&(b=null),b},h.prototype.test=function(u,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(u,f)},h.prototype.testChar=function(u,f){return f=this.peek(f),u.lastIndex=0,f!==null&&u.test(f)},h.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},h.prototype.read=function(u,f,b){var F,O="";return u&&(F=this.match(u))&&(O+=F[0]),!f||!F&&u||(O+=this.readUntil(f,b)),O},h.prototype.readUntil=function(F,f){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,f&&(b+=F[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},h.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},h.prototype.get_regexp=function(u,F){var b=null,F=F&&p?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,F):u&&(b=new RegExp(u.source,F)),b},h.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},h.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},h.prototype.lookBack=function(u){var f=this.__position-1;return f>=u.length&&this.__input.substring(f-u.length,f).toLowerCase()===u},w.exports.InputScanner=h},function(w,p,h){function u(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var f=h(8).InputScanner,b=h(3).Token,F=h(10).TokenStream,O=h(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(d.START,""),D=null,z=[],H=new F;W.type!==d.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},w.exports.Tokenizer=u,w.exports.TOKEN=d},function(w){function p(h){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=h}p.prototype.restart=function(){this.__position=0},p.prototype.isEmpty=function(){return this.__tokens_length===0},p.prototype.hasNext=function(){return this.__position<this.__tokens_length},p.prototype.next=function(){var h=null;return this.hasNext()&&(h=this.__tokens[this.__position],this.__position+=1),h},p.prototype.peek=function(h){var u=null;return h=h||0,u=0<=(h+=this.__position)&&h<this.__tokens_length?this.__tokens[h]:u},p.prototype.add=function(h){this.__parent_token&&(h.parent=this.__parent_token),this.__tokens.push(h),this.__tokens_length+=1},w.exports.TokenStream=p},function(w,p,h){var u=h(12).Pattern;function f(b,F){u.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new u).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},f.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,F){for(var O=b.lastIndex=0,d=[],y=b.exec(F);y;)d.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?d.push(F.substring(O,F.length)):d.push(""),d},w.exports.WhitespacePattern=f},function(w){function p(h,u){this._input=h,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}p.prototype.read=function(){var h=this._input.read(this._starting_pattern);return this._starting_pattern&&!h||(h+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),h},p.prototype.read_match=function(){return this._input.match(this._match_pattern)},p.prototype.until_after=function(h){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(h),u._update(),u},p.prototype.until=function(h){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(h),u._update(),u},p.prototype.starting_with=function(h){var u=this._create();return u._starting_pattern=this._input.get_regexp(h,!0),u._update(),u},p.prototype.matching=function(h){var u=this._create();return u._match_pattern=this._input.get_regexp(h,!0),u._update(),u},p.prototype._create=function(){return new p(this._input,this)},p.prototype._update=function(){},w.exports.Pattern=p},function(w){function p(h,u){h=typeof h=="string"?h:h.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(h+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(h+/\\sbeautify\\signore:end\\s/.source+u,"g")}p.prototype.get_directives=function(h){if(!h.match(this.__directives_block_pattern))return null;for(var u={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(h));f;)u[f[1]]=f[2],f=this.__directive_pattern.exec(h);return u},p.prototype.readIgnored=function(h){return h.readUntilAfter(this.__directives_end_ignore_pattern)},w.exports.Directives=p},function(w,p,h){var u=h(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){u.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new u(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,d=this._create();for(O in f)d._disabled[O]=F.templating.indexOf(O)===-1;return d._update(),d},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",d=this._input.peek();return d==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):d==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},w.exports.TemplatablePattern=b},,,,function(w,p,h){var u=h(19).Beautifier,f=h(20).Options;w.exports=function(b,F,O,d){return new u(b,F,O,d).beautify()},w.exports.defaultOptions=function(){return new f}},function(w,p,h){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function f(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,nt=L.next;nt.type!==d.EOF&&L.closed!==nt;){if(nt.type===d.ATTRIBUTE&&nt.text==="type"){nt.next&&nt.next.type===d.EQUALS&&nt.next.next&&nt.next.next.type===d.VALUE&&(Q=nt.next.next.text);break}nt=nt.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=h(20).Options,F=h(2).Output,O=h(21).Tokenizer,d=h(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==d.TEXT&&I.previous.type!==d.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),nt=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=nt.next();lt.type!==d.EOF;)lt.type===d.TAG_OPEN||lt.type===d.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,nt):lt.type===d.ATTRIBUTE||lt.type===d.EQUALS||lt.type===d.VALUE||lt.type===d.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===d.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===d.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=nt.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===d.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===d.ATTRIBUTE?I.set_space_before_token(!0):(R.type===d.EQUALS||R.type===d.VALUE&&R.previous.type===d.EQUALS)&&I.set_space_before_token(!1),R.type===d.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==d.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,nt="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(A,\$){return new U(A,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);nt=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),nt&&(Q=Q?nt+Q+\`
\`+J:nt+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==d.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var nt,J=0;(nt=L.peek(J)).type===d.ATTRIBUTE&&(Q.attr_count+=1),J+=1,nt.type!==d.EOF&&nt.type!==d.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===d.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=f(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===d.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===d.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},w.exports.Beautifier=U},function(w,p,h){var u=h(6).Options;function f(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new u,w.exports.Options=f},function(w,p,h){function u(H,U){f.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new d(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var f=h(9).Tokenizer,b=h(9).TOKEN,F=h(13).Directives,O=h(14).TemplatablePattern,d=h(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(u.prototype=new f)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},u.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},u.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},u.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},u.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},w.exports.Tokenizer=u,w.exports.TOKEN=y}],T={},S=function w(p){var h=T[p];return h!==void 0?h.exports:(h=T[p]={exports:{}},C[p](h,h.exports,w),h.exports)}(18);g=S})();var g,s,l,E=g;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(C){var T=C("./beautify"),S=C("./beautify-css");return{html_beautify:function(w,p){return E(w,p,T.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),l=require("./beautify-css.js"),exports.html_beautify=function(C,T){return E(C,T,s.js_beautify,l.css_beautify)}):typeof window<"u"?window.html_beautify=function(C,T){return E(C,T,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(C,T){return E(C,T,global.js_beautify,global.css_beautify)})})();(function(){(function(){var l=[,,function(T){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(h,u){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),u=u||"",0<h.indent_level&&(u=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function p(h,u){this.__indent_cache=new w(h,u),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(h))return!0;return!1},S.prototype.set_indent=function(h,u){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var u=h.lastIndexOf(\`
\`);u!==-1?this.__character_count=h.length-u:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},w.prototype.get_indent_size=function(h,u){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(h,u){var f=this.__base_string;return u=u||0,h<0&&(h=0,f=""),u+=h*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},w.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var h,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(h=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,u){return this.__indent_cache.get_indent_string(h,u)},p.prototype.get_indent_size=function(h,u){return this.__indent_cache.get_indent_size(h,u)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=h!==\`
\`?u.replace(/[\\n]/g,h):u},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,u){return this.next_line.set_indent(h=h||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(h,u),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var u=0;u<h.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var u=this.__lines.length;h<u;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},T.exports.Output=p},,,,function(T){function S(h,u){this.raw_options=w(h,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(h,u){var f,b={};for(f in h=p(h))f!==u&&(b[f]=h[f]);if(u&&h[u])for(f in h[u])b[f]=h[u][f];return b}function p(h){var u,f={};for(u in h)f[u.replace(/-/g,"_")]=h[u];return f}S.prototype._get_array=function(h,u){return h=this.raw_options[h],u=u||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(u=h.concat()):typeof h=="string"&&(u=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(h,u){return h=this.raw_options[h],h===void 0?!!u:!!h},S.prototype._get_characters=function(h,u){return h=this.raw_options[h],u=u||"",u=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(h,u){return h=this.raw_options[h],u=parseInt(u,10),isNaN(u)&&(u=0),h=parseInt(h,10),h=isNaN(h)?u:h},S.prototype._get_selection=function(h,u,f){if(f=this._get_selection_list(h,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,u){return h.length&&u.length&&!h.some(function(f){return u.indexOf(f)===-1})},T.exports.Options=S,T.exports.normalizeOpts=p,T.exports.mergeOpts=w},,function(T){var S=RegExp.prototype.hasOwnProperty("sticky");function w(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},w.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},w.prototype.__match=function(p,h){p.lastIndex=h;var u=p.exec(this.__input);return!u||S&&p.sticky||u.index!==h&&(u=null),u},w.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},w.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},w.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},w.prototype.read=function(p,h,u){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,u)),b},w.prototype.readUntil=function(f,h){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,h&&(u+=f[0].length)):u=this.__input_length,h=this.__input.substring(this.__position,u),this.__position=u,h},w.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},w.prototype.get_regexp=function(p,f){var u=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?u=new RegExp(p,f):p&&(u=new RegExp(p.source,f)),u},w.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var h=this.__position,u=this.readUntilAfter(u);return this.__position=h,u},w.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},T.exports.InputScanner=w},,,,,function(T){function S(w,p){w=typeof w=="string"?w:w.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(w);return p},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},T.exports.Directives=S},,function(T,S,w){var p=w(16).Beautifier,h=w(17).Options;T.exports=function(u,f){return new p(u,f).beautify()},T.exports.defaultOptions=function(){return new h}},function(T,S,w){var p=w(17).Options,h=w(2).Output,u=w(8).InputScanner,f=new(w(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,d=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new p(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new h(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,nt=this._ch,J=!1;z=this._input.read(d)!=="",H=nt,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),nt=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),A=f.get_directives(lt);A&&A.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),A=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),A.match(/[ :]\$/)&&(A=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(A),this._output.space_before_token=!0),I===0&&A.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),k&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},T.exports.Beautifier=D},function(T,S,w){var p=w(6).Options;function h(f){p.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}h.prototype=new p,T.exports.Options=h}],E={},C=function T(S){var w=E[S];return w!==void 0?w.exports:(w=E[S]={exports:{}},l[S](w,w.exports,T),w.exports)}(15);g=C})();var g,s=g;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineSimpleMode=function(u,f){g.defineMode(u,function(b){return g.simpleMode(b,f)})},g.simpleMode=function(u,f){s(f,"start");var b={},F=f.meta||{},O=!1;for(var d in f)if(d!=F&&f.hasOwnProperty(d))for(var y=b[d]=[],W=f[d],D=0;D<W.length;D++){var z=W[D];y.push(new C(z,f)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=g.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:g.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:T(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:h(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function s(u,f){if(!u.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function l(u,f){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((f===!1?"":"^")+"(?:"+u+")",b)}function E(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var f=[],b=0;b<u.length;b++)f.push(u[b]&&u[b].replace(/\\./g," "));return f}function C(u,f){(u.next||u.push)&&s(f,u.next||u.push),this.regex=l(u.regex),this.token=E(u.token),this.data=u}function T(u,f){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var d=F.local.endToken||null;return F.local=F.localState=null,d}else{var d=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),d}for(var W=u[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&w(f,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+f.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,f){if(u===f)return!0;if(!u||typeof u!="object"||!f||typeof f!="object")return!1;var b=0;for(var F in u)if(u.hasOwnProperty(F)){if(!f.hasOwnProperty(F)||!S(u[F],f[F]))return!1;b++}for(var F in f)f.hasOwnProperty(F)&&b--;return b==0}function w(u,f,b,F){var O;if(b.persistent)for(var d=f.persistentStates;d&&!O;d=d.next)(b.spec?S(b.spec,d.spec):b.mode==d.mode)&&(O=d);var y=O?O.mode:b.mode||g.getMode(u,b.spec),W=O?O.state:g.startState(y);b.persistent&&!O&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&l(b.end),endScan:b.end&&b.forceEnd!==!1&&l(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function p(u,f){for(var b=0;b<f.length;b++)if(f[b]===u)return!0}function h(u,f){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||f.dontIndentStates&&p(b.state,f.dontIndentStates)>-1)return g.Pass;var d=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){d--,(D.next||D.push)&&(y=u[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return d<0?0:b.indent[d]}}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){const s=["س","ر","ج"],l=["ا","ب","ج","د","ه","و"],E=s.map(nt=>Fr(nt)).join(""),C=\`[\${l.map(nt=>Fr(nt)).join("")}]\`,T="[a-fA-F]",S=\`[\${E}›»]\`,w=Fr("م"),p=\`(?:\${w}\${Gn}(?:\${na}|\${C}){1,6}\${Xn})\`,h=\`(?:\${w}\${Gn}(?:\${ra}|\${T}){1,6}\${Xn})\`,u=\`(?:\${p}|\${h})\`,f=\`[^›\${Dr}]\`,b=nt=>RegExp(F(nt),"u"),F=nt=>{let J=[];return Object.values(nt).forEach(lt=>J.push(Fr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${Gn}-\`,"u"),d=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Xn}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Dr}(?:\${S}|\${u})\`,z=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Dr}»]|\${Dr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Qh})|(?:\${Au})\`,"u"),k=()=>RegExp(\`(?!\${F(Kh)}(?:\${\$h}|\\\\s|\$))\${qr}\`,"u"),K=()=>b(ta),L=()=>b(ea),Q=()=>b(ia);g.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Lu,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:d(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Ou}),g.defineMIME("text/x-seen-ar-src","seen-ar"),g.defineMIME("text/seen-ar","seen-ar")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){const s=\`[nrt'"]\`,l=\`u\${Gn}[\\\\da-fA-F]{1,6}\${Xn}\`,E=\`[^'\${Hs}]\`;function C(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const T=()=>RegExp(\`\${Gn}\${Mr}\`),S=()=>RegExp(".*"),w=()=>RegExp(\`.*?\${Mr}\${Xn}\`),p=()=>RegExp(\`\${Mr}\${Mr}.*\`),h=\`\${Hs}(?:\${s}|\${l})\`,u=()=>RegExp(\`'(?:\${E}|\${h})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),d=()=>RegExp(\`(?:\${E}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Au})\`),D=()=>RegExp(\`\${qr}\`,"u"),z=()=>C(ta),H=()=>C(ea),U=()=>C(ia);g.defineSimpleMode("seen-en",{start:[{regex:T(),token:"comment",next:"multiline_comment"},{regex:p(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Lu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:w(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:d(),token:"string"}],meta:Ou}),g.defineMIME("text/x-seen-en-src","seen-en"),g.defineMIME("text/seen-en","seen-en")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineMode("javascript",function(s,l){var E=s.indentUnit,C=l.statementIndent,T=l.jsonld,S=l.json||T,w=l.trackScope!==!1,p=l.typescript,h=l.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function x(Xt){return{type:Xt,style:"keyword"}}var P=x("keyword a"),B=x("keyword b"),G=x("keyword c"),bt=x("keyword d"),Tt=x("operator"),Ct={type:"atom",style:"atom"};return{if:x("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:x("new"),delete:G,void:G,throw:G,debugger:x("debugger"),var:x("var"),const:x("var"),let:x("var"),function:x("function"),catch:x("catch"),for:x("for"),switch:x("switch"),case:x("case"),default:x("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:x("this"),class:x("class"),super:x("atom"),yield:G,export:x("export"),import:x("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(x){for(var P=!1,B,G=!1;(B=x.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,d;function y(x,P,B){return O=x,d=B,P}function W(x,P){var B=x.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(x,P);if(B=="."&&x.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&x.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&x.eat(">"))return y("=>","operator");if(B=="0"&&x.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return x.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return x.eat("*")?(P.tokenize=z,z(x,P)):x.eat("/")?(x.skipToEnd(),y("comment","comment")):ze(x,P,1)?(F(x),x.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(x.eat("="),y("operator","operator",x.current()));if(B=="\`")return P.tokenize=H,H(x,P);if(B=="#"&&x.peek()=="!")return x.skipToEnd(),y("meta","meta");if(B=="#"&&x.eatWhile(h))return y("variable","property");if(B=="<"&&x.match("!--")||B=="-"&&x.match("->")&&!/\\S/.test(x.string.slice(0,x.start)))return x.skipToEnd(),y("comment","comment");if(f.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(x.eat("=")?(B=="!"||B=="=")&&x.eat("="):/[<>*+\\-|&?]/.test(B)&&(x.eat(B),B==">"&&x.eat(B))),B=="?"&&x.eat(".")?y("."):y("operator","operator",x.current());if(h.test(B)){x.eatWhile(h);var G=x.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var bt=u[G];return y(bt.type,bt.style,G)}if(G=="async"&&x.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(x){return function(P,B){var G=!1,bt;if(T&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==x&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(x,P){for(var B=!1,G;G=x.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(x,P){for(var B=!1,G;(G=x.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&x.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",x.current())}var U="([{}])";function Z(x,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=x.string.indexOf("=>",x.start);if(!(B<0)){if(p){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(x.string.slice(x.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=x.string.charAt(Ct),ke=U.indexOf(Xt);if(ke>=0&&ke<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(ke>=3&&ke<6)++bt;else if(h.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=x.string.charAt(Ct-1);if(yt==Xt&&x.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(x,P,B,G,bt,Tt){this.indented=x,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(x,P){if(!w)return!1;for(var B=x.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=x.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(x,P,B,G,bt){var Tt=x.cc;for(k.state=x,k.stream=bt,k.marked=null,k.cc=Tt,k.style=P,x.lexical.hasOwnProperty("align")||(x.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return k.marked?k.marked:B=="variable"&&I(x,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var x=arguments.length-1;x>=0;x--)k.cc.push(arguments[x])}function L(){return K.apply(null,arguments),!0}function Q(x,P){for(var B=P;B;B=B.next)if(B.name==x)return!0;return!1}function nt(x){var P=k.state;if(k.marked="def",!!w){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(x,P.context);if(B!=null){P.context=B;return}}else if(!Q(x,P.localVars)){P.localVars=new \$(x,P.localVars);return}}l.globalVars&&!Q(x,P.globalVars)&&(P.globalVars=new \$(x,P.globalVars))}}function J(x,P){if(P)if(P.block){var B=J(x,P.prev);return B?B==P.prev?P:new A(B,P.vars,!0):null}else return Q(x,P.vars)?P:new A(P.prev,new \$(x,P.vars),!1);else return null}function lt(x){return x=="public"||x=="private"||x=="protected"||x=="abstract"||x=="readonly"}function A(x,P,B){this.prev=x,this.vars=P,this.block=B}function \$(x,P){this.name=x,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){k.state.context=new A(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new A(k.state.context,k.state.localVars,!0),k.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}kt.lex=!0;function ft(x,P){var B=function(){var G=k.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,k.stream.column(),x,null,G.lexical,P)};return B.lex=!0,B}function at(){var x=k.state;x.lexical.prev&&(x.lexical.type==")"&&(x.indented=x.lexical.indented),x.lexical=x.lexical.prev)}at.lex=!0;function _t(x){function P(B){return B==x?L():x==";"||B=="}"||B==")"||B=="]"?K():L(P)}return P}function vt(x,P){return x=="var"?L(ft("vardef",P),Xe,_t(";"),at):x=="keyword a"?L(ft("form"),Ee,vt,at):x=="keyword b"?L(ft("form"),vt,at):x=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),xe,_t(";"),at):x=="debugger"?L(_t(";")):x=="{"?L(ft("}"),Nt,We,at,kt):x==";"?L():x=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,vt,at,Bi)):x=="function"?L(Ie):x=="for"?L(ft("form"),Nt,Vn,vt,kt,at):x=="class"||p&&P=="interface"?(k.marked="keyword",L(ft("form",x=="class"?x:P),er,at)):x=="variable"?p&&P=="declare"?(k.marked="keyword",L(vt)):p&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Hi):P=="type"?L(tr,_t("operator"),it,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),We,at,at)):p&&P=="namespace"?(k.marked="keyword",L(ft("form"),Et,vt,at)):p&&P=="abstract"?(k.marked="keyword",L(vt)):L(ft("stat"),Wi):x=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,We,at,at,kt):x=="case"?L(Et,_t(":")):x=="default"?L(_t(":")):x=="catch"?L(ft("form"),wt,ee,vt,at,kt):x=="export"?L(ft("stat"),li,at):x=="import"?L(ft("stat"),Ye,at):x=="async"?L(vt):P=="@"?L(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ee(x){if(x=="(")return L(Ne,_t(")"))}function Et(x,P){return we(x,P,!1)}function Rt(x,P){return we(x,P,!0)}function Ee(x){return x!="("?K():L(ft(")"),xe,_t(")"),at)}function we(x,P,B){if(k.state.fatArrowAt==k.stream.start){var G=B?cn:ai;if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,_t("=>"),G,kt);if(x=="variable")return K(wt,fe,_t("=>"),G,kt)}var bt=B?It:ce;return ot.hasOwnProperty(x)?L(bt):x=="function"?L(Ie,bt):x=="class"||p&&P=="interface"?(k.marked="keyword",L(ft("form"),ui,at)):x=="keyword c"||x=="async"?L(B?Rt:Et):x=="("?L(ft(")"),xe,_t(")"),at,bt):x=="operator"||x=="spread"?L(B?Rt:Et):x=="["?L(ft("]"),Qe,at,bt):x=="{"?xi(Ii,"}",null,bt):x=="quasi"?K(mt,bt):x=="new"?L(Yn(B)):L()}function xe(x){return x.match(/[;\\}\\)\\],]/)?K():K(Et)}function ce(x,P){return x==","?L(xe):It(x,P,!1)}function It(x,P,B){var G=B==!1?ce:It,bt=B==!1?Et:Rt;if(x=="=>")return L(wt,B?cn:ai,kt);if(x=="operator")return/\\+\\+|--/.test(P)||p&&P=="!"?L(G):p&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),Bt(it,">"),at,G):P=="?"?L(Et,_t(":"),bt):L(bt);if(x=="quasi")return K(mt,G);if(x!=";"){if(x=="(")return xi(Rt,")","call",G);if(x==".")return L(Qn,G);if(x=="[")return L(ft("]"),xe,_t("]"),at,G);if(p&&P=="as")return k.marked="keyword",L(it,G);if(x=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(bt)}}function mt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(mt):L(xe,Ge)}function Ge(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(mt)}function ai(x){return Z(k.stream,k.state),K(x=="{"?vt:Et)}function cn(x){return Z(k.stream,k.state),K(x=="{"?vt:Rt)}function Yn(x){return function(P){return P=="."?L(x?fn:Ur):P=="variable"&&p?L(re,x?It:ce):K(x?Rt:Et)}}function Ur(x,P){if(P=="target")return k.marked="keyword",L(ce)}function fn(x,P){if(P=="target")return k.marked="keyword",L(It)}function Wi(x){return x==":"?L(at,vt):K(ce,_t(";"),at)}function Qn(x){if(x=="variable")return k.marked="property",L()}function Ii(x,P){if(x=="async")return k.marked="property",L(Ii);if(x=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(_n);var B;return p&&k.state.fatArrowAt==k.stream.start&&(B=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+B[0].length),L(Pe)}else{if(x=="number"||x=="string")return k.marked=T?"property":k.style+" property",L(Pe);if(x=="jsonld-keyword")return L(Pe);if(p&&lt(P))return k.marked="keyword",L(Ii);if(x=="[")return L(Et,Te,_t("]"),Pe);if(x=="spread")return L(Rt,Pe);if(P=="*")return k.marked="keyword",L(Ii);if(x==":")return K(Pe)}}function _n(x){return x!="variable"?K(Pe):(k.marked="property",L(Ie))}function Pe(x){if(x==":")return L(Rt);if(x=="(")return K(Ie)}function Bt(x,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=k.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),L(function(Xt,ke){return Xt==P||ke==P?K():K(x)},G)}return bt==P||Tt==P?L():B&&B.indexOf(";")>-1?K(x):L(_t(P))}return function(bt,Tt){return bt==P||Tt==P?L():K(x,G)}}function xi(x,P,B){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,B),Bt(x,P),at)}function We(x){return x=="}"?L():K(vt,We)}function Te(x,P){if(p){if(x==":")return L(it);if(P=="?")return L(Te)}}function Kr(x,P){if(p&&(x==":"||P=="in"))return L(it)}function Ce(x){if(p&&x==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Et,Zn,it):L(it)}function Zn(x,P){if(P=="is")return k.marked="keyword",L()}function it(x,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:it);if(x=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(it);if(x=="string"||x=="number"||x=="atom")return L(ue);if(x=="[")return L(ft("]"),Bt(it,"]",","),at,ue);if(x=="{")return L(ft("}"),ne,at,ue);if(x=="(")return L(Bt(oe,")"),pn,ue);if(x=="<")return L(Bt(it,">"),it);if(x=="quasi")return K(zt,ue)}function pn(x){if(x=="=>")return L(it)}function ne(x){return x.match(/[\\}\\)\\]]/)?L():x==","||x==";"?L(ne):K(Mt,ne)}function Mt(x,P){if(x=="variable"||k.style=="keyword")return k.marked="property",L(Mt);if(P=="?"||x=="number"||x=="string")return L(Mt);if(x==":")return L(it);if(x=="[")return L(_t("variable"),Kr,_t("]"),Mt);if(x=="(")return K(Be,Mt);if(!x.match(/[;\\}\\)\\],]/))return L()}function zt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(zt):L(it,Jn)}function Jn(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(zt)}function oe(x,P){return x=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):x==":"?L(it):x=="spread"?L(oe):K(it)}function ue(x,P){if(P=="<")return L(ft(">"),Bt(it,">"),at,ue);if(P=="|"||x=="."||P=="&")return L(it);if(x=="[")return L(it,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(it);if(P=="?")return L(it,_t(":"),it)}function re(x,P){if(P=="<")return L(ft(">"),Bt(it,">"),at,ue)}function ki(){return K(it,dn)}function dn(x,P){if(P=="=")return L(it)}function Xe(x,P){return P=="enum"?(k.marked="keyword",L(Hi)):K(fe,Te,Ae,Xr)}function fe(x,P){if(p&&lt(P))return k.marked="keyword",L(fe);if(x=="variable")return nt(P),L();if(x=="spread")return L(fe);if(x=="[")return xi(Gr,"]");if(x=="{")return xi(gn,"}")}function gn(x,P){return x=="variable"&&!k.stream.match(/^\\s*:/,!1)?(nt(P),L(Ae)):(x=="variable"&&(k.marked="property"),x=="spread"?L(fe):x=="}"?K():x=="["?L(Et,_t("]"),_t(":"),gn):L(_t(":"),fe,Ae))}function Gr(){return K(fe,Ae)}function Ae(x,P){if(P=="=")return L(Rt)}function Xr(x){if(x==",")return L(Xe)}function Bi(x,P){if(x=="keyword b"&&P=="else")return L(ft("form","else"),vt,at)}function Vn(x,P){if(P=="await")return L(Vn);if(x=="(")return L(ft(")"),vn,at)}function vn(x){return x=="var"?L(Xe,oi):x=="variable"?L(oi):K(oi)}function oi(x,P){return x==")"?L():x==";"?L(oi):P=="in"||P=="of"?(k.marked="keyword",L(Et,oi)):K(Et,oi)}function Ie(x,P){if(P=="*")return k.marked="keyword",L(Ie);if(x=="variable")return nt(P),L(Ie);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,vt,kt);if(p&&P=="<")return L(ft(">"),Bt(ki,">"),at,Ie)}function Be(x,P){if(P=="*")return k.marked="keyword",L(Be);if(x=="variable")return nt(P),L(Be);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,kt);if(p&&P=="<")return L(ft(">"),Bt(ki,">"),at,Be)}function tr(x,P){if(x=="keyword"||x=="variable")return k.marked="type",L(tr);if(P=="<")return L(ft(">"),Bt(ki,">"),at)}function Ne(x,P){return P=="@"&&L(Et,Ne),x=="spread"?L(Ne):p&&lt(P)?(k.marked="keyword",L(Ne)):p&&x=="this"?L(Te,Ae):K(fe,Te,Ae)}function ui(x,P){return x=="variable"?er(x,P):zi(x,P)}function er(x,P){if(x=="variable")return nt(P),L(zi)}function zi(x,P){if(P=="<")return L(ft(">"),Bt(ki,">"),at,zi);if(P=="extends"||P=="implements"||p&&x==",")return P=="implements"&&(k.marked="keyword"),L(p?it:Et,zi);if(x=="{")return L(ft("}"),me,at)}function me(x,P){if(x=="async"||x=="variable"&&(P=="static"||P=="get"||P=="set"||p&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(x=="variable"||k.style=="keyword")return k.marked="property",L(\$e,me);if(x=="number"||x=="string")return L(\$e,me);if(x=="[")return L(Et,Te,_t("]"),\$e,me);if(P=="*")return k.marked="keyword",L(me);if(p&&x=="(")return K(Be,me);if(x==";"||x==",")return L(me);if(x=="}")return L();if(P=="@")return L(Et,me)}function \$e(x,P){if(P=="!"||P=="?")return L(\$e);if(x==":")return L(it,Ae);if(P=="=")return L(Rt);var B=k.state.lexical.prev,G=B&&B.info=="interface";return K(G?Be:Ie)}function li(x,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Et,_t(";"))):x=="{"?L(Bt(ir,"}"),ct,_t(";")):K(vt)}function ir(x,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(x=="variable")return K(Rt,ir)}function Ye(x){return x=="string"?L():x=="("?K(Et):x=="."?K(ce):K(hi,mn,ct)}function hi(x,P){return x=="{"?xi(hi,"}"):(x=="variable"&&nt(P),P=="*"&&(k.marked="keyword"),L(Ht))}function mn(x){if(x==",")return L(hi,mn)}function Ht(x,P){if(P=="as")return k.marked="keyword",L(hi)}function ct(x,P){if(P=="from")return k.marked="keyword",L(Et)}function Qe(x){return x=="]"?L():K(Bt(Rt,"]"))}function Hi(){return K(ft("form"),fe,_t("{"),ft("}"),Bt(Le,"}"),at,at)}function Le(){return K(fe,Ae)}function Lt(x,P){return x.lastType=="operator"||x.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(x,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(x.string.slice(0,x.pos-(B||0)))}return{startState:function(x){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((x||0)-E,0,"block",!1),localVars:l.localVars,context:l.localVars&&new A(null,null,!1),indented:x||0};return l.globalVars&&typeof l.globalVars=="object"&&(P.globalVars=l.globalVars),P},token:function(x,P){if(x.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=x.indentation(),Z(x,P)),P.tokenize!=z&&x.eatSpace())return null;var B=P.tokenize(x,P);return O=="comment"?B:(P.lastType=O=="operator"&&(d=="++"||d=="--")?"incdec":O,R(P,B,O,d,x))},indent:function(x,P){if(x.tokenize==z||x.tokenize==H)return g.Pass;if(x.tokenize!=W)return 0;var B=P&&P.charAt(0),G=x.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=x.cc.length-1;Tt>=0;--Tt){var Ct=x.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=Bi&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=x.cc[x.cc.length-1])&&(bt==ce||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;C&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,ke=B==Xt;return Xt=="vardef"?G.indented+(x.lastType=="operator"||x.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+E:Xt=="stat"?G.indented+(Lt(x,P)?C||E:0):G.info=="switch"&&!ke&&l.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?E:2*E):G.align?G.column+(ke?0:1):G.indented+(ke?0:E)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:T,jsonMode:S,expressionAllowed:ze,skipExpression:function(x){R(x,"atom","atom","true",new g.StringStream("",2,null))}}}),g.registerHelper("wordChars","javascript",/[\\w\$]/),g.defineMIME("text/javascript","javascript"),g.defineMIME("text/ecmascript","javascript"),g.defineMIME("application/javascript","javascript"),g.defineMIME("application/x-javascript","javascript"),g.defineMIME("application/ecmascript","javascript"),g.defineMIME("application/json",{name:"javascript",json:!0}),g.defineMIME("application/x-json",{name:"javascript",json:!0}),g.defineMIME("application/manifest+json",{name:"javascript",json:!0}),g.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),g.defineMIME("text/typescript",{name:"javascript",typescript:!0}),g.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){g.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),g.defineMIME("text/x-rustsrc","rust"),g.defineMIME("text/rust","rust")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(C,T,S){this.orientation=T,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=C+"-"+T,this.inner=this.node.appendChild(document.createElement("div"));var w=this;g.on(this.inner,"mousedown",function(h){if(h.which!=1)return;g.e_preventDefault(h);var u=w.orientation=="horizontal"?"pageX":"pageY",f=h[u],b=w.pos;function F(){g.off(document,"mousemove",O),g.off(document,"mouseup",F)}function O(d){if(d.which!=1)return F();w.moveTo(b+(d[u]-f)*(w.total/w.size))}g.on(document,"mousemove",O),g.on(document,"mouseup",F)}),g.on(this.node,"click",function(h){g.e_preventDefault(h);var u=w.inner.getBoundingClientRect(),f;w.orientation=="horizontal"?f=h.clientX<u.left?-1:h.clientX>u.right?1:0:f=h.clientY<u.top?-1:h.clientY>u.bottom?1:0,w.moveTo(w.pos+f*w.screen)});function p(h){var u=g.wheelEventPixels(h)[w.orientation=="horizontal"?"x":"y"],f=w.pos;w.moveTo(w.pos+u),w.pos!=f&&g.e_preventDefault(h)}g.on(this.node,"mousewheel",p),g.on(this.node,"DOMMouseScroll",p)}s.prototype.setPos=function(C,T){return C<0&&(C=0),C>this.total-this.screen&&(C=this.total-this.screen),!T&&C==this.pos?!1:(this.pos=C,this.inner.style[this.orientation=="horizontal"?"left":"top"]=C*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(C){this.setPos(C)&&this.scroll(C,this.orientation)};var l=10;s.prototype.update=function(C,T,S){var w=this.screen!=T||this.total!=C||this.size!=S;w&&(this.screen=T,this.total=C,this.size=S);var p=this.screen*(this.size/this.total);p<l&&(this.size-=l-p,p=l),this.inner.style[this.orientation=="horizontal"?"width":"height"]=p+"px",this.setPos(this.pos,w)};function E(C,T,S){this.addClass=C,this.horiz=new s(C,"horizontal",S),T(this.horiz.node),this.vert=new s(C,"vertical",S),T(this.vert.node),this.width=null}E.prototype.update=function(C){if(this.width==null){var T=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;T&&(this.width=parseInt(T.height))}var S=this.width||0,w=C.scrollWidth>C.clientWidth+1,p=C.scrollHeight>C.clientHeight+1;return this.vert.node.style.display=p?"block":"none",this.horiz.node.style.display=w?"block":"none",p&&(this.vert.update(C.scrollHeight,C.clientHeight,C.viewHeight-(w?S:0)),this.vert.node.style.bottom=w?S+"px":"0"),w&&(this.horiz.update(C.scrollWidth,C.clientWidth,C.viewWidth-(p?S:0)-C.barLeft),this.horiz.node.style.right=p?S+"px":"0",this.horiz.node.style.left=C.barLeft+"px"),{right:p?S:0,bottom:w?S:0}},E.prototype.setScrollTop=function(C){this.vert.setPos(C)},E.prototype.setScrollLeft=function(C){this.horiz.setPos(C)},E.prototype.clear=function(){var C=this.horiz.node.parentNode;C.removeChild(this.horiz.node),C.removeChild(this.vert.node)},g.scrollbarModel.simple=function(C,T){return new E("CodeMirror-simplescroll",C,T)},g.scrollbarModel.overlay=function(C,T){return new E("CodeMirror-overlayscroll",C,T)}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s="CodeMirror-activeline",l="CodeMirror-activeline-background",E="CodeMirror-activeline-gutter";g.defineOption("styleActiveLine",!1,function(p,h,u){var f=u==g.Init?!1:u;h!=f&&(f&&(p.off("beforeSelectionChange",w),C(p),delete p.state.activeLines),h&&(p.state.activeLines=[],S(p,p.listSelections()),p.on("beforeSelectionChange",w)))});function C(p){for(var h=0;h<p.state.activeLines.length;h++)p.removeLineClass(p.state.activeLines[h],"wrap",s),p.removeLineClass(p.state.activeLines[h],"background",l),p.removeLineClass(p.state.activeLines[h],"gutter",E)}function T(p,h){if(p.length!=h.length)return!1;for(var u=0;u<p.length;u++)if(p[u]!=h[u])return!1;return!0}function S(p,h){for(var u=[],f=0;f<h.length;f++){var b=h[f],F=p.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=p.getLineHandleVisualStart(b.head.line);u[u.length-1]!=O&&u.push(O)}}T(p.state.activeLines,u)||p.operation(function(){C(p);for(var d=0;d<u.length;d++)p.addLineClass(u[d],"wrap",s),p.addLineClass(u[d],"background",l),p.addLineClass(u[d],"gutter",E);p.state.activeLines=u})}function w(p,h){S(p,h.ranges)}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),l=g.Pos,E={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function C(u){return u&&u.bracketRegex||/[(){}[\\]]/}function T(u,f,b){var F=u.getLineHandle(f.line),O=f.ch-1,d=b&&b.afterCursor;d==null&&(d=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=C(b),W=!d&&O>=0&&y.test(F.text.charAt(O))&&E[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&E[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==f.ch))return null;var z=u.getTokenTypeAt(l(f.line,O+1)),H=S(u,l(f.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:l(f.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(u,f,b,F,O){for(var d=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=C(O),z=b>0?Math.min(f.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,f.line-y),H=f.line;H!=z;H+=b){var U=u.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>d))for(H==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(u.getTokenTypeAt(l(H,Z+1))||"")==(F||""))){var I=E[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:l(H,Z),ch:rt}}}}}return H-b==(b>0?u.lastLine():u.firstLine())?!1:null}function w(u,f,b){for(var F=u.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,d=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&T(u,y[W].head,b);if(D&&(D.match||O!==!1)&&u.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";d.push(u.markText(D.from,l(D.from.line,D.from.ch+1),{className:z})),D.to&&u.getLine(D.to.line).length<=F&&d.push(u.markText(D.to,l(D.to.line,D.to.ch+1),{className:z}))}}if(d.length){s&&u.state.focused&&u.focus();var H=function(){u.operation(function(){for(var U=0;U<d.length;U++)d[U].clear()})};if(f)setTimeout(H,800);else return H}}function p(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=w(u,!1,u.state.matchBrackets)})}function h(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}g.defineOption("matchBrackets",!1,function(u,f,b){b&&b!=g.Init&&(u.off("cursorActivity",p),u.off("focus",p),u.off("blur",h),h(u)),f&&(u.state.matchBrackets=typeof f=="object"?f:{},u.on("cursorActivity",p),u.on("focus",p),u.on("blur",h))}),g.defineExtension("matchBrackets",function(){w(this,!0)}),g.defineExtension("findMatchingBracket",function(u,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),T(this,u,f)}),g.defineExtension("scanForBracket",function(u,f,b,F){return S(this,u,f,b,F)})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},l=g.Pos;g.defineOption("autoCloseBrackets",!1,function(d,y,W){W&&W!=g.Init&&(d.removeKeyMap(C),d.state.closeBrackets=null),y&&(T(E(y,"pairs")),d.state.closeBrackets=y,d.addKeyMap(C))});function E(d,y){return y=="pairs"&&typeof d=="string"?d:typeof d=="object"&&d[y]!=null?d[y]:s[y]}var C={Backspace:p,Enter:h};function T(d){for(var y=0;y<d.length;y++){var W=d.charAt(y),D="'"+W+"'";C[D]||(C[D]=S(W))}}T(s.pairs+"\`");function S(d){return function(y){return b(y,d)}}function w(d){var y=d.state.closeBrackets;if(!y||y.override)return y;var W=d.getModeAt(d.getCursor());return W.closeBrackets||y}function p(d){var y=w(d);if(!y||d.getOption("disableInput"))return g.Pass;for(var W=E(y,"pairs"),D=d.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return g.Pass;var H=F(d,D[z].head);if(!H||W.indexOf(H)%2!=0)return g.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;d.replaceRange("",l(U.line,U.ch-1),l(U.line,U.ch+1),"+delete")}}function h(d){var y=w(d),W=y&&E(y,"explode");if(!W||d.getOption("disableInput"))return g.Pass;for(var D=d.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return g.Pass;var H=F(d,D[z].head);if(!H||W.indexOf(H)%2!=0)return g.Pass}d.operation(function(){var U=d.lineSeparator()||\`
\`;d.replaceSelection(U+U,null),u(d,-1),D=d.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;d.indentLine(ot,null,!0),d.indentLine(ot+1,null,!0)}})}function u(d,y){for(var W=[],D=d.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==d.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}d.setSelections(W,z)}function f(d){var y=g.cmpPos(d.anchor,d.head)>0;return{anchor:new l(d.anchor.line,d.anchor.ch+(y?-1:1)),head:new l(d.head.line,d.head.ch+(y?1:-1))}}function b(d,y){var W=w(d);if(!W||d.getOption("disableInput"))return g.Pass;var D=E(W,"pairs"),z=D.indexOf(y);if(z==-1)return g.Pass;for(var H=E(W,"closeBefore"),U=E(W,"triples"),Z=D.charAt(z+1)==y,ot=d.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=d.getRange(K,l(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&O(d,K)?L="both":U.indexOf(y)>=0&&d.getRange(K,l(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&d.getRange(l(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(d.getTokenTypeAt(l(K.line,K.ch-2))))return g.Pass;L="addFour"}else if(Z){var nt=K.ch==0?" ":d.getRange(l(K.line,K.ch-1),K);if(!g.isWordChar(Q)&&nt!=y&&!g.isWordChar(nt))L="both";else return g.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))L="both";else return g.Pass;if(!I)I=L;else if(I!=L)return g.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);d.operation(function(){if(I=="skip")u(d,1);else if(I=="skipThree")u(d,3);else if(I=="surround"){for(var A=d.getSelections(),\$=0;\$<A.length;\$++)A[\$]=J+A[\$]+lt;d.replaceSelections(A,"around"),A=d.listSelections().slice();for(var \$=0;\$<A.length;\$++)A[\$]=f(A[\$]);d.setSelections(A)}else I=="both"?(d.replaceSelection(J+lt,null),d.triggerElectric(J+lt),u(d,-1)):I=="addFour"&&(d.replaceSelection(J+J+J+J,"before"),u(d,1))})}function F(d,y){var W=d.getRange(l(y.line,y.ch-1),l(y.line,y.ch+1));return W.length==2?W:null}function O(d,y){var W=d.getTokenAt(l(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(d.getTokenTypeAt(y)))}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(T,S,w,p){if(w&&w.call){var h=w;w=null}else var h=C(T,w,"rangeFinder");typeof S=="number"&&(S=g.Pos(S,0));var u=C(T,w,"minFoldSize");function f(d){var y=h(T,S);if(!y||y.to.line-y.from.line<u)return null;if(p==="fold")return y;for(var W=T.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!d)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(C(T,w,"scanUp"))for(;!b&&S.line>T.firstLine();)S=g.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||p==="unfold")){var F=l(T,w,b);g.on(F,"mousedown",function(d){O.clear(),g.e_preventDefault(d)});var O=T.markText(b.from,b.to,{replacedWith:F,clearOnEnter:C(T,w,"clearOnEnter"),__isFold:!0});O.on("clear",function(d,y){g.signal(T,"unfold",T,d,y)}),g.signal(T,"fold",T,b.from,b.to)}}function l(T,S,w){var p=C(T,S,"widget");if(typeof p=="function"&&(p=p(w.from,w.to)),typeof p=="string"){var h=document.createTextNode(p);p=document.createElement("span"),p.appendChild(h),p.className="CodeMirror-foldmarker"}else p&&(p=p.cloneNode(!0));return p}g.newFoldFunction=function(T,S){return function(w,p){s(w,p,{rangeFinder:T,widget:S})}},g.defineExtension("foldCode",function(T,S,w){s(this,T,S,w)}),g.defineExtension("isFolded",function(T){for(var S=this.findMarksAt(T),w=0;w<S.length;++w)if(S[w].__isFold)return!0}),g.commands.toggleFold=function(T){T.foldCode(T.getCursor())},g.commands.fold=function(T){T.foldCode(T.getCursor(),null,"fold")},g.commands.unfold=function(T){T.foldCode(T.getCursor(),{scanUp:!1},"unfold")},g.commands.foldAll=function(T){T.operation(function(){for(var S=T.firstLine(),w=T.lastLine();S<=w;S++)T.foldCode(g.Pos(S,0),{scanUp:!1},"fold")})},g.commands.unfoldAll=function(T){T.operation(function(){for(var S=T.firstLine(),w=T.lastLine();S<=w;S++)T.foldCode(g.Pos(S,0),{scanUp:!1},"unfold")})},g.registerHelper("fold","combine",function(){var T=Array.prototype.slice.call(arguments,0);return function(S,w){for(var p=0;p<T.length;++p){var h=T[p](S,w);if(h)return h}}}),g.registerHelper("fold","auto",function(T,S){for(var w=T.getHelpers(S,"fold"),p=0;p<w.length;p++){var h=w[p](T,S);if(h)return h}});var E={rangeFinder:g.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};g.defineOption("foldOptions",null);function C(T,S,w){if(S&&S[w]!==void 0)return S[w];var p=T.options.foldOptions;return p&&p[w]!==void 0?p[w]:E[w]}g.defineExtension("foldOption",function(T,S){return C(this,T,S)})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],g):g(CodeMirror)})(function(g){g.defineOption("foldGutter",!1,function(O,d,y){y&&y!=g.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",h),O.off("changes",f),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",f),O.off("optionChange",u)),d&&(O.state.foldGutter=new l(E(d)),p(O),O.on("gutterClick",h),O.on("changes",f),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",f),O.on("optionChange",u))});var s=g.Pos;function l(O){this.options=O,this.from=this.to=0}function E(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function C(O,d){for(var y=O.findMarks(s(d,0),s(d+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===d)return y[W]}}function T(O){if(typeof O=="string"){var d=document.createElement("div");return d.className=O+" CodeMirror-guttermarker-subtle",d}else return O.cloneNode(!0)}function S(O,d,y){var W=O.state.foldGutter.options,D=d-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&w(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&w(W.indicatorOpen);O.eachLine(d,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),C(O,D)){if(U&&I&&U.test(I.className))return;rt=T(W.indicatorFolded)}else{var R=s(D,0),k=H&&H(O,R);if(k&&k.to.line-k.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=T(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function w(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function p(O){var d=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,d.from,d.to)}),y.from=d.from,y.to=d.to)}function h(O,d,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=C(O,d);z?z.clear():O.foldCode(s(d,0),D)}}}function u(O,d){d=="mode"&&f(O)}function f(O){var d=O.state.foldGutter;if(d){var y=d.options;d.from=d.to=0,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){p(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var d=O.state.foldGutter;if(d){var y=d.options;clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){var W=O.getViewport();d.from==d.to||W.from-d.to>20||d.from-W.to>20?p(O):O.operation(function(){W.from<d.from&&(S(O,W.from,d.from),d.from=W.from),W.to>d.to&&(S(O,d.to,W.to),d.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,d){var y=O.state.foldGutter;if(y){var W=d.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s="CodeMirror-hint",l="CodeMirror-hint-active";g.showHint=function(d,y,W){if(!y)return d.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return d.showHint(D)},g.defineExtension("showHint",function(d){d=S(this,this.getCursor("start"),d);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!d.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new E(this,d);D.options.hint&&(g.signal(this,"startCompletion",this),D.update(!0))}}),g.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function E(d,y){if(this.cm=d,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;d.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var C=window.requestAnimationFrame||function(d){return setTimeout(d,1e3/60)},T=window.cancelAnimationFrame||clearTimeout;E.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&g.signal(this.data,"close"),this.widget&&this.widget.close(),g.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(d,y){var W=d.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,d,W):D.cm.replaceRange(w(W),W.from||d.from,W.to||d.to,"complete"),g.signal(d,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(T(this.debounce),this.debounce=0);var d=this.startPos;this.data&&(d=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<d.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=C(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(d){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,d)})}},finishUpdate:function(d,y){this.data&&g.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=d,d&&d.list.length&&(W&&d.list.length==1?this.pick(d,0):(this.widget=new u(this,d),g.signal(d,"shown")))}};function S(d,y,W){var D=d.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(d,y)),z}function w(d){return typeof d=="string"?d:d.text}function p(d,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=d.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=d.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function h(d,y){for(;y&&y!=d;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==d)return y;y=y.parentNode}}function u(d,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=d,this.data=y,this.picked=!1;var W=this,D=d.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=d.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+l);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||w(R))),I.hintId=rt}var K=d.options.container||z.body,L=D.cursorCoords(d.options.alignWithWord?y.from:null),Q=L.left,nt=L.bottom,J=!0,lt=0,A=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,A=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=nt-A+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=d.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=d.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Et=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(nt=L.top-Et)+A+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-kt;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ee-=at.right-at.left-kt),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=p(d,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){d.close()},pick:function(){W.pick()},data:y})),d.options.closeOnUnfocus){var xe;D.on("blur",this.onBlur=function(){xe=setTimeout(function(){d.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(xe)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=nt+vt.top-It.top,ai=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(ai+=U.offsetHeight),ai<=mt.top||ai>=mt.bottom)return d.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),g.on(U,"dblclick",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),g.on(U,"click",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),d.options.completeOnSingleClick&&W.pick())}),g.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),g.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var d=this.completion.cm.getInputField();d.removeAttribute("aria-activedescendant"),d.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var d=this;this.keyMap={Enter:function(){d.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(d,y){if(d>=this.data.list.length?d=y?this.data.list.length-1:0:d<0&&(d=y?0:this.data.list.length-1),this.selectedHint!=d){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+l,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=d],W.className+=" "+l,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),g.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var d=this.getSelectedHintRange(),y=this.hints.childNodes[d.from],W=this.hints.childNodes[d.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var d=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-d),to:Math.min(this.data.list.length-1,this.selectedHint+d)}}};function f(d,y){if(!d.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(d,y,W,D){if(d.async)d(y,D,W);else{var z=d(y,W);z&&z.then?z.then(D):D(z)}}function F(d,y){var W=d.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=f(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=d.getHelper(d.getCursor(),"hintWords"))?function(H){return g.hint.fromList(H,{words:D})}:g.hint.anyword?function(H,U){return g.hint.anyword(H,U)}:function(){}}g.registerHelper("hint","auto",{resolve:F}),g.registerHelper("hint","fromList",function(d,y){var W=d.getCursor(),D=d.getTokenAt(W),z,H=g.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),g.commands.autocomplete=g.showHint;var O={hint:g.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};g.defineOption("hintOptions",null)});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(l){return function(E,C){var T=C.line,S=E.getLine(T);function w(F){for(var O,d=C.ch,y=0;;){var W=d<=0?-1:S.lastIndexOf(F[0],d-1);if(W==-1){if(y==1)break;y=1,d=S.length;continue}if(y==1&&W<C.ch)break;if(O=E.getTokenTypeAt(g.Pos(T,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};d=W-1}}function p(F){var O=1,d=E.lastLine(),y,W=F.ch,D;t:for(var z=T;z<=d;++z)for(var H=E.getLine(z),U=z==T?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(E.getTokenTypeAt(g.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||T==y?null:{from:g.Pos(T,W),to:g.Pos(y,D)}}for(var h=[],u=0;u<l.length;u++){var f=w(l[u]);f&&h.push(f)}h.sort(function(F,O){return F.ch-O.ch});for(var u=0;u<h.length;u++){var b=p(h[u]);if(b)return b}return null}}g.registerHelper("fold","brace",s([["{","}"],["[","]"]])),g.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),g.registerHelper("fold","import",function(l,E){function C(u){if(u<l.firstLine()||u>l.lastLine())return null;var f=l.getTokenAt(g.Pos(u,1));if(/\\S/.test(f.string)||(f=l.getTokenAt(g.Pos(u,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=u,F=Math.min(l.lastLine(),u+10);b<=F;++b){var O=l.getLine(b),d=O.indexOf(";");if(d!=-1)return{startCh:f.end,end:g.Pos(b,d)}}}var T=E.line,S=C(T),w;if(!S||C(T-1)||(w=C(T-2))&&w.end.line==T-1)return null;for(var p=S.end;;){var h=C(p.line+1);if(h==null)break;p=h.end}return{from:l.clipPos(g.Pos(T,S.startCh+1)),to:p}}),g.registerHelper("fold","include",function(l,E){function C(h){if(h<l.firstLine()||h>l.lastLine())return null;var u=l.getTokenAt(g.Pos(h,1));if(/\\S/.test(u.string)||(u=l.getTokenAt(g.Pos(h,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var T=E.line,S=C(T);if(S==null||C(T-1)!=null)return null;for(var w=T;;){var p=C(w+1);if(p==null)break;++w}return{from:g.Pos(T,S+1),to:l.clipPos(g.Pos(w))}})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(l,E){var C=l.getLine(E),T=C.search(/\\S/);return T==-1||/\\bcomment\\b/.test(l.getTokenTypeAt(g.Pos(E,T+1)))?-1:g.countColumn(C,null,l.getOption("tabSize"))}g.registerHelper("fold","indent",function(l,E){var C=s(l,E.line);if(!(C<0)){for(var T=null,S=E.line+1,w=l.lastLine();S<=w;++S){var p=s(l,S);if(p!=-1)if(p>C)T=S;else break}if(T)return{from:g.Pos(E.line,l.getLine(E.line).length),to:g.Pos(T,l.getLine(T).length)}}})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,l){var E=s.getModeAt(l),C=E.blockCommentStart,T=E.blockCommentEnd;if(!(!C||!T)){for(var S=l.line,w=s.getLine(S),p,h=l.ch,u=0;;){var f=h<=0?-1:w.lastIndexOf(C,h-1);if(f==-1){if(u==1)return;u=1,h=w.length;continue}if(u==1&&f<l.ch)return;if(/comment/.test(s.getTokenTypeAt(g.Pos(S,f+1)))&&(f==0||w.slice(f-T.length,f)==T||!/comment/.test(s.getTokenTypeAt(g.Pos(S,f))))){p=f+C.length;break}h=f-1}var b=1,F=s.lastLine(),O,d;t:for(var y=S;y<=F;++y)for(var W=s.getLine(y),D=y==S?p:0;;){var z=W.indexOf(C,D),H=W.indexOf(T,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,d=D;break t}++D}if(!(O==null||S==O&&d==p))return{from:g.Pos(S,p),to:g.Pos(O,d)}}})});const nc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},rc={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...nc},sc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function ac(g,s){for(let[l,E]of Object.entries(g)){let C=document.querySelector(\`#\${l}\`);C&&(C.textContent=E[s])}}function oc(g,s){for(let[l,E]of Object.entries(g)){let C=document.querySelector(\`#\${l}\`);C&&(C.title=E[s])}}class uc{msg;start_loc;end_loc;constructor(s,l,E){this.msg=s,this.start_loc=l,this.end_loc=E}}const hu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},lc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"},un=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Di=["0","1","2","3","4","5","6","7","8","9"],hc="ـ",qs=Nu("\\\\p{L}"),cc=Nu("\\\\p{N}");function Wr(g){return g==null}function js(g){return g instanceof Array}function Gt(g,s){return g.includes(s)}function fc(g,s,l){g[s]=l}function Zs(g){return Array.isArray(g)&&g.length===0}function At(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function Nu(g){return new RegExp(g,"u")}function cu(g,s){g==null?console.log("undefined"):console.log(JSON.stringify(g))}function St(g){throw new Error(g)}function ri(g){return{...g}}function _c(g){return g.toLowerCase()}class fu{line;column;constructor(s,l){return this.line=s,this.column=l,this}}class pc{v;loc;constructor(s,l){return this.v=s,this.loc=l,this}}class dc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,l,E,C,T,S,w,p,h,u){return this.lang=s,this.code=l,this.start_loc=E,this.end_loc=C,this.tokens=T,this.errs=S,this.current_index=w,this.current=p,this.lookbehind=h,this.ignore_cmts_ws=u,this}init(s,l,E){this.lang=s,this.code=l,this.start_loc=new fu(1,1),this.end_loc=new fu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=E}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=ri(this.end_loc),this.add_token("\$eof")}add_token(s){const l=new pc(s,ri(this.start_loc));this.tokens.push(l)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const l=new uc(s,ri(this.start_loc),ri(this.end_loc));this.errs.push(l)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===hc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Wr(this.lookbehind)}expect_none_ahead(){return Wr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(qs)}expect_num(){return this.lookahead().match(cc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Wr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const l=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),l.push(ri(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(l.length>1)s+=this.next()+this.next(),l.pop();else{s+=this.next(),l.pop();break}else s+=this.next();const E=l.pop();return E&&(this.start_loc=ri(E),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let s=this.next();switch(s){case"(":switch(s=this.next(),s){case"س":s=\`
\`;break;case"ر":s="\\r";break;case"ج":s="	";break;case"‹":s="‹";break;case"›":s="›";break;case"«":s="«";break;case"»":s="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+s);break;case"٪":s="٪";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s)}return s}else return this.current}en_escape_char(){if(this.current==="%"){let s=this.next();switch(s){case"n":s=\`
\`;break;case"r":s="\\r";break;case"t":s="	";break;case"'":s="'";break;case'"':s='"';break;case"%":s="%";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s);break}return s}else return this.current}enclosed_val(s){let l="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?l+=this.ar_escape_char():l+=this.en_escape_char()}return l}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let l="",E="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",E]);break}else l+=s+s;else this.lang==="ar"?E+=this.ar_escape_char():E+=this.en_escape_char(),E+=l}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(un,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Di,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(Gt(un,this.lookahead()))s+=this.next();else if(Gt(Di,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,l=!1;for(;;){if(Gt(Di,this.lookahead()))s+=this.next();else if(Gt(un,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),l=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}l?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();hu[s]?this.add_token(["key",hu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();lc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&Gt(un,this.lookahead());)s+=this.next();return s}maghrib_float(){if(Gt(Di,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&Gt(Di,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=ri(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(un,s)?this.mashriq_num():Gt(Di,s)?this.maghrib_num():s==="_"||s.match(qs)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=ri(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Di,s)?this.maghrib_num():Gt(un,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(qs)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}class gc{fns;structs;constructor(){this.fns=[],this.structs=[]}insert_fn(s){this.fns.push(s)}insert_struct(s){this.structs.push(s)}}class ht{id;t;v;constructor(s,l,E){this.id=s,this.t=l,this.v=E}}class _u{t;o;constructor(s,l){this.t=s,this.o=l}}class vc{name;fields;children;constructor(s,l,E){this.name=s,this.fields=l,this.children=E}}class mc{fields;o;constructor(s,l){this.fields=s,this.o=l}}class bc{t;ts;o;constructor(s,l,E){this.t=s,this.ts=l,this.o=E}}class yc{name;variant;constructor(s,l){this.name=s,this.variant=l}}class pu{k;v;constructor(s,l){this.k=s,this.v=l}}class ni{opr;op;constructor(s,l){this.opr=s,this.op=l}}class Us{lopr;op;ropr;constructor(s,l,E){this.lopr=s,this.op=l,this.ropr=E}}class Ks{name;params;ret_types;body;constructor(s,l,E,C){this.name=s,this.params=l,this.ret_types=E,this.body=C}}class du{_pat;t;constructor(s,l){this._pat=s,this.t=l}}class wc{k;v;constructor(s,l){this.k=s,this.v=l}}class gu{lhs;t;rhs;constructor(s,l,E){this.lhs=s,this.t=l,this.rhs=E}}class xc{expr;arms;constructor(s,l){this.expr=s,this.arms=l}}class kc{pats;expr;constructor(s,l){this.pats=s,this.expr=l}}const Sc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Ec=[".","!","not","-","+"],Tc=["?","!","%"],Cc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Ac{tokens;current_index;skipped_new_line;current;ast;symtab;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.symtab=new gc,this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_global_const()||this.maybe_global_fn()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef(),s||St("invalid syntax: "+At(this.current))}}next(s){this.current_index+=1;const l=this.tokens[this.current_index];return this.current=l,l.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let l=this.current_index;for(;s>0;){for(l+=1;;){const E=this.tokens[l];let C;if(E&&(C=E.v[0]===\`
\`),C)l+=1;else break}s-=1}return this.tokens[l]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Wr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(js(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(js(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const l=this.maybe_pat();if(l)return s.push(l);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const l=this.maybe_pat();if(l)return s.push(l);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const l=this.maybe_id();if(!l)break;let E;this.is_colon()&&(this.next(),E=this.req_pat());const C=new wc(l,E);s.push(C)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){St("enum patterns are not supported yet");const s=this.current;this.next();const l=new yc(s,_pat);if(_pat)return new ht("enum_pat","pat",l)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,l=this.stmts();if(Zs(l))St("expecting a statement : "+At(s));else return l}stmts(){let s=[],l;for(;l=this.maybe_stmt(),l&&s.push(l),!!l;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_global_const(){let s=this.maybe_const();return s?(this.ast.push(s),!0):!1}maybe_global_fn(){let s=this.maybe_fn();return s?(this.ast.push(s),!0):!1}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),l=this.maybe_tannotation();this.req_asgmt();const E=this.req_expr(),C=new gu(s,l,E);return new ht("const","stmt",C)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),l=this.maybe_tannotation();this.req_asgmt();const E=this.req_expr(),C=new gu(s,l,E);return new ht("var","stmt",C)}req_expr(){const s=this.current,l=this.maybe_expr();if(l)return l;St("expecting expression : "+At(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const l=this.maybe_stmt();if(l)s.push(l);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,l=this.maybe_do_block();if(l)return l;St("expecting 'do' block : "+At(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const l=this.maybe_stmt();if(l)s.push(l);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Sc,this.current.v)}is_postfix_uni_op(){return Gt(Tc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else St("expecting  an index [...]: "+At(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let l=this.maybe_expr();l&&s.push(l)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,l){const E=s.v.opr,C=s.v.op;if(s.id==="prefix")if(this.prec_uni(l)>=this.prec_uni(C)){const T=new ni(E,l),S=new ht("postfix","expr",T),w=new ni(S,C),p=new ht("prefix","expr",w);return this.next(),p}else{const T=new ni(s,l),S=new ht("postfix","expr",T);return this.next(),S}}maybe_lopr_bin_postfix(s,l){if(s.id==="bin"){const E=s.v.op,C=s.v.ropr,T=s.v.lopr;if(this.prec_uni(l)>=this.prec_bin(E)){const S=new ni(C,l),w=new ht("postfix","expr",S),p=new Us(T,E,w),h=new ht("bin","expr",p);return this.next(),h}else{const S=new ni(s,l),w=new ht("postfix","expr",S);return this.next(),w}}}maybe_lopr_prefix_bin(s,l){const E=s.v.op;let C=s.v.opr;if(s.id==="prefix")if(this.prec_uni(E)>=this.prec_bin(l)){C=this.req_op(C);const T=new ni(C,E);return new ht("prefix","expr",T)}else{const T=this.req_ropr(s),S=new Us(C,l,T),w=new ht("bin","expr",S),p=new ni(w,E);return new ht("prefix","expr",p)}}get_lopr(s,l){let E=this.maybe_lopr_prefix_postfix(s,l);if(!E&&(E=this.maybe_lopr_bin_postfix(s,l),!E)){const C=new ni(s,l);E=new ht("postfix","expr",C),this.next()}return E}req_ropr(s){let l;const E=this.current;return this.is_open_bracket()?(this.next(),l=this.req_list_index()):this.is_dot()?(this.next(),l=this.req_access(s)):this.is_open_paren()?(this.next(),l=this.req_call_args()):(this.next(),l=this.maybe_expr()),l||St("expecting right operand: "+At(E)),l}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(s))}}is_bin_rassoc(s){return Gt(Cc,s)}maybe_op(s){const l=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,l);if(this.is_bin_op()){const E=this.maybe_lopr_prefix_bin(s,l);if(E)return E;let C=this.req_ropr(s);C&&(C.id==="bin"?C=this.while_op(C,this.prec_bin(C.v.op)>this.prec_bin(l)||this.prec_bin(C.v.op)===this.prec_bin(l)&&this.is_bin_rassoc(C.v.op)):C.id==="prefix"?C=this.while_op(C,this.prec_bin(l)>this.prec_uni(C.v.op)||this.is_bin_rassoc(l)):C=this.while_op(C,!1));const T=new Us(s,l,C);return new ht("bin","expr",T)}}req_op(s){const l=this.maybe_op(s);if(l)return l;St("expect an operation: "+At(this.lookahead()))}while_op(s,l){let E=ri(s);if(this.is_eof())return E;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&l!==!1;)E=this.req_op(E);return E}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const l=()=>{if(!s)return;js(s)||(s=[s]);const E=[];return s.forEach(C=>{C.id="id",C.type="pat",E.push(new ht("param","pat",new du(C)))}),E};if(this.is_thick_arrow()){const E=l();this.next(),this.req_open_curly();const C=this.req_body_ret();this.req_close_curly();const T=new Ks("",E,null,C);return new ht("afn","expr",T)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let l=null;if(l=this.maybe_expr(),l){let E=l;if(this.is_comma()){const C=[E];for(;;){const T=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||T)break;this.req_comma(),E=this.maybe_expr(),E?C.push(E):St("expected an argument: "+s)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(C)||new ht("tuple","expr",C)}else return this.req_close_paren(),this.maybe_afn(l)||(l.grouped=!0,l)}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let l=this.req_id();this.req_colon();let E=this.req_expr();s.push([l,E]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return Gt(Ec,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const l=new ni(this.req_prim(),s);return new ht("prefix","expr",l)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let l;return this.is_id()&&!this.is_newline()&&(l=this.current,this.next()),new ht("int","expr",[s,l])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let l;return this.is_id()&&!this.is_newline()&&(l=this.current,this.next()),new ht("float","expr",[s,l])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const l=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||l)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let l=!1;for(this.is_id&&this.expect_colon()&&(l=!0);;){s.length>0&&this.req_comma();let E;l&&(E=this.req_id(),this.req_colon());let C=this.req_expr();if(l?s.push([E,C]):s.push([C]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),l?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const l=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let w;this.is_id()&&this.expect_colon()&&(w=this.current,this.next(),this.next());let p;if(w?p=new ht("named_arg","expr",[w,this.req_expr()]):p=this.maybe_expr(),!p)break;S.push(p),this.optional_comma()}return this.req_close_paren(),S}},E=S=>{if(!this.is_open_curly())return;this.next();const w=[];for(;!(this.is_eof()||this.is_close_curly());){const p=this.maybe_expr();if(!p)break;w.push(p),this.optional_comma()}return this.req_close_curly(),w.push(),w},C=l(),T=E();return C||T?new ht("call","expr",[s,C,T]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const l=this.req_expr(),E=new kc(s,l);return new ht("arm","",E)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const l=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||l.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const C=this.maybe_when_arm();if(C)l.push(C);else break}this.maybe_comma(),this.req_close_curly();const E=new xc(s,l);return new ht("when","expr",E)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||St("expecting an expression: "+At(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&Gt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const l=new ht("use","stmt",s);return this.ast.push(l),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const l=this.req_type();this.req_close_bracket();const E=new _u(l,this.maybe_optional());s=new ht("[","t",E)}else if(this.is_open_curly()){this.next();const l=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){l.length>0&&this.req_comma();const C=this.maybe_id();let T;C&&this.is_colon()&&(this.next(),T=this.req_type());const S=new pu(C,T);l.push(S)}this.maybe_comma(),this.req_close_curly();const E=new mc(l,this.maybe_optional());s=new ht("{","t",E)}else if(this.is_id()){const l=this.req_id();if(this.is_open_angle()){const E=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)E.length>0&&this.req_comma(),E.push(this.req_type());this.maybe_comma(),this.req_close_angle();const C=new bc(l,E,this.maybe_optional());s=new ht("<","t",C)}else{const E=new _u(l,this.maybe_optional());s=new ht("t","t",E)}}return s}req_type(){let s=this.maybe_type();return s||St("type required: "+At(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||St("requires type annotation: "+At(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const l=this.req_pat(),E=this.maybe_tannotation(),C=new du(l,E),T=new ht("param","pat",C);l.id!=="id"&&St("only parameters with id patterns are currently supported"),s.push(T)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let l=this.next();this.is_exclamation()?(this.next(),s.push({id:l,_t:"throw"})):s.push({id:l,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();this.symtab.insert_fn(s.v[1]);const l=this.maybe_fn_params(),E=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const C=this.req_body_ret(),T=new Ks(s,l,E,C),S=new ht("fn","fn",T);return this.req_close_curly(),S}else{this.req_asgmt();const C=this.req_body_ret(),T=new Ks(s,l,E,C);return new ht("fn","fn",T)}}maybe_fields(){const s=[];for(;this.is_id();){const l=new ht("id","expr",this.req_id()),E=this.req_tannotation(),C=new pu(l,E),T=new ht("field","",C);if(s.push(T),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const p=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let h;this.is_id()&&this.expect_colon()&&(h=this.current,this.next(),this.next());let u;if(h?u=new ht("field","expr",[h,this.req_type()]):u=this.maybe_expr(),!u)break;p.push(u),this.optional_comma()}return this.req_close_paren(),p}},l=()=>{if(!this.is_open_curly())return;this.next();const p=[];for(;!(this.is_eof()||this.is_close_curly());){const h=this.maybe_expr();if(!h)break;p.push(h),this.optional_comma()}return this.req_close_curly(),p.push(),p};if(!this.is_typedef())return;this.next();const E=this.req_id();this.symtab.symtab_struct(E.v[1]);let C=s()||[];const T=l();if(!(C||T))return;if(T){const p={v:["id","__children"],loc:{line:0,column:0}},h={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[p,h]);C.push(u)}const S=new vc(E,C,T),w=new ht("type","def",S);return this.ast.push(w),!0}implicit_return(s){if(!s||s.length<=0)return;const l=s.length-1,E=s[l];if(!(Gt(["when","while","if","for","return","let","var","const"],E.id)||E.id==="bin"&&E.v.op.v===":=")&&E.id!==";"&&!(E.id==="bin"&&E.v.op.v==="=")&&!(E.id==="bin"&&E.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],E.v.lopr.v.v[1]))&&E.t==="expr"){const C=new ht("iret","expr",E);return fc(s,l,C)}}}const Ru=["readonly"],Lc=["html","body","div","span","p","textarea","field"],Oc=["0","1","2","3","4","5","6","7","8","9"];function Nc(g){return Rc(Oc,g[0])}function vu(g){if(Nc(g))return g;{let s="",l=0;for(;l<g.length;){switch(g[l]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:Oe()}l+=1}return s}}function Fu(g){return g instanceof Array}function Rc(g,s){return g.includes(s)}function Ke(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function Oe(g){throw new Error(g)}class Fc{jsGen;constructor(s){this.jsGen=s}write_html(s,l){switch(s.id){case"call":let E=s.v[0].v.v[1],C=s.v[1]||[],T=s.v[2]||[];if(E==="br")return l+="<br>";switch(E){case"select":l=write_css(C,l)+"} ";break;case"font_face":l=write_css_fontface(C,l);break;case"keyframes":l=write_css_keyframes(C,T,l);break;default:l+=\`<\${E}\`,C.forEach((S,w)=>{if(w===0&&S.id==="str")l+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const p=S.v[0].v[1];if(Ru.includes(p))l+=\` \${p} \`;else if(l+=\` \${p}= \`,S.v[1].id==="str")l+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const h=S.v[1].v[0].v[1],u=S.v[1].v[1].v[1]||"";l+=\`\${h}\${u}\`}else S.v[1].id==="bool"?l+=\`\${p}\`:Oe("not supported: "+Ke(S))}else Oe("not supported: "+Ke(S))}),l+=">",T.forEach(S=>{l=write_html(S,l)}),l+=\`</\${E}>\`}break;case"str":l+=s.v.v[1];break;default:Oe("unknown html element: "+Ke(s))}return l}write_css(s,l){return s.forEach(E=>{const C=wi(E.v[0].v[1]),T=E.v[1];C==="element"?(l=write_css_selector(T,l),l+=" {"):(l+=\`\${C} : \`,l=write_css_attr_value(T,l),l+="; ")}),l}write_css_selector(s,l){return Fu(s.v)?(l+=" ",s.v.forEach((E,C)=>{l+=\`\${E.v.v[1]} \`,C<s.v.length-1&&(l+=",")})):l+=\` \${s.v.v[1]}\`,l}write_css_attr_value(s,l){switch(s.id){case"int":case"float":const E=s.v[0].v[1],C=s.v[1]&&s.v[1].v[1]||"";l+=E+C;break;case"prefix":l+=s.v.op.v,l=write_css_attr_value(s.v.opr,l);break;case"postfix":l=write_css_attr_value(s.v.opr,l),l+=s.v.op.v;break;case"str":l+=s.v.v[1];break;case"ref":l+=wi(s.v.v[1]);break;case"tuple":s.v.forEach(h=>{l=write_css_attr_value(h,l+" ")});break;case"call":const T=s.v[0].v.v[1],S=s.v[1];l+=\` \${T}(\`,S.forEach(h=>{l=write_css_attr_value(h,l)}),l+=")";break;case"bin":const w=new JSGen;w.init(),w.write_expr(s);const p=w.get_code();pprint(p),l+="\${"+p+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(s)}\`)}return l}write_css_fontface(s,l){return l+="@font-face { ",l=write_ar_css(s,l),l+="}",l}write_css_keyframes(s,l,E){return E+=\` @keyframes \${s[0].v.v[1]} { \`,l&&l.forEach(C=>{const T=C.v[0].v.v[1],S=C.v[1];switch(T){case"at":const w=S[0],p=S[1].v||[];E=write_css_attr_value(w,E),E+=" {",p.forEach(h=>{if(h.id==="named_tuple")h.v.forEach(u=>{const f=wi(u[0].v[1]),b=u[1];E+=\` \${f} : \`,E=write_css_attr_value(b,E),E+="; "});else{const u=wi(h[0].v[1]),f=h[1];E+=\` \${u} : \`,E=write_css_attr_value(f,E),E+="; "}}),E+="} ";break;default:Oe("unsupported element: "+Ke(T))}}),E+="}",E}}const Gs={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},mu=g=>{switch(g){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return g}},bu={حوم:"hover"},Dc=g=>{switch(g){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return g}},yu=g=>{switch(g){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return g}},Xs=g=>{switch(g){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return g}},Pr=g=>{switch(g){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return g}},Mc=g=>{switch(g){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return g}};class Pc{jsGen;constructor(){this.jsGen=jsGen}write_ar_html(s,l){switch(s.id){case"call":const E=s.v[0].v.v[1],C=Gs[E]||E,T=s.v[1]||[],S=s.v[2]||[];if(C==="br")return l+="<br>";switch(C){case"اختر":l=write_ar_css(T,l)+"} ";break;case"عرف_خط":l=write_ar_css_fontface(T,l);break;case"اطارات_رئيسية":l=write_ar_css_keyframes(T,S,l);break;default:l+=\`<\${C}\`,Lc.includes(C)&&(l+=" dir='rtl'"),T.forEach((w,p)=>{if(p===0&&w.id==="str")l+=\` id='\${w.v.v[1]}'\`;else if(w.id==="named_arg"){const h=mu(w.v[0].v[1]);if(Ru.includes(h))l+=\` \${h} \`;else if(l+=\` \${h}= \`,w.v[1].id==="str")l+=\`'\${w.v[1].v.v[1]}'\`;else if(w.v[1].id==="int"||w.v[1].id==="float"){const u=vu(w.v[1].v[0].v[1]),f=w.v[1].v[1]&&yu(w.v[1].v[1].v[1])||"";l+=\`\${u}\${f}\`}else w.v[1].id==="bool"?l+=\`\${mu(h)}\`:Oe("not supported: "+Ke(w))}else Oe("not supported: "+Ke(w))}),l+=">",S.forEach(w=>{l=write_ar_html(w,l)}),l+=\`</\${C}>\`}break;case"str":l+=s.v.v[1];break;default:Oe("unknown html element: "+Ke(s))}return l}write_ar_css(s,l){return s.forEach(E=>{const C=wi(Xs(E.v[0].v[1])),T=E.v[1];C==="element"?(l=write_ar_css_selector(T,l),l+=" {"):(l+=\`\${C} : \`,l=write_ar_css_attr_value(T,l),l+="; ")}),l}write_ar_css_selector(s,l){const E=C=>{const T=S=>RegExp(\`(?<![p{L}\\\\p{N}_])\${S}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Gs).forEach(S=>{C=C.replaceAll(T(S),Gs[S])}),Object.keys(bu).forEach(S=>{C=C.replaceAll(T(S),bu[S])}),C};if(Fu(s.v))l+=" ",s.v.forEach((C,T)=>{let S=C.v.v[1];l+=E(S),T<s.v.length-1&&(l+=",")});else{const C=s.v.v[1];l+=E(C)}return l}write_ar_css_attr_value(s,l){switch(s.id){case"bool":Oe();break;case"int":case"float":const E=vu(s.v[0].v[1]),C=yu(s.v[1]&&s.v[1].v[1])||"";l+=E+C;break;case"prefix":l+=s.v.op.v,l=write_ar_css_attr_value(s.v.opr,l);break;case"postfix":l=write_ar_css_attr_value(s.v.opr,l),l+=s.v.op.v;break;case"str":l+=Mc(s.v.v[1]);break;case"ref":l+=wi(Pr(s.v.v[1]));break;case"tuple":s.v.forEach(p=>{l=write_ar_css_attr_value(p,l+" ")});break;case"call":const T=Dc(s.v[0].v.v[1]),S=s.v[1];l+=\` \${T}(\`,S.forEach(p=>{l=write_ar_css_attr_value(p,l)}),l+=")";break;case"bin":jsGen.init(),jsGen.write_expr(s);const w=jsGen.get_code();l+="\${"+w+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(s)}\`)}return l}write_ar_css_fontface(s,l){return l+="@font-face { ",l=write_ar_css(s,l),l+="}",l}write_ar_css_keyframes(s,l,E){return E+=\` @keyframes \${s[0].v.v[1]} { \`,l&&l.forEach(C=>{const T=C.v[0].v.v[1],S=Pr(C.v[1]);switch(T){case"عند":const w=S[0],p=S[1].v||[];E=write_ar_css_attr_value(w,E),E+=" {",p.forEach(h=>{if(h.id==="named_tuple")h.v.forEach(u=>{const f=wi(Xs(u[0].v[1])),b=Pr(u[1]);E+=\` \${f} : \`,E=write_ar_css_attr_value(b,E),E+="; "});else{const u=wi(Xs(h[0].v[1])),f=Pr(h[1]);E+=\` \${u} : \`,E=write_ar_css_attr_value(f,E),E+="; "}}),E+="} ";break;default:Oe("unsupported element: "+Ke(T))}}),E+="}",E}}function wi(g){return HYPHENATED.includes(g)?g.replaceAll("_","-"):g}const Wc=["0","1","2","3","4","5","6","7","8","9"];function Ic(g){return Du(Wc,g[0])}function wu(g){if(Ic(g))return g;{let s="",l=0;for(;l<g.length;){switch(g[l]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:yi()}l+=1}return s}}function Bc(g){return g instanceof Array}function Du(g,s){return g.includes(s)}function Mi(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function yi(g){throw new Error(g)}function zc(g,s){return g.repeat(s)}const Hc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,xu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},qc=4;class Br{current;indent_level;stack;astructs;ast;symtab;html_gen;main_args;opts;constructor(s,l,E,C,T,S,w,p){return this.current=s,this.indent_level=l,this.stack=E,this.astructs=C,this.ast=T,this.symtab=S,this.html_gen=w,this.opts=p,this}init(s,l,E,C,T){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.symtab=l,this.html_gen=E,this.main_args=C,this.opts=T}run(){this.strict_mode();let s,l=0;for(;l<this.ast.length;){const E=this.ast[l];if(E){const C=E.v;switch(E.id){case"use":this.write_use(C);break;case"modif":this.write_modifier(C);break;case"main":s=C;break;case"const":this.write_const(C);break;case"fn":this.write_fn(C);break;case"type":this.write_typedef(C);break;default:yi("unsupported node: "+this.ast[l].id)}}l+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!Bc(s.v)||xu[s.v[1]]&&(s.v[1]=xu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),zc(" ",s*qc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const l=s.v.v[1];this.append(l==="_"?"default":l)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let l=0;for(;l<s.v.length;)this.write_pat(s.v[l]),l<s.v.length-1&&this.append(", "),l+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:yi("unsupported pattern "+Mi(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let l=0;for(;l<s.length;)l>0&&this.append(", "),this.write_pat(s[l].v._pat),l+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let l=0;const E=s.v.length;for(;l<E;){const C=s.v[l];this.write_stmt(C),l+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,l){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),l?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",l),this.pop()}write_fields(s){const l=[];s.forEach(E=>{const C=E.v[0].v[1];l.push(C)}),l.forEach(E=>{this.appendi(this.spaces()+""+E+\`
\`)}),this.write_init(l)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let l=0;for(;l<s.length;)this.append(s[l]),l<s.length-1&&this.append(", "),l+=1;for(this.append(\`) {
\`),this.indent_level+=1,l=0;l<s.length;)this.appendi("this."+s[l]+" = "+s[l]+\`
\`),l+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):yi("cannot write stmt: "+Mi(s))}write_body(s,l,E){if(this.append(\` {
\`),this.push(),this.indent_level+=1,E)for(const[S,w]of Object.entries(E))this.append(\`const \${S} = '\${w}'
\`);let C=0;const T=s.v.length;for(;C<T;){const S=s.v[C];this.write_stmt(S),C+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const l=s.v.v[1];this.append(l)}write_str(s){const l=s.v.v[1],E=l.indexOf("\${")===-1?'"':"\`";this.append(E+l+E)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){Du(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let l=0;const E=s.v.length;for(;l<E;)this.write_expr(s.v[l]),l<s.v.length-1&&this.append(", "),l+=1;this.append("]")}write_structl(s){const l=s.v;this.append("{");let E=0;for(;E<l.length;){const C=l[E],T=C.k;T.v.v[1]?this.write_id(T.v):this.write_str_id(T.v);const S=C.v;this.append(": "),this.write_expr(S),E<l.length-1&&this.append(", "),E+=1}this.append("}")}write_args(s){this.append("(");let l=0;for(;l<s.v.length;){let E=s.v[l];E.v.op&&E.v.op.v===":"&&(E=E.v.ropr),this.write_expr(E),l<s.v.length-1&&this.append(", "),l+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const l=s.v[1];this.write_expr(l)}write_tuple(s){this.append("[");let l=0;for(;l<s.v.length;){let E=s.v[l];E.id==="narg"&&(E=s.v[l].v[1]),this.write_expr(E),l<s.v.length-1&&this.append(", "),l+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((l,E)=>{const C=l[0].v[1],T=l[1];this.append(C),this.append(": "),this.write_expr(T),E<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let l=0;for(;l<s.v.arms.length;){const E=s.v.arms[l],C=E.v.pats,T=E.v.expr;let S=0;for(;S<C.length;)C[S].id!=="_"&&this.appendi("case "),this.write_pat(C[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(T),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,l+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const l=s.v.op.v;switch(l){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else yi("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(l);break;default:yi("unsupported op: "+l);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let l=s.pop();switch(l.id){case"ref":this.write_expr(l),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const E=l.v[0],C=l.v[1];this.write_expr(E),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&C.length>0&&this.append(", "),C.forEach((T,S)=>{this.write_expr(T),S<C.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(l);break;default:throw new Error("syntax error |> :"+Mi(l))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const E=html_gen.en.write_html(s,"",Br());this.append(\` (() => \\\`\${E}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const E=html_gen.ar.write_ar_html(s,"",Br());this.append(\`(() => \\\`\${E}\\\`)()\`);return}else symtab.structs.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const l=s.v[1];l&&l.forEach((E,C)=>{this.write_expr(E),C<l.length-1&&this.append(", ")}),s.v[2]&&(l&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(l=>{this.write_expr(l),this.append(",")}),this.append("]"))}write_bin(s){const l=s.v.op.v;switch(l){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let E=[],C=s.v.lopr,T=s.v.ropr;for(;;)if(E.push(C),T.id==="bin"&&T.v.op.v==="|>")C=T.v.lopr,T=T.v.ropr;else{E.push(T);break}this.write_pipe(E);break}case"||>":throw new Error(" ||> : WIP , "+Mi(s));case":>":throw new Error(" :> : WIP , "+Mi(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(l),(l==="=="||l==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:yi("cannot write binary operation: "+Mi(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:yi("cannot write expr: "+Mi(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Hc)}get_code(){return this.current}}class jc{run(s,l,E,C){const T={en:Fc(),ar:Pc()},S=Br();return S.init(s,l,T,E,C),S.run()}}class Uc{ast;symtab;main_args;target;target_opts;init(s,l,E,C,T){this.ast=s,this.symtab=l,this.main_args=E,this.target=C,this.target_opts=T}run(){let s;switch(_c(this.target)){case"js":s=new jc;break;default:St('target "'+this.target+'" is not supported');break}return s.run(this.ast,this.symtab,this.main_args,this.target_opts)}}class Kc{src;main_args;target;target_opts;lang;tokens;ast;symtab;gen_code;constructor(s,l,E,C,T,S,w,p,h,u){return this.src=s,this.main_args=l,this.target=E,this.target_opts=C,this.lang=T,this.tokens=S,this.ast=w,this.symtab=p,this.transltab=h,this.gen_code=u,this}init(s,l,E,C){this.src=s,this.main_args=l,this.target="js",this.target_opts=C||{},this.lang=E||"en"}init_ar(s,l,E){this.init(s,l,"ar",E)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const l=new dc;l.init(this.lang,this.src,s),l.run(),this.tokens=l.tokens,Zs(l.errs)||(cu(l.errs),St(""))}parse(){const s=new Ac;s.init(this.tokens),s.run(),this.ast=s.ast,this.symtab=s.symtab,Zs(s.errs)||(cu(s.errs),St(""))}generate(s){const l=new Uc;l.init(this.ast,this.symtab,this.main_args,s,this.target_opts),this.gen_code=l.run()}}const ku="panda-syntax",Gc="ttcn_modified",Xc=["mode","lang","theme","statusbar"],\$c={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},Yc={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,Su=zr.mode||"code";let ln;switch(Su){case"code":ln=\$c;break;case"editor":ln=Yc;break;default:throw new Error("invalid mode! : "+Su)}let Qc=new URLSearchParams(window.location.search).get("lang"),Js=Qc||zr.lang;Object.keys(zr).forEach(g=>{if(!Xc.includes(g))throw new Error("invalid option: "+g);ln[g]=zr[g]});window.console.log=g=>\$n(g);window.console.error=g=>{ef(),\$n(g.message,Eu)};const Eu="rgb(217 83 77)",Zc="rgb(108 141 211)",Jc={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},Vc={"Ctrl-9":g=>g.foldCode(g.getCursor()),Tab:()=>ff(),"Shift-Tab":()=>_f(),"Ctrl-'":()=>{cf("«»")},"Ctrl-0":()=>{la()},"Ctrl-=":()=>{Bu()},"Ctrl--":()=>{zu()}},Mu=["findCtrl"],Tu=document.querySelector("#eval"),Pu=document.querySelector("#preview_area"),tf=new MutationObserver((g,s)=>{Vs?Vs=!1:mf()});tf.observe(Pu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Js),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ha(Hr(Js)),extraKeys:{...Vc},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Mu}),Pi=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ha("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Mu});Pi.setSize(460);let Ir={},Wu,sa,hn,si,\$s,Vs;function ef(){return!!navigator.userAgentData}function Hr(g){return g==="ar"?"rtl":"ltr"}const Cu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await nf(Js);await Sf();async function nf(g){Wu=g==="ar_m",sa=g.startsWith("ar");let s=g.startsWith("ar")?"ar":"en";hn=14,si=s,\$s="",Vs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await of(s),document.querySelector("#left_side_label").innerText=si==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=si==="ar"?"العرض الأولي":"Preview",oa(hn),uf(s),hf(s),ac(rc,s),oc(sc,s),gf(s),Yt.setValue(s==="ar"?Cu.ar:Cu.en),Yt.clearHistory(),lf(s),Iu(1,1),\$s&&openProj(\$s),await aa(ln.theme),rf()&&af(),ln.statusbar||sf(),document.querySelector("body").style.visibility="visible"}function rf(){return ln.mode==="code"}function sf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function af(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function of(g){si=g}async function uf(g,s){g==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function lf(g){g==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function hf(g){let s=Hr(g);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function Iu(g,s){document.querySelector("#status_bar").textContent=si==="ar"?\`سطر \${Ys(g)}, عمودي \${Ys(s)}\`:\`Ln \${g}, Col \${s}\`}function cf(g){let s=g;if(sa){const l=Yt.doc.getCursor(),E=l.line;Yt.doc.replaceRange(s,l),Yt.doc.setCursor(E,l.ch+s.length)}else return CodeMirror.Pass}function ff(){if(Yt.somethingSelected()){var g=Yt.getSelection(\`
\`);if(g.length>0&&(g.indexOf(\`
\`)>-1||g.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function _f(){Yt.indentSelection("subtract")}function Bu(){hn++,oa(hn)}function zu(){hn--,oa(hn)}async function pf(){let g=document.querySelector("#theme"),s=g.options[g.selectedIndex].value;await aa(s)}async function aa(g){g==="dark"?(g=ku,document.querySelector("#theme").value=ku):g==="light"&&(g=Gc,document.querySelector("#theme").value="ttcn");const s=(E,C)=>{[...E.classList].forEach(T=>{T.startsWith("cm-s")&&E.classList.remove(T)}),C.split(" ").forEach(T=>{E.classList.add(\`cm-s-\${T}\`)})};Yt.setOption("theme",g),Pi.setOption("theme",g),s(document.querySelector("#wrapper"),g),s(document.querySelector("#editor_output"),g),s(document.querySelector("#output"),g),df();const l=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${l}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function df(){const g=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));g.style.fontSize=s.getPropertyValue("font-size"),g.style.color=s.getPropertyValue("color"),g.style.backgroundColor=s.getPropertyValue("background-color")}function oa(g){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(l=>{l.style.fontSize=\`\${g}px\`})}function gf(g){const s=g==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function vf(){document.querySelector("#right_side").style.display="flex"}function ua(){document.querySelector("#right_side").style.display="none"}function mf(){document.querySelector("#preview").style.display="flex"}function jr(){document.querySelector("#preview").style.display="none"}function Hu(){output.replaceChildren()}function bf(g){Tu.replaceChildren();const s=document.createElement("iframe");Tu.appendChild(s),s.contentWindow;const l=s.contentDocument||s.contentWindow.document,E=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${g}<\\/script>
      </head>
      <body>
      </body>\`;l.open(),l.write(E),l.close()}async function la(){ua(),jr(),Hu();try{let g=await qu();bf(g.get_code());const s=si==="ar"?"انتهى":"End";\$n(\`
\`),\$n(\`--- \${s} ---
\`,Zc)}catch(g){console.error(g)}}async function yf(){ua(),Pi.setValue("")}async function wf(){jr(),Pu.replaceChildren()}async function xf(){jr(),vf(),await qu()}async function qu(){let g=Yt.getValue(),s=new Kc,l={ignore_export:!0};const E={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(g,E,si,l),s.compile(),document.querySelector("#right_side_label").innerText=si==="ar"?"نص البرنامج":"Code";let C=js_beautify(s.gen_code,Jc);return Pi.setOption("mode","javascript"),Pi.setOption("direction","ltr"),Pi.setOption("lineNumberFormatter",ha("ltr")),Pi.setValue(C),s}async function kf(){document.querySelector("#output").innerHTML=""}async function Sf(){document.querySelector("body").addEventListener("keydown",g=>Ef(g)),document.querySelector("body").addEventListener("keyup",g=>{Ir[g.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>pf()),document.querySelector("#run").addEventListener("click",()=>la()),document.querySelector("#srccode").addEventListener("click",()=>xf()),document.querySelector("#right_side_close").addEventListener("click",()=>yf()),document.querySelector("#preview_close").addEventListener("click",()=>wf()),document.querySelector("#clear").addEventListener("click",()=>kf()),Yt.on("cursorActivity",g=>{let{line:s,ch:l}=Yt.getCursor();s+=1,l+=1,Iu(s,l)})}function ha(g){return g==="rtl"?s=>Ys(s):s=>s}function Ef(g){Ir[g.key]=!0;let s="";switch(Object.entries(Ir).forEach(([l,E])=>{Ir[l]&&(s+=l)}),s.toLowerCase()){case"0control":case"control0":la();break;case"-control":case"control-":Bu();break;case"=control":case"control=":zu();break}}function Tf(g){var s=document.querySelector("#output");s.appendChild(g),s.scrollTop=s.scrollHeight}function \$n(g,s){g===""&&console.log(\`
\`),sa&&(g&&(g=Cf(g)),Wu||g&&(g=Af(g)));const l=document.createElement("p");l.textContent=g,l.setAttribute("dir",Hr(si)),l.style.whiteSpace="pre-wrap",s&&(l.style.color=s),Tf(l)}function Cf(g){const s=/["'](.*?)["']/gi;return g.toString().replace(s,(l,E)=>l?\`«\${E}»\`:g)}function Af(g){function s(E){let C="",T=0;for(;T<E.length;){switch(E[T]){case"0":C+="٠";break;case"1":C+="١";break;case"2":C+="٢";break;case"3":C+="٣";break;case"4":C+="٤";break;case"5":C+="٥";break;case"6":C+="٦";break;case"7":C+="٧";break;case"8":C+="٨";break;case"9":C+="٩";break;case".":C+="٫";break;default:Lf()}T+=1}return C}const l=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return g=g.replace(l,(E,C,T,S)=>{if(E){let w=\`\${s(C)}\`;return T&&(w+=",",S&&(w+=\`\${s(S)}\`)),w}else return g}),g}function Lf(g){throw new Error(g)}function Of(g){Yt.setValue(g)}window.setEditorValue=Of;window.hideRightSide=ua;window.hidePreview=jr;window.resetOutput=Hu;window.setTheme=aa;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }

              export function SeenCode(id, parent, opts) { 
                opts.mode = 'code'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(g,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(g=g||self,g.CodeMirror=s())})(void 0,function(){var g=navigator.userAgent,s=navigator.platform,l=/gecko\\/\\d/i.test(g),E=/MSIE \\d/.test(g),C=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(g),T=/Edge\\/(\\d+)/.exec(g),S=E||C||T,w=S&&(E?document.documentMode||6:+(T||C)[1]),p=!T&&/WebKit\\//.test(g),h=p&&/Qt\\/\\d+\\.\\d+/.test(g),u=!T&&/Chrome\\/(\\d+)/.exec(g),f=u&&+u[1],b=/Opera\\//.test(g),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(g),d=/PhantomJS/.test(g),y=F&&(/Mobile\\/\\w+/.test(g)||navigator.maxTouchPoints>2),W=/Android/.test(g),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(g),z=y||/Mac/.test(s),H=/\\bCrOS\\b/.test(g),U=/win/i.test(s),Z=b&&g.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,p=!0);var ot=z&&(h||b&&(Z==null||Z<12.11)),rt=l||S&&w>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var n=t.className,i=I(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,n,i){var r=L(t,e,n,i);return r.setAttribute("role","presentation"),r}var nt;document.createRange?nt=function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:nt=function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch{return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(t,e){var n=t.className;I(e).test(n)||(t.className+=(n?" ":"")+e)}function \$(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!I(n[i]).test(e)&&(e+=" "+n[i]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,n){e||(e={});for(var i in t)t.hasOwnProperty(i)&&(n!==!1||!e.hasOwnProperty(i))&&(e[i]=t[i]);return e}function at(t,e,n,i,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=i||0,o=r||0;;){var c=t.indexOf("	",a);if(c<0||c>=e)return o+(e-a);o+=c-a,o+=n-o%n,a=c+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};function vt(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}var ee=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function xe(t,e,n){for(var i=0,r=0;;){var a=t.indexOf("	",i);a==-1&&(a=t.length);var o=a-i;if(a==t.length||r+o>=e)return i+Math.min(o,e-r);if(r+=a-i,r+=n-r%n,i=a+1,r>=e)return i}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(mt(ce)+" ");return ce[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function ai(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)}function cn(){}function Yn(t,e){var n;return Object.create?n=Object.create(t):(cn.prototype=t,n=new cn),e&&ft(e,n),n}var Ur=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function fn(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ur.test(t))}function Wi(t,e){return e?e.source.indexOf("\\\\w")>-1&&fn(t)?!0:e.test(t):fn(t)}function Qn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Ii=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function _n(t){return t.charCodeAt(0)>=768&&Ii.test(t)}function Pe(t,e,n){for(;(n<0?e>0:e<t.length)&&_n(t.charAt(e));)e+=n;return e}function Bt(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,a=i<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:n;t(a)?n=a:e=a+i}}function xi(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<n&&o.to>e||e==n&&o.to==e)&&(i(Math.max(o.from,e),Math.min(o.to,n),o.level==1?"rtl":"ltr",a),r=!0)}r||i(e,n,"ltr")}var We=null;function Te(t,e,n){var i;We=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&n=="before"?i=r:We=r),a.from==e&&(a.from!=a.to&&n!="before"?i=r:We=r)}return i??We}var Kr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var i=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,c=/[1n]/;function _(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!i.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(n(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Ut=0,ge=M;Ut<j;++Ut){var ie=q[Ut];ge=="L"&&ie=="1"?q[Ut]="L":a.test(ie)&&(ge=ie)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",ve=(Kt<j?q[Kt]:M)=="L",an=qt==ve?qt?"L":"R":M,bi=\$t;bi<Kt;++bi)q[bi]=an;\$t=Kt-1}for(var ae=[],Ue,te=0;te<j;)if(o.test(q[te])){var Bs=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new _(0,Bs,te))}else{var ii=te,Ri=ae.length,Fi=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=ii;he<te;)if(c.test(q[he])){ii<he&&(ae.splice(Ri,0,new _(1,ii,he)),Ri+=Fi);var on=he;for(++he;he<te&&c.test(q[he]);++he);ae.splice(Ri,0,new _(2,on,he)),Ri+=Fi,ii=he}else++he;ii<te&&ae.splice(Ri,0,new _(1,ii,te))}return N=="ltr"&&(ae[0].level==1&&(Ue=m.match(/^\\s+/))&&(ae[0].from=Ue[0].length,ae.unshift(new _(0,0,Ue[0].length))),mt(ae).level==1&&(Ue=m.match(/\\s+\$/))&&(mt(ae).to-=Ue[0].length,ae.push(new _(0,j-Ue[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var n=t.order;return n==null&&(n=t.order=Kr(t.text,e)),n}var Zn=[],it=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||Zn).concat(n)}};function pn(t,e){return t._handlers&&t._handlers[e]||Zn}function ne(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var a=vt(r,n);a>-1&&(i[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Mt(t,e){var n=pn(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function zt(t,e,n){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,n||e.type,t,e),dn(e)||e.codemirrorIgnore}function Jn(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)vt(n,e[i])==-1&&n.push(e[i])}function oe(t,e){return pn(t,e).length>0}function ue(t){t.prototype.on=function(e,n){it(this,e,n)},t.prototype.off=function(e,n){ne(this,e,n)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function ki(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function dn(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){re(t),ki(t)}function fe(t){return t.target||t.srcElement}function gn(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var Gr=function(){if(S&&w<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Ae;function Xr(t){if(Ae==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Ae=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&w<8))}var n=Ae?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var Bi;function Vn(t){if(Bi!=null)return Bi;var e=K(t,document.createTextNode("AخA")),n=nt(e,0,1).getBoundingClientRect(),i=nt(e,1,2).getBoundingClientRect();return k(t),!n||n.left==n.right?!1:Bi=i.right-n.right<3}var vn=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(n.push(a.slice(0,o)),e+=o+1):(n.push(a),e=r+1)}return n}:function(t){return t.split(/\\r\\n?|\\n/)},oi=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Ie=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Be=null;function tr(t){if(Be!=null)return Be;var e=K(t,L("span","x")),n=e.getBoundingClientRect(),i=nt(e,0,1).getBoundingClientRect();return Be=Math.abs(n.left-i.left)>1}var Ne={},ui={};function er(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ne[t]=e}function zi(t,e){ui[t]=e}function me(t){if(typeof t=="string"&&ui.hasOwnProperty(t))t=ui[t];else if(t&&typeof t.name=="string"&&ui.hasOwnProperty(t.name)){var e=ui[t.name];typeof e=="string"&&(e={name:e}),t=Yn(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=me(e);var n=Ne[e.name];if(!n)return \$e(t,"text/plain");var i=n(t,e);if(li.hasOwnProperty(e.name)){var r=li[e.name];for(var a in r)r.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=r[a])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)i[o]=e.modeProps[o];return i}var li={};function ir(t,e){var n=li.hasOwnProperty(t)?li[t]:li[t]={};ft(e,n)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function hi(t,e){for(var n;t.innerMode&&(n=t.innerMode(e),!(!n||n.mode==t));)e=n.state,t=n.mode;return n||{mode:t,state:e}}function mn(t,e,n){return t.startState?t.startState(e,n):!0}var Ht=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),n;if(typeof t=="string"?n=e==t:n=e&&(t.test?t.test(e):t(e)),n)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,n){if(typeof t=="string"){var i=function(o){return n?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(i(r)==i(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],a=r.chunkSize();if(e<a){n=r;break}e-=a}return n.lines[e]}function Qe(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(a){var o=a.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function Hi(t,e,n){var i=[];return t.iter(e,n,function(r){i.push(r.text)}),i}function Le(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,n=vt(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function ze(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],a=r.height;if(e<a){t=r;continue t}e-=a,n+=r.chunkSize()}return n}while(!t.lines);for(var o=0;o<t.lines.length;++o){var c=t.lines[o],_=c.height;if(e<_)break;e-=_}return n+o}function x(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,n){if(n===void 0&&(n=null),!(this instanceof B))return new B(t,e,n);this.line=t,this.ch=e,this.sticky=n}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function ke(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var n=t.first+t.size-1;return e.line>n?B(n,ct(t,n).text.length):ju(e,ct(t,e.line).text.length)}function ju(t,e){var n=t.ch;return n==null||n>e?B(t.line,e):n<0?B(t.line,0):t}function ca(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=yt(t,e[i]);return n}var nr=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,n){return e instanceof nr?new He(t,Ye(t.mode,e.state),n,e.lookAhead):new He(t,Ye(t.mode,e),n)},He.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new nr(e,this.maxLookAhead):e};function fa(t,e,n,i){var r=[t.state.modeGen],a={};ma(t,e.text,t.doc.mode,n,function(m,N){return r.push(m,N)},a,i);for(var o=n.state,c=function(m){n.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;n.state=!0,ma(t,e.text,N.mode,n,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),n.state=o,n.baseTokens=null,n.baseTokenPos=1},_=0;_<t.state.overlays.length;++_)c(_);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function _a(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=bn(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,i.state),a=fa(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function bn(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new He(i,!0,e);var a=Uu(t,e,n),o=a>i.first&&ct(i,a-1).stateAfter,c=o?He.fromSaved(i,o,a):new He(i,mn(i.mode),a);return i.iter(a,e,function(_){\$r(t,_.text,c);var m=c.line;_.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?c.save():null,c.nextLine()}),n&&(i.modeFrontier=c.line),c}function \$r(t,e,n,i){var r=t.doc.mode,a=new Ht(e,t.options.tabSize,n);for(a.start=a.pos=i||0,e==""&&pa(r,n.state);!a.eol();)Yr(r,a,n.state),a.start=a.pos}function pa(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=hi(t,e);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function Yr(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=hi(t,n).mode);var a=t.token(e,n);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var da=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ga(t,e,n,i){var r=t.doc,a=r.mode,o;e=yt(r,e);var c=ct(r,e.line),_=bn(t,e.line,n),m=new Ht(c.text,t.options.tabSize,_),N;for(i&&(N=[]);(i||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=Yr(a,m,_.state),i&&N.push(new da(m,o,Ye(r.mode,_.state)));return i?N:new da(m,o,_.state)}function va(t,e){if(t)for(;;){var n=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";e[i]==null?e[i]=n[2]:new RegExp("(?:^|\\\\s)"+n[2]+"(?:\$|\\\\s)").test(e[i])||(e[i]+=" "+n[2])}return t}function ma(t,e,n,i,r,a,o){var c=n.flattenSpans;c==null&&(c=t.options.flattenSpans);var _=0,m=null,N=new Ht(e,t.options.tabSize,i),M,j=t.options.addModeClass&&[null];for(e==""&&va(pa(n,i.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(c=!1,o&&\$r(t,e,i,N.pos),N.pos=e.length,M=null):M=va(Yr(n,N,i.state,j),a),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!c||m!=M){for(;_<N.start;)_=Math.min(N.start,_+5e3),r(_,m);m=M}N.start=N.pos}for(;_<N.pos;){var X=Math.min(N.pos,_+5e3);r(X,m),_=X}}function Uu(t,e,n){for(var i,r,a=t.doc,o=n?-1:e-(t.doc.mode.innerMode?1e3:100),c=e;c>o;--c){if(c<=a.first)return a.first;var _=ct(a,c-1),m=_.stateAfter;if(m&&(!n||c+(m instanceof nr?m.lookAhead:0)<=a.modeFrontier))return c;var N=at(_.text,null,t.options.tabSize);(r==null||i>N)&&(r=c-1,i=N)}return r}function Ku(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=ct(t,i).stateAfter;if(r&&(!(r instanceof nr)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}var ba=!1,Ze=!1;function Gu(){ba=!0}function Xu(){Ze=!0}function rr(t,e,n){this.marker=t,this.from=e,this.to=n}function yn(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function \$u(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Yu(t,e,n){var i=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));i&&t.markedSpans&&i.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],i&&i.add(t.markedSpans)),e.marker.attachLine(t)}function Qu(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,c=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(c||a.from==e&&o.type=="bookmark"&&(!n||!a.marker.insertLeft)){var _=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(i||(i=[])).push(new rr(o,a.from,_?null:a.to))}}return i}function Zu(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,c=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(c||a.from==e&&o.type=="bookmark"&&(!n||a.marker.insertLeft)){var _=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(i||(i=[])).push(new rr(o,_?null:a.from-e,a.to==null?null:a.to-e))}}return i}function Qr(t,e){if(e.full)return null;var n=x(t,e.from.line)&&ct(t,e.from.line).markedSpans,i=x(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,c=Qu(n,r,o),_=Zu(i,a,o),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(c)for(var M=0;M<c.length;++M){var j=c[M];if(j.to==null){var q=yn(_,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(_)for(var X=0;X<_.length;++X){var Y=_[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=yn(c,Y.marker);V||(Y.from=N,m&&(c||(c=[])).push(Y))}else Y.from+=N,m&&(c||(c=[])).push(Y)}c&&(c=ya(c)),_&&_!=c&&(_=ya(_));var tt=[c];if(!m){var st=e.text.length-2,et;if(st>0&&c)for(var ut=0;ut<c.length;++ut)c[ut].to==null&&(et||(et=[])).push(new rr(c[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(_)}return tt}function ya(t){for(var e=0;e<t.length;++e){var n=t[e];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Ju(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!i||vt(i,Y)==-1)&&(i||(i=[])).push(Y)}}),!i)return null;for(var r=[{from:e,to:n}],a=0;a<i.length;++a)for(var o=i[a],c=o.find(0),_=0;_<r.length;++_){var m=r[_];if(!(G(m.to,c.from)<0||G(m.from,c.to)>0)){var N=[_,1],M=G(m.from,c.from),j=G(m.to,c.to);(M<0||!o.inclusiveLeft&&!M)&&N.push({from:m.from,to:c.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:c.to,to:m.to}),r.splice.apply(r,N),_+=N.length-3}}return r}function wa(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function xa(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function sr(t){return t.inclusiveLeft?-1:0}function ar(t){return t.inclusiveRight?1:0}function Zr(t,e){var n=t.lines.length-e.lines.length;if(n!=0)return n;var i=t.find(),r=e.find(),a=G(i.from,r.from)||sr(t)-sr(e);if(a)return-a;var o=G(i.to,r.to)||ar(t)-ar(e);return o||e.id-t.id}function ka(t,e){var n=Ze&&t.markedSpans,i;if(n)for(var r=void 0,a=0;a<n.length;++a)r=n[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!i||Zr(i,r.marker)<0)&&(i=r.marker);return i}function Sa(t){return ka(t,!0)}function or(t){return ka(t,!1)}function Vu(t,e){var n=Ze&&t.markedSpans,i;if(n)for(var r=0;r<n.length;++r){var a=n[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!i||Zr(i,a.marker)<0)&&(i=a.marker)}return i}function Ea(t,e,n,i,r){var a=ct(t,e),o=Ze&&a.markedSpans;if(o)for(var c=0;c<o.length;++c){var _=o[c];if(_.marker.collapsed){var m=_.marker.find(0),N=G(m.from,n)||sr(_.marker)-sr(r),M=G(m.to,i)||ar(_.marker)-ar(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,n)>=0:G(m.to,n)>0)||N>=0&&(_.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,i)<=0:G(m.from,i)<0)))return!0}}}function Re(t){for(var e;e=Sa(t);)t=e.find(-1,!0).line;return t}function tl(t){for(var e;e=or(t);)t=e.find(1,!0).line;return t}function el(t){for(var e,n;e=or(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function Jr(t,e){var n=ct(t,e),i=Re(n);return n==i?e:Lt(i)}function Ta(t,e){if(e>t.lastLine())return e;var n=ct(t,e),i;if(!ci(t,n))return e;for(;i=or(n);)n=i.find(1,!0).line;return Lt(n)+1}function ci(t,e){var n=Ze&&e.markedSpans;if(n){for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],!!i.marker.collapsed){if(i.from==null)return!0;if(!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&Vr(t,e,i))return!0}}}function Vr(t,e,n){if(n.to==null){var i=n.marker.find(1,!0);return Vr(t,i.line,yn(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(r.to==null||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vr(t,e,r))return!0}function Je(t){t=Re(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var a=n.parent;a;n=a,a=n.parent)for(var o=0;o<a.children.length;++o){var c=a.children[o];if(c==n)break;e+=c.height}return e}function ur(t){if(t.height==0)return 0;for(var e=t.text.length,n,i=t;n=Sa(i);){var r=n.find(0,!0);i=r.from.line,e+=r.from.ch-r.to.ch}for(i=t;n=or(i);){var a=n.find(0,!0);e-=i.text.length-a.from.ch,i=a.to.line,e+=i.text.length-a.to.ch}return e}function ts(t){var e=t.display,n=t.doc;e.maxLine=ct(n,n.first),e.maxLineLength=ur(e.maxLine),e.maxLineChanged=!0,n.iter(function(i){var r=ur(i);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=i)})}var qi=function(t,e,n){this.text=t,xa(this,e),this.height=n?n(this):1};qi.prototype.lineNo=function(){return Lt(this)},ue(qi);function il(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),wa(t),xa(t,n);var r=i?i(t):1;r!=t.height&&Le(t,r)}function nl(t){t.parent=null,wa(t)}var rl={},sl={};function Ca(t,e){if(!t||/^\\s*\$/.test(t))return null;var n=e.addModeClass?sl:rl;return n[t]||(n[t]=t.replace(/\\S+/g,"cm-\$&"))}function Aa(t,e){var n=Q("span",null,null,p?"padding-right: .1px":null),i={pre:Q("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;i.pos=0,i.addToken=ol,Vn(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(i.addToken=ll(i.addToken,o)),i.map=[];var c=e!=t.display.externalMeasured&&Lt(a);hl(a,i,_a(t,a,c)),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=\$(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=\$(a.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(Xr(t.display.measure))),r==0?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(p){var _=i.content.lastChild;(/\\bcm-tab\\b/.test(_.className)||_.querySelector&&_.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=\$(i.pre.className,i.textClass||"")),i}function al(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ol(t,e,n,i,r,a,o){if(e){var c=t.splitSpaces?ul(e,t.trailingSpace):e,_=t.cm.state.specialChars,m=!1,N;if(!_.test(e))t.col+=e.length,N=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,N),S&&w<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){_.lastIndex=M;var j=_.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(c.slice(M,M+q));S&&w<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&w<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=c.charCodeAt(e.length-1)==32,n||i||r||m||a||o){var st=n||"";i&&(st+=i),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function ul(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&n&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),i+=a,n=a==" "}return i}function ll(t,e){return function(n,i,r,a,o,c,_){r=r?r+" cm-force-border":"cm-force-border";for(var m=n.pos,N=m+i.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(n,i,r,a,o,c,_);t(n,i.slice(0,M.to-m),r,a,null,c,_),a=null,i=i.slice(M.to-m),m=M.to}}}function La(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function hl(t,e,n){var i=t.markedSpans,r=t.text,a=0;if(!i){for(var o=1;o<n.length;o+=2)e.addToken(e,r.slice(a,a=n[o]),Ca(n[o+1],e.cm.options));return}for(var c=r.length,_=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==_){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<i.length;++gt){var pt=i[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==_&&xt.widgetNode)et.push(xt);else if(pt.from<=_&&(pt.to==null||pt.to>_||xt.collapsed&&pt.to==_&&pt.from==_)){if(pt.to!=null&&pt.to!=_&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==_&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Zr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>_&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==_)for(var Wt=0;Wt<et.length;++Wt)La(e,0,et[Wt]);if(tt&&(tt.from||0)==_){if(La(e,(tt.to==null?c+1:tt.to)-_,tt.marker,tt.from==null),tt.to==null)return;tt.to==_&&(tt=!1)}}if(_>=c)break;for(var ye=Math.min(c,q);;){if(N){var de=_+N.length;if(!tt){var Ut=de>ye?N.slice(0,ye-_):N;e.addToken(e,Ut,M?M+X:X,V,_+Ut.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-_),_=ye;break}_=de,V=""}N=r.slice(a,a=n[m++]),M=Ca(n[m++],e.cm.options)}}}function Oa(t,e,n){this.line=e,this.rest=el(e),this.size=this.rest?Lt(mt(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ci(t,e)}function lr(t,e,n){for(var i=[],r,a=e;a<n;a=r){var o=new Oa(t.doc,ct(t.doc,a),a);r=a+o.size,i.push(o)}return i}var ji=null;function cl(t){ji?ji.ops.push(t):t.ownsGroup=ji={ops:[t],delayedCallbacks:[]}}function fl(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function _l(t,e){var n=t.ownsGroup;if(n)try{fl(n)}finally{ji=null,e(n)}}var wn=null;function Qt(t,e){var n=pn(t,e);if(n.length){var i=Array.prototype.slice.call(arguments,2),r;ji?r=ji.delayedCallbacks:wn?r=wn:(r=wn=[],setTimeout(pl,0));for(var a=function(c){r.push(function(){return n[c].apply(null,i)})},o=0;o<n.length;++o)a(o)}}function pl(){var t=wn;wn=null;for(var e=0;e<t.length;++e)t[e]()}function Na(t,e,n,i){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?gl(t,e):a=="gutter"?Fa(t,e,n,i):a=="class"?es(t,e):a=="widget"&&vl(t,e,i)}e.changes=null}function xn(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&w<8&&(t.node.style.zIndex=2)),t.node}function dl(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=xn(e);e.background=i.insertBefore(L("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}function Ra(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Aa(t,e)}function gl(t,e){var n=e.text.className,i=Ra(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,es(t,e)):n&&(e.text.className=n)}function es(t,e){dl(t,e),e.line.wrapClass?xn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Fa(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=xn(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=xn(e),c=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(c.setAttribute("aria-hidden","true"),t.display.input.setUneditable(c),o.insertBefore(c,e.text),e.line.gutterClass&&(c.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=c.appendChild(L("div",P(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var _=0;_<t.display.gutterSpecs.length;++_){var m=t.display.gutterSpecs[_].className,N=a.hasOwnProperty(m)&&a[m];N&&c.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+i.gutterLeft[m]+"px; width: "+i.gutterWidth[m]+"px"))}}}function vl(t,e,n){e.alignable&&(e.alignable=null);for(var i=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,i.test(r.className)&&e.node.removeChild(r);Da(t,e,n)}function ml(t,e,n,i){var r=Ra(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),es(t,e),Fa(t,e,n,i),Da(t,e,i),e.node}function Da(t,e,n){if(Ma(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)Ma(t,e.rest[i],e,n,!1)}function Ma(t,e,n,i,r){if(e.widgets)for(var a=xn(n),o=0,c=e.widgets;o<c.length;++o){var _=c[o],m=L("div",[_.node],"CodeMirror-linewidget"+(_.className?" "+_.className:""));_.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),bl(_,m,n,i),t.display.input.setUneditable(m),r&&_.above?a.insertBefore(m,n.gutter||n.text):a.appendChild(m),Qt(_,"redraw")}}function bl(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function kn(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var n=fe(e);n!=t.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==t.sizer&&n!=t.mover)return!0}function hr(t){return t.lineSpace.offsetTop}function is(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Pa(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(i.left)&&!isNaN(i.right)&&(t.cachedPaddingH=i),i}function qe(t){return ee-t.display.nativeBarWidth}function Si(t){return t.display.scroller.clientWidth-qe(t)-t.display.barWidth}function ns(t){return t.display.scroller.clientHeight-qe(t)-t.display.barHeight}function yl(t,e,n){var i=t.options.lineWrapping,r=i&&Si(t);if(!e.measure.heights||i&&e.measure.width!=r){var a=e.measure.heights=[];if(i){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),c=0;c<o.length-1;c++){var _=o[c],m=o[c+1];Math.abs(_.bottom-m.bottom)>2&&a.push((_.bottom+m.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Wa(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function wl(t,e){e=Re(e);var n=Lt(e),i=t.display.externalMeasured=new Oa(t.doc,e,n);i.lineN=n;var r=i.built=Aa(t,i);return i.text=r.pre,K(t.display.lineMeasure,r.pre),i}function Ia(t,e,n,i){return je(t,Ui(t,e),n,i)}function rs(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ci(t,e)];var n=t.display.externalMeasured;if(n&&e>=n.lineN&&e<n.lineN+n.size)return n}function Ui(t,e){var n=Lt(e),i=rs(t,n);i&&!i.text?i=null:i&&i.changes&&(Na(t,i,n,ls(t)),t.curOp.forceUpdate=!0),i||(i=wl(t,e));var r=Wa(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function je(t,e,n,i,r){e.before&&(n=-1);var a=n+(i||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(yl(t,e.view,e.rect),e.hasHeights=!0),o=kl(t,e,n,i),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ba={left:0,right:0,top:0,bottom:0};function za(t,e,n){for(var i,r,a,o,c,_,m=0;m<t.length;m+=3)if(c=t[m],_=t[m+1],e<c?(r=0,a=1,o="left"):e<_?(r=e-c,a=r+1):(m==t.length-3||e==_&&t[m+3]>e)&&(a=_-c,r=a-1,e>=_&&(o="right")),r!=null){if(i=t[m+2],c==_&&n==(i.insertLeft?"left":"right")&&(o=n),n=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)i=t[(m-=3)+2],o="left";if(n=="right"&&r==_-c)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)i=t[(m+=3)+2],o="right";break}return{node:i,start:r,end:a,collapse:o,coverStart:c,coverEnd:_}}function xl(t,e){var n=Ba;if(e=="left")for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function kl(t,e,n,i){var r=za(e.map,n,i),a=r.node,o=r.start,c=r.end,_=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&_n(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+c<r.coverEnd&&_n(e.line.text.charAt(r.coverStart+c));)++c;if(S&&w<9&&o==0&&c==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=xl(nt(a,o,c).getClientRects(),i),m.left||m.right||o==0)break;c=o,o=o-1,_="right"}S&&w<11&&(m=Sl(t.display.measure,m))}else{o>0&&(_=i="right");var M;t.options.lineWrapping&&(M=a.getClientRects()).length>1?m=M[i=="right"?M.length-1:0]:m=a.getBoundingClientRect()}if(S&&w<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Gi(t.display),top:j.top,bottom:j.bottom}:m=Ba}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(_=="right"?m.right:m.left)-e.rect.left,right:(_=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Sl(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function Ha(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function qa(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Ha(t.display.view[e])}function Sn(t){qa(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ja(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ua(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ss(t){var e=Re(t),n=e.widgets,i=0;if(n)for(var r=0;r<n.length;++r)n[r].above&&(i+=kn(n[r]));return i}function cr(t,e,n,i,r){if(!r){var a=ss(e);n.top+=a,n.bottom+=a}if(i=="line")return n;i||(i="local");var o=Je(e);if(i=="local"?o+=hr(t.display):o-=t.display.viewOffset,i=="page"||i=="window"){var c=t.display.lineSpace.getBoundingClientRect();o+=c.top+(i=="window"?0:Ua(wt(t)));var _=c.left+(i=="window"?0:ja(wt(t)));n.left+=_,n.right+=_}return n.top+=o,n.bottom+=o,n}function Ka(t,e,n){if(n=="div")return e;var i=e.left,r=e.top;if(n=="page")i-=ja(wt(t)),r-=Ua(wt(t));else if(n=="local"||!n){var a=t.display.sizer.getBoundingClientRect();i+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:r-o.top}}function fr(t,e,n,i,r){return i||(i=ct(t.doc,e.line)),cr(t,i,Ia(t,i,e.ch,r),n)}function Fe(t,e,n,i,r,a){i=i||ct(t.doc,e.line),r||(r=Ui(t,i));function o(X,Y){var V=je(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,cr(t,i,V,n)}var c=Ce(i,t.doc.direction),_=e.ch,m=e.sticky;if(_>=i.text.length?(_=i.text.length,m="before"):_<=0&&(_=0,m="after"),!c)return o(m=="before"?_-1:_,m=="before");function N(X,Y,V){var tt=c[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var M=Te(c,_,m),j=We,q=N(_,M,m=="before");return j!=null&&(q.other=N(_,j,m!="before")),q}function Ga(t,e){var n=0;e=yt(t.doc,e),t.options.lineWrapping||(n=Gi(t.display)*e.ch);var i=ct(t.doc,e.line),r=Je(i)+hr(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function as(t,e,n,i,r){var a=B(t,e,n);return a.xRel=r,i&&(a.outside=i),a}function os(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,n<0)return as(i.first,0,null,-1,-1);var r=ze(i,n),a=i.first+i.size-1;if(r>a)return as(i.first+i.size-1,ct(i,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(i,r);;){var c=El(t,o,r,e,n),_=Vu(o,c.ch+(c.xRel>0||c.outside>0?1:0));if(!_)return c;var m=_.find(1);if(m.line==r)return m;o=ct(i,r=m.line)}}function Xa(t,e,n,i){i-=ss(e);var r=e.text.length,a=Bt(function(o){return je(t,n,o-1).bottom<=i},r,0);return r=Bt(function(o){return je(t,n,o).top>i},a,r),{begin:a,end:r}}function \$a(t,e,n,i){n||(n=Ui(t,e));var r=cr(t,e,je(t,n,i),"line").top;return Xa(t,e,n,r)}function us(t,e,n,i){return t.bottom<=n?!1:t.top>n?!0:(i?t.left:t.right)>e}function El(t,e,n,i,r){r-=Je(e);var a=Ui(t,e),o=ss(e),c=0,_=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Cl:Tl)(t,e,n,a,N,i,r);m=M.level!=1,c=m?M.from:M.to-1,_=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=je(t,a,gt);return pt.top+=o,pt.bottom+=o,us(pt,i,r,!1)?(pt.top<=r&&pt.left<=i&&(j=gt,q=pt),!0):!1},c,_),Y,V,tt=!1;if(q){var st=i-q.left<q.right-i,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==_||X==c)&&X++,V=X==0?"after":X==e.text.length?"before":je(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Fe(t,B(n,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Pe(e.text,X,1),as(n,X,V,tt,i-Y)}function Tl(t,e,n,i,r,a,o){var c=Bt(function(M){var j=r[M],q=j.level!=1;return us(Fe(t,B(n,q?j.to:j.from,q?"before":"after"),"line",e,i),a,o,!0)},0,r.length-1),_=r[c];if(c>0){var m=_.level!=1,N=Fe(t,B(n,m?_.from:_.to,m?"after":"before"),"line",e,i);us(N,a,o,!0)&&N.top>o&&(_=r[c-1])}return _}function Cl(t,e,n,i,r,a,o){var c=Xa(t,e,i,o),_=c.begin,m=c.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=_)){var X=q.level!=1,Y=je(t,i,X?Math.min(m,q.to)-1:Math.max(_,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<_&&(N={from:_,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var Ei;function Ki(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Ei==null){Ei=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Ei.appendChild(document.createTextNode("x")),Ei.appendChild(L("br"));Ei.appendChild(document.createTextNode("x"))}K(t.measure,Ei);var n=Ei.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),k(t.measure),n||1}function Gi(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),n=L("pre",[e],"CodeMirror-line-like");K(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ls(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var c=t.display.gutterSpecs[o].className;n[c]=a.offsetLeft+a.clientLeft+r,i[c]=a.clientWidth}return{fixedPos:hs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function hs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Ya(t){var e=Ki(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/Gi(t.display)-3);return function(r){if(ci(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return n?a+(Math.ceil(r.text.length/i)||1)*e:a+e}}function cs(t){var e=t.doc,n=Ya(t);e.iter(function(i){var r=n(i);r!=i.height&&Le(i,r)})}function Ti(t,e,n,i){var r=t.display;if(!n&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,c=r.lineSpace.getBoundingClientRect();try{a=e.clientX-c.left,o=e.clientY-c.top}catch{return null}var _=os(t,a,o),m;if(i&&_.xRel>0&&(m=ct(t.doc,_.line).text).length==_.ch){var N=at(m,m.length,t.options.tabSize)-m.length;_=B(_.line,Math.max(0,Math.round((a-Pa(t.display).left)/Gi(t.display))-N))}return _}function Ci(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,e<0)return i}function _e(t,e,n,i){e==null&&(e=t.doc.first),n==null&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&Jr(t.doc,e)<r.viewTo&&_i(t);else if(n<=r.viewFrom)Ze&&Ta(t.doc,n+i)>r.viewFrom?_i(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)_i(t);else if(e<=r.viewFrom){var a=_r(t,n,n+i,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=i):_i(t)}else if(n>=r.viewTo){var o=_r(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):_i(t)}else{var c=_r(t,e,e,-1),_=_r(t,n,n+i,1);c&&_?(r.view=r.view.slice(0,c.index).concat(lr(t,c.lineN,_.lineN)).concat(r.view.slice(_.index)),r.viewTo+=i):_i(t)}var m=r.externalMeasured;m&&(n<m.lineN?m.lineN+=i:e<m.lineN+m.size&&(r.externalMeasured=null))}function fi(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var a=i.view[Ci(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);vt(o,n)==-1&&o.push(n)}}}function _i(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function _r(t,e,n,i){var r=Ci(t,e),a,o=t.display.view;if(!Ze||n==t.doc.first+t.doc.size)return{index:r,lineN:n};for(var c=t.display.viewFrom,_=0;_<r;_++)c+=o[_].size;if(c!=e){if(i>0){if(r==o.length-1)return null;a=c+o[r].size-e,r++}else a=c-e;e+=a,n+=a}for(;Jr(t.doc,n)!=n;){if(r==(i<0?0:o.length-1))return null;n+=i*o[r-(i<0?1:0)].size,r+=i}return{index:r,lineN:n}}function Al(t,e,n){var i=t.display,r=i.view;r.length==0||e>=i.viewTo||n<=i.viewFrom?(i.view=lr(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=lr(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Ci(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(lr(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Ci(t,n)))),i.viewTo=n}function Qa(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];!r.hidden&&(!r.node||r.changes)&&++n}return n}function En(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Za(t,e){e===void 0&&(e=!0);var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),a=i.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var c=0;c<n.sel.ranges.length;c++)if(!(!e&&c==n.sel.primIndex)){var _=n.sel.ranges[c];if(!(_.from().line>=t.display.viewTo||_.to().line<t.display.viewFrom)){var m=_.empty();if(o){var N=o(t,_);N&&fs(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&fs(t,_.head,r);m||Ll(t,_,a)}}return i}function fs(t,e,n){var i=Fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=fr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(i.other){var c=n.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));c.style.display="",c.style.left=i.other.left+"px",c.style.top=i.other.top+"px",c.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function pr(t,e){return t.top-e.top||t.left-e.left}function Ll(t,e,n){var i=t.display,r=t.doc,a=document.createDocumentFragment(),o=Pa(t.display),c=o.left,_=Math.max(i.sizerWidth,Si(t)-i.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??_-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,ge){return fr(t,B(et,Ut),"div",pt,ge)}function ye(Ut,ge,ie){var \$t=\$a(t,pt,null,Ut),Kt=ge=="ltr"==(ie=="after")?"left":"right",qt=ie=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var de=Ce(pt,r.direction);return xi(de,ut||0,gt??xt,function(Ut,ge,ie,\$t){var Kt=ie=="ltr",qt=Wt(Ut,Kt?"left":"right"),ve=Wt(ge-1,Kt?"right":"left"),an=ut==null&&Ut==0,bi=gt==null&&ge==xt,ae=\$t==0,Ue=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?an:bi)&&ae,Bs=(m?bi:an)&&Ue,ii=te?c:(Kt?qt:ve).left,Ri=Bs?_:(Kt?ve:qt).right;N(ii,qt.top,Ri-ii,qt.bottom)}else{var Fi,he,on,zs;Kt?(Fi=m&&an&&ae?c:qt.left,he=m?_:ye(Ut,ie,"before"),on=m?c:ye(ge,ie,"after"),zs=m&&bi&&Ue?_:ve.right):(Fi=m?ye(Ut,ie,"before"):c,he=!m&&an&&ae?_:qt.right,on=!m&&bi&&Ue?c:ve.left,zs=m?ye(ge,ie,"after"):_),N(Fi,qt.top,he-Fi,qt.bottom),qt.bottom<ve.top&&N(c,qt.bottom,null,ve.top),N(on,ve.top,zs-on,ve.bottom)}(!Dt||pr(qt,Dt)<0)&&(Dt=qt),pr(ve,Dt)<0&&(Dt=ve),(!Vt||pr(qt,Vt)<0)&&(Vt=qt),pr(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Re(X)==Re(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(c,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(c,tt.bottom,null,st.top)}n.appendChild(a)}function _s(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Xi(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ja(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ds(t))}function ps(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Xi(t))},100)}function ds(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,A(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),p&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),_s(t))}function Xi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function dr(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var c=e.view[o],_=t.options.lineWrapping,m=void 0,N=0;if(!c.hidden){if(r+=c.line.height,S&&w<8){var M=c.node.offsetTop+c.node.offsetHeight;m=M-n,n=M}else{var j=c.node.getBoundingClientRect();m=j.bottom-j.top,!_&&c.text.firstChild&&(N=c.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=c.line.height-m;if((q>.005||q<-.005)&&(r<i&&(a-=q),Le(c.line,m),Va(c.line),c.rest))for(var X=0;X<c.rest.length;X++)Va(c.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Gi(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function Va(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function gr(t,e,n){var i=n&&n.top!=null?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-hr(t));var r=n&&n.bottom!=null?n.bottom:i+t.wrapper.clientHeight,a=ze(e,i),o=ze(e,r);if(n&&n.ensure){var c=n.ensure.from.line,_=n.ensure.to.line;c<a?(a=c,o=ze(e,Je(ct(e,c))+t.wrapper.clientHeight)):Math.min(_,e.lastLine())>=o&&(a=ze(e,Je(ct(e,_))-t.wrapper.clientHeight),o=_)}return{from:a,to:Math.max(o,a+1)}}function Ol(t,e){if(!zt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null,a=n.wrapper.ownerDocument;if(e.top+i.top<0?r=!0:e.bottom+i.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!d){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-n.viewOffset-hr(t.display))+\`px;
                         height: \`+(e.bottom-e.top+qe(t)+n.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Nl(t,e,n,i){i==null&&(i=0);var r;!t.options.lineWrapping&&e==n&&(n=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,c=Fe(t,e),_=!n||n==e?c:Fe(t,n);r={left:Math.min(c.left,_.left),top:Math.min(c.top,_.top)-i,right:Math.max(c.left,_.left),bottom:Math.max(c.bottom,_.bottom)+i};var m=gs(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Cn(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(Ai(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(o=!0)),!o)break}return r}function Rl(t,e){var n=gs(t,e);n.scrollTop!=null&&Cn(t,n.scrollTop),n.scrollLeft!=null&&Ai(t,n.scrollLeft)}function gs(t,e){var n=t.display,i=Ki(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:n.scroller.scrollTop,a=ns(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var c=t.doc.height+is(n),_=e.top<i,m=e.bottom>c-i;if(e.top<r)o.scrollTop=_?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?c:e.bottom)-a);N!=r&&(o.scrollTop=N)}var M=t.options.fixedGutter?0:n.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:n.scroller.scrollLeft-M,q=Si(t)-n.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function vs(t,e){e!=null&&(vr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function \$i(t){vr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Tn(t,e,n){(e!=null||n!=null)&&vr(t),e!=null&&(t.curOp.scrollLeft=e),n!=null&&(t.curOp.scrollTop=n)}function Fl(t,e){vr(t),t.curOp.scrollToPos=e}function vr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Ga(t,e.from),i=Ga(t,e.to);to(t,n,i,e.margin)}}function to(t,e,n,i){var r=gs(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Tn(t,r.scrollLeft,r.scrollTop)}function Cn(t,e){Math.abs(t.doc.scrollTop-e)<2||(l||bs(t,{top:e}),eo(t,e,!0),l&&bs(t),On(t,100))}function eo(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ai(t,e,n,i){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i)&&(t.doc.scrollLeft=e,ao(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function An(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+is(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+qe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Li=function(t,e,n){this.cm=n;var i=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),it(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),it(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Li.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(i==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Li.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Li.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Li.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Li.prototype.enableZeroWidthBar=function(t,e,n){t.style.visibility="";function i(){var r=t.getBoundingClientRect(),a=n=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,i)}e.set(1e3,i)},Li.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Ln=function(){};Ln.prototype.update=function(){return{bottom:0,right:0}},Ln.prototype.setScrollLeft=function(){},Ln.prototype.setScrollTop=function(){},Ln.prototype.clear=function(){};function Yi(t,e){e||(e=An(t));var n=t.display.barWidth,i=t.display.barHeight;io(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&dr(t),io(t,An(t)),n=t.display.barWidth,i=t.display.barHeight}function io(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}var no={native:Li,null:Ln};function ro(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new no[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),it(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){n=="horizontal"?Ai(t,e):Cn(t,e)},t),t.display.scrollbars.addClass&&A(t.display.wrapper,t.display.scrollbars.addClass)}var Dl=0;function Oi(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Dl,markArrays:null},cl(t.curOp)}function Ni(t){var e=t.curOp;e&&_l(e,function(n){for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;Ml(n)})}function Ml(t){for(var e=t.ops,n=0;n<e.length;n++)Pl(e[n]);for(var i=0;i<e.length;i++)Wl(e[i]);for(var r=0;r<e.length;r++)Il(e[r]);for(var a=0;a<e.length;a++)Bl(e[a]);for(var o=0;o<e.length;o++)zl(e[o])}function Pl(t){var e=t.cm,n=e.display;ql(e),t.updateMaxLine&&ts(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new mr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Wl(t){t.updatedDisplay=t.mustUpdate&&ms(t.cm,t.update)}function Il(t){var e=t.cm,n=e.display;t.updatedDisplay&&dr(e),t.barMeasure=An(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ia(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+qe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Si(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Bl(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ai(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Yi(e,t.barMeasure),t.updatedDisplay&&ws(e,t.barMeasure),t.selectionChanged&&_s(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Ja(t.cm)}function zl(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&so(e,t.update),n.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),t.scrollTop!=null&&eo(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Ai(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Nl(e,yt(i,t.scrollToPos.from),yt(i,t.scrollToPos.to),t.scrollToPos.margin);Ol(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var c=0;c<a.length;++c)a[c].lines.length||Mt(a[c],"hide");if(o)for(var _=0;_<o.length;++_)o[_].lines.length&&Mt(o[_],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Oi(t);try{return e()}finally{Ni(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Oi(t);try{return e.apply(t,arguments)}finally{Ni(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Oi(this);try{return t.apply(this,arguments)}finally{Ni(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Oi(e);try{return t.apply(this,arguments)}finally{Ni(e)}}}function On(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(Hl,t))}function Hl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=bn(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(i.line>=t.display.viewFrom){var o=a.styles,c=a.text.length>t.options.maxHighlightLength?Ye(e.mode,i.state):null,_=fa(t,a,i,!0);c&&(i.state=c),a.styles=_.styles;var m=a.styleClasses,N=_.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var M=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<o.length;++j)M=o[j]!=a.styles[j];M&&r.push(i.line),a.stateAfter=i.save(),i.nextLine()}else a.text.length<=t.options.maxHighlightLength&&\$r(t,a.text,i),a.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return On(t,t.options.workDelay),!0}),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)fi(t,r[a],"text")})}}var mr=function(t,e,n){var i=t.display;this.viewport=e,this.visible=gr(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Si(t),this.force=n,this.dims=ls(t),this.events=[]};mr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},mr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function ql(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=qe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=qe(t)+"px",e.scrollbarsClipped=!0)}function jl(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=Nt(t).getSelection();i.anchorNode&&i.extend&&J(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Ul(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),i=e.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),n.removeAllRanges(),n.addRange(i),n.extend(t.focusNode,t.focusOffset)}}function ms(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return _i(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Qa(t)==0)return!1;oo(t)&&(_i(t),e.dims=ls(t));var r=i.first+i.size,a=Math.max(e.visible.from-t.options.viewportMargin,i.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(r,n.viewTo)),Ze&&(a=Jr(t.doc,a),o=Ta(t.doc,o));var c=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Al(t,a,o),n.viewOffset=Je(ct(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var _=Qa(t);if(!c&&_==0&&!e.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var m=jl(t);return _>4&&(n.lineDiv.style.display="none"),Kl(t,n.updateLineNumbers,e.dims),_>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Ul(m),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,c&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,On(t,400)),n.updateLineNumbers=null,!0}function so(t,e){for(var n=e.viewport,i=!0;;i=!1){if(!i||!t.options.lineWrapping||e.oldDisplayWidth==Si(t)){if(n&&n.top!=null&&(n={top:Math.min(t.doc.height+is(t.display)-ns(t),n.top)}),e.visible=gr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else i&&(e.visible=gr(t.display,t.doc,n));if(!ms(t,e))break;dr(t);var r=An(t);En(t),Yi(t,r),ws(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function bs(t,e){var n=new mr(t,e);if(ms(t,n)){dr(t),so(t,n);var i=An(t);En(t),Yi(t,i),ws(t,i),n.finish()}}function Kl(t,e,n){var i=t.display,r=t.options.lineNumbers,a=i.lineDiv,o=a.firstChild;function c(X){var Y=X.nextSibling;return p&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var _=i.view,m=i.viewFrom,N=0;N<_.length;N++){var M=_[N];if(!M.hidden)if(!M.node||M.node.parentNode!=a){var j=ml(t,M,m,n);a.insertBefore(j,o)}else{for(;o!=M.node;)o=c(o);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Na(t,M,m,n)),q&&(k(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=M.node.nextSibling}m+=M.size}for(;o;)o=c(o)}function ys(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ws(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+qe(t)+"px"}function ao(t){var e=t.display,n=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var i=hs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){t.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=a),n[o].gutterBackground&&(n[o].gutterBackground.style.left=a));var c=n[o].alignable;if(c)for(var _=0;_<c.length;_++)c[_].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function oo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=P(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(L("div",[L("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ys(t.display),!0}return!1}function xs(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)i=!0;else continue;n.push({className:a,style:o})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function uo(t){var e=t.gutters,n=t.gutterSpecs;k(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],a=r.className,o=r.style,c=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(c.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=c,c.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ys(t)}function Nn(t){uo(t.display),_e(t),ao(t)}function Gl(t,e,n,i){var r=this;this.input=n,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&f>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&w<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!p&&!(l&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=xs(i.gutters,i.lineNumbers),uo(r),n.init(r)}var br=0,ti=null;S?ti=-.53:l?ti=15:u?ti=-.7:F&&(ti=-1/3);function lo(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),n==null&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:n==null&&(n=t.wheelDelta),{x:e,y:n}}function Xl(t){var e=lo(t);return e.x*=ti,e.y*=ti,e}function ho(t,e){u&&f==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var n=lo(e),i=n.x,r=n.y,a=ti;e.deltaMode===0&&(i=e.deltaX,r=e.deltaY,a=1);var o=t.display,c=o.scroller,_=c.scrollWidth>c.clientWidth,m=c.scrollHeight>c.clientHeight;if(i&&_||r&&m){if(r&&z&&p){t:for(var N=e.target,M=o.view;N!=c;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(i&&!l&&!b&&a!=null){r&&m&&Cn(t,Math.max(0,c.scrollTop+r*a)),Ai(t,Math.max(0,c.scrollLeft+i*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),bs(t,{top:X,bottom:Y})}br<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=c.scrollLeft,o.wheelStartY=c.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=c.scrollLeft-o.wheelStartX,tt=c.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(ti=(ti*br+st)/(br+1),++br)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!bt(n.anchor,i.anchor)||!bt(n.head,i.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(G(e,i.from())>=0&&G(t,i.to())<=0)return n}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function De(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort(function(j,q){return G(j.from(),q.from())}),n=vt(e,r);for(var a=1;a<e.length;a++){var o=e[a],c=e[a-1],_=G(c.to(),o.from());if(i&&!o.empty()?_>0:_>=0){var m=Xt(c.from(),o.from()),N=Ct(c.to(),o.to()),M=c.empty()?o.from()==o.head:c.from()==c.head;a<=n&&--n,e.splice(--a,2,new Ot(M?N:m,M?m:N))}}return new Se(e,n)}function pi(t,e){return new Se([new Ot(t,e||t)],0)}function di(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function co(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return di(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=di(e).ch-e.to.ch),B(n,i)}function ks(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Ot(co(r.anchor,e),co(r.head,e)))}return De(t.cm,n,t.sel.primIndex)}function fo(t,e,n){return t.line==e.line?B(n.line,t.ch-e.ch+n.ch):B(n.line+(t.line-e.line),t.ch)}function \$l(t,e,n){for(var i=[],r=B(t.first,0),a=r,o=0;o<e.length;o++){var c=e[o],_=fo(c.from,r,a),m=fo(di(c),r,a);if(r=c.to,a=m,n=="around"){var N=t.sel.ranges[o],M=G(N.head,N.anchor)<0;i[o]=new Ot(M?m:_,M?_:m)}else i[o]=new Ot(_,_)}return new Se(i,t.sel.primIndex)}function Ss(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Rn(t)}function Rn(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,On(t,100),t.state.modeGen++,t.curOp&&_e(t)}function _o(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Es(t,e,n,i){function r(st){return n?n[st]:null}function a(st,et,ut){il(st,et,ut,i),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new qi(m[gt],r(gt),i));return ut}var c=e.from,_=e.to,m=e.text,N=ct(t,c.line),M=ct(t,_.line),j=mt(m),q=r(m.length-1),X=_.line-c.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(_o(t,e)){var Y=o(0,m.length-1);a(M,M.text,q),X&&t.remove(c.line,X),Y.length&&t.insert(c.line,Y)}else if(N==M)if(m.length==1)a(N,N.text.slice(0,c.ch)+j+N.text.slice(_.ch),q);else{var V=o(1,m.length-1);V.push(new qi(j+N.text.slice(_.ch),q,i)),a(N,N.text.slice(0,c.ch)+m[0],r(0)),t.insert(c.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,c.ch)+m[0]+M.text.slice(_.ch),r(0)),t.remove(c.line+1,X);else{a(N,N.text.slice(0,c.ch)+m[0],r(0)),a(M,j+M.text.slice(_.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(c.line+1,X-1),t.insert(c.line+1,tt)}Qt(t,"change",t,e)}function gi(t,e,n){function i(r,a,o){if(r.linked)for(var c=0;c<r.linked.length;++c){var _=r.linked[c];if(_.doc!=a){var m=o&&_.sharedHist;n&&!m||(e(_.doc,m),i(_.doc,r,m))}}}i(t,null,!0)}function po(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,cs(t),Ss(t),go(t),t.options.direction=e.direction,t.options.lineWrapping||ts(t),t.options.mode=e.modeOption,_e(t)}function go(t){(t.doc.direction=="rtl"?A:R)(t.display.lineDiv,"CodeMirror-rtl")}function Yl(t){be(t,function(){go(t),_e(t)})}function yr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Ts(t,e){var n={from:Tt(e.from),to:di(e),text:Qe(t,e.from,e.to)};return bo(t,n,e.from.line,e.to.line+1),gi(t,function(i){return bo(i,n,e.from.line,e.to.line+1)},!0),n}function vo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function Ql(t,e){if(e)return vo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function mo(t,e,n,i){var r=t.history;r.undone.length=0;var a=+new Date,o,c;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=Ql(r,r.lastOp==i)))c=mt(o.changes),G(e.from,e.to)==0&&G(e.from,c.to)==0?c.to=di(e):o.changes.push(Ts(t,e));else{var _=mt(r.done);for((!_||!_.ranges)&&wr(t.sel,r.done),o={changes:[Ts(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,c||Mt(t,"historyAdded")}function Zl(t,e,n,i){var r=e.charAt(0);return r=="*"||r=="+"&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Jl(t,e,n,i){var r=t.history,a=i&&i.origin;n==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||Zl(t,a,mt(r.done),e))?r.done[r.done.length-1]=e:wr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=n,i&&i.clearRedo!==!1&&vo(r.undone)}function wr(t,e){var n=mt(e);n&&n.ranges&&n.equals(t)||e.push(t)}function bo(t,e,n,i){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function Vl(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function th(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(Vl(n[r]));return i}function yo(t,e){var n=th(t,e),i=Qr(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var a=n[r],o=i[r];if(a&&o)t:for(var c=0;c<o.length;++c){for(var _=o[c],m=0;m<a.length;++m)if(a[m].marker==_.marker)continue t;a.push(_)}else o&&(n[r]=o)}return n}function Qi(t,e,n){for(var i=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){i.push(n?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,c=[];i.push({changes:c});for(var _=0;_<o.length;++_){var m=o[_],N=void 0;if(c.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(c)[M]=m[M],delete m[M])}}return i}function Cs(t,e,n,i){if(i){var r=t.anchor;if(n){var a=G(e,r)<0;a!=G(n,r)<0?(r=e,e=n):a!=G(e,n)<0&&(e=n)}return new Ot(r,e)}else return new Ot(n||e,e)}function xr(t,e,n,i,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Cs(t.sel.primary(),e,n,r)],0),i)}function wo(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)i[a]=Cs(t.sel.ranges[a],e[a],null,r);var o=De(t.cm,i,t.sel.primIndex);se(t,o,n)}function As(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,se(t,De(t.cm,r,t.sel.primIndex),i)}function xo(t,e,n,i){se(t,pi(e,n),i)}function eh(t,e,n){var i={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new Ot(yt(t,r[a].anchor),yt(t,r[a].head))},origin:n&&n.origin};return Mt(t,"beforeSelectionChange",t,i),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?De(t.cm,i.ranges,i.ranges.length-1):e}function ko(t,e,n){var i=t.history.done,r=mt(i);r&&r.ranges?(i[i.length-1]=e,kr(t,e,n)):se(t,e,n)}function se(t,e,n){kr(t,e,n),Jl(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function kr(t,e,n){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=eh(t,e,n));var i=n&&n.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);So(t,To(t,e,i,!0)),!(n&&n.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&\$i(t.cm)}function So(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Jn(t.cm)),Qt(t,"cursorActivity",t))}function Eo(t){So(t,To(t,t.sel,null,!1))}function To(t,e,n,i){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],c=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],_=Sr(t,o.anchor,c&&c.anchor,n,i),m=o.head==o.anchor?_:Sr(t,o.head,c&&c.head,n,i);(r||_!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new Ot(_,m))}return r?De(t.cm,r,e.primIndex):e}function Zi(t,e,n,i,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var c=a.markedSpans[o],_=c.marker,m="selectLeft"in _?!_.selectLeft:_.inclusiveLeft,N="selectRight"in _?!_.selectRight:_.inclusiveRight;if((c.from==null||(m?c.from<=e.ch:c.from<e.ch))&&(c.to==null||(N?c.to>=e.ch:c.to>e.ch))){if(r&&(Mt(_,"beforeCursorEnter"),_.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!_.atomic)continue;if(n){var M=_.find(i<0?1:-1),j=void 0;if((i<0?N:m)&&(M=Co(t,M,-i,M&&M.line==e.line?a:null)),M&&M.line==e.line&&(j=G(M,n))&&(i<0?j<0:j>0))return Zi(t,M,e,i,r)}var q=_.find(i<0?-1:1);return(i<0?m:N)&&(q=Co(t,q,i,q.line==e.line?a:null)),q?Zi(t,q,e,i,r):null}}return e}function Sr(t,e,n,i,r){var a=i||1,o=Zi(t,e,n,a,r)||!r&&Zi(t,e,n,a,!0)||Zi(t,e,n,-a,r)||!r&&Zi(t,e,n,-a,!0);return o||(t.cantEdit=!0,B(t.first,0))}function Co(t,e,n,i){return n<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:n>0&&e.ch==(i||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+n)}function Ao(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function Lo(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(r,a,o,c){r&&(i.from=yt(t,r)),a&&(i.to=yt(t,a)),o&&(i.text=o),c!==void 0&&(i.origin=c)}),Mt(t,"beforeChange",t,i),t.cm&&Mt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ji(t,e,n){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,Ji)(t,e,n);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=Lo(t,e,!0),!e))){var i=ba&&!n&&Ju(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Oo(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else Oo(t,e)}}function Oo(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var n=ks(t,e);mo(t,e,n,t.cm?t.cm.curOp.id:NaN),Fn(t,e,n,Qr(t,e));var i=[];gi(t,function(r,a){!a&&vt(i,r.history)==-1&&(Do(r.history,e),i.push(r.history)),Fn(r,e,null,Qr(r,e))})}}function Er(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!(i&&!n)){for(var r=t.history,a,o=t.sel,c=e=="undo"?r.done:r.undone,_=e=="undo"?r.undone:r.done,m=0;m<c.length&&(a=c[m],!(n?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=c.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=c.pop(),a.ranges){if(wr(a,_),n&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(i){c.push(a);return}else break;var N=[];wr(o,_),_.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var M=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,M&&!Lo(t,V,!1))return c.length=0,{};N.push(Ts(t,V));var tt=Y?ks(t,V):mt(c);Fn(t,V,tt,yo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:di(V)});var st=[];gi(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Do(et.history,V),st.push(et.history)),Fn(et,V,null,yo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function No(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)fi(t.cm,i,"gutter")}}function Fn(t,e,n,i){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Fn)(t,e,n,i);if(e.to.line<t.first){No(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);No(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:B(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),n||(n=ks(t,e)),t.cm?ih(t.cm,e,i):Es(t,e,i),kr(t,n,Rt),t.cantEdit&&Sr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function ih(t,e,n){var i=t.doc,r=t.display,a=e.from,o=e.to,c=!1,_=a.line;t.options.lineWrapping||(_=Lt(Re(ct(i,a.line))),i.iter(_,o.line+1,function(q){if(q==r.maxLine)return c=!0,!0})),i.sel.contains(e.from,e.to)>-1&&Jn(t),Es(i,e,n,Ya(t)),t.options.lineWrapping||(i.iter(_,a.line+e.text.length,function(q){var X=ur(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),Ku(i,a.line),On(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!_o(t.doc,e)?fi(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),M=oe(t,"change");if(M||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function Vi(t,e,n,i,r){var a;i||(i=n),G(i,n)<0&&(a=[i,n],n=a[0],i=a[1]),typeof e=="string"&&(e=t.splitLines(e)),Ji(t,{from:n,to:i,text:e,origin:r})}function Ro(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function Fo(t,e,n,i){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var c=0;c<a.ranges.length;c++)Ro(a.ranges[c].anchor,e,n,i),Ro(a.ranges[c].head,e,n,i);continue}for(var _=0;_<a.changes.length;++_){var m=a.changes[_];if(n<m.from.line)m.from=B(m.from.line+i,m.from.ch),m.to=B(m.to.line+i,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Do(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;Fo(t.done,n,i,r),Fo(t.undone,n,i,r)}function Dn(t,e,n,i){var r=e,a=e;return typeof e=="number"?a=ct(t,ke(t,e)):r=Lt(e),r==null?null:(i(a,r)&&t.cm&&fi(t.cm,r,n),a)}function Mn(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}Mn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,nl(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}};function Pn(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}Pn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var a=Math.min(e,r-t),o=i.height;if(i.removeInner(t,a),this.height-=o-i.height,r==a&&(this.children.splice(n--,1),i.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Mn))){var c=[];this.collapse(c),this.children=[new Mn(c)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,c=o;c<r.lines.length;){var _=new Mn(r.lines.slice(c,c+=25));r.height-=_.height,this.children.splice(++i,0,_),_.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Pn(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Pn(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,n))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Wn=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Wn.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=Lt(n);if(!(i==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var a=kn(this);Le(n,Math.max(0,n.height-a)),t&&(be(t,function(){Mo(t,n,-a),fi(t,i,"widget")}),Qt(t,"lineWidgetCleared",t,this,i))}},Wn.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=kn(this)-e;r&&(ci(this.doc,i)||Le(i,i.height+r),n&&be(n,function(){n.curOp.forceUpdate=!0,Mo(n,i,r),Qt(n,"lineWidgetChanged",n,t,Lt(i))}))},ue(Wn);function Mo(t,e,n){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&vs(t,n)}function nh(t,e,n,i){var r=new Wn(t,n,i),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Dn(t,e,"widget",function(o){var c=o.widgets||(o.widgets=[]);if(r.insertAt==null?c.push(r):c.splice(Math.min(c.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!ci(t,o)){var _=Je(o)<t.scrollTop;Le(o,o.height+kn(r)),_&&vs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Lt(e)),r}var Po=0,vi=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Po};vi.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Oi(t),oe(this,"clear")){var n=this.find();n&&Qt(this,"clear",n.from,n.to)}for(var i=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],c=yn(o.markedSpans,this);t&&!this.collapsed?fi(t,Lt(o),"text"):t&&(c.to!=null&&(r=Lt(o)),c.from!=null&&(i=Lt(o))),o.markedSpans=\$u(o.markedSpans,c),c.from==null&&this.collapsed&&!ci(this.doc,o)&&t&&Le(o,Ki(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var _=0;_<this.lines.length;++_){var m=Re(this.lines[_]),N=ur(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}i!=null&&t&&this.collapsed&&_e(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Eo(t.doc)),t&&Qt(t,"markerCleared",t,this,i,r),e&&Ni(t),this.parent&&this.parent.clear()}},vi.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var a=this.lines[r],o=yn(a.markedSpans,this);if(o.from!=null&&(n=B(e?a:Lt(a),o.from),t==-1))return n;if(o.to!=null&&(i=B(e?a:Lt(a),o.to),t==1))return i}return n&&{from:n,to:i}},vi.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;!e||!i||be(i,function(){var r=e.line,a=Lt(e.line),o=rs(i,a);if(o&&(Ha(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ci(n.doc,r)&&n.height!=null){var c=n.height;n.height=null;var _=kn(n)-c;_&&Le(r,r.height+_)}Qt(i,"markerChanged",i,t)})},vi.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vi.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(vi);function tn(t,e,n,i,r){if(i&&i.shared)return rh(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,tn)(t,e,n,i,r);var a=new vi(t,r),o=G(e,n);if(i&&ft(i,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ea(t,e.line,e,n,a)||e.line!=n.line&&Ea(t,n.line,e,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Xu()}a.addToHistory&&mo(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var c=e.line,_=t.cm,m;if(t.iter(c,n.line+1,function(M){_&&a.collapsed&&!_.options.lineWrapping&&Re(M)==_.display.maxLine&&(m=!0),a.collapsed&&c!=e.line&&Le(M,0),Yu(M,new rr(a,c==e.line?e.ch:null,c==n.line?n.ch:null),t.cm&&t.cm.curOp),++c}),a.collapsed&&t.iter(e.line,n.line+1,function(M){ci(t,M)&&Le(M,0)}),a.clearOnEnter&&it(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Gu(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Po,a.atomic=!0),_){if(m&&(_.curOp.updateMaxLine=!0),a.collapsed)_e(_,e.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=n.line;N++)fi(_,N,"text");a.atomic&&Eo(_.doc),Qt(_,"markerAdded",_,a)}return a}var In=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};In.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},In.prototype.find=function(t,e){return this.primary.find(t,e)},ue(In);function rh(t,e,n,i,r){i=ft(i),i.shared=!1;var a=[tn(t,e,n,i,r)],o=a[0],c=i.widgetNode;return gi(t,function(_){c&&(i.widgetNode=c.cloneNode(!0)),a.push(tn(_,yt(_,e),yt(_,n),i,r));for(var m=0;m<_.linked.length;++m)if(_.linked[m].isParent)return;o=mt(a)}),new In(a,o)}function Wo(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function sh(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var c=tn(t,a,o,i.primary,i.primary.type);i.markers.push(c),c.parent=i}}}function ah(t){for(var e=function(i){var r=t[i],a=[r.primary.doc];gi(r.primary.doc,function(_){return a.push(_)});for(var o=0;o<r.markers.length;o++){var c=r.markers[o];vt(a,c.doc)==-1&&(c.parent=null,r.markers.splice(o--,1))}},n=0;n<t.length;n++)e(n)}var oh=0,pe=function(t,e,n,i,r){if(!(this instanceof pe))return new pe(t,e,n,i,r);n==null&&(n=0),Pn.call(this,[new Mn([new qi("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var a=B(n,0);this.sel=pi(a),this.history=new yr(null),this.id=++oh,this.modeOption=e,this.lineSep=i,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Es(this,{from:a,to:a,text:t}),se(this,pi(a),Rt)};pe.prototype=Yn(Pn.prototype,{constructor:pe,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Hi(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),n=this.first+this.size-1;Ji(this,{from:e,to:B(n,ct(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Tn(this.cm,0,0),se(this,pi(e),Rt)}),replaceRange:function(t,e,n,i){e=yt(this,e),n=n?yt(this,n):e,Vi(this,t,e,n,i)},getRange:function(t,e,n){var i=Qe(this,yt(this,t),yt(this,e));return n===!1?i:n===""?i.join(""):i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(x(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Re(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),n;return t==null||t=="head"?n=e.head:t=="anchor"?n=e.anchor:t=="end"||t=="to"||t===!1?n=e.to():n=e.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,n){xo(this,yt(this,typeof t=="number"?B(t,e||0):t),null,n)}),setSelection:Jt(function(t,e,n){xo(this,yt(this,t),yt(this,e||t),n)}),extendSelection:Jt(function(t,e,n){xr(this,yt(this,t),e&&yt(this,e),n)}),extendSelections:Jt(function(t,e){wo(this,ca(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var n=Ge(this.sel.ranges,t);wo(this,ca(this,n),e)}),setSelections:Jt(function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,De(this.cm,i,e),n)}}),addSelection:Jt(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Ot(yt(this,t),yt(this,e||t))),se(this,De(this.cm,i,i.length-1),n)}),getSelection:function(t){for(var e=this.sel.ranges,n,i=0;i<e.length;i++){var r=Qe(this,e[i].from(),e[i].to());n=n?n.concat(r):r}return t===!1?n:n.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Qe(this,n[i].from(),n[i].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Jt(function(t,e,n){for(var i=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];i[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:n}}for(var c=e&&e!="end"&&\$l(this,i,e),_=i.length-1;_>=0;_--)Ji(this,i[_]);c?ko(this,c):this.cm&&\$i(this.cm)}),undo:Jt(function(){Er(this,"undo")}),redo:Jt(function(){Er(this,"redo")}),undoSelection:Jt(function(){Er(this,"undo",!0)}),redoSelection:Jt(function(){Er(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new yr(this.history),gi(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Qi(this.history.done),undone:Qi(this.history.undone)}},setHistory:function(t){var e=this.history=new yr(this.history);e.done=Qi(t.done.slice(0),null,!0),e.undone=Qi(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,n){return Dn(this,t,"gutter",function(i){var r=i.gutterMarkers||(i.gutterMarkers={});return r[e]=n,!n&&Qn(r)&&(i.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&Dn(e,n,"gutter",function(){return n.gutterMarkers[t]=null,Qn(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!x(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,n){return Dn(this,t,e=="gutter"?"gutter":"class",function(i){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!i[r])i[r]=n;else{if(I(n).test(i[r]))return!1;i[r]+=" "+n}return!0})}),removeLineClass:Jt(function(t,e,n){return Dn(this,t,e=="gutter"?"gutter":"class",function(i){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=i[r];if(a)if(n==null)i[r]=null;else{var o=a.match(I(n));if(!o)return!1;var c=o.index+o[0].length;i[r]=a.slice(0,o.index)+(!o.index||c==a.length?"":" ")+a.slice(c)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,n){return nh(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return tn(this,yt(this,t),yt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),tn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],n=ct(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=yt(this,t),e=yt(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var c=0;c<o.length;c++){var _=o[c];!(_.to!=null&&r==t.line&&t.ch>=_.to||_.from==null&&r!=t.line||_.from!=null&&r==e.line&&_.from>=e.ch)&&(!n||n(_.marker))&&i.push(_.marker.parent||_.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)n[i].from!=null&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+i;if(a>t)return e=t,!0;t-=a,++n}),yt(this,B(n,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(i){e+=i.text.length+n}),e},copy:function(t){var e=new pe(Hi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<n&&(n=t.to);var i=new pe(Hi(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],sh(i,Wo(this)),i},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),ah(Wo(this));break}}if(t.history==this.history){var i=[t.id];gi(t,function(r){return i.push(r.id)},!0),t.history=new yr(null),t.history.done=Qi(this.history.done,i),t.history.undone=Qi(this.history.undone,i)}},iterLinkedDocs:function(t){gi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):vn(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&Yl(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var Io=0;function uh(t){var e=this;if(Bo(e),!(zt(e,t)||Ve(e.display,t))){re(t),S&&(Io=+new Date);var n=Ti(e,t,!0),i=t.dataTransfer.files;if(!(!n||e.isReadOnly()))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,a=Array(r),o=0,c=function(){++o==r&&Zt(e,function(){n=yt(e.doc,n);var q={from:n,to:n,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};Ji(e.doc,q),ko(e.doc,pi(yt(e.doc,n),yt(e.doc,di(q))))})()},_=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){c();return}var Y=new FileReader;Y.onerror=function(){return c()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){c();return}a[X]=V,c()},Y.readAsText(q)},m=0;m<i.length;m++)_(i[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),kr(e.doc,pi(n,n)),M)for(var j=0;j<M.length;++j)Vi(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function lh(t,e){if(S&&(!t.state.draggingText||+new Date-Io<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var n=L("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),b&&n.parentNode.removeChild(n)}}function hh(t,e){var n=Ti(t,e);if(n){var i=document.createDocumentFragment();fs(t,n,i),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,i)}}function Bo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function zo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var a=0;a<n.length;a++)t(n[a])})}}var Ho=!1;function ch(){Ho||(fh(),Ho=!0)}function fh(){var t;it(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,zo(_h)},100))}),it(window,"blur",function(){return zo(Xi)})}function _h(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var mi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bn=0;Bn<10;Bn++)mi[Bn+48]=mi[Bn+96]=String(Bn);for(var Tr=65;Tr<=90;Tr++)mi[Tr]=String.fromCharCode(Tr);for(var zn=1;zn<=12;zn++)mi[zn+111]=mi[zn+63235]="F"+zn;var ei={};ei.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ei.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ei.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ei.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ei.default=z?ei.macDefault:ei.pcDefault;function ph(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var n,i,r,a,o=0;o<e.length-1;o++){var c=e[o];if(/^(cmd|meta|m)\$/i.test(c))a=!0;else if(/^a(lt)?\$/i.test(c))n=!0;else if(/^(c|ctrl|control)\$/i.test(c))i=!0;else if(/^s(hift)?\$/i.test(c))r=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function dh(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)\$/.test(n))continue;if(i=="..."){delete t[n];continue}for(var r=Ge(n.split(" "),ph),a=0;a<r.length;a++){var o=void 0,c=void 0;a==r.length-1?(c=r.join(" "),o=i):(c=r.slice(0,a+1).join(" "),o="...");var _=e[c];if(!_)e[c]=o;else if(_!=o)throw new Error("Inconsistent bindings for "+c)}delete t[n]}for(var m in e)t[m]=e[m];return t}function en(t,e,n,i){e=Cr(e);var r=e.call?e.call(t,i):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&n(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return en(t,e.fallthrough,n,i);for(var a=0;a<e.fallthrough.length;a++){var o=en(t,e.fallthrough[a],n,i);if(o)return o}}}function qo(t){var e=typeof t=="string"?t:mi[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function jo(t,e,n){var i=t;return e.altKey&&i!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&i!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&i!="Mod"&&(t="Cmd-"+t),!n&&e.shiftKey&&i!="Shift"&&(t="Shift-"+t),t}function Uo(t,e){if(b&&t.keyCode==34&&t.char)return!1;var n=mi[t.keyCode];return n==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(n=t.code),jo(n,t,e))}function Cr(t){return typeof t=="string"?ei[t]:t}function nn(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var a=e(n[r]);i.length&&G(a.from,mt(i).to)<=0;){var o=i.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}i.push(a)}be(t,function(){for(var c=i.length-1;c>=0;c--)Vi(t.doc,"",i[c].from,i[c].to,"+delete");\$i(t)})}function Ls(t,e,n){var i=Pe(t.text,e+n,n);return i<0||i>t.text.length?null:i}function Os(t,e,n){var i=Ls(t,e.ch,n);return i==null?null:new B(e.line,i,n<0?"after":"before")}function Ns(t,e,n,i,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(n,e.doc.direction);if(a){var o=r<0?mt(a):a[0],c=r<0==(o.level==1),_=c?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=Ui(e,n);m=r<0?n.text.length-1:0;var M=je(e,N,m).top;m=Bt(function(j){return je(e,N,j).top==M},r<0==(o.level==1)?o.from:o.to-1,m),_=="before"&&(m=Ls(n,m,1))}else m=r<0?o.to:o.from;return new B(i,m,_)}}return new B(i,r<0?n.text.length:0,r<0?"before":"after")}function gh(t,e,n,i){var r=Ce(e,t.doc.direction);if(!r)return Os(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var a=Te(r,n.ch,n.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(i>0?o.to>n.ch:o.from<n.ch))return Os(e,n,i);var c=function(tt,st){return Ls(e,tt instanceof B?tt.ch:tt,st)},_,m=function(tt){return t.options.lineWrapping?(_=_||Ui(t,e),\$a(t,e,_,tt)):{begin:0,end:e.text.length}},N=m(n.sticky=="before"?c(n,-1):n.ch);if(t.doc.direction=="rtl"||o.level==1){var M=o.level==1==i<0,j=c(n,M?1:-1);if(j!=null&&(M?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=M?"before":"after";return new B(n.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(n.line,c(Dt,1),"before"):new B(n.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:c(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:c(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(a+i,i,N);if(Y)return Y;var V=i>0?N.end:c(N.begin,-1);return V!=null&&!(i>0&&V==e.text.length)&&(Y=X(i>0?0:r.length-1,i,m(V)),Y)?Y:null}var Hn={selectAll:Ao,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return nn(t,function(e){if(e.empty()){var n=ct(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,n)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return nn(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return nn(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return nn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}})},delWrappedLineRight:function(t){return nn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Ko(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Go(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return vh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\\S/)?Go(t,e.head):i},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var a=n[r].from(),o=at(t.getLine(a.line),a.ch,i);e.push(It(i-o%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new B(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),B(r.line-1,o.length-1),r,"+transpose"))}}n.push(new Ot(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);\$i(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Ko(t,e){var n=ct(t.doc,e),i=Re(n);return i!=n&&(e=Lt(i)),Ns(!0,t,i,e,1)}function vh(t,e){var n=ct(t.doc,e),i=tl(n);return i!=n&&(e=Lt(i)),Ns(!0,t,n,e,-1)}function Go(t,e){var n=Ko(t,e.line),i=ct(t.doc,n.line),r=Ce(i,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(n.ch,i.text.search(/\\S/)),o=e.line==n.line&&e.ch<=a&&e.ch;return B(n.line,o?0:a,n.sticky)}return n}function Ar(t,e,n){if(typeof e=="string"&&(e=Hn[e],!e))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function mh(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=en(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&en(e,t.options.extraKeys,n,t)||en(e,t.options.keyMap,n,t)}var bh=new _t;function qn(t,e,n,i){var r=t.state.keySeq;if(r){if(qo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:bh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Xo(t,r+" "+e,n,i))return!0}return Xo(t,e,n,i)}function Xo(t,e,n,i){var r=mh(t,e,i);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,n),(r=="handled"||r=="multi")&&(re(n),_s(t)),!!r}function \$o(t,e){var n=Uo(e,!0);return n?e.shiftKey&&!t.state.keySeq?qn(t,"Shift-"+n,e,function(i){return Ar(t,i,!0)})||qn(t,n,e,function(i){if(typeof i=="string"?/^go[A-Z]/.test(i):i.motion)return Ar(t,i)}):qn(t,n,e,function(i){return Ar(t,i)}):!1}function yh(t,e,n){return qn(t,"'"+n+"'",e,function(i){return Ar(t,i,!0)})}var Rs=null;function Yo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&w<11&&t.keyCode==27&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=n==16||t.shiftKey;var i=\$o(e,t);b&&(Rs=i?n:null,!i&&n==88&&!Ie&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),l&&!z&&!i&&n==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&wh(e)}}function wh(t){var e=t.display.lineDiv;A(e,"CodeMirror-crosshair");function n(i){(i.keyCode==18||!i.altKey)&&(R(e,"CodeMirror-crosshair"),ne(document,"keyup",n),ne(document,"mouseover",n))}it(document,"keyup",n),it(document,"mouseover",n)}function Qo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Zo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(b&&n==Rs){Rs=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&\$o(e,t))){var r=String.fromCharCode(i??n);r!="\\b"&&(yh(e,t,r)||e.display.input.onKeyPress(t))}}}var xh=400,Fs=function(t,e,n){this.time=t,this.pos=e,this.button=n};Fs.prototype.compare=function(t,e,n){return this.time+xh>t&&G(e,this.pos)==0&&n==this.button};var jn,Un;function kh(t,e){var n=+new Date;return Un&&Un.compare(n,t,e)?(jn=Un=null,"triple"):jn&&jn.compare(n,t,e)?(Un=new Fs(n,t,e),jn=null,"double"):(jn=new Fs(n,t,e),Un=null,"single")}function Jo(t){var e=this,n=e.display;if(!(zt(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=t.shiftKey,Ve(n,t)){p||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Ds(e,t)){var i=Ti(e,t),r=gn(t),a=i?kh(i,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(i&&Sh(e,r,i,a,t))&&(r==1?i?Th(e,i,a,t):fe(t)==n.scroller&&re(t):r==2?(i&&xr(e.doc,i),setTimeout(function(){return n.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):ps(e)))}}}function Sh(t,e,n,i,r){var a="Click";return i=="double"?a="Double"+a:i=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,qn(t,jo(a,r),r,function(o){if(typeof o=="string"&&(o=Hn[o]),!o)return!1;var c=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),c=o(t,n)!=Et}finally{t.state.suppressEdits=!1}return c})}function Eh(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(r.unit==null){var a=H?n.shiftKey&&n.metaKey:n.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),r.addNew==null&&(r.addNew=z?n.metaKey:n.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?n.altKey:n.ctrlKey)),r}function Th(t,e,n,i){S?setTimeout(kt(Ja,t),0):t.curOp.focus=lt(wt(t));var r=Eh(t,n,i),a=t.doc.sel,o;t.options.dragDrop&&Gr&&!t.isReadOnly()&&n=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Ch(t,i,e,r):Ah(t,i,e,r)}function Ch(t,e,n,i){var r=t.display,a=!1,o=Zt(t,function(m){p&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ps(t)),ne(r.wrapper.ownerDocument,"mouseup",o),ne(r.wrapper.ownerDocument,"mousemove",c),ne(r.scroller,"dragstart",_),ne(r.scroller,"drop",o),a||(re(m),i.addNew||xr(t.doc,n,null,null,i.extend),p&&!F||S&&w==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),c=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},_=function(){return a=!0};p&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!i.moveOnDrag,it(r.wrapper.ownerDocument,"mouseup",o),it(r.wrapper.ownerDocument,"mousemove",c),it(r.scroller,"dragstart",_),it(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Vo(t,e,n){if(n=="char")return new Ot(e,e);if(n=="word")return t.findWordAt(e);if(n=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var i=n(t,e);return new Ot(i.from,i.to)}function Ah(t,e,n,i){S&&ps(t);var r=t.display,a=t.doc;re(e);var o,c,_=a.sel,m=_.ranges;if(i.addNew&&!i.extend?(c=a.sel.contains(n),c>-1?o=m[c]:o=new Ot(n,n)):(o=a.sel.primary(),c=a.sel.primIndex),i.unit=="rectangle")i.addNew||(o=new Ot(n,n)),n=Ti(t,e,!0,!0),c=-1;else{var N=Vo(t,n,i.unit);i.extend?o=Cs(o,N.anchor,N.head,i.extend):o=N}i.addNew?c==-1?(c=m.length,se(a,De(t,m.concat([o]),c),{scroll:!1,origin:"*mouse"})):m.length>1&&m[c].empty()&&i.unit=="char"&&!i.extend?(se(a,De(t,m.slice(0,c).concat(m.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),_=a.sel):As(a,c,o,Ee):(c=0,se(a,new Se([o],0),Ee),_=a.sel);var M=n;function j(et){if(G(M,et)!=0)if(M=et,i.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(a,n.line).text,n.ch,gt),xt=at(ct(a,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(n.line,et.line),ye=Math.min(t.lastLine(),Math.max(n.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Ut=xe(de,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):de.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,xe(de,Vt,gt))))}ut.length||ut.push(new Ot(n,n)),se(a,De(t,_.ranges.slice(0,c).concat(ut),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ie=Vo(t,et,i.unit),\$t=ge.anchor,Kt;G(ie.anchor,\$t)>0?(Kt=ie.head,\$t=Xt(ge.from(),ie.anchor)):(Kt=ie.anchor,\$t=Ct(ge.to(),ie.head));var qt=_.ranges.slice(0);qt[c]=Lh(t,new Ot(yt(a,\$t),Kt)),se(a,De(t,qt,c),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=Ti(t,et,!0,i.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=gr(r,a);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ne(r.wrapper.ownerDocument,"mousemove",tt),ne(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!gn(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,it(r.wrapper.ownerDocument,"mousemove",tt),it(r.wrapper.ownerDocument,"mouseup",st)}function Lh(t,e){var n=e.anchor,i=e.head,r=ct(t.doc,n.line);if(G(n,i)==0&&n.sticky==i.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,n.ch,n.sticky),c=a[o];if(c.from!=n.ch&&c.to!=n.ch)return e;var _=o+(c.from==n.ch==(c.level!=1)?0:1);if(_==0||_==a.length)return e;var m;if(i.line!=n.line)m=(i.line-n.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,i.ch,i.sticky),M=N-o||(i.ch-n.ch)*(c.level==1?-1:1);N==_-1||N==_?m=M<0:m=M>0}var j=a[_+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return n.ch==X&&n.sticky==Y?e:new Ot(new B(n.line,X,Y),i)}function tu(t,e,n,i){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&re(e);var o=t.display,c=o.lineDiv.getBoundingClientRect();if(a>c.bottom||!oe(t,n))return dn(e);a-=c.top-o.viewOffset;for(var _=0;_<t.display.gutterSpecs.length;++_){var m=o.gutters.childNodes[_];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),M=t.display.gutterSpecs[_];return Mt(t,n,t,N,M.className,e),dn(e)}}}function Ds(t,e){return tu(t,e,"gutterClick",!0)}function eu(t,e){Ve(t.display,e)||Oh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Oh(t,e){return oe(t,"gutterContextMenu")?tu(t,e,"gutterContextMenu",!1):!1}function iu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Sn(t)}var rn={toString:function(){return"CodeMirror.Init"}},nu={},Lr={};function Nh(t){var e=t.optionHandlers;function n(i,r,a,o){t.defaults[i]=r,a&&(e[i]=o?function(c,_,m){m!=rn&&a(c,_,m)}:a)}t.defineOption=n,t.Init=rn,n("value","",function(i,r){return i.setValue(r)},!0),n("mode",null,function(i,r){i.doc.modeOption=r,Ss(i)},!0),n("indentUnit",2,Ss,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(i){Rn(i),Sn(i),_e(i)},!0),n("lineSeparator",null,function(i,r){if(i.doc.lineSep=r,!!r){var a=[],o=i.doc.first;i.doc.iter(function(_){for(var m=0;;){var N=_.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(B(o,N))}o++});for(var c=a.length-1;c>=0;c--)Vi(i.doc,r,a[c],B(a[c].line,a[c].ch+r.length))}}),n("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(i,r,a){i.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=rn&&i.refresh()}),n("specialCharPlaceholder",al,function(i){return i.refresh()},!0),n("electricChars",!0),n("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(i,r){return i.getInputField().spellcheck=r},!0),n("autocorrect",!1,function(i,r){return i.getInputField().autocorrect=r},!0),n("autocapitalize",!1,function(i,r){return i.getInputField().autocapitalize=r},!0),n("rtlMoveVisually",!U),n("wholeLineUpdateBefore",!0),n("theme","default",function(i){iu(i),Nn(i)},!0),n("keyMap","default",function(i,r,a){var o=Cr(r),c=a!=rn&&Cr(a);c&&c.detach&&c.detach(i,o),o.attach&&o.attach(i,c||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Fh,!0),n("gutters",[],function(i,r){i.display.gutterSpecs=xs(r,i.options.lineNumbers),Nn(i)},!0),n("fixedGutter",!0,function(i,r){i.display.gutters.style.left=r?hs(i.display)+"px":"0",i.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(i){return Yi(i)},!0),n("scrollbarStyle","native",function(i){ro(i),Yi(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),n("lineNumbers",!1,function(i,r){i.display.gutterSpecs=xs(i.options.gutters,r),Nn(i)},!0),n("firstLineNumber",1,Nn,!0),n("lineNumberFormatter",function(i){return i},Nn,!0),n("showCursorWhenSelecting",!1,En,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(i,r){r=="nocursor"&&(Xi(i),i.display.input.blur()),i.display.input.readOnlyChanged(r)}),n("screenReaderLabel",null,function(i,r){r=r===""?null:r,i.display.input.screenReaderLabelChanged(r)}),n("disableInput",!1,function(i,r){r||i.display.input.reset()},!0),n("dragDrop",!0,Rh),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,En,!0),n("singleCursorHeightPerLine",!0,En,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Rn,!0),n("addModeClass",!1,Rn,!0),n("pollInterval",100),n("undoDepth",200,function(i,r){return i.doc.history.undoDepth=r}),n("historyEventDelay",1250),n("viewportMargin",10,function(i){return i.refresh()},!0),n("maxHighlightLength",1e4,Rn,!0),n("moveInputWithCursor",!0,function(i,r){r||i.display.input.resetPosition()}),n("tabindex",null,function(i,r){return i.display.input.getField().tabIndex=r||""}),n("autofocus",null),n("direction","ltr",function(i,r){return i.doc.setDirection(r)},!0),n("phrases",null)}function Rh(t,e,n){var i=n&&n!=rn;if(!e!=!i){var r=t.display.dragFunctions,a=e?it:ne;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Fh(t){t.options.lineWrapping?(A(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ts(t)),cs(t),_e(t),Sn(t),setTimeout(function(){return Yi(t)},100)}function Pt(t,e){var n=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(nu,e,!1);var i=e.value;typeof i=="string"?i=new pe(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Gl(t,i,r,e);a.wrapper.CodeMirror=this,iu(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ro(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&w<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Dh(this),ch(),Oi(this),this.curOp.forceUpdate=!0,po(this,i),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&ds(n)},20):Xi(this);for(var o in Lr)Lr.hasOwnProperty(o)&&Lr[o](this,e[o],rn);oo(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ms.length;++c)Ms[c](this);Ni(this),p&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=nu,Pt.optionHandlers=Lr;function Dh(t){var e=t.display;it(e.scroller,"mousedown",Zt(t,Jo)),S&&w<11?it(e.scroller,"dblclick",Zt(t,function(_){if(!zt(t,_)){var m=Ti(t,_);if(!(!m||Ds(t,_)||Ve(t.display,_))){re(_);var N=t.findWordAt(m);xr(t.doc,N.anchor,N.head)}}})):it(e.scroller,"dblclick",function(_){return zt(t,_)||re(_)}),it(e.scroller,"contextmenu",function(_){return eu(t,_)}),it(e.input.getField(),"contextmenu",function(_){e.scroller.contains(_.target)||eu(t,_)});var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),i=e.activeTouch,i.end=+new Date)}function a(_){if(_.touches.length!=1)return!1;var m=_.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(_,m){if(m.left==null)return!0;var N=m.left-_.left,M=m.top-_.top;return N*N+M*M>20*20}it(e.scroller,"touchstart",function(_){if(!zt(t,_)&&!a(_)&&!Ds(t,_)){e.input.ensurePolled(),clearTimeout(n);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-i.end<=300?i:null},_.touches.length==1&&(e.activeTouch.left=_.touches[0].pageX,e.activeTouch.top=_.touches[0].pageY)}}),it(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),it(e.scroller,"touchend",function(_){var m=e.activeTouch;if(m&&!Ve(e,_)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||o(m,m.prev)?M=new Ot(N,N):!m.prev.prev||o(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),re(_)}r()}),it(e.scroller,"touchcancel",r),it(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Cn(t,e.scroller.scrollTop),Ai(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),it(e.scroller,"mousewheel",function(_){return ho(t,_)}),it(e.scroller,"DOMMouseScroll",function(_){return ho(t,_)}),it(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(_){zt(t,_)||Xe(_)},over:function(_){zt(t,_)||(hh(t,_),Xe(_))},start:function(_){return lh(t,_)},drop:Zt(t,uh),leave:function(_){zt(t,_)||Bo(t)}};var c=e.input.getField();it(c,"keyup",function(_){return Qo.call(t,_)}),it(c,"keydown",Zt(t,Yo)),it(c,"keypress",Zt(t,Zo)),it(c,"focus",function(_){return ds(t,_)}),it(c,"blur",function(_){return Xi(t,_)})}var Ms=[];Pt.defineInitHook=function(t){return Ms.push(t)};function Kn(t,e,n,i){var r=t.doc,a;n==null&&(n="add"),n=="smart"&&(r.mode.indent?a=bn(t,e).state:n="prev");var o=t.options.tabSize,c=ct(r,e),_=at(c.text,null,o);c.stateAfter&&(c.stateAfter=null);var m=c.text.match(/^\\s*/)[0],N;if(!i&&!/\\S/.test(c.text))N=0,n="not";else if(n=="smart"&&(N=r.mode.indent(a,c.text.slice(m.length),c.text),N==Et||N>150)){if(!i)return;n="prev"}n=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:n=="add"?N=_+t.options.indentUnit:n=="subtract"?N=_-t.options.indentUnit:typeof n=="number"&&(N=_+n),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return Vi(r,M,B(e,0),B(e,m.length),"+input"),c.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);As(r,X,new Ot(V,V));break}}}var Me=null;function Or(t){Me=t}function Ps(t,e,n,i,r){var a=t.doc;t.display.shift=!1,i||(i=a.sel);var o=+new Date-200,c=r=="paste"||t.state.pasteIncoming>o,_=vn(e),m=null;if(c&&i.ranges.length>1)if(Me&&Me.text.join(\`
\`)==e){if(i.ranges.length%Me.text.length==0){m=[];for(var N=0;N<Me.text.length;N++)m.push(a.splitLines(Me.text[N]))}}else _.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(_,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=i.ranges.length-1;j>=0;j--){var q=i.ranges[j],X=q.from(),Y=q.to();q.empty()&&(n&&n>0?X=B(X.line,X.ch-n):t.state.overwrite&&!c?Y=B(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+mt(_).length)):c&&Me&&Me.lineWise&&Me.text.join(\`
\`)==_.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:_,origin:r||(c?"paste":t.state.cutIncoming>o?"cut":"+input")};Ji(t.doc,V),Qt(t,"inputRead",t,V)}e&&!c&&su(t,e),\$i(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function ru(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Ps(e,n,0,null,"paste")}),!0}function su(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var c=0;c<a.electricChars.length;c++)if(e.indexOf(a.electricChars.charAt(c))>-1){o=Kn(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Kn(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function au(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,a={anchor:B(r,0),head:B(r+1,0)};n.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:n}}function Ws(t,e,n,i){t.setAttribute("autocorrect",n?"on":"off"),t.setAttribute("autocapitalize",i?"on":"off"),t.setAttribute("spellcheck",!!e)}function ou(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function Mh(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(i,r){var a=this.options,o=a[i];a[i]==r&&i!="mode"||(a[i]=r,e.hasOwnProperty(i)&&Zt(this,e[i])(this,r,o),Mt(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,r){this.state.keyMaps[r?"push":"unshift"](Cr(i))},removeKeyMap:function(i){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==i||r[a].name==i)return r.splice(a,1),!0},addOverlay:le(function(i,r){var a=i.token?i:t.getMode(this.options,i);if(a.startState)throw new Error("Overlays may not be stateful.");ai(this.state.overlays,{mode:a,modeSpec:i,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(i){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==i||typeof i=="string"&&o.name==i){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(i,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),x(this.doc,i)&&Kn(this,i,r,a)}),indentSelection:le(function(i){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var c=r[o];if(c.empty())c.head.line>a&&(Kn(this,c.head.line,i,!0),a=c.head.line,o==this.doc.sel.primIndex&&\$i(this));else{var _=c.from(),m=c.to(),N=Math.max(a,_.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<a;++M)Kn(this,M,i);var j=this.doc.sel.ranges;_.ch==0&&r.length==j.length&&j[o].from().ch>0&&As(this.doc,o,new Ot(_,j[o].to()),Rt)}}}),getTokenAt:function(i,r){return ga(this,i,r)},getLineTokens:function(i,r){return ga(this,B(i),r,!0)},getTokenTypeAt:function(i){i=yt(this.doc,i);var r=_a(this,ct(this.doc,i.line)),a=0,o=(r.length-1)/2,c=i.ch,_;if(c==0)_=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=c)o=m;else if(r[m*2+1]<c)a=m+1;else{_=r[m*2+2];break}}var N=_?_.indexOf("overlay "):-1;return N<0?_:N==0?null:_.slice(0,N-1)},getModeAt:function(i){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(i).state).mode:r},getHelper:function(i,r){return this.getHelpers(i,r)[0]},getHelpers:function(i,r){var a=[];if(!n.hasOwnProperty(r))return a;var o=n[r],c=this.getModeAt(i);if(typeof c[r]=="string")o[c[r]]&&a.push(o[c[r]]);else if(c[r])for(var _=0;_<c[r].length;_++){var m=o[c[r][_]];m&&a.push(m)}else c.helperType&&o[c.helperType]?a.push(o[c.helperType]):o[c.name]&&a.push(o[c.name]);for(var N=0;N<o._global.length;N++){var M=o._global[N];M.pred(c,this)&&vt(a,M.val)==-1&&a.push(M.val)}return a},getStateAfter:function(i,r){var a=this.doc;return i=ke(a,i??a.first+a.size-1),bn(this,i+1,r).state},cursorCoords:function(i,r){var a,o=this.doc.sel.primary();return i==null?a=o.head:typeof i=="object"?a=yt(this.doc,i):a=i?o.from():o.to(),Fe(this,a,r||"page")},charCoords:function(i,r){return fr(this,yt(this.doc,i),r||"page")},coordsChar:function(i,r){return i=Ka(this,i,r||"page"),os(this,i.left,i.top)},lineAtHeight:function(i,r){return i=Ka(this,{top:i,left:0},r||"page").top,ze(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,r,a){var o=!1,c;if(typeof i=="number"){var _=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>_&&(i=_,o=!0),c=ct(this.doc,i)}else c=i;return cr(this,c,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Je(c):0)},defaultTextHeight:function(){return Ki(this.display)},defaultCharWidth:function(){return Gi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,r,a,o,c){var _=this.display;i=Fe(this,yt(this.doc,i));var m=i.bottom,N=i.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),_.sizer.appendChild(r),o=="over")m=i.top;else if(o=="above"||o=="near"){var M=Math.max(_.wrapper.clientHeight,this.doc.height),j=Math.max(_.sizer.clientWidth,_.lineSpace.clientWidth);(o=="above"||i.bottom+r.offsetHeight>M)&&i.top>r.offsetHeight?m=i.top-r.offsetHeight:i.bottom+r.offsetHeight<=M&&(m=i.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",c=="right"?(N=_.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(c=="left"?N=0:c=="middle"&&(N=(_.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Rl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Yo),triggerOnKeyPress:le(Zo),triggerOnKeyUp:Qo,triggerOnMouseDown:le(Jo),execCommand:function(i){if(Hn.hasOwnProperty(i))return Hn[i].call(null,this)},triggerElectric:le(function(i){su(this,i)}),findPosH:function(i,r,a,o){var c=1;r<0&&(c=-1,r=-r);for(var _=yt(this.doc,i),m=0;m<r&&(_=Is(this.doc,_,c,a,o),!_.hitSide);++m);return _},moveH:le(function(i,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?Is(a.doc,o.head,i,r,a.options.rtlMoveVisually):i<0?o.from():o.to()},we)}),deleteH:le(function(i,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):nn(this,function(c){var _=Is(o,c.head,i,r,!1);return i<0?{from:_,to:c.head}:{from:c.head,to:_}})}),findPosV:function(i,r,a,o){var c=1,_=o;r<0&&(c=-1,r=-r);for(var m=yt(this.doc,i),N=0;N<r;++N){var M=Fe(this,m,"div");if(_==null?_=M.left:M.left=_,m=uu(this,M,c,a),m.hitSide)break}return m},moveV:le(function(i,r){var a=this,o=this.doc,c=[],_=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(_)return i<0?N.from():N.to();var M=Fe(a,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),c.push(M.left);var j=uu(a,M,i,r);return r=="page"&&N==o.sel.primary()&&vs(a,fr(a,j,"div").top-M.top),j},we),c.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=c[m]}),findWordAt:function(i){var r=this.doc,a=ct(r,i.line).text,o=i.ch,c=i.ch;if(a){var _=this.getHelper(i,"wordChars");(i.sticky=="before"||c==a.length)&&o?--o:++c;for(var m=a.charAt(o),N=Wi(m,_)?function(M){return Wi(M,_)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!Wi(M)};o>0&&N(a.charAt(o-1));)--o;for(;c<a.length&&N(a.charAt(c));)++c}return new Ot(B(i.line,o),B(i.line,c))},toggleOverwrite:function(i){i!=null&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(i,r){Tn(this,i,r)}),getScrollInfo:function(){var i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-qe(this)-this.display.barHeight,width:i.scrollWidth-qe(this)-this.display.barWidth,clientHeight:ns(this),clientWidth:Si(this)}},scrollIntoView:le(function(i,r){i==null?(i={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof i=="number"?i={from:B(i,0),to:null}:i.from==null&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=r||0,i.from.line!=null?Fl(this,i):to(this,i.from,i.to,i.margin)}),setSize:le(function(i,r){var a=this,o=function(_){return typeof _=="number"||/^\\d+\$/.test(String(_))?_+"px":_};i!=null&&(this.display.wrapper.style.width=o(i)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&qa(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(_){if(_.widgets){for(var m=0;m<_.widgets.length;m++)if(_.widgets[m].noHScroll){fi(a,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(i){return be(this,i)},startOperation:function(){return Oi(this)},endOperation:function(){return Ni(this)},refresh:le(function(){var i=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,Sn(this),Tn(this,this.doc.scrollLeft,this.doc.scrollTop),ys(this.display),(i==null||Math.abs(i-Ki(this.display))>.5||this.options.lineWrapping)&&cs(this),Mt(this,"refresh",this)}),swapDoc:le(function(i){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),po(this,i),Sn(this),this.display.input.reset(),Tn(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(i){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,i)?r[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(i,r,a){n.hasOwnProperty(i)||(n[i]=t[i]={_global:[]}),n[i][r]=a},t.registerGlobalHelper=function(i,r,a,o){t.registerHelper(i,r,o),n[i]._global.push({pred:a,val:o})}}function Is(t,e,n,i,r){var a=e,o=n,c=ct(t,e.line),_=r&&t.direction=="rtl"?-n:n;function m(){var st=e.line+_;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),c=ct(t,st))}function N(st){var et;if(i=="codepoint"){var ut=c.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(ut))et=null;else{var gt=n>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(c.text.length,e.ch+n*(gt?2:1))),-n)}}else r?et=gh(t.cm,c,e,n):et=Os(c,e,n);if(et==null)if(!st&&m())e=Ns(r,t.cm,c,e.line,_);else return!1;else e=et;return!0}if(i=="char"||i=="codepoint")N();else if(i=="column")N(!0);else if(i=="word"||i=="group")for(var M=null,j=i=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(n<0&&!N(!X));X=!1){var Y=c.text.charAt(e.ch)||\`
\`,V=Wi(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){n<0&&(n=1,N(),e.sticky="after");break}if(V&&(M=V),n>0&&!N(!X))break}var tt=Sr(t,e,a,o,!0);return bt(a,tt)&&(tt.hitSide=!0),tt}function uu(t,e,n,i){var r=t.doc,a=e.left,o;if(i=="page"){var c=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),_=Math.max(c-.5*Ki(t.display),3);o=(n>0?e.bottom:e.top)+n*_}else i=="line"&&(o=n>0?e.bottom+3:e.top-3);for(var m;m=os(t,a,o),!!m.outside;){if(n<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=n*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;r.contentEditable=!0,Ws(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize);function a(c){for(var _=c.target;_;_=_.parentNode){if(_==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(_.className))break}return!1}it(r,"paste",function(c){!a(c)||zt(i,c)||ru(c,i)||w<=11&&setTimeout(Zt(i,function(){return e.updateFromDOM()}),20)}),it(r,"compositionstart",function(c){e.composing={data:c.data,done:!1}}),it(r,"compositionupdate",function(c){e.composing||(e.composing={data:c.data,done:!1})}),it(r,"compositionend",function(c){e.composing&&(c.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),it(r,"touchstart",function(){return n.forceCompositionEnd()}),it(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(c){if(!(!a(c)||zt(i,c))){if(i.somethingSelected())Or({lineWise:!1,text:i.getSelections()}),c.type=="cut"&&i.replaceSelection("",null,"cut");else if(i.options.lineWiseCopyCut){var _=au(i);Or({lineWise:!0,text:_.text}),c.type=="cut"&&i.operation(function(){i.setSelections(_.ranges,0,Rt),i.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var m=Me.text.join(\`
\`);if(c.clipboardData.setData("Text",m),c.clipboardData.getData("Text")==m){c.preventDefault();return}}var N=ou(),M=N.firstChild;Ws(M),i.display.lineSpace.insertBefore(N,i.display.lineSpace.firstChild),M.value=Me.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){i.display.lineSpace.removeChild(N),j.focus(),j==r&&n.showPrimarySelection()},50)}}it(r,"copy",o),it(r,"cut",o)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Za(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Nr(e,t.anchorNode,t.anchorOffset),o=Nr(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),i)==0&&G(Ct(a,o),r)==0)){var c=e.display.view,_=i.line>=e.display.viewFrom&&lu(e,i)||{node:c[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&lu(e,r);if(!m){var N=c[c.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!_||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=nt(_.node,_.offset,m.offset,m.node)}catch{}q&&(!l&&e.state.focused?(t.collapse(_.node,_.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):l&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function n(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Ph(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Nr(e,t.anchorNode,t.anchorOffset),i=Nr(e,t.focusNode,t.focusOffset);n&&i&&be(e,function(){se(e.doc,pi(n,i),Rt),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,n=t.doc.sel.primary(),i=n.from(),r=n.to();if(i.ch==0&&i.line>t.firstLine()&&(i=B(i.line-1,ct(t.doc,i.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),i.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,c;i.line==e.viewFrom||(a=Ci(t,i.line))==0?(o=Lt(e.view[0].line),c=e.view[0].node):(o=Lt(e.view[a].line),c=e.view[a-1].node.nextSibling);var _=Ci(t,r.line),m,N;if(_==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[_+1].line)-1,N=e.view[_+1].node.previousSibling),!c)return!1;for(var M=t.doc.splitLines(Wh(t,c,N,o,m)),j=Qe(t.doc,B(o,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&o==i.line)for(;q&&q>i.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(o,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return Vi(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Ps)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function lu(t,e){var n=rs(t,e.line);if(!n||n.hidden)return null;var i=ct(t.doc,e.line),r=Wa(n,i,e.line),a=Ce(i,t.doc.direction),o="left";if(a){var c=Te(a,e.ch);o=c%2?"right":"left"}var _=za(r.map,e.ch,o);return _.offset=_.collapse=="right"?_.end:_.start,_}function Ph(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function sn(t,e){return e&&(t.bad=!0),t}function Wh(t,e,n,i,r){var a="",o=!1,c=t.doc.lineSeparator(),_=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=c,_&&(a+=c),o=_=!1)}function M(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(i,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(c));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(_=!0),st&&(o=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=n;)e=e.nextSibling,_=!1;return a}function Nr(t,e,n){var i;if(e==t.display.lineDiv){if(i=t.display.lineDiv.childNodes[n],!i)return sn(t.clipPos(B(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==i)return Ih(a,e,n)}}function Ih(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!J(i,e))return sn(B(Lt(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?mt(t.rest):t.line;return sn(B(Lt(a),a.text.length),r)}var o=e.nodeType==3?e:null,c=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,n&&(n=o.nodeValue.length));c.parentNode!=i;)c=c.parentNode;var _=t.measure,m=_.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?_.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(o,c,n);if(M)return sn(M,r);for(var j=c.nextSibling,q=o?o.nodeValue.length-n:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return sn(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=c.previousSibling,Y=n;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return sn(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),it(r,"input",function(){S&&w>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),it(r,"paste",function(o){zt(i,o)||ru(o,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())});function a(o){if(!zt(i,o)){if(i.somethingSelected())Or({lineWise:!1,text:i.getSelections()});else if(i.options.lineWiseCopyCut){var c=au(i);Or({lineWise:!0,text:c.text}),o.type=="cut"?i.setSelections(c.ranges,null,Rt):(n.prevInput="",r.value=c.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(i.state.cutIncoming=+new Date)}}it(r,"cut",a),it(r,"copy",a),it(t.scroller,"paste",function(o){if(!(Ve(t,o)||zt(i,o))){if(!r.dispatchEvent){i.state.pasteIncoming=+new Date,n.focus();return}var c=new Event("paste");c.clipboardData=o.clipboardData,r.dispatchEvent(c)}}),it(t.lineSpace,"selectstart",function(o){Ve(t,o)||re(o)}),it(r,"compositionstart",function(){var o=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:o,range:i.markText(o,i.getCursor("to"),{className:"CodeMirror-composing"})}}),it(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},jt.prototype.createField=function(t){this.wrapper=ou(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Ws(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=Za(t);if(t.options.moveInputWithCursor){var r=Fe(t,n.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return i},jt.prototype.showSelection=function(t){var e=this.cm,n=e.display;K(n.cursorDiv,t.cursors),K(n.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&dt(this.textarea),S&&w>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",S&&w>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function n(){var i=e.poll();!i&&!t?(t=!0,e.polling.set(60,n)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,n)},jt.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||oi(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(S&&w>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!i&&(i="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,c=Math.min(i.length,r.length);o<c&&i.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Ps(e,r.slice(o),i.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&w>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Ti(n,t),o=i.scroller.scrollTop;if(!a||b)return;var c=n.options.resetSelectionOnContextMenu;c&&n.doc.sel.contains(a)==-1&&Zt(n,se)(n.doc,pi(a),Rt);var _=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;p&&(M=r.ownerDocument.defaultView.scrollY),i.input.focus(),p&&r.ownerDocument.defaultView.scrollTo(null,M),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=n.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,i.selForContextMenu=n.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=_,S&&w<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&w<9)&&j();var Y=0,V=function(){i.selForContextMenu==n.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(n,Ao)(n):Y++<10?i.detectingSelectAll=setTimeout(V,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(V,200)}}if(S&&w>=9&&j(),rt){Xe(t);var X=function(){ne(window,"mouseup",X),setTimeout(q,20)};it(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Bh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var n=lt(t.ownerDocument);e.autofocus=n==t||t.getAttribute("autofocus")!=null&&n==document.body}function i(){t.value=c.getValue()}var r;if(t.form&&(it(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){i(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(_){_.save=i,_.getTextArea=function(){return t},_.toTextArea=function(){_.toTextArea=isNaN,i(),t.parentNode.removeChild(_.getWrapperElement()),t.style.display="",t.form&&(ne(t.form,"submit",i),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var c=Pt(function(_){return t.parentNode.insertBefore(_,t.nextSibling)},e);return c}function zh(t){t.off=ne,t.on=it,t.wheelEventPixels=Xl,t.Doc=pe,t.splitLines=vn,t.countColumn=at,t.findColumn=xe,t.isWordChar=fn,t.Pass=Et,t.signal=Mt,t.Line=qi,t.changeEnd=di,t.scrollbarModel=no,t.Pos=B,t.cmpPos=G,t.modes=Ne,t.mimeModes=ui,t.resolveMode=me,t.getMode=\$e,t.modeExtensions=li,t.extendMode=ir,t.copyState=Ye,t.startState=mn,t.innerMode=hi,t.commands=Hn,t.keyMap=ei,t.keyName=Uo,t.isModifierKey=qo,t.lookupKey=en,t.normalizeKeyMap=dh,t.StringStream=Ht,t.SharedTextMarker=In,t.TextMarker=vi,t.LineWidget=Wn,t.e_preventDefault=re,t.e_stopPropagation=ki,t.e_stop=Xe,t.addClass=A,t.contains=J,t.rmClass=R,t.keyNames=mi}Nh(Pt),Mh(Pt);var Hh="iter insert remove copy getEditor constructor".split(" ");for(var Rr in pe.prototype)pe.prototype.hasOwnProperty(Rr)&&vt(Hh,Rr)<0&&(Pt.prototype[Rr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Rr]));return ue(pe),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),er.apply(this,arguments)},Pt.defineMIME=zi,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Bh,zh(Pt),Pt.version="5.65.12",Pt});const qh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},jh=(()=>{let g=[];return Object.values(qh).forEach(s=>{s.middle&&(g.push(s.general.code),g.push(s.middle.code),g.push(s.beginning.code))}),g})();function Fr(g){let s=[];return g.split("").forEach(l=>{jh.includes(l)?s.push(\`\${l}ـ*\`):l==="ـ"||s.push(l)}),s.join("")}function Ys(g){return(""+g).split("").map(E=>{switch(E){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Uh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],ta={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ea={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ia={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Kh={...ta,...ea,...ia},Gh="[\\\\p{L}_]",Xh="[\\\\p{L}\\\\p{N}_]",qr=\`(?:\${Gh}\${Xh}*)\`,\$h="[^\\\\p{L}\\\\p{N}_]",na="[٠-٩]",Yh=\`(?:,\${na}+)\`,Qh=\`\${na}+\${Yh}?\`,ra="[0-9]",Zh=\`(?:\\\\.\${ra}+)\`,Au=\`\${ra}+\${Zh}?\`,Hs="\\\\\\\\",Dr="\\\\/",Mr="\\\\-",Gn="\\\\{",Xn="\\\\}",Jh="\\\\(",Vh="\\\\)",Qs="\\\\s",tc=\`\${Jh}?\${Qs}*\${Vh}?\`,ec=()=>RegExp(\`(?:(?:#|#)\${qr})\`,"u"),ic=()=>RegExp(\`(?:~\${qr}?\${Qs}*\${tc}\${Qs}*->)\`,"u"),Lu=[{regex:ec(),token:"meta"},{regex:ic(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Uh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Ou={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var l=[function(T,S,w){var p=w(1).Beautifier,h=w(5).Options;T.exports=function(u,f){return new p(u,f).beautify()},T.exports.defaultOptions=function(){return new h}},function(T,S,w){var p=w(2).Output,h=w(3).Token,u=w(4),f=w(5).Options,b=w(7).Tokenizer,F=w(7).line_starters,O=w(7).positionable_operators,d=w(7).TOKEN;function y(A,\$){return \$.indexOf(A)!==-1}function W(A,\$){return A&&A.type===d.RESERVED&&A.text===\$}function D(A,\$){return A&&A.type===d.RESERVED&&y(A.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(A){for(var \$={},dt=0;dt<A.length;dt++)\$[A[dt].replace(/-/g,"_")]=A[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(A,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||A.remove_indent(\$.start_line_index)}function Q(A){return A===I}function nt(A){return y(A,[K,R,k])}function J(A,\$){\$=\$||{},this._source_text=A||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new f(\$)}J.prototype.create_flags=function(A,\$){var dt=0;return A&&(dt=A.indentation_level,!this._output.just_added_newline()&&A.line_indent_level>dt&&(dt=A.line_indent_level)),{mode:\$,parent:A,last_token:A?A.last_token:new h(d.START_BLOCK,""),last_word:A?A.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:A?A.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(A){var \$=A.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new p(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(A,this._options));return this._tokens=\$.tokenize(),A},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var A=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,A&&u.lineBreak.test(A||"")&&(\$=A.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(A,\$){A.type===d.START_EXPR?this.handle_start_expr(A):A.type===d.END_EXPR?this.handle_end_expr(A):A.type===d.START_BLOCK?this.handle_start_block(A):A.type===d.END_BLOCK?this.handle_end_block(A):A.type===d.WORD||A.type===d.RESERVED?this.handle_word(A):A.type===d.SEMICOLON?this.handle_semicolon(A):A.type===d.STRING?this.handle_string(A):A.type===d.EQUALS?this.handle_equals(A):A.type===d.OPERATOR?this.handle_operator(A):A.type===d.COMMA?this.handle_comma(A):A.type===d.BLOCK_COMMENT?this.handle_block_comment(A,\$):A.type===d.COMMENT?this.handle_comment(A,\$):A.type===d.DOT?this.handle_dot(A):A.type===d.EOF?this.handle_eof(A):(A.type,d.UNKNOWN,this.handle_unknown(A,\$))},J.prototype.handle_whitespace_and_comments=function(A,\$){var dt=A.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(A.comments_before)for(var Nt=A.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=A.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(A,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&A.newlines||\$,(y(this._flags.last_token.text,O)||y(A.text,O))&&(A=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(A.text,O),\$=\$&&A),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(A,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==d.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(A)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(A){this._output.just_added_newline()&&(this._options.keep_array_indentation&&A.newlines&&(A.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(A.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(A){var \$;this._output.raw?this._output.add_raw_token(A):(this._options.comma_first&&A.previous&&A.previous.type===d.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(A),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(A),this._output.non_breaking_space=!0,this._output.add_token(A.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(A){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,A),this._flags=this.create_flags(this._previous_flags,A),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(A){return!!(D(this._flags.last_token,["var","let","const"])&&A.type===d.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!A.newlines||W(this._flags.last_token,"else")&&!(W(A,"if")&&!A.comments_before)||this._flags.last_token.type===d.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===d.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(A.text==="--"||A.text==="++")&&this._last_last_text!=="function"&&A.type!==d.WORD&&A.type!==d.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(A,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A,D(A,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A);var \$,dt,wt=K;if(A.text==="["){if(this._flags.last_token.type===d.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(A),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[d.START_EXPR,d.END_EXPR,d.WORD,d.OPERATOR,d.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===d.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&A.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===d.EQUALS||this._flags.last_token.type===d.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):this._flags.last_token.type===d.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(A),(this._flags.last_token.type===d.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===d.START_BLOCK?this.print_newline():this._flags.last_token.type!==d.END_EXPR&&this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==d.COMMA||this.allow_wrap_or_preserved_newline(A,A.newlines),this.print_token(A),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(A,A.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==d.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(A),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(A){this.handle_whitespace_and_comments(A);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===d.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[d.STRING,d.WORD,d.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[d.WORD,d.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==d.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[d.EQUALS,d.START_EXPR,d.COMMA,d.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===d.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==d.EOF&&(Nt.type!==d.END_BLOCK||Nt.opened!==A))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==d.OPERATOR&&(dt||this._flags.last_token.type===d.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.COMMA||(this._flags.last_token.type!==d.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===d.COMMA||this._flags.last_token.type===d.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(A),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==d.OPERATOR&&this._flags.last_token.type!==d.START_EXPR&&(y(this._flags.last_token.type,[d.START_BLOCK,d.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(A),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(A){for(this.handle_whitespace_and_comments(A);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===d.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(A)},J.prototype.handle_word=function(A){if(A.type===d.RESERVED&&(y(A.text,["set","get"])&&this._flags.mode!==rt||A.text==="import"&&y(this._tokens.peek().text,["(","."])||y(A.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(A.type=d.WORD),this.start_of_statement(A)?D(this._flags.last_token,["var","let","const"])&&A.type===d.WORD&&(this._flags.declaration_statement=!0):!A.newlines||nt(this._flags.mode)||this._flags.last_token.type===d.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===d.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(A):(this.handle_whitespace_and_comments(A),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(A,"while"))return this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(A,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(A,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(A),void(this._flags.in_case=!0);if(this._flags.last_token.type!==d.COMMA&&this._flags.last_token.type!==d.START_EXPR&&this._flags.last_token.type!==d.EQUALS&&this._flags.last_token.type!==d.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(A),W(A,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==d.OPERATOR)||this._output.just_added_blankline()||A.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===d.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(nt(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(A),void(this._flags.last_word=A.text);var \$="NONE";this._flags.last_token.type===d.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(A,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===d.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===d.SEMICOLON&&nt(this._flags.mode)?\$="SPACE":this._flags.last_token.type===d.STRING?\$="NEWLINE":this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===d.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===d.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(A,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(A,["else","catch","finally"])?(this._flags.last_token.type!==d.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(A,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==d.END_EXPR?this._flags.last_token.type===d.START_EXPR&&D(A,["var","let","const"])||this._flags.last_token.text===":"||(W(A,"if")&&W(A.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(A,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!A.previous||A.previous.type!==d.WORD&&A.previous.type!==d.RESERVED||(this._output.space_before_token=!0),this.print_token(A),this._flags.last_word=A.text,A.type===d.RESERVED&&(A.text==="do"?this._flags.do_block=!0:A.text==="if"?this._flags.if_block=!0:A.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(A,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(A){this.start_of_statement(A)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(A);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(A)},J.prototype.handle_string=function(A){A.text.startsWith("\`")&&A.newlines===0&&A.whitespace_before===""&&(A.previous.text===")"||this._flags.last_token.type===d.WORD)||(this.start_of_statement(A)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(A),this._flags.last_token.type===d.RESERVED||this._flags.last_token.type===d.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===d.COMMA||this._flags.last_token.type===d.START_EXPR||this._flags.last_token.type===d.EQUALS||this._flags.last_token.type===d.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):!A.text.startsWith("\`")||this._flags.last_token.type!==d.END_EXPR||A.previous.text!=="]"&&A.previous.text!==")"||A.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(A)},J.prototype.handle_equals=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0},J.prototype.handle_comma=function(A){this.handle_whitespace_and_comments(A,!0),this.print_token(A),this._output.space_before_token=!0,this._flags.declaration_statement?(nt(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)},J.prototype.handle_operator=function(A){var \$=A.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[d.START_BLOCK,d.COMMA,d.END_BLOCK,d.SEMICOLON])),dt=y(A.text,["-","+"])&&(y(this._flags.last_token.type,[d.START_BLOCK,d.START_EXPR,d.EQUALS,d.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!\$),A.text==="*"&&this._flags.last_token.type===d.DOT)this.print_token(A);else if(A.text==="::")this.print_token(A);else if(y(A.text,["-","+"])&&this.start_of_object_property())this.print_token(A);else{if(this._flags.last_token.type===d.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(A),A.text===":"&&this._flags.in_case)return this.print_token(A),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==d.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(A.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):A.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(A.text,O)){var ft=A.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(A),ft&&!at||this.allow_wrap_or_preserved_newline(A),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(A):this._output.space_before_token=!1,this.print_token(A),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(A),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(A),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(A),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[d.WORD,d.RESERVED])):A.text==="..."?(this.allow_wrap_or_preserved_newline(A),wt=this._flags.last_token.type===d.START_BLOCK,Nt=!1):(y(A.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==d.COMMA&&this._flags.last_token.type!==d.START_EXPR||this.allow_wrap_or_preserved_newline(A),Nt=wt=!1,!A.newlines||A.text!=="--"&&A.text!=="++"&&A.text!=="~"||((\$=D(this._flags.last_token,z)&&A.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&nt(this._flags.mode)&&(wt=!0),this._flags.last_token.type===d.RESERVED?wt=!0:this._flags.last_token.type===d.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(A.text==="--"||A.text==="++")):this._flags.last_token.type===d.OPERATOR&&(wt=y(A.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(A.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(A),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(A,\$){return this._output.raw?(this._output.add_raw_token(A),void(A.directives&&A.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):A.directives?(this.print_newline(!1,\$),this.print_token(A),A.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(A.text)||A.newlines?this.print_block_commment(A,\$):(this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(A,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)vt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(A.text),ft=A.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(A),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ee,Et=0,Rt=_t.length;Et<Rt;Et++)if((ee=_t[Et])&&ee.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(A,\$){A.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(A),this.print_newline(!1,\$)},J.prototype.handle_dot=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(A,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(A)},J.prototype.handle_unknown=function(A,\$){this.print_token(A),A.text[A.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A)},T.exports.Beautifier=J},function(T){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(h,u){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),u=u||"",0<h.indent_level&&(u=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function p(h,u){this.__indent_cache=new w(h,u),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(h))return!0;return!1},S.prototype.set_indent=function(h,u){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var u=h.lastIndexOf(\`
\`);u!==-1?this.__character_count=h.length-u:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},w.prototype.get_indent_size=function(h,u){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(h,u){var f=this.__base_string;return u=u||0,h<0&&(h=0,f=""),u+=h*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},w.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var h,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(h=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,u){return this.__indent_cache.get_indent_string(h,u)},p.prototype.get_indent_size=function(h,u){return this.__indent_cache.get_indent_size(h,u)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=h!==\`
\`?u.replace(/[\\n]/g,h):u},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,u){return this.next_line.set_indent(h=h||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(h,u),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var u=0;u<h.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var u=this.__lines.length;h<u;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},T.exports.Output=p},function(T){T.exports.Token=function(S,w,p,h){this.type=S,this.text=w,this.comments_before=null,this.newlines=p||0,this.whitespace_before=h||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(T,S){var w="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",p="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",h="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",f="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+p+"])";S.identifier=new RegExp(f+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(f),S.identifierMatch=new RegExp("(?:"+u+"|["+w+p+h+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(T,S,w){var p=w(6).Options,h=["before-newline","after-newline","preserve-newline"];function u(b){p.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",h),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new p,T.exports.Options=u},function(T){function S(h,u){this.raw_options=w(h,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(h,u){var f,b={};for(f in h=p(h))f!==u&&(b[f]=h[f]);if(u&&h[u])for(f in h[u])b[f]=h[u][f];return b}function p(h){var u,f={};for(u in h)f[u.replace(/-/g,"_")]=h[u];return f}S.prototype._get_array=function(h,u){return h=this.raw_options[h],u=u||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(u=h.concat()):typeof h=="string"&&(u=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(h,u){return h=this.raw_options[h],h===void 0?!!u:!!h},S.prototype._get_characters=function(h,u){return h=this.raw_options[h],u=u||"",u=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(h,u){return h=this.raw_options[h],u=parseInt(u,10),isNaN(u)&&(u=0),h=parseInt(h,10),h=isNaN(h)?u:h},S.prototype._get_selection=function(h,u,f){if(f=this._get_selection_list(h,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,u){return h.length&&u.length&&!h.some(function(f){return u.indexOf(f)===-1})},T.exports.Options=S,T.exports.normalizeOpts=p,T.exports.mergeOpts=w},function(T,S,U){var p=U(8).InputScanner,h=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),f=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,k){return k.indexOf(R)!==-1}function O(R,k){h.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new f(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var d,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new h)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},O.prototype._reset=function(){d=!1},O.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},O.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},O.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return d=!0,this._create_token(y.COMMENT,k)}}else if(d&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return d=!1,this._create_token(y.COMMENT,k);return null},O.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,nt=new p(K),J=null;nt.hasNext();)if((J=nt.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),nt.peek()==="\\\\"){if(nt.next(),nt.peek()==="x")J=nt.match(/x([0-9A-Fa-f]{2})/g);else{if(nt.peek()!=="u"){L+="\\\\",nt.hasNext()&&(L+=nt.next());continue}J=(J=nt.match(/u([0-9A-Fa-f]{4})/g))||nt.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),nt=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],A=L[2];if(!(L[L.length-1]||A.slice(0,8)==="![CDATA[")&&(A===Q||nt&&A.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,nt=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),nt+=J+=Q.read()}return nt},T.exports.Tokenizer=O,T.exports.TOKEN=y,T.exports.positionable_operators=U.slice(),T.exports.line_starters=ot.slice()},function(T){var S=RegExp.prototype.hasOwnProperty("sticky");function w(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},w.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},w.prototype.__match=function(p,h){p.lastIndex=h;var u=p.exec(this.__input);return!u||S&&p.sticky||u.index!==h&&(u=null),u},w.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},w.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},w.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},w.prototype.read=function(p,h,u){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,u)),b},w.prototype.readUntil=function(f,h){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,h&&(u+=f[0].length)):u=this.__input_length,h=this.__input.substring(this.__position,u),this.__position=u,h},w.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},w.prototype.get_regexp=function(p,f){var u=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?u=new RegExp(p,f):p&&(u=new RegExp(p.source,f)),u},w.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var h=this.__position,u=this.readUntilAfter(u);return this.__position=h,u},w.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},T.exports.InputScanner=w},function(T,S,w){function p(O,d){this._input=new h(O),this._options=d||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var h=w(8).InputScanner,u=w(3).Token,f=w(10).TokenStream,b=w(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};p.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f,this._reset();for(var O,d=new u(F.START,""),y=null,W=[],D=new f;d.type!==F.EOF;){for(O=this._get_next_token(d,y);this._is_comment(O);)D.add(O),O=this._get_next_token(d,y);D.isEmpty()||(O.comments_before=D,D=new f),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=d).next=O,this.__tokens.add(O),d=O}return this.__tokens},p.prototype._is_first_token=function(){return this.__tokens.isEmpty()},p.prototype._reset=function(){},p.prototype._get_next_token=function(O,d){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},p.prototype._is_comment=function(O){return!1},p.prototype._is_opening=function(O){return!1},p.prototype._is_closing=function(O,d){return!1},p.prototype._create_token=function(O,d){return new u(O,d,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},p.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},T.exports.Tokenizer=p,T.exports.TOKEN=F},function(T){function S(w){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=w}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var w=null;return this.hasNext()&&(w=this.__tokens[this.__position],this.__position+=1),w},S.prototype.peek=function(w){var p=null;return w=w||0,p=0<=(w+=this.__position)&&w<this.__tokens_length?this.__tokens[w]:p},S.prototype.add=function(w){this.__parent_token&&(w.parent=this.__parent_token),this.__tokens.push(w),this.__tokens_length+=1},T.exports.TokenStream=S},function(T,S,w){var p=w(12).Pattern;function h(u,f){p.call(this,u,f),f?this._line_regexp=this._input.get_regexp(f._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(h.prototype=new p).__set_whitespace_patterns=function(u,f){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(f+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+f+"]")},h.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,f=this._input.read(this._match_pattern);return f===" "?this.whitespace_before_token=" ":f&&(u=this.__split(this._newline_regexp,f),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),f},h.prototype.matching=function(u,f){var b=this._create();return b.__set_whitespace_patterns(u,f),b._update(),b},h.prototype._create=function(){return new h(this._input,this)},h.prototype.__split=function(u,f){for(var b=u.lastIndex=0,F=[],O=u.exec(f);O;)F.push(f.substring(b,O.index)),b=O.index+O[0].length,O=u.exec(f);return b<f.length?F.push(f.substring(b,f.length)):F.push(""),F},T.exports.WhitespacePattern=h},function(T){function S(w,p){this._input=w,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,p&&(this._starting_pattern=this._input.get_regexp(p._starting_pattern,!0),this._match_pattern=this._input.get_regexp(p._match_pattern,!0),this._until_pattern=this._input.get_regexp(p._until_pattern),this._until_after=p._until_after)}S.prototype.read=function(){var w=this._input.read(this._starting_pattern);return this._starting_pattern&&!w||(w+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),w},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(w){var p=this._create();return p._until_after=!0,p._until_pattern=this._input.get_regexp(w),p._update(),p},S.prototype.until=function(w){var p=this._create();return p._until_after=!1,p._until_pattern=this._input.get_regexp(w),p._update(),p},S.prototype.starting_with=function(w){var p=this._create();return p._starting_pattern=this._input.get_regexp(w,!0),p._update(),p},S.prototype.matching=function(w){var p=this._create();return p._match_pattern=this._input.get_regexp(w,!0),p._update(),p},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},T.exports.Pattern=S},function(T){function S(w,p){w=typeof w=="string"?w:w.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(w);return p},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},T.exports.Directives=S},function(T,S,w){var p=w(12).Pattern,h={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(f,b){p.call(this,f,b),this.__template_pattern=null,this._disabled=Object.assign({},h),this._excluded=Object.assign({},h),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new p(f),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new p)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(f){var b=this._create();return b._disabled[f]=!0,b._update(),b},u.prototype.read_options=function(f){var b,F=this._create();for(b in h)F._disabled[b]=f.templating.indexOf(b)===-1;return F._update(),F},u.prototype.exclude=function(f){var b=this._create();return b._excluded[f]=!0,b._update(),b},u.prototype.read=function(){for(var f="",f=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),f+=b,b=this._read_template();return this._until_after&&(f+=this._input.readUntilAfter(this._until_pattern)),f},u.prototype.__set_templated_pattern=function(){var f=[];this._disabled.php||f.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||f.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||f.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(f.push(this.__patterns.django._starting_pattern.source),f.push(this.__patterns.django_value._starting_pattern.source),f.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||f.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&f.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+f.join("|")+")")},u.prototype._read_template=function(){var f,b="",F=this._input.peek();return F==="<"?(f=this._input.peek(1),this._disabled.php||this._excluded.php||f!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||f!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},T.exports.TemplatablePattern=u}],E={},C=function T(S){var w=E[S];return w!==void 0?w.exports:(w=E[S]={exports:{}},l[S](w,w.exports,T),w.exports)}(0);g=C})();var g,s=g;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var C=[,,function(w){function p(f){this.__parent=f,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function h(f,b){this.__cache=[""],this.__indent_size=f.indent_size,this.__indent_string=f.indent_char,f.indent_with_tabs||(this.__indent_string=new Array(f.indent_size+1).join(f.indent_char)),b=b||"",0<f.indent_level&&(b=new Array(f.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(f,b){this.__indent_cache=new h(f,b),this.raw=!1,this._end_with_newline=f.end_with_newline,this.indent_size=f.indent_size,this.wrap_line_length=f.wrap_line_length,this.indent_empty_lines=f.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new p(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}p.prototype.clone_empty=function(){var f=new p(this.__parent);return f.set_indent(this.__indent_count,this.__alignment_count),f},p.prototype.item=function(f){return f<0?this.__items[this.__items.length+f]:this.__items[f]},p.prototype.has_match=function(f){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(f))return!0;return!1},p.prototype.set_indent=function(f,b){this.is_empty()&&(this.__indent_count=f||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},p.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},p.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},p.prototype._allow_wrap=function(){var f;return!!this._should_wrap()&&(this.__parent.add_new_line(),(f=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),f.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),f.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,f.__items[0]===" "&&(f.__items.splice(0,1),--f.__character_count),!0)},p.prototype.is_empty=function(){return this.__items.length===0},p.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},p.prototype.push=function(f){this.__items.push(f);var b=f.lastIndexOf(\`
\`);b!==-1?this.__character_count=f.length-b:this.__character_count+=f.length},p.prototype.pop=function(){var f=null;return this.is_empty()||(f=this.__items.pop(),this.__character_count-=f.length),f},p.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},p.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},p.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},p.prototype.toString=function(){var f="";return this.is_empty()?this.__parent.indent_empty_lines&&(f=this.__parent.get_indent_string(this.__indent_count)):(f=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),f+=this.__items.join("")),f},h.prototype.get_indent_size=function(f,b){var F=this.__base_string_length;return F=(F=f<0?0:F)+f*this.__indent_size+(b=b||0)},h.prototype.get_indent_string=function(f,b){var F=this.__base_string;return b=b||0,f<0&&(f=0,F=""),b+=f*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},h.prototype.__ensure_cache=function(f){for(;f>=this.__cache.length;)this.__add_column()},h.prototype.__add_column=function(){var f,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(f=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(f+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(f,b){return this.__indent_cache.get_indent_string(f,b)},u.prototype.get_indent_size=function(f,b){return this.__indent_cache.get_indent_size(f,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(f){return!(this.is_empty()||!f&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(f){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=f!==\`
\`?b.replace(/[\\n]/g,f):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(f,b){return this.next_line.set_indent(f=f||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(f,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(f){for(var b=0;b<f.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(f.whitespace_before),this.current_line.push(f.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(f){this.__add_space_before_token(),this.current_line.push(f),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(f){for(var b=this.__lines.length;f<b;)this.__lines[f]._remove_indent(),f++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(f){for(f=f!==void 0&&f,this.current_line.trim();f&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(f,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(f)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new p(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},w.exports.Output=u},function(w){w.exports.Token=function(p,h,u,f){this.type=p,this.text=h,this.comments_before=null,this.newlines=u||0,this.whitespace_before=f||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(w){function p(f,b){this.raw_options=h(f,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function h(f,b){var F,O={};for(F in f=u(f))F!==b&&(O[F]=f[F]);if(b&&f[b])for(F in f[b])O[F]=f[b][F];return O}function u(f){var b,F={};for(b in f)F[b.replace(/-/g,"_")]=f[b];return F}p.prototype._get_array=function(f,b){return f=this.raw_options[f],b=b||[],typeof f=="object"?f!==null&&typeof f.concat=="function"&&(b=f.concat()):typeof f=="string"&&(b=f.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},p.prototype._get_boolean=function(f,b){return f=this.raw_options[f],f===void 0?!!b:!!f},p.prototype._get_characters=function(f,b){return f=this.raw_options[f],b=b||"",b=typeof f=="string"?f.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},p.prototype._get_number=function(f,b){return f=this.raw_options[f],b=parseInt(b,10),isNaN(b)&&(b=0),f=parseInt(f,10),f=isNaN(f)?b:f},p.prototype._get_selection=function(f,b,F){if(F=this._get_selection_list(f,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+f+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'");return F[0]},p.prototype._get_selection_list=function(f,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(f,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+f+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[f]+"'")},p.prototype._is_valid_selection=function(f,b){return f.length&&b.length&&!f.some(function(F){return b.indexOf(F)===-1})},w.exports.Options=p,w.exports.normalizeOpts=u,w.exports.mergeOpts=h},,function(w){var p=RegExp.prototype.hasOwnProperty("sticky");function h(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}h.prototype.restart=function(){this.__position=0},h.prototype.back=function(){0<this.__position&&--this.__position},h.prototype.hasNext=function(){return this.__position<this.__input_length},h.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},h.prototype.peek=function(u){var f=null;return u=u||0,f=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):f},h.prototype.__match=function(u,f){u.lastIndex=f;var b=u.exec(this.__input);return!b||p&&u.sticky||b.index!==f&&(b=null),b},h.prototype.test=function(u,f){return f=f||0,0<=(f+=this.__position)&&f<this.__input_length&&!!this.__match(u,f)},h.prototype.testChar=function(u,f){return f=this.peek(f),u.lastIndex=0,f!==null&&u.test(f)},h.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},h.prototype.read=function(u,f,b){var F,O="";return u&&(F=this.match(u))&&(O+=F[0]),!f||!F&&u||(O+=this.readUntil(f,b)),O},h.prototype.readUntil=function(F,f){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,f&&(b+=F[0].length)):b=this.__input_length,f=this.__input.substring(this.__position,b),this.__position=b,f},h.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},h.prototype.get_regexp=function(u,F){var b=null,F=F&&p?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,F):u&&(b=new RegExp(u.source,F)),b},h.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},h.prototype.peekUntilAfter=function(b){var f=this.__position,b=this.readUntilAfter(b);return this.__position=f,b},h.prototype.lookBack=function(u){var f=this.__position-1;return f>=u.length&&this.__input.substring(f-u.length,f).toLowerCase()===u},w.exports.InputScanner=h},function(w,p,h){function u(y,W){this._input=new f(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var f=h(8).InputScanner,b=h(3).Token,F=h(10).TokenStream,O=h(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(d.START,""),D=null,z=[],H=new F;W.type!==d.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},w.exports.Tokenizer=u,w.exports.TOKEN=d},function(w){function p(h){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=h}p.prototype.restart=function(){this.__position=0},p.prototype.isEmpty=function(){return this.__tokens_length===0},p.prototype.hasNext=function(){return this.__position<this.__tokens_length},p.prototype.next=function(){var h=null;return this.hasNext()&&(h=this.__tokens[this.__position],this.__position+=1),h},p.prototype.peek=function(h){var u=null;return h=h||0,u=0<=(h+=this.__position)&&h<this.__tokens_length?this.__tokens[h]:u},p.prototype.add=function(h){this.__parent_token&&(h.parent=this.__parent_token),this.__tokens.push(h),this.__tokens_length+=1},w.exports.TokenStream=p},function(w,p,h){var u=h(12).Pattern;function f(b,F){u.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(f.prototype=new u).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},f.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},f.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},f.prototype._create=function(){return new f(this._input,this)},f.prototype.__split=function(b,F){for(var O=b.lastIndex=0,d=[],y=b.exec(F);y;)d.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?d.push(F.substring(O,F.length)):d.push(""),d},w.exports.WhitespacePattern=f},function(w){function p(h,u){this._input=h,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}p.prototype.read=function(){var h=this._input.read(this._starting_pattern);return this._starting_pattern&&!h||(h+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),h},p.prototype.read_match=function(){return this._input.match(this._match_pattern)},p.prototype.until_after=function(h){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(h),u._update(),u},p.prototype.until=function(h){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(h),u._update(),u},p.prototype.starting_with=function(h){var u=this._create();return u._starting_pattern=this._input.get_regexp(h,!0),u._update(),u},p.prototype.matching=function(h){var u=this._create();return u._match_pattern=this._input.get_regexp(h,!0),u._update(),u},p.prototype._create=function(){return new p(this._input,this)},p.prototype._update=function(){},w.exports.Pattern=p},function(w){function p(h,u){h=typeof h=="string"?h:h.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(h+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(h+/\\sbeautify\\signore:end\\s/.source+u,"g")}p.prototype.get_directives=function(h){if(!h.match(this.__directives_block_pattern))return null;for(var u={},f=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(h));f;)u[f[1]]=f[2],f=this.__directive_pattern.exec(h);return u},p.prototype.readIgnored=function(h){return h.readUntilAfter(this.__directives_end_ignore_pattern)},w.exports.Directives=p},function(w,p,h){var u=h(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){u.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},f),this._excluded=Object.assign({},f),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new u(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,d=this._create();for(O in f)d._disabled[O]=F.templating.indexOf(O)===-1;return d._update(),d},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",d=this._input.peek();return d==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):d==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},w.exports.TemplatablePattern=b},,,,function(w,p,h){var u=h(19).Beautifier,f=h(20).Options;w.exports=function(b,F,O,d){return new u(b,F,O,d).beautify()},w.exports.defaultOptions=function(){return new f}},function(w,p,h){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function f(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,nt=L.next;nt.type!==d.EOF&&L.closed!==nt;){if(nt.type===d.ATTRIBUTE&&nt.text==="type"){nt.next&&nt.next.type===d.EQUALS&&nt.next.next&&nt.next.next.type===d.VALUE&&(Q=nt.next.next.text);break}nt=nt.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=h(20).Options,F=h(2).Output,O=h(21).Tokenizer,d=h(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==d.TEXT&&I.previous.type!==d.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),nt=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=nt.next();lt.type!==d.EOF;)lt.type===d.TAG_OPEN||lt.type===d.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,nt):lt.type===d.ATTRIBUTE||lt.type===d.EQUALS||lt.type===d.VALUE||lt.type===d.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===d.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===d.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=nt.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===d.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===d.ATTRIBUTE?I.set_space_before_token(!0):(R.type===d.EQUALS||R.type===d.VALUE&&R.previous.type===d.EQUALS)&&I.set_space_before_token(!1),R.type===d.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==d.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,nt="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(A,\$){return new U(A,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);nt=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),nt&&(Q=Q?nt+Q+\`
\`+J:nt+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==d.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var nt,J=0;(nt=L.peek(J)).type===d.ATTRIBUTE&&(Q.attr_count+=1),J+=1,nt.type!==d.EOF&&nt.type!==d.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===d.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=f(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===d.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===d.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},w.exports.Beautifier=U},function(w,p,h){var u=h(6).Options;function f(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}f.prototype=new u,w.exports.Options=f},function(w,p,h){function u(H,U){f.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new d(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var f=h(9).Tokenizer,b=h(9).TOKEN,F=h(13).Directives,O=h(14).TemplatablePattern,d=h(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(u.prototype=new f)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},u.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},u.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},u.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},u.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},w.exports.Tokenizer=u,w.exports.TOKEN=y}],T={},S=function w(p){var h=T[p];return h!==void 0?h.exports:(h=T[p]={exports:{}},C[p](h,h.exports,w),h.exports)}(18);g=S})();var g,s,l,E=g;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(C){var T=C("./beautify"),S=C("./beautify-css");return{html_beautify:function(w,p){return E(w,p,T.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),l=require("./beautify-css.js"),exports.html_beautify=function(C,T){return E(C,T,s.js_beautify,l.css_beautify)}):typeof window<"u"?window.html_beautify=function(C,T){return E(C,T,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(C,T){return E(C,T,global.js_beautify,global.css_beautify)})})();(function(){(function(){var l=[,,function(T){function S(h){this.__parent=h,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(h,u){this.__cache=[""],this.__indent_size=h.indent_size,this.__indent_string=h.indent_char,h.indent_with_tabs||(this.__indent_string=new Array(h.indent_size+1).join(h.indent_char)),u=u||"",0<h.indent_level&&(u=new Array(h.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function p(h,u){this.__indent_cache=new w(h,u),this.raw=!1,this._end_with_newline=h.end_with_newline,this.indent_size=h.indent_size,this.wrap_line_length=h.wrap_line_length,this.indent_empty_lines=h.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var h=new S(this.__parent);return h.set_indent(this.__indent_count,this.__alignment_count),h},S.prototype.item=function(h){return h<0?this.__items[this.__items.length+h]:this.__items[h]},S.prototype.has_match=function(h){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(h))return!0;return!1},S.prototype.set_indent=function(h,u){this.is_empty()&&(this.__indent_count=h||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var h;return!!this._should_wrap()&&(this.__parent.add_new_line(),(h=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),h.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),h.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,h.__items[0]===" "&&(h.__items.splice(0,1),--h.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(h){this.__items.push(h);var u=h.lastIndexOf(\`
\`);u!==-1?this.__character_count=h.length-u:this.__character_count+=h.length},S.prototype.pop=function(){var h=null;return this.is_empty()||(h=this.__items.pop(),this.__character_count-=h.length),h},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var h="";return this.is_empty()?this.__parent.indent_empty_lines&&(h=this.__parent.get_indent_string(this.__indent_count)):(h=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),h+=this.__items.join("")),h},w.prototype.get_indent_size=function(h,u){var f=this.__base_string_length;return f=(f=h<0?0:f)+h*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(h,u){var f=this.__base_string;return u=u||0,h<0&&(h=0,f=""),u+=h*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u]},w.prototype.__ensure_cache=function(h){for(;h>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var h,u=this.__cache.length,f="";this.__indent_size&&u>=this.__indent_size&&(u-=(h=Math.floor(u/this.__indent_size))*this.__indent_size,f=new Array(h+1).join(this.__indent_string)),u&&(f+=new Array(u+1).join(" ")),this.__cache.push(f)},p.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},p.prototype.get_line_number=function(){return this.__lines.length},p.prototype.get_indent_string=function(h,u){return this.__indent_cache.get_indent_string(h,u)},p.prototype.get_indent_size=function(h,u){return this.__indent_cache.get_indent_size(h,u)},p.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},p.prototype.add_new_line=function(h){return!(this.is_empty()||!h&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},p.prototype.get_code=function(h){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=h!==\`
\`?u.replace(/[\\n]/g,h):u},p.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},p.prototype.set_indent=function(h,u){return this.next_line.set_indent(h=h||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(h,u),!0):(this.current_line.set_indent(),!1)},p.prototype.add_raw_token=function(h){for(var u=0;u<h.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(h.whitespace_before),this.current_line.push(h.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},p.prototype.add_token=function(h){this.__add_space_before_token(),this.current_line.push(h),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},p.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},p.prototype.remove_indent=function(h){for(var u=this.__lines.length;h<u;)this.__lines[h]._remove_indent(),h++;this.current_line._remove_wrap_indent()},p.prototype.trim=function(h){for(h=h!==void 0&&h,this.current_line.trim();h&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},p.prototype.just_added_newline=function(){return this.current_line.is_empty()},p.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},p.prototype.ensure_empty_line_above=function(h,u){for(var f=this.__lines.length-2;0<=f;){var b=this.__lines[f];if(b.is_empty())break;if(b.item(0).indexOf(h)!==0&&b.item(-1)!==u){this.__lines.splice(f+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},T.exports.Output=p},,,,function(T){function S(h,u){this.raw_options=w(h,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(h,u){var f,b={};for(f in h=p(h))f!==u&&(b[f]=h[f]);if(u&&h[u])for(f in h[u])b[f]=h[u][f];return b}function p(h){var u,f={};for(u in h)f[u.replace(/-/g,"_")]=h[u];return f}S.prototype._get_array=function(h,u){return h=this.raw_options[h],u=u||[],typeof h=="object"?h!==null&&typeof h.concat=="function"&&(u=h.concat()):typeof h=="string"&&(u=h.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(h,u){return h=this.raw_options[h],h===void 0?!!u:!!h},S.prototype._get_characters=function(h,u){return h=this.raw_options[h],u=u||"",u=typeof h=="string"?h.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(h,u){return h=this.raw_options[h],u=parseInt(u,10),isNaN(u)&&(u=0),h=parseInt(h,10),h=isNaN(h)?u:h},S.prototype._get_selection=function(h,u,f){if(f=this._get_selection_list(h,u,f),f.length!==1)throw new Error("Invalid Option Value: The option '"+h+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'");return f[0]},S.prototype._get_selection_list=function(h,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");if(f=this._get_array(h,f),this._is_valid_selection(f,u))return f;throw new Error("Invalid Option Value: The option '"+h+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[h]+"'")},S.prototype._is_valid_selection=function(h,u){return h.length&&u.length&&!h.some(function(f){return u.indexOf(f)===-1})},T.exports.Options=S,T.exports.normalizeOpts=p,T.exports.mergeOpts=w},,function(T){var S=RegExp.prototype.hasOwnProperty("sticky");function w(p){this.__input=p||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var p=null;return this.hasNext()&&(p=this.__input.charAt(this.__position),this.__position+=1),p},w.prototype.peek=function(p){var h=null;return p=p||0,h=0<=(p+=this.__position)&&p<this.__input_length?this.__input.charAt(p):h},w.prototype.__match=function(p,h){p.lastIndex=h;var u=p.exec(this.__input);return!u||S&&p.sticky||u.index!==h&&(u=null),u},w.prototype.test=function(p,h){return h=h||0,0<=(h+=this.__position)&&h<this.__input_length&&!!this.__match(p,h)},w.prototype.testChar=function(p,h){return h=this.peek(h),p.lastIndex=0,h!==null&&p.test(h)},w.prototype.match=function(p){return p=this.__match(p,this.__position),p?this.__position+=p[0].length:p=null,p},w.prototype.read=function(p,h,u){var f,b="";return p&&(f=this.match(p))&&(b+=f[0]),!h||!f&&p||(b+=this.readUntil(h,u)),b},w.prototype.readUntil=function(f,h){var u=this.__position,f=(f.lastIndex=this.__position,f.exec(this.__input));return f?(u=f.index,h&&(u+=f[0].length)):u=this.__input_length,h=this.__input.substring(this.__position,u),this.__position=u,h},w.prototype.readUntilAfter=function(p){return this.readUntil(p,!0)},w.prototype.get_regexp=function(p,f){var u=null,f=f&&S?"y":"g";return typeof p=="string"&&p!==""?u=new RegExp(p,f):p&&(u=new RegExp(p.source,f)),u},w.prototype.get_literal_regexp=function(p){return RegExp(p.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var h=this.__position,u=this.readUntilAfter(u);return this.__position=h,u},w.prototype.lookBack=function(p){var h=this.__position-1;return h>=p.length&&this.__input.substring(h-p.length,h).toLowerCase()===p},T.exports.InputScanner=w},,,,,function(T){function S(w,p){w=typeof w=="string"?w:w.source,p=typeof p=="string"?p:p.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+p,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+p,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var p={},h=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));h;)p[h[1]]=h[2],h=this.__directive_pattern.exec(w);return p},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},T.exports.Directives=S},,function(T,S,w){var p=w(16).Beautifier,h=w(17).Options;T.exports=function(u,f){return new p(u,f).beautify()},T.exports.defaultOptions=function(){return new h}},function(T,S,w){var p=w(17).Options,h=w(2).Output,u=w(8).InputScanner,f=new(w(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,d=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new p(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new h(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,nt=this._ch,J=!1;z=this._input.read(d)!=="",H=nt,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),nt=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),A=f.get_directives(lt);A&&A.ignore==="start"&&(lt+=f.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),A=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),A.match(/[ :]\$/)&&(A=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(A),this._output.space_before_token=!0),I===0&&A.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),k&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},T.exports.Beautifier=D},function(T,S,w){var p=w(6).Options;function h(f){p.call(this,f,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var f=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||f,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}h.prototype=new p,T.exports.Options=h}],E={},C=function T(S){var w=E[S];return w!==void 0?w.exports:(w=E[S]={exports:{}},l[S](w,w.exports,T),w.exports)}(15);g=C})();var g,s=g;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineSimpleMode=function(u,f){g.defineMode(u,function(b){return g.simpleMode(b,f)})},g.simpleMode=function(u,f){s(f,"start");var b={},F=f.meta||{},O=!1;for(var d in f)if(d!=F&&f.hasOwnProperty(d))for(var y=b[d]=[],W=f[d],D=0;D<W.length;D++){var z=W[D];y.push(new C(z,f)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=g.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:g.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:T(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:h(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function s(u,f){if(!u.hasOwnProperty(f))throw new Error("Undefined state "+f+" in simple mode")}function l(u,f){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((f===!1?"":"^")+"(?:"+u+")",b)}function E(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var f=[],b=0;b<u.length;b++)f.push(u[b]&&u[b].replace(/\\./g," "));return f}function C(u,f){(u.next||u.push)&&s(f,u.next||u.push),this.regex=l(u.regex),this.token=E(u.token),this.data=u}function T(u,f){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var d=F.local.endToken||null;return F.local=F.localState=null,d}else{var d=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),d}for(var W=u[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&w(f,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+f.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,f){if(u===f)return!0;if(!u||typeof u!="object"||!f||typeof f!="object")return!1;var b=0;for(var F in u)if(u.hasOwnProperty(F)){if(!f.hasOwnProperty(F)||!S(u[F],f[F]))return!1;b++}for(var F in f)f.hasOwnProperty(F)&&b--;return b==0}function w(u,f,b,F){var O;if(b.persistent)for(var d=f.persistentStates;d&&!O;d=d.next)(b.spec?S(b.spec,d.spec):b.mode==d.mode)&&(O=d);var y=O?O.mode:b.mode||g.getMode(u,b.spec),W=O?O.state:g.startState(y);b.persistent&&!O&&(f.persistentStates={mode:y,spec:b.spec,state:W,next:f.persistentStates}),f.localState=W,f.local={mode:y,end:b.end&&l(b.end),endScan:b.end&&b.forceEnd!==!1&&l(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function p(u,f){for(var b=0;b<f.length;b++)if(f[b]===u)return!0}function h(u,f){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||f.dontIndentStates&&p(b.state,f.dontIndentStates)>-1)return g.Pass;var d=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){d--,(D.next||D.push)&&(y=u[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return d<0?0:b.indent[d]}}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){const s=["س","ر","ج"],l=["ا","ب","ج","د","ه","و"],E=s.map(nt=>Fr(nt)).join(""),C=\`[\${l.map(nt=>Fr(nt)).join("")}]\`,T="[a-fA-F]",S=\`[\${E}›»]\`,w=Fr("م"),p=\`(?:\${w}\${Gn}(?:\${na}|\${C}){1,6}\${Xn})\`,h=\`(?:\${w}\${Gn}(?:\${ra}|\${T}){1,6}\${Xn})\`,u=\`(?:\${p}|\${h})\`,f=\`[^›\${Dr}]\`,b=nt=>RegExp(F(nt),"u"),F=nt=>{let J=[];return Object.values(nt).forEach(lt=>J.push(Fr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${Gn}-\`,"u"),d=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Xn}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Dr}(?:\${S}|\${u})\`,z=()=>RegExp(\`‹(?:\${f}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Dr}»]|\${Dr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${Qh})|(?:\${Au})\`,"u"),k=()=>RegExp(\`(?!\${F(Kh)}(?:\${\$h}|\\\\s|\$))\${qr}\`,"u"),K=()=>b(ta),L=()=>b(ea),Q=()=>b(ia);g.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Lu,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:d(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Ou}),g.defineMIME("text/x-seen-ar-src","seen-ar"),g.defineMIME("text/seen-ar","seen-ar")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){const s=\`[nrt'"]\`,l=\`u\${Gn}[\\\\da-fA-F]{1,6}\${Xn}\`,E=\`[^'\${Hs}]\`;function C(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const T=()=>RegExp(\`\${Gn}\${Mr}\`),S=()=>RegExp(".*"),w=()=>RegExp(\`.*?\${Mr}\${Xn}\`),p=()=>RegExp(\`\${Mr}\${Mr}.*\`),h=\`\${Hs}(?:\${s}|\${l})\`,u=()=>RegExp(\`'(?:\${E}|\${h})'\`),f=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),d=()=>RegExp(\`(?:\${E}|\${Hs}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Au})\`),D=()=>RegExp(\`\${qr}\`,"u"),z=()=>C(ta),H=()=>C(ea),U=()=>C(ia);g.defineSimpleMode("seen-en",{start:[{regex:T(),token:"comment",next:"multiline_comment"},{regex:p(),token:"comment"},{regex:f(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Lu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:w(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:d(),token:"string"}],meta:Ou}),g.defineMIME("text/x-seen-en-src","seen-en"),g.defineMIME("text/seen-en","seen-en")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineMode("javascript",function(s,l){var E=s.indentUnit,C=l.statementIndent,T=l.jsonld,S=l.json||T,w=l.trackScope!==!1,p=l.typescript,h=l.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function x(Xt){return{type:Xt,style:"keyword"}}var P=x("keyword a"),B=x("keyword b"),G=x("keyword c"),bt=x("keyword d"),Tt=x("operator"),Ct={type:"atom",style:"atom"};return{if:x("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:x("new"),delete:G,void:G,throw:G,debugger:x("debugger"),var:x("var"),const:x("var"),let:x("var"),function:x("function"),catch:x("catch"),for:x("for"),switch:x("switch"),case:x("case"),default:x("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:x("this"),class:x("class"),super:x("atom"),yield:G,export:x("export"),import:x("import"),extends:G,await:G}}(),f=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(x){for(var P=!1,B,G=!1;(B=x.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,d;function y(x,P,B){return O=x,d=B,P}function W(x,P){var B=x.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(x,P);if(B=="."&&x.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&x.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&x.eat(">"))return y("=>","operator");if(B=="0"&&x.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return x.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return x.eat("*")?(P.tokenize=z,z(x,P)):x.eat("/")?(x.skipToEnd(),y("comment","comment")):ze(x,P,1)?(F(x),x.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(x.eat("="),y("operator","operator",x.current()));if(B=="\`")return P.tokenize=H,H(x,P);if(B=="#"&&x.peek()=="!")return x.skipToEnd(),y("meta","meta");if(B=="#"&&x.eatWhile(h))return y("variable","property");if(B=="<"&&x.match("!--")||B=="-"&&x.match("->")&&!/\\S/.test(x.string.slice(0,x.start)))return x.skipToEnd(),y("comment","comment");if(f.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(x.eat("=")?(B=="!"||B=="=")&&x.eat("="):/[<>*+\\-|&?]/.test(B)&&(x.eat(B),B==">"&&x.eat(B))),B=="?"&&x.eat(".")?y("."):y("operator","operator",x.current());if(h.test(B)){x.eatWhile(h);var G=x.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var bt=u[G];return y(bt.type,bt.style,G)}if(G=="async"&&x.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(x){return function(P,B){var G=!1,bt;if(T&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==x&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(x,P){for(var B=!1,G;G=x.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(x,P){for(var B=!1,G;(G=x.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&x.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",x.current())}var U="([{}])";function Z(x,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=x.string.indexOf("=>",x.start);if(!(B<0)){if(p){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(x.string.slice(x.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=x.string.charAt(Ct),ke=U.indexOf(Xt);if(ke>=0&&ke<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(ke>=3&&ke<6)++bt;else if(h.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=x.string.charAt(Ct-1);if(yt==Xt&&x.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(x,P,B,G,bt,Tt){this.indented=x,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(x,P){if(!w)return!1;for(var B=x.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=x.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(x,P,B,G,bt){var Tt=x.cc;for(k.state=x,k.stream=bt,k.marked=null,k.cc=Tt,k.style=P,x.lexical.hasOwnProperty("align")||(x.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return k.marked?k.marked:B=="variable"&&I(x,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var x=arguments.length-1;x>=0;x--)k.cc.push(arguments[x])}function L(){return K.apply(null,arguments),!0}function Q(x,P){for(var B=P;B;B=B.next)if(B.name==x)return!0;return!1}function nt(x){var P=k.state;if(k.marked="def",!!w){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(x,P.context);if(B!=null){P.context=B;return}}else if(!Q(x,P.localVars)){P.localVars=new \$(x,P.localVars);return}}l.globalVars&&!Q(x,P.globalVars)&&(P.globalVars=new \$(x,P.globalVars))}}function J(x,P){if(P)if(P.block){var B=J(x,P.prev);return B?B==P.prev?P:new A(B,P.vars,!0):null}else return Q(x,P.vars)?P:new A(P.prev,new \$(x,P.vars),!1);else return null}function lt(x){return x=="public"||x=="private"||x=="protected"||x=="abstract"||x=="readonly"}function A(x,P,B){this.prev=x,this.vars=P,this.block=B}function \$(x,P){this.name=x,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){k.state.context=new A(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new A(k.state.context,k.state.localVars,!0),k.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}kt.lex=!0;function ft(x,P){var B=function(){var G=k.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,k.stream.column(),x,null,G.lexical,P)};return B.lex=!0,B}function at(){var x=k.state;x.lexical.prev&&(x.lexical.type==")"&&(x.indented=x.lexical.indented),x.lexical=x.lexical.prev)}at.lex=!0;function _t(x){function P(B){return B==x?L():x==";"||B=="}"||B==")"||B=="]"?K():L(P)}return P}function vt(x,P){return x=="var"?L(ft("vardef",P),Xe,_t(";"),at):x=="keyword a"?L(ft("form"),Ee,vt,at):x=="keyword b"?L(ft("form"),vt,at):x=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),xe,_t(";"),at):x=="debugger"?L(_t(";")):x=="{"?L(ft("}"),Nt,We,at,kt):x==";"?L():x=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,vt,at,Bi)):x=="function"?L(Ie):x=="for"?L(ft("form"),Nt,Vn,vt,kt,at):x=="class"||p&&P=="interface"?(k.marked="keyword",L(ft("form",x=="class"?x:P),er,at)):x=="variable"?p&&P=="declare"?(k.marked="keyword",L(vt)):p&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Hi):P=="type"?L(tr,_t("operator"),it,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),We,at,at)):p&&P=="namespace"?(k.marked="keyword",L(ft("form"),Et,vt,at)):p&&P=="abstract"?(k.marked="keyword",L(vt)):L(ft("stat"),Wi):x=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,We,at,at,kt):x=="case"?L(Et,_t(":")):x=="default"?L(_t(":")):x=="catch"?L(ft("form"),wt,ee,vt,at,kt):x=="export"?L(ft("stat"),li,at):x=="import"?L(ft("stat"),Ye,at):x=="async"?L(vt):P=="@"?L(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ee(x){if(x=="(")return L(Ne,_t(")"))}function Et(x,P){return we(x,P,!1)}function Rt(x,P){return we(x,P,!0)}function Ee(x){return x!="("?K():L(ft(")"),xe,_t(")"),at)}function we(x,P,B){if(k.state.fatArrowAt==k.stream.start){var G=B?cn:ai;if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,_t("=>"),G,kt);if(x=="variable")return K(wt,fe,_t("=>"),G,kt)}var bt=B?It:ce;return ot.hasOwnProperty(x)?L(bt):x=="function"?L(Ie,bt):x=="class"||p&&P=="interface"?(k.marked="keyword",L(ft("form"),ui,at)):x=="keyword c"||x=="async"?L(B?Rt:Et):x=="("?L(ft(")"),xe,_t(")"),at,bt):x=="operator"||x=="spread"?L(B?Rt:Et):x=="["?L(ft("]"),Qe,at,bt):x=="{"?xi(Ii,"}",null,bt):x=="quasi"?K(mt,bt):x=="new"?L(Yn(B)):L()}function xe(x){return x.match(/[;\\}\\)\\],]/)?K():K(Et)}function ce(x,P){return x==","?L(xe):It(x,P,!1)}function It(x,P,B){var G=B==!1?ce:It,bt=B==!1?Et:Rt;if(x=="=>")return L(wt,B?cn:ai,kt);if(x=="operator")return/\\+\\+|--/.test(P)||p&&P=="!"?L(G):p&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),Bt(it,">"),at,G):P=="?"?L(Et,_t(":"),bt):L(bt);if(x=="quasi")return K(mt,G);if(x!=";"){if(x=="(")return xi(Rt,")","call",G);if(x==".")return L(Qn,G);if(x=="[")return L(ft("]"),xe,_t("]"),at,G);if(p&&P=="as")return k.marked="keyword",L(it,G);if(x=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(bt)}}function mt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(mt):L(xe,Ge)}function Ge(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(mt)}function ai(x){return Z(k.stream,k.state),K(x=="{"?vt:Et)}function cn(x){return Z(k.stream,k.state),K(x=="{"?vt:Rt)}function Yn(x){return function(P){return P=="."?L(x?fn:Ur):P=="variable"&&p?L(re,x?It:ce):K(x?Rt:Et)}}function Ur(x,P){if(P=="target")return k.marked="keyword",L(ce)}function fn(x,P){if(P=="target")return k.marked="keyword",L(It)}function Wi(x){return x==":"?L(at,vt):K(ce,_t(";"),at)}function Qn(x){if(x=="variable")return k.marked="property",L()}function Ii(x,P){if(x=="async")return k.marked="property",L(Ii);if(x=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(_n);var B;return p&&k.state.fatArrowAt==k.stream.start&&(B=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+B[0].length),L(Pe)}else{if(x=="number"||x=="string")return k.marked=T?"property":k.style+" property",L(Pe);if(x=="jsonld-keyword")return L(Pe);if(p&&lt(P))return k.marked="keyword",L(Ii);if(x=="[")return L(Et,Te,_t("]"),Pe);if(x=="spread")return L(Rt,Pe);if(P=="*")return k.marked="keyword",L(Ii);if(x==":")return K(Pe)}}function _n(x){return x!="variable"?K(Pe):(k.marked="property",L(Ie))}function Pe(x){if(x==":")return L(Rt);if(x=="(")return K(Ie)}function Bt(x,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=k.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),L(function(Xt,ke){return Xt==P||ke==P?K():K(x)},G)}return bt==P||Tt==P?L():B&&B.indexOf(";")>-1?K(x):L(_t(P))}return function(bt,Tt){return bt==P||Tt==P?L():K(x,G)}}function xi(x,P,B){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,B),Bt(x,P),at)}function We(x){return x=="}"?L():K(vt,We)}function Te(x,P){if(p){if(x==":")return L(it);if(P=="?")return L(Te)}}function Kr(x,P){if(p&&(x==":"||P=="in"))return L(it)}function Ce(x){if(p&&x==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Et,Zn,it):L(it)}function Zn(x,P){if(P=="is")return k.marked="keyword",L()}function it(x,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:it);if(x=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(it);if(x=="string"||x=="number"||x=="atom")return L(ue);if(x=="[")return L(ft("]"),Bt(it,"]",","),at,ue);if(x=="{")return L(ft("}"),ne,at,ue);if(x=="(")return L(Bt(oe,")"),pn,ue);if(x=="<")return L(Bt(it,">"),it);if(x=="quasi")return K(zt,ue)}function pn(x){if(x=="=>")return L(it)}function ne(x){return x.match(/[\\}\\)\\]]/)?L():x==","||x==";"?L(ne):K(Mt,ne)}function Mt(x,P){if(x=="variable"||k.style=="keyword")return k.marked="property",L(Mt);if(P=="?"||x=="number"||x=="string")return L(Mt);if(x==":")return L(it);if(x=="[")return L(_t("variable"),Kr,_t("]"),Mt);if(x=="(")return K(Be,Mt);if(!x.match(/[;\\}\\)\\],]/))return L()}function zt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(zt):L(it,Jn)}function Jn(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(zt)}function oe(x,P){return x=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):x==":"?L(it):x=="spread"?L(oe):K(it)}function ue(x,P){if(P=="<")return L(ft(">"),Bt(it,">"),at,ue);if(P=="|"||x=="."||P=="&")return L(it);if(x=="[")return L(it,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(it);if(P=="?")return L(it,_t(":"),it)}function re(x,P){if(P=="<")return L(ft(">"),Bt(it,">"),at,ue)}function ki(){return K(it,dn)}function dn(x,P){if(P=="=")return L(it)}function Xe(x,P){return P=="enum"?(k.marked="keyword",L(Hi)):K(fe,Te,Ae,Xr)}function fe(x,P){if(p&&lt(P))return k.marked="keyword",L(fe);if(x=="variable")return nt(P),L();if(x=="spread")return L(fe);if(x=="[")return xi(Gr,"]");if(x=="{")return xi(gn,"}")}function gn(x,P){return x=="variable"&&!k.stream.match(/^\\s*:/,!1)?(nt(P),L(Ae)):(x=="variable"&&(k.marked="property"),x=="spread"?L(fe):x=="}"?K():x=="["?L(Et,_t("]"),_t(":"),gn):L(_t(":"),fe,Ae))}function Gr(){return K(fe,Ae)}function Ae(x,P){if(P=="=")return L(Rt)}function Xr(x){if(x==",")return L(Xe)}function Bi(x,P){if(x=="keyword b"&&P=="else")return L(ft("form","else"),vt,at)}function Vn(x,P){if(P=="await")return L(Vn);if(x=="(")return L(ft(")"),vn,at)}function vn(x){return x=="var"?L(Xe,oi):x=="variable"?L(oi):K(oi)}function oi(x,P){return x==")"?L():x==";"?L(oi):P=="in"||P=="of"?(k.marked="keyword",L(Et,oi)):K(Et,oi)}function Ie(x,P){if(P=="*")return k.marked="keyword",L(Ie);if(x=="variable")return nt(P),L(Ie);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,vt,kt);if(p&&P=="<")return L(ft(">"),Bt(ki,">"),at,Ie)}function Be(x,P){if(P=="*")return k.marked="keyword",L(Be);if(x=="variable")return nt(P),L(Be);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,kt);if(p&&P=="<")return L(ft(">"),Bt(ki,">"),at,Be)}function tr(x,P){if(x=="keyword"||x=="variable")return k.marked="type",L(tr);if(P=="<")return L(ft(">"),Bt(ki,">"),at)}function Ne(x,P){return P=="@"&&L(Et,Ne),x=="spread"?L(Ne):p&&lt(P)?(k.marked="keyword",L(Ne)):p&&x=="this"?L(Te,Ae):K(fe,Te,Ae)}function ui(x,P){return x=="variable"?er(x,P):zi(x,P)}function er(x,P){if(x=="variable")return nt(P),L(zi)}function zi(x,P){if(P=="<")return L(ft(">"),Bt(ki,">"),at,zi);if(P=="extends"||P=="implements"||p&&x==",")return P=="implements"&&(k.marked="keyword"),L(p?it:Et,zi);if(x=="{")return L(ft("}"),me,at)}function me(x,P){if(x=="async"||x=="variable"&&(P=="static"||P=="get"||P=="set"||p&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(x=="variable"||k.style=="keyword")return k.marked="property",L(\$e,me);if(x=="number"||x=="string")return L(\$e,me);if(x=="[")return L(Et,Te,_t("]"),\$e,me);if(P=="*")return k.marked="keyword",L(me);if(p&&x=="(")return K(Be,me);if(x==";"||x==",")return L(me);if(x=="}")return L();if(P=="@")return L(Et,me)}function \$e(x,P){if(P=="!"||P=="?")return L(\$e);if(x==":")return L(it,Ae);if(P=="=")return L(Rt);var B=k.state.lexical.prev,G=B&&B.info=="interface";return K(G?Be:Ie)}function li(x,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Et,_t(";"))):x=="{"?L(Bt(ir,"}"),ct,_t(";")):K(vt)}function ir(x,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(x=="variable")return K(Rt,ir)}function Ye(x){return x=="string"?L():x=="("?K(Et):x=="."?K(ce):K(hi,mn,ct)}function hi(x,P){return x=="{"?xi(hi,"}"):(x=="variable"&&nt(P),P=="*"&&(k.marked="keyword"),L(Ht))}function mn(x){if(x==",")return L(hi,mn)}function Ht(x,P){if(P=="as")return k.marked="keyword",L(hi)}function ct(x,P){if(P=="from")return k.marked="keyword",L(Et)}function Qe(x){return x=="]"?L():K(Bt(Rt,"]"))}function Hi(){return K(ft("form"),fe,_t("{"),ft("}"),Bt(Le,"}"),at,at)}function Le(){return K(fe,Ae)}function Lt(x,P){return x.lastType=="operator"||x.lastType==","||f.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(x,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(x.string.slice(0,x.pos-(B||0)))}return{startState:function(x){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((x||0)-E,0,"block",!1),localVars:l.localVars,context:l.localVars&&new A(null,null,!1),indented:x||0};return l.globalVars&&typeof l.globalVars=="object"&&(P.globalVars=l.globalVars),P},token:function(x,P){if(x.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=x.indentation(),Z(x,P)),P.tokenize!=z&&x.eatSpace())return null;var B=P.tokenize(x,P);return O=="comment"?B:(P.lastType=O=="operator"&&(d=="++"||d=="--")?"incdec":O,R(P,B,O,d,x))},indent:function(x,P){if(x.tokenize==z||x.tokenize==H)return g.Pass;if(x.tokenize!=W)return 0;var B=P&&P.charAt(0),G=x.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=x.cc.length-1;Tt>=0;--Tt){var Ct=x.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=Bi&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=x.cc[x.cc.length-1])&&(bt==ce||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;C&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,ke=B==Xt;return Xt=="vardef"?G.indented+(x.lastType=="operator"||x.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+E:Xt=="stat"?G.indented+(Lt(x,P)?C||E:0):G.info=="switch"&&!ke&&l.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?E:2*E):G.align?G.column+(ke?0:1):G.indented+(ke?0:E)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:T,jsonMode:S,expressionAllowed:ze,skipExpression:function(x){R(x,"atom","atom","true",new g.StringStream("",2,null))}}}),g.registerHelper("wordChars","javascript",/[\\w\$]/),g.defineMIME("text/javascript","javascript"),g.defineMIME("text/ecmascript","javascript"),g.defineMIME("application/javascript","javascript"),g.defineMIME("application/x-javascript","javascript"),g.defineMIME("application/ecmascript","javascript"),g.defineMIME("application/json",{name:"javascript",json:!0}),g.defineMIME("application/x-json",{name:"javascript",json:!0}),g.defineMIME("application/manifest+json",{name:"javascript",json:!0}),g.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),g.defineMIME("text/typescript",{name:"javascript",typescript:!0}),g.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],g):g(CodeMirror)})(function(g){g.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),g.defineMIME("text/x-rustsrc","rust"),g.defineMIME("text/rust","rust")});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(C,T,S){this.orientation=T,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=C+"-"+T,this.inner=this.node.appendChild(document.createElement("div"));var w=this;g.on(this.inner,"mousedown",function(h){if(h.which!=1)return;g.e_preventDefault(h);var u=w.orientation=="horizontal"?"pageX":"pageY",f=h[u],b=w.pos;function F(){g.off(document,"mousemove",O),g.off(document,"mouseup",F)}function O(d){if(d.which!=1)return F();w.moveTo(b+(d[u]-f)*(w.total/w.size))}g.on(document,"mousemove",O),g.on(document,"mouseup",F)}),g.on(this.node,"click",function(h){g.e_preventDefault(h);var u=w.inner.getBoundingClientRect(),f;w.orientation=="horizontal"?f=h.clientX<u.left?-1:h.clientX>u.right?1:0:f=h.clientY<u.top?-1:h.clientY>u.bottom?1:0,w.moveTo(w.pos+f*w.screen)});function p(h){var u=g.wheelEventPixels(h)[w.orientation=="horizontal"?"x":"y"],f=w.pos;w.moveTo(w.pos+u),w.pos!=f&&g.e_preventDefault(h)}g.on(this.node,"mousewheel",p),g.on(this.node,"DOMMouseScroll",p)}s.prototype.setPos=function(C,T){return C<0&&(C=0),C>this.total-this.screen&&(C=this.total-this.screen),!T&&C==this.pos?!1:(this.pos=C,this.inner.style[this.orientation=="horizontal"?"left":"top"]=C*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(C){this.setPos(C)&&this.scroll(C,this.orientation)};var l=10;s.prototype.update=function(C,T,S){var w=this.screen!=T||this.total!=C||this.size!=S;w&&(this.screen=T,this.total=C,this.size=S);var p=this.screen*(this.size/this.total);p<l&&(this.size-=l-p,p=l),this.inner.style[this.orientation=="horizontal"?"width":"height"]=p+"px",this.setPos(this.pos,w)};function E(C,T,S){this.addClass=C,this.horiz=new s(C,"horizontal",S),T(this.horiz.node),this.vert=new s(C,"vertical",S),T(this.vert.node),this.width=null}E.prototype.update=function(C){if(this.width==null){var T=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;T&&(this.width=parseInt(T.height))}var S=this.width||0,w=C.scrollWidth>C.clientWidth+1,p=C.scrollHeight>C.clientHeight+1;return this.vert.node.style.display=p?"block":"none",this.horiz.node.style.display=w?"block":"none",p&&(this.vert.update(C.scrollHeight,C.clientHeight,C.viewHeight-(w?S:0)),this.vert.node.style.bottom=w?S+"px":"0"),w&&(this.horiz.update(C.scrollWidth,C.clientWidth,C.viewWidth-(p?S:0)-C.barLeft),this.horiz.node.style.right=p?S+"px":"0",this.horiz.node.style.left=C.barLeft+"px"),{right:p?S:0,bottom:w?S:0}},E.prototype.setScrollTop=function(C){this.vert.setPos(C)},E.prototype.setScrollLeft=function(C){this.horiz.setPos(C)},E.prototype.clear=function(){var C=this.horiz.node.parentNode;C.removeChild(this.horiz.node),C.removeChild(this.vert.node)},g.scrollbarModel.simple=function(C,T){return new E("CodeMirror-simplescroll",C,T)},g.scrollbarModel.overlay=function(C,T){return new E("CodeMirror-overlayscroll",C,T)}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s="CodeMirror-activeline",l="CodeMirror-activeline-background",E="CodeMirror-activeline-gutter";g.defineOption("styleActiveLine",!1,function(p,h,u){var f=u==g.Init?!1:u;h!=f&&(f&&(p.off("beforeSelectionChange",w),C(p),delete p.state.activeLines),h&&(p.state.activeLines=[],S(p,p.listSelections()),p.on("beforeSelectionChange",w)))});function C(p){for(var h=0;h<p.state.activeLines.length;h++)p.removeLineClass(p.state.activeLines[h],"wrap",s),p.removeLineClass(p.state.activeLines[h],"background",l),p.removeLineClass(p.state.activeLines[h],"gutter",E)}function T(p,h){if(p.length!=h.length)return!1;for(var u=0;u<p.length;u++)if(p[u]!=h[u])return!1;return!0}function S(p,h){for(var u=[],f=0;f<h.length;f++){var b=h[f],F=p.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=p.getLineHandleVisualStart(b.head.line);u[u.length-1]!=O&&u.push(O)}}T(p.state.activeLines,u)||p.operation(function(){C(p);for(var d=0;d<u.length;d++)p.addLineClass(u[d],"wrap",s),p.addLineClass(u[d],"background",l),p.addLineClass(u[d],"gutter",E);p.state.activeLines=u})}function w(p,h){S(p,h.ranges)}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),l=g.Pos,E={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function C(u){return u&&u.bracketRegex||/[(){}[\\]]/}function T(u,f,b){var F=u.getLineHandle(f.line),O=f.ch-1,d=b&&b.afterCursor;d==null&&(d=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=C(b),W=!d&&O>=0&&y.test(F.text.charAt(O))&&E[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&E[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==f.ch))return null;var z=u.getTokenTypeAt(l(f.line,O+1)),H=S(u,l(f.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:l(f.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(u,f,b,F,O){for(var d=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=C(O),z=b>0?Math.min(f.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,f.line-y),H=f.line;H!=z;H+=b){var U=u.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>d))for(H==f.line&&(Z=f.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(u.getTokenTypeAt(l(H,Z+1))||"")==(F||""))){var I=E[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:l(H,Z),ch:rt}}}}}return H-b==(b>0?u.lastLine():u.firstLine())?!1:null}function w(u,f,b){for(var F=u.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,d=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&T(u,y[W].head,b);if(D&&(D.match||O!==!1)&&u.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";d.push(u.markText(D.from,l(D.from.line,D.from.ch+1),{className:z})),D.to&&u.getLine(D.to.line).length<=F&&d.push(u.markText(D.to,l(D.to.line,D.to.ch+1),{className:z}))}}if(d.length){s&&u.state.focused&&u.focus();var H=function(){u.operation(function(){for(var U=0;U<d.length;U++)d[U].clear()})};if(f)setTimeout(H,800);else return H}}function p(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=w(u,!1,u.state.matchBrackets)})}function h(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}g.defineOption("matchBrackets",!1,function(u,f,b){b&&b!=g.Init&&(u.off("cursorActivity",p),u.off("focus",p),u.off("blur",h),h(u)),f&&(u.state.matchBrackets=typeof f=="object"?f:{},u.on("cursorActivity",p),u.on("focus",p),u.on("blur",h))}),g.defineExtension("matchBrackets",function(){w(this,!0)}),g.defineExtension("findMatchingBracket",function(u,f,b){return(b||typeof f=="boolean")&&(b?(b.strict=f,f=b):f=f?{strict:!0}:null),T(this,u,f)}),g.defineExtension("scanForBracket",function(u,f,b,F){return S(this,u,f,b,F)})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},l=g.Pos;g.defineOption("autoCloseBrackets",!1,function(d,y,W){W&&W!=g.Init&&(d.removeKeyMap(C),d.state.closeBrackets=null),y&&(T(E(y,"pairs")),d.state.closeBrackets=y,d.addKeyMap(C))});function E(d,y){return y=="pairs"&&typeof d=="string"?d:typeof d=="object"&&d[y]!=null?d[y]:s[y]}var C={Backspace:p,Enter:h};function T(d){for(var y=0;y<d.length;y++){var W=d.charAt(y),D="'"+W+"'";C[D]||(C[D]=S(W))}}T(s.pairs+"\`");function S(d){return function(y){return b(y,d)}}function w(d){var y=d.state.closeBrackets;if(!y||y.override)return y;var W=d.getModeAt(d.getCursor());return W.closeBrackets||y}function p(d){var y=w(d);if(!y||d.getOption("disableInput"))return g.Pass;for(var W=E(y,"pairs"),D=d.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return g.Pass;var H=F(d,D[z].head);if(!H||W.indexOf(H)%2!=0)return g.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;d.replaceRange("",l(U.line,U.ch-1),l(U.line,U.ch+1),"+delete")}}function h(d){var y=w(d),W=y&&E(y,"explode");if(!W||d.getOption("disableInput"))return g.Pass;for(var D=d.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return g.Pass;var H=F(d,D[z].head);if(!H||W.indexOf(H)%2!=0)return g.Pass}d.operation(function(){var U=d.lineSeparator()||\`
\`;d.replaceSelection(U+U,null),u(d,-1),D=d.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;d.indentLine(ot,null,!0),d.indentLine(ot+1,null,!0)}})}function u(d,y){for(var W=[],D=d.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==d.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}d.setSelections(W,z)}function f(d){var y=g.cmpPos(d.anchor,d.head)>0;return{anchor:new l(d.anchor.line,d.anchor.ch+(y?-1:1)),head:new l(d.head.line,d.head.ch+(y?1:-1))}}function b(d,y){var W=w(d);if(!W||d.getOption("disableInput"))return g.Pass;var D=E(W,"pairs"),z=D.indexOf(y);if(z==-1)return g.Pass;for(var H=E(W,"closeBefore"),U=E(W,"triples"),Z=D.charAt(z+1)==y,ot=d.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=d.getRange(K,l(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&O(d,K)?L="both":U.indexOf(y)>=0&&d.getRange(K,l(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&d.getRange(l(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(d.getTokenTypeAt(l(K.line,K.ch-2))))return g.Pass;L="addFour"}else if(Z){var nt=K.ch==0?" ":d.getRange(l(K.line,K.ch-1),K);if(!g.isWordChar(Q)&&nt!=y&&!g.isWordChar(nt))L="both";else return g.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))L="both";else return g.Pass;if(!I)I=L;else if(I!=L)return g.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);d.operation(function(){if(I=="skip")u(d,1);else if(I=="skipThree")u(d,3);else if(I=="surround"){for(var A=d.getSelections(),\$=0;\$<A.length;\$++)A[\$]=J+A[\$]+lt;d.replaceSelections(A,"around"),A=d.listSelections().slice();for(var \$=0;\$<A.length;\$++)A[\$]=f(A[\$]);d.setSelections(A)}else I=="both"?(d.replaceSelection(J+lt,null),d.triggerElectric(J+lt),u(d,-1)):I=="addFour"&&(d.replaceSelection(J+J+J+J,"before"),u(d,1))})}function F(d,y){var W=d.getRange(l(y.line,y.ch-1),l(y.line,y.ch+1));return W.length==2?W:null}function O(d,y){var W=d.getTokenAt(l(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(d.getTokenTypeAt(y)))}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(T,S,w,p){if(w&&w.call){var h=w;w=null}else var h=C(T,w,"rangeFinder");typeof S=="number"&&(S=g.Pos(S,0));var u=C(T,w,"minFoldSize");function f(d){var y=h(T,S);if(!y||y.to.line-y.from.line<u)return null;if(p==="fold")return y;for(var W=T.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!d)return null;y.cleared=!0,W[D].clear()}return y}var b=f(!0);if(C(T,w,"scanUp"))for(;!b&&S.line>T.firstLine();)S=g.Pos(S.line-1,0),b=f(!1);if(!(!b||b.cleared||p==="unfold")){var F=l(T,w,b);g.on(F,"mousedown",function(d){O.clear(),g.e_preventDefault(d)});var O=T.markText(b.from,b.to,{replacedWith:F,clearOnEnter:C(T,w,"clearOnEnter"),__isFold:!0});O.on("clear",function(d,y){g.signal(T,"unfold",T,d,y)}),g.signal(T,"fold",T,b.from,b.to)}}function l(T,S,w){var p=C(T,S,"widget");if(typeof p=="function"&&(p=p(w.from,w.to)),typeof p=="string"){var h=document.createTextNode(p);p=document.createElement("span"),p.appendChild(h),p.className="CodeMirror-foldmarker"}else p&&(p=p.cloneNode(!0));return p}g.newFoldFunction=function(T,S){return function(w,p){s(w,p,{rangeFinder:T,widget:S})}},g.defineExtension("foldCode",function(T,S,w){s(this,T,S,w)}),g.defineExtension("isFolded",function(T){for(var S=this.findMarksAt(T),w=0;w<S.length;++w)if(S[w].__isFold)return!0}),g.commands.toggleFold=function(T){T.foldCode(T.getCursor())},g.commands.fold=function(T){T.foldCode(T.getCursor(),null,"fold")},g.commands.unfold=function(T){T.foldCode(T.getCursor(),{scanUp:!1},"unfold")},g.commands.foldAll=function(T){T.operation(function(){for(var S=T.firstLine(),w=T.lastLine();S<=w;S++)T.foldCode(g.Pos(S,0),{scanUp:!1},"fold")})},g.commands.unfoldAll=function(T){T.operation(function(){for(var S=T.firstLine(),w=T.lastLine();S<=w;S++)T.foldCode(g.Pos(S,0),{scanUp:!1},"unfold")})},g.registerHelper("fold","combine",function(){var T=Array.prototype.slice.call(arguments,0);return function(S,w){for(var p=0;p<T.length;++p){var h=T[p](S,w);if(h)return h}}}),g.registerHelper("fold","auto",function(T,S){for(var w=T.getHelpers(S,"fold"),p=0;p<w.length;p++){var h=w[p](T,S);if(h)return h}});var E={rangeFinder:g.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};g.defineOption("foldOptions",null);function C(T,S,w){if(S&&S[w]!==void 0)return S[w];var p=T.options.foldOptions;return p&&p[w]!==void 0?p[w]:E[w]}g.defineExtension("foldOption",function(T,S){return C(this,T,S)})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],g):g(CodeMirror)})(function(g){g.defineOption("foldGutter",!1,function(O,d,y){y&&y!=g.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",h),O.off("changes",f),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",f),O.off("optionChange",u)),d&&(O.state.foldGutter=new l(E(d)),p(O),O.on("gutterClick",h),O.on("changes",f),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",f),O.on("optionChange",u))});var s=g.Pos;function l(O){this.options=O,this.from=this.to=0}function E(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function C(O,d){for(var y=O.findMarks(s(d,0),s(d+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===d)return y[W]}}function T(O){if(typeof O=="string"){var d=document.createElement("div");return d.className=O+" CodeMirror-guttermarker-subtle",d}else return O.cloneNode(!0)}function S(O,d,y){var W=O.state.foldGutter.options,D=d-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&w(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&w(W.indicatorOpen);O.eachLine(d,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),C(O,D)){if(U&&I&&U.test(I.className))return;rt=T(W.indicatorFolded)}else{var R=s(D,0),k=H&&H(O,R);if(k&&k.to.line-k.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=T(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function w(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function p(O){var d=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,d.from,d.to)}),y.from=d.from,y.to=d.to)}function h(O,d,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=C(O,d);z?z.clear():O.foldCode(s(d,0),D)}}}function u(O,d){d=="mode"&&f(O)}function f(O){var d=O.state.foldGutter;if(d){var y=d.options;d.from=d.to=0,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){p(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var d=O.state.foldGutter;if(d){var y=d.options;clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){var W=O.getViewport();d.from==d.to||W.from-d.to>20||d.from-W.to>20?p(O):O.operation(function(){W.from<d.from&&(S(O,W.from,d.from),d.from=W.from),W.to>d.to&&(S(O,d.to,W.to),d.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,d){var y=O.state.foldGutter;if(y){var W=d.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var s="CodeMirror-hint",l="CodeMirror-hint-active";g.showHint=function(d,y,W){if(!y)return d.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return d.showHint(D)},g.defineExtension("showHint",function(d){d=S(this,this.getCursor("start"),d);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!d.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new E(this,d);D.options.hint&&(g.signal(this,"startCompletion",this),D.update(!0))}}),g.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function E(d,y){if(this.cm=d,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;d.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var C=window.requestAnimationFrame||function(d){return setTimeout(d,1e3/60)},T=window.cancelAnimationFrame||clearTimeout;E.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&g.signal(this.data,"close"),this.widget&&this.widget.close(),g.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(d,y){var W=d.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,d,W):D.cm.replaceRange(w(W),W.from||d.from,W.to||d.to,"complete"),g.signal(d,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(T(this.debounce),this.debounce=0);var d=this.startPos;this.data&&(d=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<d.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=C(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(d){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,d)})}},finishUpdate:function(d,y){this.data&&g.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=d,d&&d.list.length&&(W&&d.list.length==1?this.pick(d,0):(this.widget=new u(this,d),g.signal(d,"shown")))}};function S(d,y,W){var D=d.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(d,y)),z}function w(d){return typeof d=="string"?d:d.text}function p(d,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=d.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=d.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function h(d,y){for(;y&&y!=d;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==d)return y;y=y.parentNode}}function u(d,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=d,this.data=y,this.picked=!1;var W=this,D=d.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=d.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+l);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||w(R))),I.hintId=rt}var K=d.options.container||z.body,L=D.cursorCoords(d.options.alignWithWord?y.from:null),Q=L.left,nt=L.bottom,J=!0,lt=0,A=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,A=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=nt-A+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=d.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=d.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Et=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(nt=L.top-Et)+A+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-kt;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ee-=at.right-at.left-kt),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=p(d,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){d.close()},pick:function(){W.pick()},data:y})),d.options.closeOnUnfocus){var xe;D.on("blur",this.onBlur=function(){xe=setTimeout(function(){d.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(xe)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=nt+vt.top-It.top,ai=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(ai+=U.offsetHeight),ai<=mt.top||ai>=mt.bottom)return d.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),g.on(U,"dblclick",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),g.on(U,"click",function(It){var mt=h(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),d.options.completeOnSingleClick&&W.pick())}),g.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),g.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var d=this.completion.cm.getInputField();d.removeAttribute("aria-activedescendant"),d.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var d=this;this.keyMap={Enter:function(){d.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(d,y){if(d>=this.data.list.length?d=y?this.data.list.length-1:0:d<0&&(d=y?0:this.data.list.length-1),this.selectedHint!=d){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+l,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=d],W.className+=" "+l,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),g.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var d=this.getSelectedHintRange(),y=this.hints.childNodes[d.from],W=this.hints.childNodes[d.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var d=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-d),to:Math.min(this.data.list.length-1,this.selectedHint+d)}}};function f(d,y){if(!d.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(d,y,W,D){if(d.async)d(y,D,W);else{var z=d(y,W);z&&z.then?z.then(D):D(z)}}function F(d,y){var W=d.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=f(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=d.getHelper(d.getCursor(),"hintWords"))?function(H){return g.hint.fromList(H,{words:D})}:g.hint.anyword?function(H,U){return g.hint.anyword(H,U)}:function(){}}g.registerHelper("hint","auto",{resolve:F}),g.registerHelper("hint","fromList",function(d,y){var W=d.getCursor(),D=d.getTokenAt(W),z,H=g.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),g.commands.autocomplete=g.showHint;var O={hint:g.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};g.defineOption("hintOptions",null)});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(l){return function(E,C){var T=C.line,S=E.getLine(T);function w(F){for(var O,d=C.ch,y=0;;){var W=d<=0?-1:S.lastIndexOf(F[0],d-1);if(W==-1){if(y==1)break;y=1,d=S.length;continue}if(y==1&&W<C.ch)break;if(O=E.getTokenTypeAt(g.Pos(T,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};d=W-1}}function p(F){var O=1,d=E.lastLine(),y,W=F.ch,D;t:for(var z=T;z<=d;++z)for(var H=E.getLine(z),U=z==T?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(E.getTokenTypeAt(g.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||T==y?null:{from:g.Pos(T,W),to:g.Pos(y,D)}}for(var h=[],u=0;u<l.length;u++){var f=w(l[u]);f&&h.push(f)}h.sort(function(F,O){return F.ch-O.ch});for(var u=0;u<h.length;u++){var b=p(h[u]);if(b)return b}return null}}g.registerHelper("fold","brace",s([["{","}"],["[","]"]])),g.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),g.registerHelper("fold","import",function(l,E){function C(u){if(u<l.firstLine()||u>l.lastLine())return null;var f=l.getTokenAt(g.Pos(u,1));if(/\\S/.test(f.string)||(f=l.getTokenAt(g.Pos(u,f.end+1))),f.type!="keyword"||f.string!="import")return null;for(var b=u,F=Math.min(l.lastLine(),u+10);b<=F;++b){var O=l.getLine(b),d=O.indexOf(";");if(d!=-1)return{startCh:f.end,end:g.Pos(b,d)}}}var T=E.line,S=C(T),w;if(!S||C(T-1)||(w=C(T-2))&&w.end.line==T-1)return null;for(var p=S.end;;){var h=C(p.line+1);if(h==null)break;p=h.end}return{from:l.clipPos(g.Pos(T,S.startCh+1)),to:p}}),g.registerHelper("fold","include",function(l,E){function C(h){if(h<l.firstLine()||h>l.lastLine())return null;var u=l.getTokenAt(g.Pos(h,1));if(/\\S/.test(u.string)||(u=l.getTokenAt(g.Pos(h,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var T=E.line,S=C(T);if(S==null||C(T-1)!=null)return null;for(var w=T;;){var p=C(w+1);if(p==null)break;++w}return{from:g.Pos(T,S+1),to:l.clipPos(g.Pos(w))}})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){function s(l,E){var C=l.getLine(E),T=C.search(/\\S/);return T==-1||/\\bcomment\\b/.test(l.getTokenTypeAt(g.Pos(E,T+1)))?-1:g.countColumn(C,null,l.getOption("tabSize"))}g.registerHelper("fold","indent",function(l,E){var C=s(l,E.line);if(!(C<0)){for(var T=null,S=E.line+1,w=l.lastLine();S<=w;++S){var p=s(l,S);if(p!=-1)if(p>C)T=S;else break}if(T)return{from:g.Pos(E.line,l.getLine(E.line).length),to:g.Pos(T,l.getLine(T).length)}}})});(function(g){typeof exports=="object"&&typeof module=="object"?g(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,l){var E=s.getModeAt(l),C=E.blockCommentStart,T=E.blockCommentEnd;if(!(!C||!T)){for(var S=l.line,w=s.getLine(S),p,h=l.ch,u=0;;){var f=h<=0?-1:w.lastIndexOf(C,h-1);if(f==-1){if(u==1)return;u=1,h=w.length;continue}if(u==1&&f<l.ch)return;if(/comment/.test(s.getTokenTypeAt(g.Pos(S,f+1)))&&(f==0||w.slice(f-T.length,f)==T||!/comment/.test(s.getTokenTypeAt(g.Pos(S,f))))){p=f+C.length;break}h=f-1}var b=1,F=s.lastLine(),O,d;t:for(var y=S;y<=F;++y)for(var W=s.getLine(y),D=y==S?p:0;;){var z=W.indexOf(C,D),H=W.indexOf(T,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,d=D;break t}++D}if(!(O==null||S==O&&d==p))return{from:g.Pos(S,p),to:g.Pos(O,d)}}})});const nc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},rc={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...nc},sc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function ac(g,s){for(let[l,E]of Object.entries(g)){let C=document.querySelector(\`#\${l}\`);C&&(C.textContent=E[s])}}function oc(g,s){for(let[l,E]of Object.entries(g)){let C=document.querySelector(\`#\${l}\`);C&&(C.title=E[s])}}class uc{msg;start_loc;end_loc;constructor(s,l,E){this.msg=s,this.start_loc=l,this.end_loc=E}}const hu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},lc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"},un=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Di=["0","1","2","3","4","5","6","7","8","9"],hc="ـ",qs=Nu("\\\\p{L}"),cc=Nu("\\\\p{N}");function Wr(g){return g==null}function js(g){return g instanceof Array}function Gt(g,s){return g.includes(s)}function fc(g,s,l){g[s]=l}function Zs(g){return Array.isArray(g)&&g.length===0}function At(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function Nu(g){return new RegExp(g,"u")}function cu(g,s){g==null?console.log("undefined"):console.log(JSON.stringify(g))}function St(g){throw new Error(g)}function ri(g){return{...g}}function _c(g){return g.toLowerCase()}class fu{line;column;constructor(s,l){return this.line=s,this.column=l,this}}class pc{v;loc;constructor(s,l){return this.v=s,this.loc=l,this}}class dc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,l,E,C,T,S,w,p,h,u){return this.lang=s,this.code=l,this.start_loc=E,this.end_loc=C,this.tokens=T,this.errs=S,this.current_index=w,this.current=p,this.lookbehind=h,this.ignore_cmts_ws=u,this}init(s,l,E){this.lang=s,this.code=l,this.start_loc=new fu(1,1),this.end_loc=new fu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=E}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=ri(this.end_loc),this.add_token("\$eof")}add_token(s){const l=new pc(s,ri(this.start_loc));this.tokens.push(l)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const l=new uc(s,ri(this.start_loc),ri(this.end_loc));this.errs.push(l)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===hc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Wr(this.lookbehind)}expect_none_ahead(){return Wr(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(qs)}expect_num(){return this.lookahead().match(cc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Wr(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const l=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),l.push(ri(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(l.length>1)s+=this.next()+this.next(),l.pop();else{s+=this.next(),l.pop();break}else s+=this.next();const E=l.pop();return E&&(this.start_loc=ri(E),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let s=this.next();switch(s){case"(":switch(s=this.next(),s){case"س":s=\`
\`;break;case"ر":s="\\r";break;case"ج":s="	";break;case"‹":s="‹";break;case"›":s="›";break;case"«":s="«";break;case"»":s="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+s);break;case"٪":s="٪";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s)}return s}else return this.current}en_escape_char(){if(this.current==="%"){let s=this.next();switch(s){case"n":s=\`
\`;break;case"r":s="\\r";break;case"t":s="	";break;case"'":s="'";break;case'"':s='"';break;case"%":s="%";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s);break}return s}else return this.current}enclosed_val(s){let l="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?l+=this.ar_escape_char():l+=this.en_escape_char()}return l}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let l="",E="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",E]);break}else l+=s+s;else this.lang==="ar"?E+=this.ar_escape_char():E+=this.en_escape_char(),E+=l}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(un,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Di,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(Gt(un,this.lookahead()))s+=this.next();else if(Gt(Di,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,l=!1;for(;;){if(Gt(Di,this.lookahead()))s+=this.next();else if(Gt(un,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),l=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}l?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();hu[s]?this.add_token(["key",hu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();lc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&Gt(un,this.lookahead());)s+=this.next();return s}maghrib_float(){if(Gt(Di,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&Gt(Di,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=ri(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(un,s)?this.mashriq_num():Gt(Di,s)?this.maghrib_num():s==="_"||s.match(qs)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=ri(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Di,s)?this.maghrib_num():Gt(un,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(qs)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}class gc{fns;structs;constructor(){this.fns=[],this.structs=[]}insert_fn(s){this.fns.push(s)}insert_struct(s){this.structs.push(s)}}class ht{id;t;v;constructor(s,l,E){this.id=s,this.t=l,this.v=E}}class _u{t;o;constructor(s,l){this.t=s,this.o=l}}class vc{name;fields;children;constructor(s,l,E){this.name=s,this.fields=l,this.children=E}}class mc{fields;o;constructor(s,l){this.fields=s,this.o=l}}class bc{t;ts;o;constructor(s,l,E){this.t=s,this.ts=l,this.o=E}}class yc{name;variant;constructor(s,l){this.name=s,this.variant=l}}class pu{k;v;constructor(s,l){this.k=s,this.v=l}}class ni{opr;op;constructor(s,l){this.opr=s,this.op=l}}class Us{lopr;op;ropr;constructor(s,l,E){this.lopr=s,this.op=l,this.ropr=E}}class Ks{name;params;ret_types;body;constructor(s,l,E,C){this.name=s,this.params=l,this.ret_types=E,this.body=C}}class du{_pat;t;constructor(s,l){this._pat=s,this.t=l}}class wc{k;v;constructor(s,l){this.k=s,this.v=l}}class gu{lhs;t;rhs;constructor(s,l,E){this.lhs=s,this.t=l,this.rhs=E}}class xc{expr;arms;constructor(s,l){this.expr=s,this.arms=l}}class kc{pats;expr;constructor(s,l){this.pats=s,this.expr=l}}const Sc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Ec=[".","!","not","-","+"],Tc=["?","!","%"],Cc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Ac{tokens;current_index;skipped_new_line;current;ast;symtab;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.symtab=new gc,this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_global_const()||this.maybe_global_fn()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef(),s||St("invalid syntax: "+At(this.current))}}next(s){this.current_index+=1;const l=this.tokens[this.current_index];return this.current=l,l.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let l=this.current_index;for(;s>0;){for(l+=1;;){const E=this.tokens[l];let C;if(E&&(C=E.v[0]===\`
\`),C)l+=1;else break}s-=1}return this.tokens[l]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Wr(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(js(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(js(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const l=this.maybe_pat();if(l)return s.push(l);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const l=this.maybe_pat();if(l)return s.push(l);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const l=this.maybe_id();if(!l)break;let E;this.is_colon()&&(this.next(),E=this.req_pat());const C=new wc(l,E);s.push(C)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){St("enum patterns are not supported yet");const s=this.current;this.next();const l=new yc(s,_pat);if(_pat)return new ht("enum_pat","pat",l)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,l=this.stmts();if(Zs(l))St("expecting a statement : "+At(s));else return l}stmts(){let s=[],l;for(;l=this.maybe_stmt(),l&&s.push(l),!!l;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_global_const(){let s=this.maybe_const();return s?(this.ast.push(s),!0):!1}maybe_global_fn(){let s=this.maybe_fn();return s?(this.ast.push(s),!0):!1}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),l=this.maybe_tannotation();this.req_asgmt();const E=this.req_expr(),C=new gu(s,l,E);return new ht("const","stmt",C)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),l=this.maybe_tannotation();this.req_asgmt();const E=this.req_expr(),C=new gu(s,l,E);return new ht("var","stmt",C)}req_expr(){const s=this.current,l=this.maybe_expr();if(l)return l;St("expecting expression : "+At(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const l=this.maybe_stmt();if(l)s.push(l);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,l=this.maybe_do_block();if(l)return l;St("expecting 'do' block : "+At(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const l=this.maybe_stmt();if(l)s.push(l);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Sc,this.current.v)}is_postfix_uni_op(){return Gt(Tc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else St("expecting  an index [...]: "+At(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let l=this.maybe_expr();l&&s.push(l)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,l){const E=s.v.opr,C=s.v.op;if(s.id==="prefix")if(this.prec_uni(l)>=this.prec_uni(C)){const T=new ni(E,l),S=new ht("postfix","expr",T),w=new ni(S,C),p=new ht("prefix","expr",w);return this.next(),p}else{const T=new ni(s,l),S=new ht("postfix","expr",T);return this.next(),S}}maybe_lopr_bin_postfix(s,l){if(s.id==="bin"){const E=s.v.op,C=s.v.ropr,T=s.v.lopr;if(this.prec_uni(l)>=this.prec_bin(E)){const S=new ni(C,l),w=new ht("postfix","expr",S),p=new Us(T,E,w),h=new ht("bin","expr",p);return this.next(),h}else{const S=new ni(s,l),w=new ht("postfix","expr",S);return this.next(),w}}}maybe_lopr_prefix_bin(s,l){const E=s.v.op;let C=s.v.opr;if(s.id==="prefix")if(this.prec_uni(E)>=this.prec_bin(l)){C=this.req_op(C);const T=new ni(C,E);return new ht("prefix","expr",T)}else{const T=this.req_ropr(s),S=new Us(C,l,T),w=new ht("bin","expr",S),p=new ni(w,E);return new ht("prefix","expr",p)}}get_lopr(s,l){let E=this.maybe_lopr_prefix_postfix(s,l);if(!E&&(E=this.maybe_lopr_bin_postfix(s,l),!E)){const C=new ni(s,l);E=new ht("postfix","expr",C),this.next()}return E}req_ropr(s){let l;const E=this.current;return this.is_open_bracket()?(this.next(),l=this.req_list_index()):this.is_dot()?(this.next(),l=this.req_access(s)):this.is_open_paren()?(this.next(),l=this.req_call_args()):(this.next(),l=this.maybe_expr()),l||St("expecting right operand: "+At(E)),l}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(s))}}is_bin_rassoc(s){return Gt(Cc,s)}maybe_op(s){const l=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,l);if(this.is_bin_op()){const E=this.maybe_lopr_prefix_bin(s,l);if(E)return E;let C=this.req_ropr(s);C&&(C.id==="bin"?C=this.while_op(C,this.prec_bin(C.v.op)>this.prec_bin(l)||this.prec_bin(C.v.op)===this.prec_bin(l)&&this.is_bin_rassoc(C.v.op)):C.id==="prefix"?C=this.while_op(C,this.prec_bin(l)>this.prec_uni(C.v.op)||this.is_bin_rassoc(l)):C=this.while_op(C,!1));const T=new Us(s,l,C);return new ht("bin","expr",T)}}req_op(s){const l=this.maybe_op(s);if(l)return l;St("expect an operation: "+At(this.lookahead()))}while_op(s,l){let E=ri(s);if(this.is_eof())return E;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&l!==!1;)E=this.req_op(E);return E}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const l=()=>{if(!s)return;js(s)||(s=[s]);const E=[];return s.forEach(C=>{C.id="id",C.type="pat",E.push(new ht("param","pat",new du(C)))}),E};if(this.is_thick_arrow()){const E=l();this.next(),this.req_open_curly();const C=this.req_body_ret();this.req_close_curly();const T=new Ks("",E,null,C);return new ht("afn","expr",T)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let l=null;if(l=this.maybe_expr(),l){let E=l;if(this.is_comma()){const C=[E];for(;;){const T=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||T)break;this.req_comma(),E=this.maybe_expr(),E?C.push(E):St("expected an argument: "+s)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(C)||new ht("tuple","expr",C)}else return this.req_close_paren(),this.maybe_afn(l)||(l.grouped=!0,l)}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let l=this.req_id();this.req_colon();let E=this.req_expr();s.push([l,E]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return Gt(Ec,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const l=new ni(this.req_prim(),s);return new ht("prefix","expr",l)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let l;return this.is_id()&&!this.is_newline()&&(l=this.current,this.next()),new ht("int","expr",[s,l])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let l;return this.is_id()&&!this.is_newline()&&(l=this.current,this.next()),new ht("float","expr",[s,l])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const l=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||l)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let l=!1;for(this.is_id&&this.expect_colon()&&(l=!0);;){s.length>0&&this.req_comma();let E;l&&(E=this.req_id(),this.req_colon());let C=this.req_expr();if(l?s.push([E,C]):s.push([C]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),l?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const l=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let w;this.is_id()&&this.expect_colon()&&(w=this.current,this.next(),this.next());let p;if(w?p=new ht("named_arg","expr",[w,this.req_expr()]):p=this.maybe_expr(),!p)break;S.push(p),this.optional_comma()}return this.req_close_paren(),S}},E=S=>{if(!this.is_open_curly())return;this.next();const w=[];for(;!(this.is_eof()||this.is_close_curly());){const p=this.maybe_expr();if(!p)break;w.push(p),this.optional_comma()}return this.req_close_curly(),w.push(),w},C=l(),T=E();return C||T?new ht("call","expr",[s,C,T]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const l=this.req_expr(),E=new kc(s,l);return new ht("arm","",E)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const l=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||l.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const C=this.maybe_when_arm();if(C)l.push(C);else break}this.maybe_comma(),this.req_close_curly();const E=new xc(s,l);return new ht("when","expr",E)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||St("expecting an expression: "+At(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&Gt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const l=new ht("use","stmt",s);return this.ast.push(l),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const l=this.req_type();this.req_close_bracket();const E=new _u(l,this.maybe_optional());s=new ht("[","t",E)}else if(this.is_open_curly()){this.next();const l=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){l.length>0&&this.req_comma();const C=this.maybe_id();let T;C&&this.is_colon()&&(this.next(),T=this.req_type());const S=new pu(C,T);l.push(S)}this.maybe_comma(),this.req_close_curly();const E=new mc(l,this.maybe_optional());s=new ht("{","t",E)}else if(this.is_id()){const l=this.req_id();if(this.is_open_angle()){const E=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)E.length>0&&this.req_comma(),E.push(this.req_type());this.maybe_comma(),this.req_close_angle();const C=new bc(l,E,this.maybe_optional());s=new ht("<","t",C)}else{const E=new _u(l,this.maybe_optional());s=new ht("t","t",E)}}return s}req_type(){let s=this.maybe_type();return s||St("type required: "+At(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||St("requires type annotation: "+At(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const l=this.req_pat(),E=this.maybe_tannotation(),C=new du(l,E),T=new ht("param","pat",C);l.id!=="id"&&St("only parameters with id patterns are currently supported"),s.push(T)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let l=this.next();this.is_exclamation()?(this.next(),s.push({id:l,_t:"throw"})):s.push({id:l,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();this.symtab.insert_fn(s.v[1]);const l=this.maybe_fn_params(),E=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const C=this.req_body_ret(),T=new Ks(s,l,E,C),S=new ht("fn","fn",T);return this.req_close_curly(),S}else{this.req_asgmt();const C=this.req_body_ret(),T=new Ks(s,l,E,C);return new ht("fn","fn",T)}}maybe_fields(){const s=[];for(;this.is_id();){const l=new ht("id","expr",this.req_id()),E=this.req_tannotation(),C=new pu(l,E),T=new ht("field","",C);if(s.push(T),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const p=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let h;this.is_id()&&this.expect_colon()&&(h=this.current,this.next(),this.next());let u;if(h?u=new ht("field","expr",[h,this.req_type()]):u=this.maybe_expr(),!u)break;p.push(u),this.optional_comma()}return this.req_close_paren(),p}},l=()=>{if(!this.is_open_curly())return;this.next();const p=[];for(;!(this.is_eof()||this.is_close_curly());){const h=this.maybe_expr();if(!h)break;p.push(h),this.optional_comma()}return this.req_close_curly(),p.push(),p};if(!this.is_typedef())return;this.next();const E=this.req_id();this.symtab.symtab_struct(E.v[1]);let C=s()||[];const T=l();if(!(C||T))return;if(T){const p={v:["id","__children"],loc:{line:0,column:0}},h={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[p,h]);C.push(u)}const S=new vc(E,C,T),w=new ht("type","def",S);return this.ast.push(w),!0}implicit_return(s){if(!s||s.length<=0)return;const l=s.length-1,E=s[l];if(!(Gt(["when","while","if","for","return","let","var","const"],E.id)||E.id==="bin"&&E.v.op.v===":=")&&E.id!==";"&&!(E.id==="bin"&&E.v.op.v==="=")&&!(E.id==="bin"&&E.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],E.v.lopr.v.v[1]))&&E.t==="expr"){const C=new ht("iret","expr",E);return fc(s,l,C)}}}const Ru=["readonly"],Lc=["html","body","div","span","p","textarea","field"],Oc=["0","1","2","3","4","5","6","7","8","9"];function Nc(g){return Rc(Oc,g[0])}function vu(g){if(Nc(g))return g;{let s="",l=0;for(;l<g.length;){switch(g[l]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:Oe()}l+=1}return s}}function Fu(g){return g instanceof Array}function Rc(g,s){return g.includes(s)}function Ke(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function Oe(g){throw new Error(g)}class Fc{jsGen;constructor(s){this.jsGen=s}write_html(s,l){switch(s.id){case"call":let E=s.v[0].v.v[1],C=s.v[1]||[],T=s.v[2]||[];if(E==="br")return l+="<br>";switch(E){case"select":l=write_css(C,l)+"} ";break;case"font_face":l=write_css_fontface(C,l);break;case"keyframes":l=write_css_keyframes(C,T,l);break;default:l+=\`<\${E}\`,C.forEach((S,w)=>{if(w===0&&S.id==="str")l+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const p=S.v[0].v[1];if(Ru.includes(p))l+=\` \${p} \`;else if(l+=\` \${p}= \`,S.v[1].id==="str")l+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const h=S.v[1].v[0].v[1],u=S.v[1].v[1].v[1]||"";l+=\`\${h}\${u}\`}else S.v[1].id==="bool"?l+=\`\${p}\`:Oe("not supported: "+Ke(S))}else Oe("not supported: "+Ke(S))}),l+=">",T.forEach(S=>{l=write_html(S,l)}),l+=\`</\${E}>\`}break;case"str":l+=s.v.v[1];break;default:Oe("unknown html element: "+Ke(s))}return l}write_css(s,l){return s.forEach(E=>{const C=wi(E.v[0].v[1]),T=E.v[1];C==="element"?(l=write_css_selector(T,l),l+=" {"):(l+=\`\${C} : \`,l=write_css_attr_value(T,l),l+="; ")}),l}write_css_selector(s,l){return Fu(s.v)?(l+=" ",s.v.forEach((E,C)=>{l+=\`\${E.v.v[1]} \`,C<s.v.length-1&&(l+=",")})):l+=\` \${s.v.v[1]}\`,l}write_css_attr_value(s,l){switch(s.id){case"int":case"float":const E=s.v[0].v[1],C=s.v[1]&&s.v[1].v[1]||"";l+=E+C;break;case"prefix":l+=s.v.op.v,l=write_css_attr_value(s.v.opr,l);break;case"postfix":l=write_css_attr_value(s.v.opr,l),l+=s.v.op.v;break;case"str":l+=s.v.v[1];break;case"ref":l+=wi(s.v.v[1]);break;case"tuple":s.v.forEach(h=>{l=write_css_attr_value(h,l+" ")});break;case"call":const T=s.v[0].v.v[1],S=s.v[1];l+=\` \${T}(\`,S.forEach(h=>{l=write_css_attr_value(h,l)}),l+=")";break;case"bin":const w=new JSGen;w.init(),w.write_expr(s);const p=w.get_code();pprint(p),l+="\${"+p+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(s)}\`)}return l}write_css_fontface(s,l){return l+="@font-face { ",l=write_ar_css(s,l),l+="}",l}write_css_keyframes(s,l,E){return E+=\` @keyframes \${s[0].v.v[1]} { \`,l&&l.forEach(C=>{const T=C.v[0].v.v[1],S=C.v[1];switch(T){case"at":const w=S[0],p=S[1].v||[];E=write_css_attr_value(w,E),E+=" {",p.forEach(h=>{if(h.id==="named_tuple")h.v.forEach(u=>{const f=wi(u[0].v[1]),b=u[1];E+=\` \${f} : \`,E=write_css_attr_value(b,E),E+="; "});else{const u=wi(h[0].v[1]),f=h[1];E+=\` \${u} : \`,E=write_css_attr_value(f,E),E+="; "}}),E+="} ";break;default:Oe("unsupported element: "+Ke(T))}}),E+="}",E}}const Gs={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},mu=g=>{switch(g){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return g}},bu={حوم:"hover"},Dc=g=>{switch(g){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return g}},yu=g=>{switch(g){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return g}},Xs=g=>{switch(g){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return g}},Pr=g=>{switch(g){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return g}},Mc=g=>{switch(g){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return g}};class Pc{jsGen;constructor(){this.jsGen=jsGen}write_ar_html(s,l){switch(s.id){case"call":const E=s.v[0].v.v[1],C=Gs[E]||E,T=s.v[1]||[],S=s.v[2]||[];if(C==="br")return l+="<br>";switch(C){case"اختر":l=write_ar_css(T,l)+"} ";break;case"عرف_خط":l=write_ar_css_fontface(T,l);break;case"اطارات_رئيسية":l=write_ar_css_keyframes(T,S,l);break;default:l+=\`<\${C}\`,Lc.includes(C)&&(l+=" dir='rtl'"),T.forEach((w,p)=>{if(p===0&&w.id==="str")l+=\` id='\${w.v.v[1]}'\`;else if(w.id==="named_arg"){const h=mu(w.v[0].v[1]);if(Ru.includes(h))l+=\` \${h} \`;else if(l+=\` \${h}= \`,w.v[1].id==="str")l+=\`'\${w.v[1].v.v[1]}'\`;else if(w.v[1].id==="int"||w.v[1].id==="float"){const u=vu(w.v[1].v[0].v[1]),f=w.v[1].v[1]&&yu(w.v[1].v[1].v[1])||"";l+=\`\${u}\${f}\`}else w.v[1].id==="bool"?l+=\`\${mu(h)}\`:Oe("not supported: "+Ke(w))}else Oe("not supported: "+Ke(w))}),l+=">",S.forEach(w=>{l=write_ar_html(w,l)}),l+=\`</\${C}>\`}break;case"str":l+=s.v.v[1];break;default:Oe("unknown html element: "+Ke(s))}return l}write_ar_css(s,l){return s.forEach(E=>{const C=wi(Xs(E.v[0].v[1])),T=E.v[1];C==="element"?(l=write_ar_css_selector(T,l),l+=" {"):(l+=\`\${C} : \`,l=write_ar_css_attr_value(T,l),l+="; ")}),l}write_ar_css_selector(s,l){const E=C=>{const T=S=>RegExp(\`(?<![p{L}\\\\p{N}_])\${S}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Gs).forEach(S=>{C=C.replaceAll(T(S),Gs[S])}),Object.keys(bu).forEach(S=>{C=C.replaceAll(T(S),bu[S])}),C};if(Fu(s.v))l+=" ",s.v.forEach((C,T)=>{let S=C.v.v[1];l+=E(S),T<s.v.length-1&&(l+=",")});else{const C=s.v.v[1];l+=E(C)}return l}write_ar_css_attr_value(s,l){switch(s.id){case"bool":Oe();break;case"int":case"float":const E=vu(s.v[0].v[1]),C=yu(s.v[1]&&s.v[1].v[1])||"";l+=E+C;break;case"prefix":l+=s.v.op.v,l=write_ar_css_attr_value(s.v.opr,l);break;case"postfix":l=write_ar_css_attr_value(s.v.opr,l),l+=s.v.op.v;break;case"str":l+=Mc(s.v.v[1]);break;case"ref":l+=wi(Pr(s.v.v[1]));break;case"tuple":s.v.forEach(p=>{l=write_ar_css_attr_value(p,l+" ")});break;case"call":const T=Dc(s.v[0].v.v[1]),S=s.v[1];l+=\` \${T}(\`,S.forEach(p=>{l=write_ar_css_attr_value(p,l)}),l+=")";break;case"bin":jsGen.init(),jsGen.write_expr(s);const w=jsGen.get_code();l+="\${"+w+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(s)}\`)}return l}write_ar_css_fontface(s,l){return l+="@font-face { ",l=write_ar_css(s,l),l+="}",l}write_ar_css_keyframes(s,l,E){return E+=\` @keyframes \${s[0].v.v[1]} { \`,l&&l.forEach(C=>{const T=C.v[0].v.v[1],S=Pr(C.v[1]);switch(T){case"عند":const w=S[0],p=S[1].v||[];E=write_ar_css_attr_value(w,E),E+=" {",p.forEach(h=>{if(h.id==="named_tuple")h.v.forEach(u=>{const f=wi(Xs(u[0].v[1])),b=Pr(u[1]);E+=\` \${f} : \`,E=write_ar_css_attr_value(b,E),E+="; "});else{const u=wi(Xs(h[0].v[1])),f=Pr(h[1]);E+=\` \${u} : \`,E=write_ar_css_attr_value(f,E),E+="; "}}),E+="} ";break;default:Oe("unsupported element: "+Ke(T))}}),E+="}",E}}function wi(g){return HYPHENATED.includes(g)?g.replaceAll("_","-"):g}const Wc=["0","1","2","3","4","5","6","7","8","9"];function Ic(g){return Du(Wc,g[0])}function wu(g){if(Ic(g))return g;{let s="",l=0;for(;l<g.length;){switch(g[l]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:yi()}l+=1}return s}}function Bc(g){return g instanceof Array}function Du(g,s){return g.includes(s)}function Mi(g,s){let l=[];const E=(C,T)=>{if(T&&typeof T=="object"){if(l.includes(T))return"[CIRCULAR]";l.push(T)}return T};return s?JSON.stringify(g,E,s):JSON.stringify(g,E)}function yi(g){throw new Error(g)}function zc(g,s){return g.repeat(s)}const Hc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,xu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},qc=4;class Br{current;indent_level;stack;astructs;ast;symtab;html_gen;main_args;opts;constructor(s,l,E,C,T,S,w,p){return this.current=s,this.indent_level=l,this.stack=E,this.astructs=C,this.ast=T,this.symtab=S,this.html_gen=w,this.opts=p,this}init(s,l,E,C,T){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.symtab=l,this.html_gen=E,this.main_args=C,this.opts=T}run(){this.strict_mode();let s,l=0;for(;l<this.ast.length;){const E=this.ast[l];if(E){const C=E.v;switch(E.id){case"use":this.write_use(C);break;case"modif":this.write_modifier(C);break;case"main":s=C;break;case"const":this.write_const(C);break;case"fn":this.write_fn(C);break;case"type":this.write_typedef(C);break;default:yi("unsupported node: "+this.ast[l].id)}}l+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!Bc(s.v)||xu[s.v[1]]&&(s.v[1]=xu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),zc(" ",s*qc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const l=s.v.v[1];this.append(l==="_"?"default":l)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let l=0;for(;l<s.v.length;)this.write_pat(s.v[l]),l<s.v.length-1&&this.append(", "),l+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:yi("unsupported pattern "+Mi(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let l=0;for(;l<s.length;)l>0&&this.append(", "),this.write_pat(s[l].v._pat),l+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let l=0;const E=s.v.length;for(;l<E;){const C=s.v[l];this.write_stmt(C),l+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,l){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),l?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",l),this.pop()}write_fields(s){const l=[];s.forEach(E=>{const C=E.v[0].v[1];l.push(C)}),l.forEach(E=>{this.appendi(this.spaces()+""+E+\`
\`)}),this.write_init(l)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let l=0;for(;l<s.length;)this.append(s[l]),l<s.length-1&&this.append(", "),l+=1;for(this.append(\`) {
\`),this.indent_level+=1,l=0;l<s.length;)this.appendi("this."+s[l]+" = "+s[l]+\`
\`),l+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):yi("cannot write stmt: "+Mi(s))}write_body(s,l,E){if(this.append(\` {
\`),this.push(),this.indent_level+=1,E)for(const[S,w]of Object.entries(E))this.append(\`const \${S} = '\${w}'
\`);let C=0;const T=s.v.length;for(;C<T;){const S=s.v[C];this.write_stmt(S),C+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const l=s.v.v[1];this.append(l)}write_str(s){const l=s.v.v[1],E=l.indexOf("\${")===-1?'"':"\`";this.append(E+l+E)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){Du(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let l=0;const E=s.v.length;for(;l<E;)this.write_expr(s.v[l]),l<s.v.length-1&&this.append(", "),l+=1;this.append("]")}write_structl(s){const l=s.v;this.append("{");let E=0;for(;E<l.length;){const C=l[E],T=C.k;T.v.v[1]?this.write_id(T.v):this.write_str_id(T.v);const S=C.v;this.append(": "),this.write_expr(S),E<l.length-1&&this.append(", "),E+=1}this.append("}")}write_args(s){this.append("(");let l=0;for(;l<s.v.length;){let E=s.v[l];E.v.op&&E.v.op.v===":"&&(E=E.v.ropr),this.write_expr(E),l<s.v.length-1&&this.append(", "),l+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const l=s.v[1];this.write_expr(l)}write_tuple(s){this.append("[");let l=0;for(;l<s.v.length;){let E=s.v[l];E.id==="narg"&&(E=s.v[l].v[1]),this.write_expr(E),l<s.v.length-1&&this.append(", "),l+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((l,E)=>{const C=l[0].v[1],T=l[1];this.append(C),this.append(": "),this.write_expr(T),E<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let l=0;for(;l<s.v.arms.length;){const E=s.v.arms[l],C=E.v.pats,T=E.v.expr;let S=0;for(;S<C.length;)C[S].id!=="_"&&this.appendi("case "),this.write_pat(C[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(T),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,l+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const l=s.v.op.v;switch(l){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else yi("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(l);break;default:yi("unsupported op: "+l);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let l=s.pop();switch(l.id){case"ref":this.write_expr(l),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const E=l.v[0],C=l.v[1];this.write_expr(E),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&C.length>0&&this.append(", "),C.forEach((T,S)=>{this.write_expr(T),S<C.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(l);break;default:throw new Error("syntax error |> :"+Mi(l))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const E=html_gen.en.write_html(s,"",Br());this.append(\` (() => \\\`\${E}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const E=html_gen.ar.write_ar_html(s,"",Br());this.append(\`(() => \\\`\${E}\\\`)()\`);return}else symtab.structs.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const l=s.v[1];l&&l.forEach((E,C)=>{this.write_expr(E),C<l.length-1&&this.append(", ")}),s.v[2]&&(l&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(l=>{this.write_expr(l),this.append(",")}),this.append("]"))}write_bin(s){const l=s.v.op.v;switch(l){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let E=[],C=s.v.lopr,T=s.v.ropr;for(;;)if(E.push(C),T.id==="bin"&&T.v.op.v==="|>")C=T.v.lopr,T=T.v.ropr;else{E.push(T);break}this.write_pipe(E);break}case"||>":throw new Error(" ||> : WIP , "+Mi(s));case":>":throw new Error(" :> : WIP , "+Mi(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(l),(l==="=="||l==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:yi("cannot write binary operation: "+Mi(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:yi("cannot write expr: "+Mi(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Hc)}get_code(){return this.current}}class jc{run(s,l,E,C){const T={en:Fc(),ar:Pc()},S=Br();return S.init(s,l,T,E,C),S.run()}}class Uc{ast;symtab;main_args;target;target_opts;init(s,l,E,C,T){this.ast=s,this.symtab=l,this.main_args=E,this.target=C,this.target_opts=T}run(){let s;switch(_c(this.target)){case"js":s=new jc;break;default:St('target "'+this.target+'" is not supported');break}return s.run(this.ast,this.symtab,this.main_args,this.target_opts)}}class Kc{src;main_args;target;target_opts;lang;tokens;ast;symtab;gen_code;constructor(s,l,E,C,T,S,w,p,h,u){return this.src=s,this.main_args=l,this.target=E,this.target_opts=C,this.lang=T,this.tokens=S,this.ast=w,this.symtab=p,this.transltab=h,this.gen_code=u,this}init(s,l,E,C){this.src=s,this.main_args=l,this.target="js",this.target_opts=C||{},this.lang=E||"en"}init_ar(s,l,E){this.init(s,l,"ar",E)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const l=new dc;l.init(this.lang,this.src,s),l.run(),this.tokens=l.tokens,Zs(l.errs)||(cu(l.errs),St(""))}parse(){const s=new Ac;s.init(this.tokens),s.run(),this.ast=s.ast,this.symtab=s.symtab,Zs(s.errs)||(cu(s.errs),St(""))}generate(s){const l=new Uc;l.init(this.ast,this.symtab,this.main_args,s,this.target_opts),this.gen_code=l.run()}}const ku="panda-syntax",Gc="ttcn_modified",Xc=["mode","lang","theme","statusbar"],\$c={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},Yc={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},zr=window.opts,Su=zr.mode||"code";let ln;switch(Su){case"code":ln=\$c;break;case"editor":ln=Yc;break;default:throw new Error("invalid mode! : "+Su)}let Qc=new URLSearchParams(window.location.search).get("lang"),Js=Qc||zr.lang;Object.keys(zr).forEach(g=>{if(!Xc.includes(g))throw new Error("invalid option: "+g);ln[g]=zr[g]});window.console.log=g=>\$n(g);window.console.error=g=>{ef(),\$n(g.message,Eu)};const Eu="rgb(217 83 77)",Zc="rgb(108 141 211)",Jc={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},Vc={"Ctrl-9":g=>g.foldCode(g.getCursor()),Tab:()=>ff(),"Shift-Tab":()=>_f(),"Ctrl-'":()=>{cf("«»")},"Ctrl-0":()=>{la()},"Ctrl-=":()=>{Bu()},"Ctrl--":()=>{zu()}},Mu=["findCtrl"],Tu=document.querySelector("#eval"),Pu=document.querySelector("#preview_area"),tf=new MutationObserver((g,s)=>{Vs?Vs=!1:mf()});tf.observe(Pu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:Hr(Js),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:ha(Hr(Js)),extraKeys:{...Vc},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Mu}),Pi=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:ha("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:Mu});Pi.setSize(460);let Ir={},Wu,sa,hn,si,\$s,Vs;function ef(){return!!navigator.userAgentData}function Hr(g){return g==="ar"?"rtl":"ltr"}const Cu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await nf(Js);await Sf();async function nf(g){Wu=g==="ar_m",sa=g.startsWith("ar");let s=g.startsWith("ar")?"ar":"en";hn=14,si=s,\$s="",Vs=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await of(s),document.querySelector("#left_side_label").innerText=si==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=si==="ar"?"العرض الأولي":"Preview",oa(hn),uf(s),hf(s),ac(rc,s),oc(sc,s),gf(s),Yt.setValue(s==="ar"?Cu.ar:Cu.en),Yt.clearHistory(),lf(s),Iu(1,1),\$s&&openProj(\$s),await aa(ln.theme),rf()&&af(),ln.statusbar||sf(),document.querySelector("body").style.visibility="visible"}function rf(){return ln.mode==="code"}function sf(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function af(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function of(g){si=g}async function uf(g,s){g==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function lf(g){g==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function hf(g){let s=Hr(g);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function Iu(g,s){document.querySelector("#status_bar").textContent=si==="ar"?\`سطر \${Ys(g)}, عمودي \${Ys(s)}\`:\`Ln \${g}, Col \${s}\`}function cf(g){let s=g;if(sa){const l=Yt.doc.getCursor(),E=l.line;Yt.doc.replaceRange(s,l),Yt.doc.setCursor(E,l.ch+s.length)}else return CodeMirror.Pass}function ff(){if(Yt.somethingSelected()){var g=Yt.getSelection(\`
\`);if(g.length>0&&(g.indexOf(\`
\`)>-1||g.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function _f(){Yt.indentSelection("subtract")}function Bu(){hn++,oa(hn)}function zu(){hn--,oa(hn)}async function pf(){let g=document.querySelector("#theme"),s=g.options[g.selectedIndex].value;await aa(s)}async function aa(g){g==="dark"?(g=ku,document.querySelector("#theme").value=ku):g==="light"&&(g=Gc,document.querySelector("#theme").value="ttcn");const s=(E,C)=>{[...E.classList].forEach(T=>{T.startsWith("cm-s")&&E.classList.remove(T)}),C.split(" ").forEach(T=>{E.classList.add(\`cm-s-\${T}\`)})};Yt.setOption("theme",g),Pi.setOption("theme",g),s(document.querySelector("#wrapper"),g),s(document.querySelector("#editor_output"),g),s(document.querySelector("#output"),g),df();const l=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${l}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function df(){const g=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));g.style.fontSize=s.getPropertyValue("font-size"),g.style.color=s.getPropertyValue("color"),g.style.backgroundColor=s.getPropertyValue("background-color")}function oa(g){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(l=>{l.style.fontSize=\`\${g}px\`})}function gf(g){const s=g==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function vf(){document.querySelector("#right_side").style.display="flex"}function ua(){document.querySelector("#right_side").style.display="none"}function mf(){document.querySelector("#preview").style.display="flex"}function jr(){document.querySelector("#preview").style.display="none"}function Hu(){output.replaceChildren()}function bf(g){Tu.replaceChildren();const s=document.createElement("iframe");Tu.appendChild(s),s.contentWindow;const l=s.contentDocument||s.contentWindow.document,E=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${g}<\\/script>
      </head>
      <body>
      </body>\`;l.open(),l.write(E),l.close()}async function la(){ua(),jr(),Hu();try{let g=await qu();bf(g.get_code());const s=si==="ar"?"انتهى":"End";\$n(\`
\`),\$n(\`--- \${s} ---
\`,Zc)}catch(g){console.error(g)}}async function yf(){ua(),Pi.setValue("")}async function wf(){jr(),Pu.replaceChildren()}async function xf(){jr(),vf(),await qu()}async function qu(){let g=Yt.getValue(),s=new Kc,l={ignore_export:!0};const E={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(g,E,si,l),s.compile(),document.querySelector("#right_side_label").innerText=si==="ar"?"نص البرنامج":"Code";let C=js_beautify(s.gen_code,Jc);return Pi.setOption("mode","javascript"),Pi.setOption("direction","ltr"),Pi.setOption("lineNumberFormatter",ha("ltr")),Pi.setValue(C),s}async function kf(){document.querySelector("#output").innerHTML=""}async function Sf(){document.querySelector("body").addEventListener("keydown",g=>Ef(g)),document.querySelector("body").addEventListener("keyup",g=>{Ir[g.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>pf()),document.querySelector("#run").addEventListener("click",()=>la()),document.querySelector("#srccode").addEventListener("click",()=>xf()),document.querySelector("#right_side_close").addEventListener("click",()=>yf()),document.querySelector("#preview_close").addEventListener("click",()=>wf()),document.querySelector("#clear").addEventListener("click",()=>kf()),Yt.on("cursorActivity",g=>{let{line:s,ch:l}=Yt.getCursor();s+=1,l+=1,Iu(s,l)})}function ha(g){return g==="rtl"?s=>Ys(s):s=>s}function Ef(g){Ir[g.key]=!0;let s="";switch(Object.entries(Ir).forEach(([l,E])=>{Ir[l]&&(s+=l)}),s.toLowerCase()){case"0control":case"control0":la();break;case"-control":case"control-":Bu();break;case"=control":case"control=":zu();break}}function Tf(g){var s=document.querySelector("#output");s.appendChild(g),s.scrollTop=s.scrollHeight}function \$n(g,s){g===""&&console.log(\`
\`),sa&&(g&&(g=Cf(g)),Wu||g&&(g=Af(g)));const l=document.createElement("p");l.textContent=g,l.setAttribute("dir",Hr(si)),l.style.whiteSpace="pre-wrap",s&&(l.style.color=s),Tf(l)}function Cf(g){const s=/["'](.*?)["']/gi;return g.toString().replace(s,(l,E)=>l?\`«\${E}»\`:g)}function Af(g){function s(E){let C="",T=0;for(;T<E.length;){switch(E[T]){case"0":C+="٠";break;case"1":C+="١";break;case"2":C+="٢";break;case"3":C+="٣";break;case"4":C+="٤";break;case"5":C+="٥";break;case"6":C+="٦";break;case"7":C+="٧";break;case"8":C+="٨";break;case"9":C+="٩";break;case".":C+="٫";break;default:Lf()}T+=1}return C}const l=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return g=g.replace(l,(E,C,T,S)=>{if(E){let w=\`\${s(C)}\`;return T&&(w+=",",S&&(w+=\`\${s(S)}\`)),w}else return g}),g}function Lf(g){throw new Error(g)}function Of(g){Yt.setValue(g)}window.setEditorValue=Of;window.hideRightSide=ua;window.hidePreview=jr;window.resetOutput=Hu;window.setTheme=aa;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }                
              