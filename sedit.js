/*version: 0.1.4*/
export function SeenEditor(id, parent, opts) { 
                opts.mode = 'editor'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(f,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(f=f||self,f.CodeMirror=s())})(void 0,function(){var f=navigator.userAgent,s=navigator.platform,c=/gecko\\/\\d/i.test(f),T=/MSIE \\d/.test(f),C=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(f),E=/Edge\\/(\\d+)/.exec(f),S=T||C||E,w=S&&(T?document.documentMode||6:+(E||C)[1]),d=!E&&/WebKit\\//.test(f),l=d&&/Qt\\/\\d+\\.\\d+/.test(f),u=!E&&/Chrome\\/(\\d+)/.exec(f),_=u&&+u[1],b=/Opera\\//.test(f),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(f),g=/PhantomJS/.test(f),y=F&&(/Mobile\\/\\w+/.test(f)||navigator.maxTouchPoints>2),W=/Android/.test(f),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(f),z=y||/Mac/.test(s),H=/\\bCrOS\\b/.test(f),U=/win/i.test(s),Z=b&&f.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,d=!0);var ot=z&&(l||b&&(Z==null||Z<12.11)),rt=c||S&&w>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,i,n){var r=L(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=n||0,o=r||0;;){var h=t.indexOf("	",a);if(h<0||h>=e)return o+(e-a);o+=h-a,o+=i-o%i,a=h+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function vt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ee=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function xe(t,e,i){for(var n=0,r=0;;){var a=t.indexOf("	",n);a==-1&&(a=t.length);var o=a-n;if(a==t.length||r+o>=e)return n+Math.min(o,e-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=e)return n}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(mt(ce)+" ");return ce[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function on(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function _i(){}function Ji(t,e){var i;return Object.create?i=Object.create(t):(_i.prototype=t,i=new _i),e&&ft(e,i),i}var Gr=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function pi(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Gr.test(t))}function zn(t,e){return e?e.source.indexOf("\\\\w")>-1&&pi(t)?!0:e.test(t):pi(t)}function Vi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Hn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function di(t){return t.charCodeAt(0)>=768&&Hn.test(t)}function Pe(t,e,i){for(;(i<0?e>0:e<t.length)&&di(t.charAt(e));)e+=i;return e}function Bt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,a=n<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:i;t(a)?i=a:e=a+n}}function En(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<i&&o.to>e||e==i&&o.to==e)&&(n(Math.max(o.from,e),Math.min(o.to,i),o.level==1?"rtl":"ltr",a),r=!0)}r||n(e,i,"ltr")}var We=null;function Te(t,e,i){var n;We=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&i=="before"?n=r:We=r),a.from==e&&(a.from!=a.to&&i!="before"?n=r:We=r)}return n??We}var Xr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,h=/[1n]/;function p(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Ut=0,ge=M;Ut<j;++Ut){var ne=q[Ut];ge=="L"&&ne=="1"?q[Ut]="L":a.test(ne)&&(ge=ne)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",ve=(Kt<j?q[Kt]:M)=="L",ui=qt==ve?qt?"L":"R":M,yn=\$t;yn<Kt;++yn)q[yn]=ui;\$t=Kt-1}for(var ae=[],Ue,te=0;te<j;)if(o.test(q[te])){var Hs=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new p(0,Hs,te))}else{var nn=te,Mn=ae.length,Pn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=nn;he<te;)if(h.test(q[he])){nn<he&&(ae.splice(Mn,0,new p(1,nn,he)),Mn+=Pn);var li=he;for(++he;he<te&&h.test(q[he]);++he);ae.splice(Mn,0,new p(2,li,he)),Mn+=Pn,nn=he}else++he;nn<te&&ae.splice(Mn,0,new p(1,nn,te))}return N=="ltr"&&(ae[0].level==1&&(Ue=m.match(/^\\s+/))&&(ae[0].from=Ue[0].length,ae.unshift(new p(0,0,Ue[0].length))),mt(ae).level==1&&(Ue=m.match(/\\s+\$/))&&(mt(ae).to-=Ue[0].length,ae.push(new p(0,j-Ue[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var i=t.order;return i==null&&(i=t.order=Xr(t.text,e)),i}var tr=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||tr).concat(i)}};function gi(t,e){return t._handlers&&t._handlers[e]||tr}function ie(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var a=vt(r,i);a>-1&&(n[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Mt(t,e){var i=gi(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function zt(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,i||e.type,t,e),vi(e)||e.codemirrorIgnore}function er(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)vt(i,e[n])==-1&&i.push(e[n])}function oe(t,e){return gi(t,e).length>0}function ue(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){ie(this,e,i)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Tn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function vi(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){re(t),Tn(t)}function fe(t){return t.target||t.srcElement}function mi(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var \$r=function(){if(S&&w<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Ae;function Yr(t){if(Ae==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Ae=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&w<8))}var i=Ae?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var qn;function nr(t){if(qn!=null)return qn;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return k(t),!i||i.left==i.right?!1:qn=n.right-i.right<3}var bi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(i.push(a.slice(0,o)),e+=o+1):(i.push(a),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},un=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Ie=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Be=null;function ir(t){if(Be!=null)return Be;var e=K(t,L("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return Be=Math.abs(i.left-n.left)>1}var Ne={},ln={};function rr(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ne[t]=e}function jn(t,e){ln[t]=e}function me(t){if(typeof t=="string"&&ln.hasOwnProperty(t))t=ln[t];else if(t&&typeof t.name=="string"&&ln.hasOwnProperty(t.name)){var e=ln[t.name];typeof e=="string"&&(e={name:e}),t=Ji(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=me(e);var i=Ne[e.name];if(!i)return \$e(t,"text/plain");var n=i(t,e);if(hn.hasOwnProperty(e.name)){var r=hn[e.name];for(var a in r)r.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=r[a])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)n[o]=e.modeProps[o];return n}var hn={};function sr(t,e){var i=hn.hasOwnProperty(t)?hn[t]:hn[t]={};ft(e,i)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function cn(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function yi(t,e,i){return t.startState?t.startState(e,i):!0}var Ht=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(o){return i?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(e<a){i=r;break}e-=a}return i.lines[e]}function Qe(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(a){var o=a.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function Un(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Le(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,i=vt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function ze(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],a=r.height;if(e<a){t=r;continue t}e-=a,i+=r.chunkSize()}return i}while(!t.lines);for(var o=0;o<t.lines.length;++o){var h=t.lines[o],p=h.height;if(e<p)break;e-=p}return i+o}function x(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,i){if(i===void 0&&(i=null),!(this instanceof B))return new B(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function ke(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var i=t.first+t.size-1;return e.line>i?B(i,ct(t,i).text.length):\$u(e,ct(t,e.line).text.length)}function \$u(t,e){var i=t.ch;return i==null||i>e?B(t.line,e):i<0?B(t.line,0):t}function _a(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=yt(t,e[n]);return i}var ar=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,i){return e instanceof ar?new He(t,Ye(t.mode,e.state),i,e.lookAhead):new He(t,Ye(t.mode,e),i)},He.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ar(e,this.maxLookAhead):e};function pa(t,e,i,n){var r=[t.state.modeGen],a={};ya(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},a,n);for(var o=i.state,h=function(m){i.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;i.state=!0,ya(t,e.text,N.mode,i,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),i.state=o,i.baseTokens=null,i.baseTokenPos=1},p=0;p<t.state.overlays.length;++p)h(p);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function da(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=wi(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,n.state),a=pa(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function wi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new He(n,!0,e);var a=Yu(t,e,i),o=a>n.first&&ct(n,a-1).stateAfter,h=o?He.fromSaved(n,o,a):new He(n,yi(n.mode),a);return n.iter(a,e,function(p){Qr(t,p.text,h);var m=h.line;p.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?h.save():null,h.nextLine()}),i&&(n.modeFrontier=h.line),h}function Qr(t,e,i,n){var r=t.doc.mode,a=new Ht(e,t.options.tabSize,i);for(a.start=a.pos=n||0,e==""&&ga(r,i.state);!a.eol();)Zr(r,a,i.state),a.start=a.pos}function ga(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=cn(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function Zr(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=cn(t,i).mode);var a=t.token(e,i);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var va=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function ma(t,e,i,n){var r=t.doc,a=r.mode,o;e=yt(r,e);var h=ct(r,e.line),p=wi(t,e.line,i),m=new Ht(h.text,t.options.tabSize,p),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=Zr(a,m,p.state),n&&N.push(new va(m,o,Ye(r.mode,p.state)));return n?N:new va(m,o,p.state)}function ba(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ya(t,e,i,n,r,a,o){var h=i.flattenSpans;h==null&&(h=t.options.flattenSpans);var p=0,m=null,N=new Ht(e,t.options.tabSize,n),M,j=t.options.addModeClass&&[null];for(e==""&&ba(ga(i,n.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(h=!1,o&&Qr(t,e,n,N.pos),N.pos=e.length,M=null):M=ba(Zr(i,N,n.state,j),a),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!h||m!=M){for(;p<N.start;)p=Math.min(N.start,p+5e3),r(p,m);m=M}N.start=N.pos}for(;p<N.pos;){var X=Math.min(N.pos,p+5e3);r(X,m),p=X}}function Yu(t,e,i){for(var n,r,a=t.doc,o=i?-1:e-(t.doc.mode.innerMode?1e3:100),h=e;h>o;--h){if(h<=a.first)return a.first;var p=ct(a,h-1),m=p.stateAfter;if(m&&(!i||h+(m instanceof ar?m.lookAhead:0)<=a.modeFrontier))return h;var N=at(p.text,null,t.options.tabSize);(r==null||n>N)&&(r=h-1,n=N)}return r}function Qu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof ar)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var wa=!1,Ze=!1;function Zu(){wa=!0}function Ju(){Ze=!0}function or(t,e,i){this.marker=t,this.from=e,this.to=i}function xi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Vu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function tl(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function el(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(h||a.from==e&&o.type=="bookmark"&&(!i||!a.marker.insertLeft)){var p=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(n||(n=[])).push(new or(o,a.from,p?null:a.to))}}return n}function nl(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(h||a.from==e&&o.type=="bookmark"&&(!i||a.marker.insertLeft)){var p=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(n||(n=[])).push(new or(o,p?null:a.from-e,a.to==null?null:a.to-e))}}return n}function Jr(t,e){if(e.full)return null;var i=x(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=x(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,h=el(i,r,o),p=nl(n,a,o),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(h)for(var M=0;M<h.length;++M){var j=h[M];if(j.to==null){var q=xi(p,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(p)for(var X=0;X<p.length;++X){var Y=p[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=xi(h,Y.marker);V||(Y.from=N,m&&(h||(h=[])).push(Y))}else Y.from+=N,m&&(h||(h=[])).push(Y)}h&&(h=xa(h)),p&&p!=h&&(p=xa(p));var tt=[h];if(!m){var st=e.text.length-2,et;if(st>0&&h)for(var ut=0;ut<h.length;++ut)h[ut].to==null&&(et||(et=[])).push(new or(h[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(p)}return tt}function xa(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function il(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||vt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],a=0;a<n.length;++a)for(var o=n[a],h=o.find(0),p=0;p<r.length;++p){var m=r[p];if(!(G(m.to,h.from)<0||G(m.from,h.to)>0)){var N=[p,1],M=G(m.from,h.from),j=G(m.to,h.to);(M<0||!o.inclusiveLeft&&!M)&&N.push({from:m.from,to:h.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:h.to,to:m.to}),r.splice.apply(r,N),p+=N.length-3}}return r}function ka(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function Sa(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function ur(t){return t.inclusiveLeft?-1:0}function lr(t){return t.inclusiveRight?1:0}function Vr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),a=G(n.from,r.from)||ur(t)-ur(e);if(a)return-a;var o=G(n.to,r.to)||lr(t)-lr(e);return o||e.id-t.id}function Ea(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=void 0,a=0;a<i.length;++a)r=i[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Vr(n,r.marker)<0)&&(n=r.marker);return n}function Ta(t){return Ea(t,!0)}function hr(t){return Ea(t,!1)}function rl(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var a=i[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!n||Vr(n,a.marker)<0)&&(n=a.marker)}return n}function Ca(t,e,i,n,r){var a=ct(t,e),o=Ze&&a.markedSpans;if(o)for(var h=0;h<o.length;++h){var p=o[h];if(p.marker.collapsed){var m=p.marker.find(0),N=G(m.from,i)||ur(p.marker)-ur(r),M=G(m.to,n)||lr(p.marker)-lr(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(p.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(p.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Re(t){for(var e;e=Ta(t);)t=e.find(-1,!0).line;return t}function sl(t){for(var e;e=hr(t);)t=e.find(1,!0).line;return t}function al(t){for(var e,i;e=hr(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function ts(t,e){var i=ct(t,e),n=Re(i);return i==n?e:Lt(n)}function Aa(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!fn(t,i))return e;for(;n=hr(i);)i=n.find(1,!0).line;return Lt(i)+1}function fn(t,e){var i=Ze&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&es(t,e,n))return!0}}}function es(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return es(t,n.line,xi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&es(t,e,r))return!0}function Je(t){t=Re(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var o=0;o<a.children.length;++o){var h=a.children[o];if(h==i)break;e+=h.height}return e}function cr(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=Ta(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=hr(n);){var a=i.find(0,!0);e-=n.text.length-a.from.ch,n=a.to.line,e+=n.text.length-a.to.ch}return e}function ns(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=cr(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=cr(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var Kn=function(t,e,i){this.text=t,Sa(this,e),this.height=i?i(this):1};Kn.prototype.lineNo=function(){return Lt(this)},ue(Kn);function ol(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),ka(t),Sa(t,i);var r=n?n(t):1;r!=t.height&&Le(t,r)}function ul(t){t.parent=null,ka(t)}var ll={},hl={};function La(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?hl:ll;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function Oa(t,e){var i=Q("span",null,null,d?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;n.pos=0,n.addToken=fl,nr(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(n.addToken=pl(n.addToken,o)),n.map=[];var h=e!=t.display.externalMeasured&&Lt(a);dl(a,n,da(t,a,h)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=\$(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=\$(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Yr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(d){var p=n.content.lastChild;(/\\bcm-tab\\b/.test(p.className)||p.querySelector&&p.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function cl(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function fl(t,e,i,n,r,a,o){if(e){var h=t.splitSpaces?_l(e,t.trailingSpace):e,p=t.cm.state.specialChars,m=!1,N;if(!p.test(e))t.col+=e.length,N=document.createTextNode(h),t.map.push(t.pos,t.pos+e.length,N),S&&w<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){p.lastIndex=M;var j=p.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(h.slice(M,M+q));S&&w<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&w<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=h.charCodeAt(e.length-1)==32,i||n||r||m||a||o){var st=i||"";n&&(st+=n),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function _l(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),n+=a,i=a==" "}return n}function pl(t,e){return function(i,n,r,a,o,h,p){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(i,n,r,a,o,h,p);t(i,n.slice(0,M.to-m),r,a,null,h,p),a=null,n=n.slice(M.to-m),m=M.to}}}function Na(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function dl(t,e,i){var n=t.markedSpans,r=t.text,a=0;if(!n){for(var o=1;o<i.length;o+=2)e.addToken(e,r.slice(a,a=i[o]),La(i[o+1],e.cm.options));return}for(var h=r.length,p=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==p){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<n.length;++gt){var pt=n[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==p&&xt.widgetNode)et.push(xt);else if(pt.from<=p&&(pt.to==null||pt.to>p||xt.collapsed&&pt.to==p&&pt.from==p)){if(pt.to!=null&&pt.to!=p&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==p&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Vr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>p&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==p)for(var Wt=0;Wt<et.length;++Wt)Na(e,0,et[Wt]);if(tt&&(tt.from||0)==p){if(Na(e,(tt.to==null?h+1:tt.to)-p,tt.marker,tt.from==null),tt.to==null)return;tt.to==p&&(tt=!1)}}if(p>=h)break;for(var ye=Math.min(h,q);;){if(N){var de=p+N.length;if(!tt){var Ut=de>ye?N.slice(0,ye-p):N;e.addToken(e,Ut,M?M+X:X,V,p+Ut.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-p),p=ye;break}p=de,V=""}N=r.slice(a,a=i[m++]),M=La(i[m++],e.cm.options)}}}function Ra(t,e,i){this.line=e,this.rest=al(e),this.size=this.rest?Lt(mt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=fn(t,e)}function fr(t,e,i){for(var n=[],r,a=e;a<i;a=r){var o=new Ra(t.doc,ct(t.doc,a),a);r=a+o.size,n.push(o)}return n}var Gn=null;function gl(t){Gn?Gn.ops.push(t):t.ownsGroup=Gn={ops:[t],delayedCallbacks:[]}}function vl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function ml(t,e){var i=t.ownsGroup;if(i)try{vl(i)}finally{Gn=null,e(i)}}var ki=null;function Qt(t,e){var i=gi(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;Gn?r=Gn.delayedCallbacks:ki?r=ki:(r=ki=[],setTimeout(bl,0));for(var a=function(h){r.push(function(){return i[h].apply(null,n)})},o=0;o<i.length;++o)a(o)}}function bl(){var t=ki;ki=null;for(var e=0;e<t.length;++e)t[e]()}function Fa(t,e,i,n){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?wl(t,e):a=="gutter"?Ma(t,e,i,n):a=="class"?is(t,e):a=="widget"&&xl(t,e,n)}e.changes=null}function Si(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&w<8&&(t.node.style.zIndex=2)),t.node}function yl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=Si(e);e.background=n.insertBefore(L("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Da(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Oa(t,e)}function wl(t,e){var i=e.text.className,n=Da(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,is(t,e)):i&&(e.text.className=i)}function is(t,e){yl(t,e),e.line.wrapClass?Si(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Ma(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=Si(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=Si(e),h=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(h.setAttribute("aria-hidden","true"),t.display.input.setUneditable(h),o.insertBefore(h,e.text),e.line.gutterClass&&(h.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=h.appendChild(L("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var p=0;p<t.display.gutterSpecs.length;++p){var m=t.display.gutterSpecs[p].className,N=a.hasOwnProperty(m)&&a[m];N&&h.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function xl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Pa(t,e,i)}function kl(t,e,i,n){var r=Da(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),is(t,e),Ma(t,e,i,n),Pa(t,e,n),e.node}function Pa(t,e,i){if(Wa(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Wa(t,e.rest[n],e,i,!1)}function Wa(t,e,i,n,r){if(e.widgets)for(var a=Si(i),o=0,h=e.widgets;o<h.length;++o){var p=h[o],m=L("div",[p.node],"CodeMirror-linewidget"+(p.className?" "+p.className:""));p.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),Sl(p,m,i,n),t.display.input.setUneditable(m),r&&p.above?a.insertBefore(m,i.gutter||i.text):a.appendChild(m),Qt(p,"redraw")}}function Sl(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ei(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var i=fe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function _r(t){return t.lineSpace.offsetTop}function rs(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ia(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function qe(t){return ee-t.display.nativeBarWidth}function Cn(t){return t.display.scroller.clientWidth-qe(t)-t.display.barWidth}function ss(t){return t.display.scroller.clientHeight-qe(t)-t.display.barHeight}function El(t,e,i){var n=t.options.lineWrapping,r=n&&Cn(t);if(!e.measure.heights||n&&e.measure.width!=r){var a=e.measure.heights=[];if(n){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),h=0;h<o.length-1;h++){var p=o[h],m=o[h+1];Math.abs(p.bottom-m.bottom)>2&&a.push((p.bottom+m.top)/2-i.top)}}a.push(i.bottom-i.top)}}function Ba(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function Tl(t,e){e=Re(e);var i=Lt(e),n=t.display.externalMeasured=new Ra(t.doc,e,i);n.lineN=i;var r=n.built=Oa(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function za(t,e,i,n){return je(t,Xn(t,e),i,n)}function as(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[On(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function Xn(t,e){var i=Lt(e),n=as(t,i);n&&!n.text?n=null:n&&n.changes&&(Fa(t,n,i,cs(t)),t.curOp.forceUpdate=!0),n||(n=Tl(t,e));var r=Ba(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function je(t,e,i,n,r){e.before&&(i=-1);var a=i+(n||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(El(t,e.view,e.rect),e.hasHeights=!0),o=Al(t,e,i,n),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ha={left:0,right:0,top:0,bottom:0};function qa(t,e,i){for(var n,r,a,o,h,p,m=0;m<t.length;m+=3)if(h=t[m],p=t[m+1],e<h?(r=0,a=1,o="left"):e<p?(r=e-h,a=r+1):(m==t.length-3||e==p&&t[m+3]>e)&&(a=p-h,r=a-1,e>=p&&(o="right")),r!=null){if(n=t[m+2],h==p&&i==(n.insertLeft?"left":"right")&&(o=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],o="left";if(i=="right"&&r==p-h)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],o="right";break}return{node:n,start:r,end:a,collapse:o,coverStart:h,coverEnd:p}}function Cl(t,e){var i=Ha;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function Al(t,e,i,n){var r=qa(e.map,i,n),a=r.node,o=r.start,h=r.end,p=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&di(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+h<r.coverEnd&&di(e.line.text.charAt(r.coverStart+h));)++h;if(S&&w<9&&o==0&&h==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=Cl(it(a,o,h).getClientRects(),n),m.left||m.right||o==0)break;h=o,o=o-1,p="right"}S&&w<11&&(m=Ll(t.display.measure,m))}else{o>0&&(p=n="right");var M;t.options.lineWrapping&&(M=a.getClientRects()).length>1?m=M[n=="right"?M.length-1:0]:m=a.getBoundingClientRect()}if(S&&w<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Yn(t.display),top:j.top,bottom:j.bottom}:m=Ha}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(p=="right"?m.right:m.left)-e.rect.left,right:(p=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Ll(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ir(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ja(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Ua(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ja(t.display.view[e])}function Ti(t){Ua(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ka(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ga(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function os(t){var e=Re(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=Ei(i[r]));return n}function pr(t,e,i,n,r){if(!r){var a=os(e);i.top+=a,i.bottom+=a}if(n=="line")return i;n||(n="local");var o=Je(e);if(n=="local"?o+=_r(t.display):o-=t.display.viewOffset,n=="page"||n=="window"){var h=t.display.lineSpace.getBoundingClientRect();o+=h.top+(n=="window"?0:Ga(wt(t)));var p=h.left+(n=="window"?0:Ka(wt(t)));i.left+=p,i.right+=p}return i.top+=o,i.bottom+=o,i}function Xa(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ka(wt(t)),r-=Ga(wt(t));else if(i=="local"||!i){var a=t.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function dr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),pr(t,n,za(t,n,e.ch,r),i)}function Fe(t,e,i,n,r,a){n=n||ct(t.doc,e.line),r||(r=Xn(t,n));function o(X,Y){var V=je(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,pr(t,n,V,i)}var h=Ce(n,t.doc.direction),p=e.ch,m=e.sticky;if(p>=n.text.length?(p=n.text.length,m="before"):p<=0&&(p=0,m="after"),!h)return o(m=="before"?p-1:p,m=="before");function N(X,Y,V){var tt=h[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var M=Te(h,p,m),j=We,q=N(p,M,m=="before");return j!=null&&(q.other=N(p,j,m!="before")),q}function \$a(t,e){var i=0;e=yt(t.doc,e),t.options.lineWrapping||(i=Yn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Je(n)+_r(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function us(t,e,i,n,r){var a=B(t,e,i);return a.xRel=r,n&&(a.outside=n),a}function ls(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return us(n.first,0,null,-1,-1);var r=ze(n,i),a=n.first+n.size-1;if(r>a)return us(n.first+n.size-1,ct(n,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(n,r);;){var h=Ol(t,o,r,e,i),p=rl(o,h.ch+(h.xRel>0||h.outside>0?1:0));if(!p)return h;var m=p.find(1);if(m.line==r)return m;o=ct(n,r=m.line)}}function Ya(t,e,i,n){n-=os(e);var r=e.text.length,a=Bt(function(o){return je(t,i,o-1).bottom<=n},r,0);return r=Bt(function(o){return je(t,i,o).top>n},a,r),{begin:a,end:r}}function Qa(t,e,i,n){i||(i=Xn(t,e));var r=pr(t,e,je(t,i,n),"line").top;return Ya(t,e,i,r)}function hs(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Ol(t,e,i,n,r){r-=Je(e);var a=Xn(t,e),o=os(e),h=0,p=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Rl:Nl)(t,e,i,a,N,n,r);m=M.level!=1,h=m?M.from:M.to-1,p=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=je(t,a,gt);return pt.top+=o,pt.bottom+=o,hs(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=gt,q=pt),!0):!1},h,p),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==p||X==h)&&X++,V=X==0?"after":X==e.text.length?"before":je(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Fe(t,B(i,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Pe(e.text,X,1),us(i,X,V,tt,n-Y)}function Nl(t,e,i,n,r,a,o){var h=Bt(function(M){var j=r[M],q=j.level!=1;return hs(Fe(t,B(i,q?j.to:j.from,q?"before":"after"),"line",e,n),a,o,!0)},0,r.length-1),p=r[h];if(h>0){var m=p.level!=1,N=Fe(t,B(i,m?p.from:p.to,m?"after":"before"),"line",e,n);hs(N,a,o,!0)&&N.top>o&&(p=r[h-1])}return p}function Rl(t,e,i,n,r,a,o){var h=Ya(t,e,n,o),p=h.begin,m=h.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=p)){var X=q.level!=1,Y=je(t,n,X?Math.min(m,q.to)-1:Math.max(p,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<p&&(N={from:p,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var An;function \$n(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(An==null){An=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)An.appendChild(document.createTextNode("x")),An.appendChild(L("br"));An.appendChild(document.createTextNode("x"))}K(t.measure,An);var i=An.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),k(t.measure),i||1}function Yn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),i=L("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function cs(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var h=t.display.gutterSpecs[o].className;i[h]=a.offsetLeft+a.clientLeft+r,n[h]=a.clientWidth}return{fixedPos:fs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function fs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Za(t){var e=\$n(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Yn(t.display)-3);return function(r){if(fn(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return i?a+(Math.ceil(r.text.length/n)||1)*e:a+e}}function _s(t){var e=t.doc,i=Za(t);e.iter(function(n){var r=i(n);r!=n.height&&Le(n,r)})}function Ln(t,e,i,n){var r=t.display;if(!i&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,h=r.lineSpace.getBoundingClientRect();try{a=e.clientX-h.left,o=e.clientY-h.top}catch{return null}var p=ls(t,a,o),m;if(n&&p.xRel>0&&(m=ct(t.doc,p.line).text).length==p.ch){var N=at(m,m.length,t.options.tabSize)-m.length;p=B(p.line,Math.max(0,Math.round((a-Ia(t.display).left)/Yn(t.display))-N))}return p}function On(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function _e(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&ts(t.doc,e)<r.viewTo&&pn(t);else if(i<=r.viewFrom)Ze&&Aa(t.doc,i+n)>r.viewFrom?pn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)pn(t);else if(e<=r.viewFrom){var a=gr(t,i,i+n,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=n):pn(t)}else if(i>=r.viewTo){var o=gr(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):pn(t)}else{var h=gr(t,e,e,-1),p=gr(t,i,i+n,1);h&&p?(r.view=r.view.slice(0,h.index).concat(fr(t,h.lineN,p.lineN)).concat(r.view.slice(p.index)),r.viewTo+=n):pn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function _n(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var a=n.view[On(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);vt(o,i)==-1&&o.push(i)}}}function pn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function gr(t,e,i,n){var r=On(t,e),a,o=t.display.view;if(!Ze||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var h=t.display.viewFrom,p=0;p<r;p++)h+=o[p].size;if(h!=e){if(n>0){if(r==o.length-1)return null;a=h+o[r].size-e,r++}else a=h-e;e+=a,i+=a}for(;ts(t.doc,i)!=i;){if(r==(n<0?0:o.length-1))return null;i+=n*o[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Fl(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=fr(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=fr(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(On(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(fr(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,On(t,i)))),n.viewTo=i}function Ja(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Ci(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Va(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var h=0;h<i.sel.ranges.length;h++)if(!(!e&&h==i.sel.primIndex)){var p=i.sel.ranges[h];if(!(p.from().line>=t.display.viewTo||p.to().line<t.display.viewFrom)){var m=p.empty();if(o){var N=o(t,p);N&&ps(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&ps(t,p.head,r);m||Dl(t,p,a)}}return n}function ps(t,e,i){var n=Fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=dr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(n.other){var h=i.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));h.style.display="",h.style.left=n.other.left+"px",h.style.top=n.other.top+"px",h.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function vr(t,e){return t.top-e.top||t.left-e.left}function Dl(t,e,i){var n=t.display,r=t.doc,a=document.createDocumentFragment(),o=Ia(t.display),h=o.left,p=Math.max(n.sizerWidth,Cn(t)-n.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??p-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,ge){return dr(t,B(et,Ut),"div",pt,ge)}function ye(Ut,ge,ne){var \$t=Qa(t,pt,null,Ut),Kt=ge=="ltr"==(ne=="after")?"left":"right",qt=ne=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var de=Ce(pt,r.direction);return En(de,ut||0,gt??xt,function(Ut,ge,ne,\$t){var Kt=ne=="ltr",qt=Wt(Ut,Kt?"left":"right"),ve=Wt(ge-1,Kt?"right":"left"),ui=ut==null&&Ut==0,yn=gt==null&&ge==xt,ae=\$t==0,Ue=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?ui:yn)&&ae,Hs=(m?yn:ui)&&Ue,nn=te?h:(Kt?qt:ve).left,Mn=Hs?p:(Kt?ve:qt).right;N(nn,qt.top,Mn-nn,qt.bottom)}else{var Pn,he,li,qs;Kt?(Pn=m&&ui&&ae?h:qt.left,he=m?p:ye(Ut,ne,"before"),li=m?h:ye(ge,ne,"after"),qs=m&&yn&&Ue?p:ve.right):(Pn=m?ye(Ut,ne,"before"):h,he=!m&&ui&&ae?p:qt.right,li=!m&&yn&&Ue?h:ve.left,qs=m?ye(ge,ne,"after"):p),N(Pn,qt.top,he-Pn,qt.bottom),qt.bottom<ve.top&&N(h,qt.bottom,null,ve.top),N(li,ve.top,qs-li,ve.bottom)}(!Dt||vr(qt,Dt)<0)&&(Dt=qt),vr(ve,Dt)<0&&(Dt=ve),(!Vt||vr(qt,Vt)<0)&&(Vt=qt),vr(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Re(X)==Re(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(h,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(h,tt.bottom,null,st.top)}i.appendChild(a)}function ds(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Qn(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function to(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||vs(t))}function gs(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Qn(t))},100)}function vs(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,A(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),d&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),ds(t))}function Qn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function mr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var h=e.view[o],p=t.options.lineWrapping,m=void 0,N=0;if(!h.hidden){if(r+=h.line.height,S&&w<8){var M=h.node.offsetTop+h.node.offsetHeight;m=M-i,i=M}else{var j=h.node.getBoundingClientRect();m=j.bottom-j.top,!p&&h.text.firstChild&&(N=h.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=h.line.height-m;if((q>.005||q<-.005)&&(r<n&&(a-=q),Le(h.line,m),eo(h.line),h.rest))for(var X=0;X<h.rest.length;X++)eo(h.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Yn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=h.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function eo(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function br(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-_r(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,a=ze(e,n),o=ze(e,r);if(i&&i.ensure){var h=i.ensure.from.line,p=i.ensure.to.line;h<a?(a=h,o=ze(e,Je(ct(e,h))+t.wrapper.clientHeight)):Math.min(p,e.lastLine())>=o&&(a=ze(e,Je(ct(e,p))-t.wrapper.clientHeight),o=p)}return{from:a,to:Math.max(o,a+1)}}function Ml(t,e){if(!zt(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,a=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-_r(t.display))+\`px;
                         height: \`+(e.bottom-e.top+qe(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Pl(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,h=Fe(t,e),p=!i||i==e?h:Fe(t,i);r={left:Math.min(h.left,p.left),top:Math.min(h.top,p.top)-n,right:Math.max(h.left,p.left),bottom:Math.max(h.bottom,p.bottom)+n};var m=ms(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Li(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(Nn(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(o=!0)),!o)break}return r}function Wl(t,e){var i=ms(t,e);i.scrollTop!=null&&Li(t,i.scrollTop),i.scrollLeft!=null&&Nn(t,i.scrollLeft)}function ms(t,e){var i=t.display,n=\$n(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,a=ss(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var h=t.doc.height+rs(i),p=e.top<n,m=e.bottom>h-n;if(e.top<r)o.scrollTop=p?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?h:e.bottom)-a);N!=r&&(o.scrollTop=N)}var M=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-M,q=Cn(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function bs(t,e){e!=null&&(yr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Zn(t){yr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ai(t,e,i){(e!=null||i!=null)&&yr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Il(t,e){yr(t),t.curOp.scrollToPos=e}function yr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=\$a(t,e.from),n=\$a(t,e.to);no(t,i,n,e.margin)}}function no(t,e,i,n){var r=ms(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ai(t,r.scrollLeft,r.scrollTop)}function Li(t,e){Math.abs(t.doc.scrollTop-e)<2||(c||ws(t,{top:e}),io(t,e,!0),c&&ws(t),Ri(t,100))}function io(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Nn(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,uo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Oi(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+rs(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+qe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var Rn=function(t,e,i){this.cm=i;var n=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},Rn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rn.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Rn.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),a=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},Rn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Ni=function(){};Ni.prototype.update=function(){return{bottom:0,right:0}},Ni.prototype.setScrollLeft=function(){},Ni.prototype.setScrollTop=function(){},Ni.prototype.clear=function(){};function Jn(t,e){e||(e=Oi(t));var i=t.display.barWidth,n=t.display.barHeight;ro(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&mr(t),ro(t,Oi(t)),i=t.display.barWidth,n=t.display.barHeight}function ro(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var so={native:Rn,null:Ni};function ao(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new so[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?Nn(t,e):Li(t,e)},t),t.display.scrollbars.addClass&&A(t.display.wrapper,t.display.scrollbars.addClass)}var Bl=0;function Fn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bl,markArrays:null},gl(t.curOp)}function Dn(t){var e=t.curOp;e&&ml(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;zl(i)})}function zl(t){for(var e=t.ops,i=0;i<e.length;i++)Hl(e[i]);for(var n=0;n<e.length;n++)ql(e[n]);for(var r=0;r<e.length;r++)jl(e[r]);for(var a=0;a<e.length;a++)Ul(e[a]);for(var o=0;o<e.length;o++)Kl(e[o])}function Hl(t){var e=t.cm,i=e.display;Xl(e),t.updateMaxLine&&ns(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new wr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ql(t){t.updatedDisplay=t.mustUpdate&&ys(t.cm,t.update)}function jl(t){var e=t.cm,i=e.display;t.updatedDisplay&&mr(e),t.barMeasure=Oi(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=za(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+qe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Cn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Ul(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Nn(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Jn(e,t.barMeasure),t.updatedDisplay&&ks(e,t.barMeasure),t.selectionChanged&&ds(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&to(t.cm)}function Kl(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&oo(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&io(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Nn(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Pl(e,yt(n,t.scrollToPos.from),yt(n,t.scrollToPos.to),t.scrollToPos.margin);Ml(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var h=0;h<a.length;++h)a[h].lines.length||Mt(a[h],"hide");if(o)for(var p=0;p<o.length;++p)o[p].lines.length&&Mt(o[p],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Fn(t);try{return e()}finally{Dn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Fn(t);try{return e.apply(t,arguments)}finally{Dn(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Fn(this);try{return t.apply(this,arguments)}finally{Dn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Fn(e);try{return t.apply(this,arguments)}finally{Dn(e)}}}function Ri(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(Gl,t))}function Gl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=wi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(n.line>=t.display.viewFrom){var o=a.styles,h=a.text.length>t.options.maxHighlightLength?Ye(e.mode,n.state):null,p=pa(t,a,n,!0);h&&(n.state=h),a.styles=p.styles;var m=a.styleClasses,N=p.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var M=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<o.length;++j)M=o[j]!=a.styles[j];M&&r.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=t.options.maxHighlightLength&&Qr(t,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Ri(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)_n(t,r[a],"text")})}}var wr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=br(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Cn(t),this.force=i,this.dims=cs(t),this.events=[]};wr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},wr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function Xl(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=qe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=qe(t)+"px",e.scrollbarsClipped=!0)}function \$l(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Yl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function ys(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return pn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&Ja(t)==0)return!1;lo(t)&&(pn(t),e.dims=cs(t));var r=n.first+n.size,a=Math.max(e.visible.from-t.options.viewportMargin,n.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(r,i.viewTo)),Ze&&(a=ts(t.doc,a),o=Aa(t.doc,o));var h=a!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Fl(t,a,o),i.viewOffset=Je(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var p=Ja(t);if(!h&&p==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=\$l(t);return p>4&&(i.lineDiv.style.display="none"),Ql(t,i.updateLineNumbers,e.dims),p>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Yl(m),k(i.cursorDiv),k(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,h&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Ri(t,400)),i.updateLineNumbers=null,!0}function oo(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==Cn(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+rs(t.display)-ss(t),i.top)}),e.visible=br(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=br(t.display,t.doc,i));if(!ys(t,e))break;mr(t);var r=Oi(t);Ci(t),Jn(t,r),ks(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ws(t,e){var i=new wr(t,e);if(ys(t,i)){mr(t),oo(t,i);var n=Oi(t);Ci(t),Jn(t,n),ks(t,n),i.finish()}}function Ql(t,e,i){var n=t.display,r=t.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function h(X){var Y=X.nextSibling;return d&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var p=n.view,m=n.viewFrom,N=0;N<p.length;N++){var M=p[N];if(!M.hidden)if(!M.node||M.node.parentNode!=a){var j=kl(t,M,m,i);a.insertBefore(j,o)}else{for(;o!=M.node;)o=h(o);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Fa(t,M,m,i)),q&&(k(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=M.node.nextSibling}m+=M.size}for(;o;)o=h(o)}function xs(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ks(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+qe(t)+"px"}function uo(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=fs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){t.options.fixedGutter&&(i[o].gutter&&(i[o].gutter.style.left=a),i[o].gutterBackground&&(i[o].gutterBackground.style.left=a));var h=i[o].alignable;if(h)for(var p=0;p<h.length;p++)h[p].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function lo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",xs(t.display),!0}return!1}function Ss(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:a,style:o})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function ho(t){var e=t.gutters,i=t.gutterSpecs;k(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],a=r.className,o=r.style,h=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(h.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=h,h.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",xs(t)}function Fi(t){ho(t.display),_e(t),uo(t)}function Zl(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&_>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&w<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!d&&!(c&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=Ss(n.gutters,n.lineNumbers),ho(r),i.init(r)}var xr=0,tn=null;S?tn=-.53:c?tn=15:u?tn=-.7:F&&(tn=-1/3);function co(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Jl(t){var e=co(t);return e.x*=tn,e.y*=tn,e}function fo(t,e){u&&_==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=co(e),n=i.x,r=i.y,a=tn;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,a=1);var o=t.display,h=o.scroller,p=h.scrollWidth>h.clientWidth,m=h.scrollHeight>h.clientHeight;if(n&&p||r&&m){if(r&&z&&d){t:for(var N=e.target,M=o.view;N!=h;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!c&&!b&&a!=null){r&&m&&Li(t,Math.max(0,h.scrollTop+r*a)),Nn(t,Math.max(0,h.scrollLeft+n*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),ws(t,{top:X,bottom:Y})}xr<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=h.scrollLeft,o.wheelStartY=h.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=h.scrollLeft-o.wheelStartX,tt=h.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(tn=(tn*xr+st)/(xr+1),++xr)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!bt(i.anchor,n.anchor)||!bt(i.head,n.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function De(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=vt(e,r);for(var a=1;a<e.length;a++){var o=e[a],h=e[a-1],p=G(h.to(),o.from());if(n&&!o.empty()?p>0:p>=0){var m=Xt(h.from(),o.from()),N=Ct(h.to(),o.to()),M=h.empty()?o.from()==o.head:h.from()==h.head;a<=i&&--i,e.splice(--a,2,new Ot(M?N:m,M?m:N))}}return new Se(e,i)}function dn(t,e){return new Se([new Ot(t,e||t)],0)}function gn(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function _o(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return gn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=gn(e).ch-e.to.ch),B(i,n)}function Es(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new Ot(_o(r.anchor,e),_o(r.head,e)))}return De(t.cm,i,t.sel.primIndex)}function po(t,e,i){return t.line==e.line?B(i.line,t.ch-e.ch+i.ch):B(i.line+(t.line-e.line),t.ch)}function Vl(t,e,i){for(var n=[],r=B(t.first,0),a=r,o=0;o<e.length;o++){var h=e[o],p=po(h.from,r,a),m=po(gn(h),r,a);if(r=h.to,a=m,i=="around"){var N=t.sel.ranges[o],M=G(N.head,N.anchor)<0;n[o]=new Ot(M?m:p,M?p:m)}else n[o]=new Ot(p,p)}return new Se(n,t.sel.primIndex)}function Ts(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Di(t)}function Di(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Ri(t,100),t.state.modeGen++,t.curOp&&_e(t)}function go(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Cs(t,e,i,n){function r(st){return i?i[st]:null}function a(st,et,ut){ol(st,et,ut,n),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new Kn(m[gt],r(gt),n));return ut}var h=e.from,p=e.to,m=e.text,N=ct(t,h.line),M=ct(t,p.line),j=mt(m),q=r(m.length-1),X=p.line-h.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(go(t,e)){var Y=o(0,m.length-1);a(M,M.text,q),X&&t.remove(h.line,X),Y.length&&t.insert(h.line,Y)}else if(N==M)if(m.length==1)a(N,N.text.slice(0,h.ch)+j+N.text.slice(p.ch),q);else{var V=o(1,m.length-1);V.push(new Kn(j+N.text.slice(p.ch),q,n)),a(N,N.text.slice(0,h.ch)+m[0],r(0)),t.insert(h.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,h.ch)+m[0]+M.text.slice(p.ch),r(0)),t.remove(h.line+1,X);else{a(N,N.text.slice(0,h.ch)+m[0],r(0)),a(M,j+M.text.slice(p.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(h.line+1,X-1),t.insert(h.line+1,tt)}Qt(t,"change",t,e)}function vn(t,e,i){function n(r,a,o){if(r.linked)for(var h=0;h<r.linked.length;++h){var p=r.linked[h];if(p.doc!=a){var m=o&&p.sharedHist;i&&!m||(e(p.doc,m),n(p.doc,r,m))}}}n(t,null,!0)}function vo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,_s(t),Ts(t),mo(t),t.options.direction=e.direction,t.options.lineWrapping||ns(t),t.options.mode=e.modeOption,_e(t)}function mo(t){(t.doc.direction=="rtl"?A:R)(t.display.lineDiv,"CodeMirror-rtl")}function th(t){be(t,function(){mo(t),_e(t)})}function kr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function As(t,e){var i={from:Tt(e.from),to:gn(e),text:Qe(t,e.from,e.to)};return wo(t,i,e.from.line,e.to.line+1),vn(t,function(n){return wo(n,i,e.from.line,e.to.line+1)},!0),i}function bo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function eh(t,e){if(e)return bo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function yo(t,e,i,n){var r=t.history;r.undone.length=0;var a=+new Date,o,h;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=eh(r,r.lastOp==n)))h=mt(o.changes),G(e.from,e.to)==0&&G(e.from,h.to)==0?h.to=gn(e):o.changes.push(As(t,e));else{var p=mt(r.done);for((!p||!p.ranges)&&Sr(t.sel,r.done),o={changes:[As(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,h||Mt(t,"historyAdded")}function nh(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function ih(t,e,i,n){var r=t.history,a=n&&n.origin;i==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||nh(t,a,mt(r.done),e))?r.done[r.done.length-1]=e:Sr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=i,n&&n.clearRedo!==!1&&bo(r.undone)}function Sr(t,e){var i=mt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function wo(t,e,i,n){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function rh(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function sh(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(rh(i[r]));return n}function xo(t,e){var i=sh(t,e),n=Jr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)t:for(var h=0;h<o.length;++h){for(var p=o[h],m=0;m<a.length;++m)if(a[m].marker==p.marker)continue t;a.push(p)}else o&&(i[r]=o)}return i}function Vn(t,e,i){for(var n=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){n.push(i?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,h=[];n.push({changes:h});for(var p=0;p<o.length;++p){var m=o[p],N=void 0;if(h.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(h)[M]=m[M],delete m[M])}}return n}function Ls(t,e,i,n){if(n){var r=t.anchor;if(i){var a=G(e,r)<0;a!=G(i,r)<0?(r=e,e=i):a!=G(e,i)<0&&(e=i)}return new Ot(r,e)}else return new Ot(i||e,e)}function Er(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Ls(t.sel.primary(),e,i,r)],0),n)}function ko(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)n[a]=Ls(t.sel.ranges[a],e[a],null,r);var o=De(t.cm,n,t.sel.primIndex);se(t,o,i)}function Os(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,se(t,De(t.cm,r,t.sel.primIndex),n)}function So(t,e,i,n){se(t,dn(e,i),n)}function ah(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new Ot(yt(t,r[a].anchor),yt(t,r[a].head))},origin:i&&i.origin};return Mt(t,"beforeSelectionChange",t,n),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?De(t.cm,n.ranges,n.ranges.length-1):e}function Eo(t,e,i){var n=t.history.done,r=mt(n);r&&r.ranges?(n[n.length-1]=e,Tr(t,e,i)):se(t,e,i)}function se(t,e,i){Tr(t,e,i),ih(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function Tr(t,e,i){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=ah(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);To(t,Ao(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Zn(t.cm)}function To(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,er(t.cm)),Qt(t,"cursorActivity",t))}function Co(t){To(t,Ao(t,t.sel,null,!1))}function Ao(t,e,i,n){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],h=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],p=Cr(t,o.anchor,h&&h.anchor,i,n),m=o.head==o.anchor?p:Cr(t,o.head,h&&h.head,i,n);(r||p!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new Ot(p,m))}return r?De(t.cm,r,e.primIndex):e}function ti(t,e,i,n,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var h=a.markedSpans[o],p=h.marker,m="selectLeft"in p?!p.selectLeft:p.inclusiveLeft,N="selectRight"in p?!p.selectRight:p.inclusiveRight;if((h.from==null||(m?h.from<=e.ch:h.from<e.ch))&&(h.to==null||(N?h.to>=e.ch:h.to>e.ch))){if(r&&(Mt(p,"beforeCursorEnter"),p.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!p.atomic)continue;if(i){var M=p.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(M=Lo(t,M,-n,M&&M.line==e.line?a:null)),M&&M.line==e.line&&(j=G(M,i))&&(n<0?j<0:j>0))return ti(t,M,e,n,r)}var q=p.find(n<0?-1:1);return(n<0?m:N)&&(q=Lo(t,q,n,q.line==e.line?a:null)),q?ti(t,q,e,n,r):null}}return e}function Cr(t,e,i,n,r){var a=n||1,o=ti(t,e,i,a,r)||!r&&ti(t,e,i,a,!0)||ti(t,e,i,-a,r)||!r&&ti(t,e,i,-a,!0);return o||(t.cantEdit=!0,B(t.first,0))}function Lo(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+i)}function Oo(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function No(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,a,o,h){r&&(n.from=yt(t,r)),a&&(n.to=yt(t,a)),o&&(n.text=o),h!==void 0&&(n.origin=h)}),Mt(t,"beforeChange",t,n),t.cm&&Mt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ei(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,ei)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=No(t,e,!0),!e))){var n=wa&&!i&&il(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Ro(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else Ro(t,e)}}function Ro(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=Es(t,e);yo(t,e,i,t.cm?t.cm.curOp.id:NaN),Mi(t,e,i,Jr(t,e));var n=[];vn(t,function(r,a){!a&&vt(n,r.history)==-1&&(Po(r.history,e),n.push(r.history)),Mi(r,e,null,Jr(r,e))})}}function Ar(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,a,o=t.sel,h=e=="undo"?r.done:r.undone,p=e=="undo"?r.undone:r.done,m=0;m<h.length&&(a=h[m],!(i?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=h.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=h.pop(),a.ranges){if(Sr(a,p),i&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(n){h.push(a);return}else break;var N=[];Sr(o,p),p.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var M=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,M&&!No(t,V,!1))return h.length=0,{};N.push(As(t,V));var tt=Y?Es(t,V):mt(h);Mi(t,V,tt,xo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:gn(V)});var st=[];vn(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Po(et.history,V),st.push(et.history)),Mi(et,V,null,xo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Fo(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)_n(t.cm,n,"gutter")}}function Mi(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Mi)(t,e,i,n);if(e.to.line<t.first){Fo(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Fo(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:B(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),i||(i=Es(t,e)),t.cm?oh(t.cm,e,n):Cs(t,e,n),Tr(t,i,Rt),t.cantEdit&&Cr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function oh(t,e,i){var n=t.doc,r=t.display,a=e.from,o=e.to,h=!1,p=a.line;t.options.lineWrapping||(p=Lt(Re(ct(n,a.line))),n.iter(p,o.line+1,function(q){if(q==r.maxLine)return h=!0,!0})),n.sel.contains(e.from,e.to)>-1&&er(t),Cs(n,e,i,Za(t)),t.options.lineWrapping||(n.iter(p,a.line+e.text.length,function(q){var X=cr(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,h=!1)}),h&&(t.curOp.updateMaxLine=!0)),Qu(n,a.line),Ri(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!go(t.doc,e)?_n(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),M=oe(t,"change");if(M||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function ni(t,e,i,n,r){var a;n||(n=i),G(n,i)<0&&(a=[n,i],i=a[0],n=a[1]),typeof e=="string"&&(e=t.splitLines(e)),ei(t,{from:i,to:n,text:e,origin:r})}function Do(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Mo(t,e,i,n){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var h=0;h<a.ranges.length;h++)Do(a.ranges[h].anchor,e,i,n),Do(a.ranges[h].head,e,i,n);continue}for(var p=0;p<a.changes.length;++p){var m=a.changes[p];if(i<m.from.line)m.from=B(m.from.line+n,m.from.ch),m.to=B(m.to.line+n,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Po(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Mo(t.done,i,n,r),Mo(t.undone,i,n,r)}function Pi(t,e,i,n){var r=e,a=e;return typeof e=="number"?a=ct(t,ke(t,e)):r=Lt(e),r==null?null:(n(a,r)&&t.cm&&_n(t.cm,r,i),a)}function Wi(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,ul(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Ii(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Ii.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var a=Math.min(e,r-t),o=n.height;if(n.removeInner(t,a),this.height-=o-n.height,r==a&&(this.children.splice(i--,1),n.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Wi))){var h=[];this.collapse(h),this.children=[new Wi(h)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,h=o;h<r.lines.length;){var p=new Wi(r.lines.slice(h,h+=25));r.height-=p.height,this.children.splice(++n,0,p),p.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Ii(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Ii(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,i))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Bi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Bi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Lt(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var a=Ei(this);Le(i,Math.max(0,i.height-a)),t&&(be(t,function(){Wo(t,i,-a),_n(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Bi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Ei(this)-e;r&&(fn(this.doc,n)||Le(n,n.height+r),i&&be(i,function(){i.curOp.forceUpdate=!0,Wo(i,n,r),Qt(i,"lineWidgetChanged",i,t,Lt(n))}))},ue(Bi);function Wo(t,e,i){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&bs(t,i)}function uh(t,e,i,n){var r=new Bi(t,i,n),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Pi(t,e,"widget",function(o){var h=o.widgets||(o.widgets=[]);if(r.insertAt==null?h.push(r):h.splice(Math.min(h.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!fn(t,o)){var p=Je(o)<t.scrollTop;Le(o,o.height+Ei(r)),p&&bs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Lt(e)),r}var Io=0,mn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Io};mn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Fn(t),oe(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],h=xi(o.markedSpans,this);t&&!this.collapsed?_n(t,Lt(o),"text"):t&&(h.to!=null&&(r=Lt(o)),h.from!=null&&(n=Lt(o))),o.markedSpans=Vu(o.markedSpans,h),h.from==null&&this.collapsed&&!fn(this.doc,o)&&t&&Le(o,\$n(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var p=0;p<this.lines.length;++p){var m=Re(this.lines[p]),N=cr(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&_e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Co(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Dn(t),this.parent&&this.parent.clear()}},mn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var a=this.lines[r],o=xi(a.markedSpans,this);if(o.from!=null&&(i=B(e?a:Lt(a),o.from),t==-1))return i;if(o.to!=null&&(n=B(e?a:Lt(a),o.to),t==1))return n}return i&&{from:i,to:n}},mn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||be(n,function(){var r=e.line,a=Lt(e.line),o=as(n,a);if(o&&(ja(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!fn(i.doc,r)&&i.height!=null){var h=i.height;i.height=null;var p=Ei(i)-h;p&&Le(r,r.height+p)}Qt(n,"markerChanged",n,t)})},mn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},mn.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(mn);function ii(t,e,i,n,r){if(n&&n.shared)return lh(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,ii)(t,e,i,n,r);var a=new mn(t,r),o=G(e,i);if(n&&ft(n,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ca(t,e.line,e,i,a)||e.line!=i.line&&Ca(t,i.line,e,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ju()}a.addToHistory&&yo(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var h=e.line,p=t.cm,m;if(t.iter(h,i.line+1,function(M){p&&a.collapsed&&!p.options.lineWrapping&&Re(M)==p.display.maxLine&&(m=!0),a.collapsed&&h!=e.line&&Le(M,0),tl(M,new or(a,h==e.line?e.ch:null,h==i.line?i.ch:null),t.cm&&t.cm.curOp),++h}),a.collapsed&&t.iter(e.line,i.line+1,function(M){fn(t,M)&&Le(M,0)}),a.clearOnEnter&&nt(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Zu(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Io,a.atomic=!0),p){if(m&&(p.curOp.updateMaxLine=!0),a.collapsed)_e(p,e.line,i.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=i.line;N++)_n(p,N,"text");a.atomic&&Co(p.doc),Qt(p,"markerAdded",p,a)}return a}var zi=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};zi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},zi.prototype.find=function(t,e){return this.primary.find(t,e)},ue(zi);function lh(t,e,i,n,r){n=ft(n),n.shared=!1;var a=[ii(t,e,i,n,r)],o=a[0],h=n.widgetNode;return vn(t,function(p){h&&(n.widgetNode=h.cloneNode(!0)),a.push(ii(p,yt(p,e),yt(p,i),n,r));for(var m=0;m<p.linked.length;++m)if(p.linked[m].isParent)return;o=mt(a)}),new zi(a,o)}function Bo(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function hh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var h=ii(t,a,o,n.primary,n.primary.type);n.markers.push(h),h.parent=n}}}function ch(t){for(var e=function(n){var r=t[n],a=[r.primary.doc];vn(r.primary.doc,function(p){return a.push(p)});for(var o=0;o<r.markers.length;o++){var h=r.markers[o];vt(a,h.doc)==-1&&(h.parent=null,r.markers.splice(o--,1))}},i=0;i<t.length;i++)e(i)}var fh=0,pe=function(t,e,i,n,r){if(!(this instanceof pe))return new pe(t,e,i,n,r);i==null&&(i=0),Ii.call(this,[new Wi([new Kn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=B(i,0);this.sel=dn(a),this.history=new kr(null),this.id=++fh,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Cs(this,{from:a,to:a,text:t}),se(this,dn(a),Rt)};pe.prototype=Ji(Ii.prototype,{constructor:pe,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Un(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),i=this.first+this.size-1;ei(this,{from:e,to:B(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ai(this.cm,0,0),se(this,dn(e),Rt)}),replaceRange:function(t,e,i,n){e=yt(this,e),i=i?yt(this,i):e,ni(this,t,e,i,n)},getRange:function(t,e,i){var n=Qe(this,yt(this,t),yt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(x(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Re(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){So(this,yt(this,typeof t=="number"?B(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){So(this,yt(this,t),yt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){Er(this,yt(this,t),e&&yt(this,e),i)}),extendSelections:Jt(function(t,e){ko(this,_a(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ge(this.sel.ranges,t);ko(this,_a(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,De(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new Ot(yt(this,t),yt(this,e||t))),se(this,De(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=Qe(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Qe(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:i}}for(var h=e&&e!="end"&&Vl(this,n,e),p=n.length-1;p>=0;p--)ei(this,n[p]);h?Eo(this,h):this.cm&&Zn(this.cm)}),undo:Jt(function(){Ar(this,"undo")}),redo:Jt(function(){Ar(this,"redo")}),undoSelection:Jt(function(){Ar(this,"undo",!0)}),redoSelection:Jt(function(){Ar(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new kr(this.history),vn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Vn(this.history.done),undone:Vn(this.history.undone)}},setHistory:function(t){var e=this.history=new kr(this.history);e.done=Vn(t.done.slice(0),null,!0),e.undone=Vn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Pi(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Vi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Pi(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Vi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!x(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Pi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Pi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=n[r];if(a)if(i==null)n[r]=null;else{var o=a.match(I(i));if(!o)return!1;var h=o.index+o[0].length;n[r]=a.slice(0,o.index)+(!o.index||h==a.length?"":" ")+a.slice(h)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return uh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return ii(this,yt(this,t),yt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),ii(this,t,t,i,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=yt(this,t),e=yt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var h=0;h<o.length;h++){var p=o[h];!(p.to!=null&&r==t.line&&t.ch>=p.to||p.from==null&&r!=t.line||p.from!=null&&r==e.line&&p.from>=e.ch)&&(!i||i(p.marker))&&n.push(p.marker.parent||p.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+n;if(a>t)return e=t,!0;t-=a,++i}),yt(this,B(i,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new pe(Un(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new pe(Un(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],hh(n,Bo(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),ch(Bo(this));break}}if(t.history==this.history){var n=[t.id];vn(t,function(r){return n.push(r.id)},!0),t.history=new kr(null),t.history.done=Vn(this.history.done,n),t.history.undone=Vn(this.history.undone,n)}},iterLinkedDocs:function(t){vn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):bi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&th(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var zo=0;function _h(t){var e=this;if(Ho(e),!(zt(e,t)||Ve(e.display,t))){re(t),S&&(zo=+new Date);var i=Ln(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,h=function(){++o==r&&Zt(e,function(){i=yt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};ei(e.doc,q),Eo(e.doc,dn(yt(e.doc,i),yt(e.doc,gn(q))))})()},p=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){h();return}var Y=new FileReader;Y.onerror=function(){return h()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){h();return}a[X]=V,h()},Y.readAsText(q)},m=0;m<n.length;m++)p(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),Tr(e.doc,dn(i,i)),M)for(var j=0;j<M.length;++j)ni(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function ph(t,e){if(S&&(!t.state.draggingText||+new Date-zo<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function dh(t,e){var i=Ln(t,e);if(i){var n=document.createDocumentFragment();ps(t,i,n),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function Ho(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function qo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var a=0;a<i.length;a++)t(i[a])})}}var jo=!1;function gh(){jo||(vh(),jo=!0)}function vh(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,qo(mh)},100))}),nt(window,"blur",function(){return qo(Qn)})}function mh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var bn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Hi=0;Hi<10;Hi++)bn[Hi+48]=bn[Hi+96]=String(Hi);for(var Lr=65;Lr<=90;Lr++)bn[Lr]=String.fromCharCode(Lr);for(var qi=1;qi<=12;qi++)bn[qi+111]=bn[qi+63235]="F"+qi;var en={};en.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},en.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},en.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},en.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},en.default=z?en.macDefault:en.pcDefault;function bh(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,a,o=0;o<e.length-1;o++){var h=e[o];if(/^(cmd|meta|m)\$/i.test(h))a=!0;else if(/^a(lt)?\$/i.test(h))i=!0;else if(/^(c|ctrl|control)\$/i.test(h))n=!0;else if(/^s(hift)?\$/i.test(h))r=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function yh(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ge(i.split(" "),bh),a=0;a<r.length;a++){var o=void 0,h=void 0;a==r.length-1?(h=r.join(" "),o=n):(h=r.slice(0,a+1).join(" "),o="...");var p=e[h];if(!p)e[h]=o;else if(p!=o)throw new Error("Inconsistent bindings for "+h)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ri(t,e,i,n){e=Or(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ri(t,e.fallthrough,i,n);for(var a=0;a<e.fallthrough.length;a++){var o=ri(t,e.fallthrough[a],i,n);if(o)return o}}}function Uo(t){var e=typeof t=="string"?t:bn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Ko(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function Go(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=bn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Ko(i,t,e))}function Or(t){return typeof t=="string"?en[t]:t}function si(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=e(i[r]);n.length&&G(a.from,mt(n).to)<=0;){var o=n.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}be(t,function(){for(var h=n.length-1;h>=0;h--)ni(t.doc,"",n[h].from,n[h].to,"+delete");Zn(t)})}function Ns(t,e,i){var n=Pe(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Rs(t,e,i){var n=Ns(t,e.ch,i);return n==null?null:new B(e.line,n,i<0?"after":"before")}function Fs(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(i,e.doc.direction);if(a){var o=r<0?mt(a):a[0],h=r<0==(o.level==1),p=h?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=Xn(e,i);m=r<0?i.text.length-1:0;var M=je(e,N,m).top;m=Bt(function(j){return je(e,N,j).top==M},r<0==(o.level==1)?o.from:o.to-1,m),p=="before"&&(m=Ns(i,m,1))}else m=r<0?o.to:o.from;return new B(n,m,p)}}return new B(n,r<0?i.text.length:0,r<0?"before":"after")}function wh(t,e,i,n){var r=Ce(e,t.doc.direction);if(!r)return Rs(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=Te(r,i.ch,i.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(n>0?o.to>i.ch:o.from<i.ch))return Rs(e,i,n);var h=function(tt,st){return Ns(e,tt instanceof B?tt.ch:tt,st)},p,m=function(tt){return t.options.lineWrapping?(p=p||Xn(t,e),Qa(t,e,p,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?h(i,-1):i.ch);if(t.doc.direction=="rtl"||o.level==1){var M=o.level==1==n<0,j=h(i,M?1:-1);if(j!=null&&(M?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=M?"before":"after";return new B(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(i.line,h(Dt,1),"before"):new B(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:h(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:h(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(a+n,n,N);if(Y)return Y;var V=n>0?N.end:h(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var ji={selectAll:Oo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return si(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return si(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return si(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return si(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return si(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Xo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return \$o(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return xh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?\$o(t,e.head):n},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var a=i[r].from(),o=at(t.getLine(a.line),a.ch,n);e.push(It(n-o%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new B(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),B(r.line-1,o.length-1),r,"+transpose"))}}i.push(new Ot(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Zn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Xo(t,e){var i=ct(t.doc,e),n=Re(i);return n!=i&&(e=Lt(n)),Fs(!0,t,n,e,1)}function xh(t,e){var i=ct(t.doc,e),n=sl(i);return n!=i&&(e=Lt(n)),Fs(!0,t,i,e,-1)}function \$o(t,e){var i=Xo(t,e.line),n=ct(t.doc,i.line),r=Ce(n,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(i.ch,n.text.search(/\\S/)),o=e.line==i.line&&e.ch<=a&&e.ch;return B(i.line,o?0:a,i.sticky)}return i}function Nr(t,e,i){if(typeof e=="string"&&(e=ji[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function kh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ri(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ri(e,t.options.extraKeys,i,t)||ri(e,t.options.keyMap,i,t)}var Sh=new _t;function Ui(t,e,i,n){var r=t.state.keySeq;if(r){if(Uo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:Sh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Yo(t,r+" "+e,i,n))return!0}return Yo(t,e,i,n)}function Yo(t,e,i,n){var r=kh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(re(i),ds(t)),!!r}function Qo(t,e){var i=Go(e,!0);return i?e.shiftKey&&!t.state.keySeq?Ui(t,"Shift-"+i,e,function(n){return Nr(t,n,!0)})||Ui(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Nr(t,n)}):Ui(t,i,e,function(n){return Nr(t,n)}):!1}function Eh(t,e,i){return Ui(t,"'"+i+"'",e,function(n){return Nr(t,n,!0)})}var Ds=null;function Zo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&w<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Qo(e,t);b&&(Ds=n?i:null,!n&&i==88&&!Ie&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),c&&!z&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&Th(e)}}function Th(t){var e=t.display.lineDiv;A(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),ie(document,"keyup",i),ie(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function Jo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Vo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Ds){Ds=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&Qo(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(Eh(e,t,r)||e.display.input.onKeyPress(t))}}}var Ch=400,Ms=function(t,e,i){this.time=t,this.pos=e,this.button=i};Ms.prototype.compare=function(t,e,i){return this.time+Ch>t&&G(e,this.pos)==0&&i==this.button};var Ki,Gi;function Ah(t,e){var i=+new Date;return Gi&&Gi.compare(i,t,e)?(Ki=Gi=null,"triple"):Ki&&Ki.compare(i,t,e)?(Gi=new Ms(i,t,e),Ki=null,"double"):(Ki=new Ms(i,t,e),Gi=null,"single")}function tu(t){var e=this,i=e.display;if(!(zt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ve(i,t)){d||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ps(e,t)){var n=Ln(e,t),r=mi(t),a=n?Ah(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&Lh(e,r,n,a,t))&&(r==1?n?Nh(e,n,a,t):fe(t)==i.scroller&&re(t):r==2?(n&&Er(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):gs(e)))}}}function Lh(t,e,i,n,r){var a="Click";return n=="double"?a="Double"+a:n=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,Ui(t,Ko(a,r),r,function(o){if(typeof o=="string"&&(o=ji[o]),!o)return!1;var h=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),h=o(t,i)!=Et}finally{t.state.suppressEdits=!1}return h})}function Oh(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var a=H?i.shiftKey&&i.metaKey:i.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=z?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?i.altKey:i.ctrlKey)),r}function Nh(t,e,i,n){S?setTimeout(kt(to,t),0):t.curOp.focus=lt(wt(t));var r=Oh(t,i,n),a=t.doc.sel,o;t.options.dragDrop&&\$r&&!t.isReadOnly()&&i=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Rh(t,n,e,r):Fh(t,n,e,r)}function Rh(t,e,i,n){var r=t.display,a=!1,o=Zt(t,function(m){d&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:gs(t)),ie(r.wrapper.ownerDocument,"mouseup",o),ie(r.wrapper.ownerDocument,"mousemove",h),ie(r.scroller,"dragstart",p),ie(r.scroller,"drop",o),a||(re(m),n.addNew||Er(t.doc,i,null,null,n.extend),d&&!F||S&&w==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),h=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},p=function(){return a=!0};d&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",o),nt(r.wrapper.ownerDocument,"mousemove",h),nt(r.scroller,"dragstart",p),nt(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function eu(t,e,i){if(i=="char")return new Ot(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var n=i(t,e);return new Ot(n.from,n.to)}function Fh(t,e,i,n){S&&gs(t);var r=t.display,a=t.doc;re(e);var o,h,p=a.sel,m=p.ranges;if(n.addNew&&!n.extend?(h=a.sel.contains(i),h>-1?o=m[h]:o=new Ot(i,i)):(o=a.sel.primary(),h=a.sel.primIndex),n.unit=="rectangle")n.addNew||(o=new Ot(i,i)),i=Ln(t,e,!0,!0),h=-1;else{var N=eu(t,i,n.unit);n.extend?o=Ls(o,N.anchor,N.head,n.extend):o=N}n.addNew?h==-1?(h=m.length,se(a,De(t,m.concat([o]),h),{scroll:!1,origin:"*mouse"})):m.length>1&&m[h].empty()&&n.unit=="char"&&!n.extend?(se(a,De(t,m.slice(0,h).concat(m.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=a.sel):Os(a,h,o,Ee):(h=0,se(a,new Se([o],0),Ee),p=a.sel);var M=i;function j(et){if(G(M,et)!=0)if(M=et,n.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(a,i.line).text,i.ch,gt),xt=at(ct(a,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(i.line,et.line),ye=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Ut=xe(de,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):de.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,xe(de,Vt,gt))))}ut.length||ut.push(new Ot(i,i)),se(a,De(t,p.ranges.slice(0,h).concat(ut),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ne=eu(t,et,n.unit),\$t=ge.anchor,Kt;G(ne.anchor,\$t)>0?(Kt=ne.head,\$t=Xt(ge.from(),ne.anchor)):(Kt=ne.anchor,\$t=Ct(ge.to(),ne.head));var qt=p.ranges.slice(0);qt[h]=Dh(t,new Ot(yt(a,\$t),Kt)),se(a,De(t,qt,h),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=Ln(t,et,!0,n.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=br(r,a);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ie(r.wrapper.ownerDocument,"mousemove",tt),ie(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!mi(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Dh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,i.ch,i.sticky),h=a[o];if(h.from!=i.ch&&h.to!=i.ch)return e;var p=o+(h.from==i.ch==(h.level!=1)?0:1);if(p==0||p==a.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,n.ch,n.sticky),M=N-o||(n.ch-i.ch)*(h.level==1?-1:1);N==p-1||N==p?m=M<0:m=M>0}var j=a[p+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new Ot(new B(i.line,X,Y),n)}function nu(t,e,i,n){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&re(e);var o=t.display,h=o.lineDiv.getBoundingClientRect();if(a>h.bottom||!oe(t,i))return vi(e);a-=h.top-o.viewOffset;for(var p=0;p<t.display.gutterSpecs.length;++p){var m=o.gutters.childNodes[p];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),M=t.display.gutterSpecs[p];return Mt(t,i,t,N,M.className,e),vi(e)}}}function Ps(t,e){return nu(t,e,"gutterClick",!0)}function iu(t,e){Ve(t.display,e)||Mh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Mh(t,e){return oe(t,"gutterContextMenu")?nu(t,e,"gutterContextMenu",!1):!1}function ru(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Ti(t)}var ai={toString:function(){return"CodeMirror.Init"}},su={},Rr={};function Ph(t){var e=t.optionHandlers;function i(n,r,a,o){t.defaults[n]=r,a&&(e[n]=o?function(h,p,m){m!=ai&&a(h,p,m)}:a)}t.defineOption=i,t.Init=ai,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,Ts(n)},!0),i("indentUnit",2,Ts,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Di(n),Ti(n),_e(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var a=[],o=n.doc.first;n.doc.iter(function(p){for(var m=0;;){var N=p.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(B(o,N))}o++});for(var h=a.length-1;h>=0;h--)ni(n.doc,r,a[h],B(a[h].line,a[h].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,a){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=ai&&n.refresh()}),i("specialCharPlaceholder",cl,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){ru(n),Fi(n)},!0),i("keyMap","default",function(n,r,a){var o=Or(r),h=a!=ai&&Or(a);h&&h.detach&&h.detach(n,o),o.attach&&o.attach(n,h||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Ih,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=Ss(r,n.options.lineNumbers),Fi(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?fs(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return Jn(n)},!0),i("scrollbarStyle","native",function(n){ao(n),Jn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=Ss(n.options.gutters,r),Fi(n)},!0),i("firstLineNumber",1,Fi,!0),i("lineNumberFormatter",function(n){return n},Fi,!0),i("showCursorWhenSelecting",!1,Ci,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(Qn(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Wh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Ci,!0),i("singleCursorHeightPerLine",!0,Ci,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Di,!0),i("addModeClass",!1,Di,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Di,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Wh(t,e,i){var n=i&&i!=ai;if(!e!=!n){var r=t.display.dragFunctions,a=e?nt:ie;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Ih(t){t.options.lineWrapping?(A(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ns(t)),_s(t),_e(t),Ti(t),setTimeout(function(){return Jn(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(su,e,!1);var n=e.value;typeof n=="string"?n=new pe(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Zl(t,n,r,e);a.wrapper.CodeMirror=this,ru(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ao(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&w<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Bh(this),gh(),Fn(this),this.curOp.forceUpdate=!0,vo(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&vs(i)},20):Qn(this);for(var o in Rr)Rr.hasOwnProperty(o)&&Rr[o](this,e[o],ai);lo(this),e.finishInit&&e.finishInit(this);for(var h=0;h<Ws.length;++h)Ws[h](this);Dn(this),d&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=su,Pt.optionHandlers=Rr;function Bh(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,tu)),S&&w<11?nt(e.scroller,"dblclick",Zt(t,function(p){if(!zt(t,p)){var m=Ln(t,p);if(!(!m||Ps(t,p)||Ve(t.display,p))){re(p);var N=t.findWordAt(m);Er(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(p){return zt(t,p)||re(p)}),nt(e.scroller,"contextmenu",function(p){return iu(t,p)}),nt(e.input.getField(),"contextmenu",function(p){e.scroller.contains(p.target)||iu(t,p)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function a(p){if(p.touches.length!=1)return!1;var m=p.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(p,m){if(m.left==null)return!0;var N=m.left-p.left,M=m.top-p.top;return N*N+M*M>20*20}nt(e.scroller,"touchstart",function(p){if(!zt(t,p)&&!a(p)&&!Ps(t,p)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},p.touches.length==1&&(e.activeTouch.left=p.touches[0].pageX,e.activeTouch.top=p.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(p){var m=e.activeTouch;if(m&&!Ve(e,p)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||o(m,m.prev)?M=new Ot(N,N):!m.prev.prev||o(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),re(p)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Li(t,e.scroller.scrollTop),Nn(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(p){return fo(t,p)}),nt(e.scroller,"DOMMouseScroll",function(p){return fo(t,p)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(p){zt(t,p)||Xe(p)},over:function(p){zt(t,p)||(dh(t,p),Xe(p))},start:function(p){return ph(t,p)},drop:Zt(t,_h),leave:function(p){zt(t,p)||Ho(t)}};var h=e.input.getField();nt(h,"keyup",function(p){return Jo.call(t,p)}),nt(h,"keydown",Zt(t,Zo)),nt(h,"keypress",Zt(t,Vo)),nt(h,"focus",function(p){return vs(t,p)}),nt(h,"blur",function(p){return Qn(t,p)})}var Ws=[];Pt.defineInitHook=function(t){return Ws.push(t)};function Xi(t,e,i,n){var r=t.doc,a;i==null&&(i="add"),i=="smart"&&(r.mode.indent?a=wi(t,e).state:i="prev");var o=t.options.tabSize,h=ct(r,e),p=at(h.text,null,o);h.stateAfter&&(h.stateAfter=null);var m=h.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(h.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(a,h.text.slice(m.length),h.text),N==Et||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:i=="add"?N=p+t.options.indentUnit:i=="subtract"?N=p-t.options.indentUnit:typeof i=="number"&&(N=p+i),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return ni(r,M,B(e,0),B(e,m.length),"+input"),h.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);Os(r,X,new Ot(V,V));break}}}var Me=null;function Fr(t){Me=t}function Is(t,e,i,n,r){var a=t.doc;t.display.shift=!1,n||(n=a.sel);var o=+new Date-200,h=r=="paste"||t.state.pasteIncoming>o,p=bi(e),m=null;if(h&&n.ranges.length>1)if(Me&&Me.text.join(\`
\`)==e){if(n.ranges.length%Me.text.length==0){m=[];for(var N=0;N<Me.text.length;N++)m.push(a.splitLines(Me.text[N]))}}else p.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(p,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=B(X.line,X.ch-i):t.state.overwrite&&!h?Y=B(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+mt(p).length)):h&&Me&&Me.lineWise&&Me.text.join(\`
\`)==p.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:p,origin:r||(h?"paste":t.state.cutIncoming>o?"cut":"+input")};ei(t.doc,V),Qt(t,"inputRead",t,V)}e&&!h&&ou(t,e),Zn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function au(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Is(e,i,0,null,"paste")}),!0}function ou(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var h=0;h<a.electricChars.length;h++)if(e.indexOf(a.electricChars.charAt(h))>-1){o=Xi(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Xi(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function uu(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,a={anchor:B(r,0),head:B(r+1,0)};i.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:i}}function Bs(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function lu(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function zh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var a=this.options,o=a[n];a[n]==r&&n!="mode"||(a[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,o),Mt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Or(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==n||r[a].name==n)return r.splice(a,1),!0},addOverlay:le(function(n,r){var a=n.token?n:t.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");on(this.state.overlays,{mode:a,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(n){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==n||typeof n=="string"&&o.name==n){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(n,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),x(this.doc,n)&&Xi(this,n,r,a)}),indentSelection:le(function(n){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var h=r[o];if(h.empty())h.head.line>a&&(Xi(this,h.head.line,n,!0),a=h.head.line,o==this.doc.sel.primIndex&&Zn(this));else{var p=h.from(),m=h.to(),N=Math.max(a,p.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<a;++M)Xi(this,M,n);var j=this.doc.sel.ranges;p.ch==0&&r.length==j.length&&j[o].from().ch>0&&Os(this.doc,o,new Ot(p,j[o].to()),Rt)}}}),getTokenAt:function(n,r){return ma(this,n,r)},getLineTokens:function(n,r){return ma(this,B(n),r,!0)},getTokenTypeAt:function(n){n=yt(this.doc,n);var r=da(this,ct(this.doc,n.line)),a=0,o=(r.length-1)/2,h=n.ch,p;if(h==0)p=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=h)o=m;else if(r[m*2+1]<h)a=m+1;else{p=r[m*2+2];break}}var N=p?p.indexOf("overlay "):-1;return N<0?p:N==0?null:p.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var a=[];if(!i.hasOwnProperty(r))return a;var o=i[r],h=this.getModeAt(n);if(typeof h[r]=="string")o[h[r]]&&a.push(o[h[r]]);else if(h[r])for(var p=0;p<h[r].length;p++){var m=o[h[r][p]];m&&a.push(m)}else h.helperType&&o[h.helperType]?a.push(o[h.helperType]):o[h.name]&&a.push(o[h.name]);for(var N=0;N<o._global.length;N++){var M=o._global[N];M.pred(h,this)&&vt(a,M.val)==-1&&a.push(M.val)}return a},getStateAfter:function(n,r){var a=this.doc;return n=ke(a,n??a.first+a.size-1),wi(this,n+1,r).state},cursorCoords:function(n,r){var a,o=this.doc.sel.primary();return n==null?a=o.head:typeof n=="object"?a=yt(this.doc,n):a=n?o.from():o.to(),Fe(this,a,r||"page")},charCoords:function(n,r){return dr(this,yt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=Xa(this,n,r||"page"),ls(this,n.left,n.top)},lineAtHeight:function(n,r){return n=Xa(this,{top:n,left:0},r||"page").top,ze(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,a){var o=!1,h;if(typeof n=="number"){var p=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>p&&(n=p,o=!0),h=ct(this.doc,n)}else h=n;return pr(this,h,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Je(h):0)},defaultTextHeight:function(){return \$n(this.display)},defaultCharWidth:function(){return Yn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,a,o,h){var p=this.display;n=Fe(this,yt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),p.sizer.appendChild(r),o=="over")m=n.top;else if(o=="above"||o=="near"){var M=Math.max(p.wrapper.clientHeight,this.doc.height),j=Math.max(p.sizer.clientWidth,p.lineSpace.clientWidth);(o=="above"||n.bottom+r.offsetHeight>M)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=M&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",h=="right"?(N=p.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(h=="left"?N=0:h=="middle"&&(N=(p.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Wl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Zo),triggerOnKeyPress:le(Vo),triggerOnKeyUp:Jo,triggerOnMouseDown:le(tu),execCommand:function(n){if(ji.hasOwnProperty(n))return ji[n].call(null,this)},triggerElectric:le(function(n){ou(this,n)}),findPosH:function(n,r,a,o){var h=1;r<0&&(h=-1,r=-r);for(var p=yt(this.doc,n),m=0;m<r&&(p=zs(this.doc,p,h,a,o),!p.hitSide);++m);return p},moveH:le(function(n,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?zs(a.doc,o.head,n,r,a.options.rtlMoveVisually):n<0?o.from():o.to()},we)}),deleteH:le(function(n,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):si(this,function(h){var p=zs(o,h.head,n,r,!1);return n<0?{from:p,to:h.head}:{from:h.head,to:p}})}),findPosV:function(n,r,a,o){var h=1,p=o;r<0&&(h=-1,r=-r);for(var m=yt(this.doc,n),N=0;N<r;++N){var M=Fe(this,m,"div");if(p==null?p=M.left:M.left=p,m=hu(this,M,h,a),m.hitSide)break}return m},moveV:le(function(n,r){var a=this,o=this.doc,h=[],p=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(p)return n<0?N.from():N.to();var M=Fe(a,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),h.push(M.left);var j=hu(a,M,n,r);return r=="page"&&N==o.sel.primary()&&bs(a,dr(a,j,"div").top-M.top),j},we),h.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=h[m]}),findWordAt:function(n){var r=this.doc,a=ct(r,n.line).text,o=n.ch,h=n.ch;if(a){var p=this.getHelper(n,"wordChars");(n.sticky=="before"||h==a.length)&&o?--o:++h;for(var m=a.charAt(o),N=zn(m,p)?function(M){return zn(M,p)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!zn(M)};o>0&&N(a.charAt(o-1));)--o;for(;h<a.length&&N(a.charAt(h));)++h}return new Ot(B(n.line,o),B(n.line,h))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(n,r){Ai(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-qe(this)-this.display.barHeight,width:n.scrollWidth-qe(this)-this.display.barWidth,clientHeight:ss(this),clientWidth:Cn(this)}},scrollIntoView:le(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:B(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Il(this,n):no(this,n.from,n.to,n.margin)}),setSize:le(function(n,r){var a=this,o=function(p){return typeof p=="number"||/^\\d+\$/.test(String(p))?p+"px":p};n!=null&&(this.display.wrapper.style.width=o(n)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&Ua(this);var h=this.display.viewFrom;this.doc.iter(h,this.display.viewTo,function(p){if(p.widgets){for(var m=0;m<p.widgets.length;m++)if(p.widgets[m].noHScroll){_n(a,h,"widget");break}}++h}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(n){return be(this,n)},startOperation:function(){return Fn(this)},endOperation:function(){return Dn(this)},refresh:le(function(){var n=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,Ti(this),Ai(this,this.doc.scrollLeft,this.doc.scrollTop),xs(this.display),(n==null||Math.abs(n-\$n(this.display))>.5||this.options.lineWrapping)&&_s(this),Mt(this,"refresh",this)}),swapDoc:le(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),vo(this,n),Ti(this),this.display.input.reset(),Ai(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(n,r,a){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=a},t.registerGlobalHelper=function(n,r,a,o){t.registerHelper(n,r,o),i[n]._global.push({pred:a,val:o})}}function zs(t,e,i,n,r){var a=e,o=i,h=ct(t,e.line),p=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+p;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),h=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=h.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var gt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(h.text.length,e.ch+i*(gt?2:1))),-i)}}else r?et=wh(t.cm,h,e,i):et=Rs(h,e,i);if(et==null)if(!st&&m())e=Fs(r,t.cm,h,e.line,p);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var M=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=h.text.charAt(e.ch)||\`
\`,V=zn(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(M=V),i>0&&!N(!X))break}var tt=Cr(t,e,a,o,!0);return bt(a,tt)&&(tt.hitSide=!0),tt}function hu(t,e,i,n){var r=t.doc,a=e.left,o;if(n=="page"){var h=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),p=Math.max(h-.5*\$n(t.display),3);o=(i>0?e.bottom:e.top)+i*p}else n=="line"&&(o=i>0?e.bottom+3:e.top-3);for(var m;m=ls(t,a,o),!!m.outside;){if(i<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=i*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Bs(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function a(h){for(var p=h.target;p;p=p.parentNode){if(p==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(p.className))break}return!1}nt(r,"paste",function(h){!a(h)||zt(n,h)||au(h,n)||w<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(h){e.composing={data:h.data,done:!1}}),nt(r,"compositionupdate",function(h){e.composing||(e.composing={data:h.data,done:!1})}),nt(r,"compositionend",function(h){e.composing&&(h.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(h){if(!(!a(h)||zt(n,h))){if(n.somethingSelected())Fr({lineWise:!1,text:n.getSelections()}),h.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var p=uu(n);Fr({lineWise:!0,text:p.text}),h.type=="cut"&&n.operation(function(){n.setSelections(p.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(h.clipboardData){h.clipboardData.clearData();var m=Me.text.join(\`
\`);if(h.clipboardData.setData("Text",m),h.clipboardData.getData("Text")==m){h.preventDefault();return}}var N=lu(),M=N.firstChild;Bs(M),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),M.value=Me.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",o),nt(r,"cut",o)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Va(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Dr(e,t.anchorNode,t.anchorOffset),o=Dr(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),n)==0&&G(Ct(a,o),r)==0)){var h=e.display.view,p=n.line>=e.display.viewFrom&&cu(e,n)||{node:h[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&cu(e,r);if(!m){var N=h[h.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!p||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(p.node,p.offset,m.offset,m.node)}catch{}q&&(!c&&e.state.focused?(t.collapse(p.node,p.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):c&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Hh(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Dr(e,t.anchorNode,t.anchorOffset),n=Dr(e,t.focusNode,t.focusOffset);i&&n&&be(e,function(){se(e.doc,dn(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=B(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,h;n.line==e.viewFrom||(a=On(t,n.line))==0?(o=Lt(e.view[0].line),h=e.view[0].node):(o=Lt(e.view[a].line),h=e.view[a-1].node.nextSibling);var p=On(t,r.line),m,N;if(p==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[p+1].line)-1,N=e.view[p+1].node.previousSibling),!h)return!1;for(var M=t.doc.splitLines(qh(t,h,N,o,m)),j=Qe(t.doc,B(o,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&o==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(o,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return ni(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Is)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function cu(t,e){var i=as(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Ba(i,n,e.line),a=Ce(n,t.doc.direction),o="left";if(a){var h=Te(a,e.ch);o=h%2?"right":"left"}var p=qa(r.map,e.ch,o);return p.offset=p.collapse=="right"?p.end:p.start,p}function Hh(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function oi(t,e){return e&&(t.bad=!0),t}function qh(t,e,i,n,r){var a="",o=!1,h=t.doc.lineSeparator(),p=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=h,p&&(a+=h),o=p=!1)}function M(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(n,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(h));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(p=!0),st&&(o=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,p=!1;return a}function Dr(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return oi(t.clipPos(B(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==n)return jh(a,e,i)}}function jh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return oi(B(Lt(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var a=t.rest?mt(t.rest):t.line;return oi(B(Lt(a),a.text.length),r)}var o=e.nodeType==3?e:null,h=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,i&&(i=o.nodeValue.length));h.parentNode!=n;)h=h.parentNode;var p=t.measure,m=p.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?p.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(o,h,i);if(M)return oi(M,r);for(var j=h.nextSibling,q=o?o.nodeValue.length-i:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return oi(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=h.previousSibling,Y=i;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return oi(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&w>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(o){zt(n,o)||au(o,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function a(o){if(!zt(n,o)){if(n.somethingSelected())Fr({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var h=uu(n);Fr({lineWise:!0,text:h.text}),o.type=="cut"?n.setSelections(h.ranges,null,Rt):(i.prevInput="",r.value=h.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",a),nt(r,"copy",a),nt(t.scroller,"paste",function(o){if(!(Ve(t,o)||zt(n,o))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var h=new Event("paste");h.clipboardData=o.clipboardData,r.dispatchEvent(h)}}),nt(t.lineSpace,"selectstart",function(o){Ve(t,o)||re(o)}),nt(r,"compositionstart",function(){var o=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:o,range:n.markText(o,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},jt.prototype.createField=function(t){this.wrapper=lu(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Bs(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Va(t);if(t.options.moveInputWithCursor){var r=Fe(t,i.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return n},jt.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&w>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&w>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},jt.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||un(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&w>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!n&&(n="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,h=Math.min(n.length,r.length);o<h&&n.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Is(e,r.slice(o),n.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&w>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Ln(i,t),o=n.scroller.scrollTop;if(!a||b)return;var h=i.options.resetSelectionOnContextMenu;h&&i.doc.sel.contains(a)==-1&&Zt(i,se)(i.doc,dn(a),Rt);var p=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;d&&(M=r.ownerDocument.defaultView.scrollY),n.input.focus(),d&&r.ownerDocument.defaultView.scrollTo(null,M),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=p,S&&w<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&w<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,Oo)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&w>=9&&j(),rt){Xe(t);var X=function(){ie(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Uh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=h.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){n(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(p){p.save=n,p.getTextArea=function(){return t},p.toTextArea=function(){p.toTextArea=isNaN,n(),t.parentNode.removeChild(p.getWrapperElement()),t.style.display="",t.form&&(ie(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var h=Pt(function(p){return t.parentNode.insertBefore(p,t.nextSibling)},e);return h}function Kh(t){t.off=ie,t.on=nt,t.wheelEventPixels=Jl,t.Doc=pe,t.splitLines=bi,t.countColumn=at,t.findColumn=xe,t.isWordChar=pi,t.Pass=Et,t.signal=Mt,t.Line=Kn,t.changeEnd=gn,t.scrollbarModel=so,t.Pos=B,t.cmpPos=G,t.modes=Ne,t.mimeModes=ln,t.resolveMode=me,t.getMode=\$e,t.modeExtensions=hn,t.extendMode=sr,t.copyState=Ye,t.startState=yi,t.innerMode=cn,t.commands=ji,t.keyMap=en,t.keyName=Go,t.isModifierKey=Uo,t.lookupKey=ri,t.normalizeKeyMap=yh,t.StringStream=Ht,t.SharedTextMarker=zi,t.TextMarker=mn,t.LineWidget=Bi,t.e_preventDefault=re,t.e_stopPropagation=Tn,t.e_stop=Xe,t.addClass=A,t.contains=J,t.rmClass=R,t.keyNames=bn}Ph(Pt),zh(Pt);var Gh="iter insert remove copy getEditor constructor".split(" ");for(var Mr in pe.prototype)pe.prototype.hasOwnProperty(Mr)&&vt(Gh,Mr)<0&&(Pt.prototype[Mr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Mr]));return ue(pe),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),rr.apply(this,arguments)},Pt.defineMIME=jn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Uh,Kh(Pt),Pt.version="5.65.12",Pt});const Xh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},\$h=(()=>{let f=[];return Object.values(Xh).forEach(s=>{s.middle&&(f.push(s.general.code),f.push(s.middle.code),f.push(s.beginning.code))}),f})();function Pr(f){let s=[];return f.split("").forEach(c=>{\$h.includes(c)?s.push(\`\${c}ـ*\`):c==="ـ"||s.push(c)}),s.join("")}function Ys(f){return(""+f).split("").map(T=>{switch(T){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Yh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],na={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ia={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ra={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Qh={...na,...ia,...ra},Zh="[\\\\p{L}_]",Jh="[\\\\p{L}\\\\p{N}_]",Ur=\`(?:\${Zh}\${Jh}*)\`,Vh="[^\\\\p{L}\\\\p{N}_]",sa="[٠-٩]",tc=\`(?:,\${sa}+)\`,ec=\`\${sa}+\${tc}?\`,aa="[0-9]",nc=\`(?:\\\\.\${aa}+)\`,Au=\`\${aa}+\${nc}?\`,js="\\\\\\\\",Wr="\\\\/",Ir="\\\\-",\$i="\\\\{",Yi="\\\\}",ic="\\\\(",rc="\\\\)",Qs="\\\\s",sc=\`\${ic}?\${Qs}*\${rc}?\`,ac=()=>RegExp(\`(?:(?:#|#)\${Ur})\`,"u"),oc=()=>RegExp(\`(?:~\${Ur}?\${Qs}*\${sc}\${Qs}*->)\`,"u"),Lu=[{regex:ac(),token:"meta"},{regex:oc(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Yh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Ou={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var c=[function(E,S,w){var d=w(1).Beautifier,l=w(5).Options;E.exports=function(u,_){return new d(u,_).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,w){var d=w(2).Output,l=w(3).Token,u=w(4),_=w(5).Options,b=w(7).Tokenizer,F=w(7).line_starters,O=w(7).positionable_operators,g=w(7).TOKEN;function y(A,\$){return \$.indexOf(A)!==-1}function W(A,\$){return A&&A.type===g.RESERVED&&A.text===\$}function D(A,\$){return A&&A.type===g.RESERVED&&y(A.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(A){for(var \$={},dt=0;dt<A.length;dt++)\$[A[dt].replace(/-/g,"_")]=A[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(A,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||A.remove_indent(\$.start_line_index)}function Q(A){return A===I}function it(A){return y(A,[K,R,k])}function J(A,\$){\$=\$||{},this._source_text=A||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new _(\$)}J.prototype.create_flags=function(A,\$){var dt=0;return A&&(dt=A.indentation_level,!this._output.just_added_newline()&&A.line_indent_level>dt&&(dt=A.line_indent_level)),{mode:\$,parent:A,last_token:A?A.last_token:new l(g.START_BLOCK,""),last_word:A?A.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:A?A.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(A){var \$=A.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new d(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(A,this._options));return this._tokens=\$.tokenize(),A},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var A=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,A&&u.lineBreak.test(A||"")&&(\$=A.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(A,\$){A.type===g.START_EXPR?this.handle_start_expr(A):A.type===g.END_EXPR?this.handle_end_expr(A):A.type===g.START_BLOCK?this.handle_start_block(A):A.type===g.END_BLOCK?this.handle_end_block(A):A.type===g.WORD||A.type===g.RESERVED?this.handle_word(A):A.type===g.SEMICOLON?this.handle_semicolon(A):A.type===g.STRING?this.handle_string(A):A.type===g.EQUALS?this.handle_equals(A):A.type===g.OPERATOR?this.handle_operator(A):A.type===g.COMMA?this.handle_comma(A):A.type===g.BLOCK_COMMENT?this.handle_block_comment(A,\$):A.type===g.COMMENT?this.handle_comment(A,\$):A.type===g.DOT?this.handle_dot(A):A.type===g.EOF?this.handle_eof(A):(A.type,g.UNKNOWN,this.handle_unknown(A,\$))},J.prototype.handle_whitespace_and_comments=function(A,\$){var dt=A.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(A.comments_before)for(var Nt=A.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=A.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(A,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&A.newlines||\$,(y(this._flags.last_token.text,O)||y(A.text,O))&&(A=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(A.text,O),\$=\$&&A),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(A,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(A)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(A){this._output.just_added_newline()&&(this._options.keep_array_indentation&&A.newlines&&(A.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(A.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(A){var \$;this._output.raw?this._output.add_raw_token(A):(this._options.comma_first&&A.previous&&A.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(A),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(A),this._output.non_breaking_space=!0,this._output.add_token(A.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(A){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,A),this._flags=this.create_flags(this._previous_flags,A),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(A){return!!(D(this._flags.last_token,["var","let","const"])&&A.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!A.newlines||W(this._flags.last_token,"else")&&!(W(A,"if")&&!A.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(A.text==="--"||A.text==="++")&&this._last_last_text!=="function"&&A.type!==g.WORD&&A.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(A,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A,D(A,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A);var \$,dt,wt=K;if(A.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(A),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&A.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(A),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(A,A.newlines),this.print_token(A),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(A,A.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(A),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(A){this.handle_whitespace_and_comments(A);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==A))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(A),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(A),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(A){for(this.handle_whitespace_and_comments(A);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(A)},J.prototype.handle_word=function(A){if(A.type===g.RESERVED&&(y(A.text,["set","get"])&&this._flags.mode!==rt||A.text==="import"&&y(this._tokens.peek().text,["(","."])||y(A.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(A.type=g.WORD),this.start_of_statement(A)?D(this._flags.last_token,["var","let","const"])&&A.type===g.WORD&&(this._flags.declaration_statement=!0):!A.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(A):(this.handle_whitespace_and_comments(A),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(A,"while"))return this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(A,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(A,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(A),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(A),W(A,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||A.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(A),void(this._flags.last_word=A.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(A,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(A,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(A,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(A,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(A,["var","let","const"])||this._flags.last_token.text===":"||(W(A,"if")&&W(A.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(A,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!A.previous||A.previous.type!==g.WORD&&A.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(A),this._flags.last_word=A.text,A.type===g.RESERVED&&(A.text==="do"?this._flags.do_block=!0:A.text==="if"?this._flags.if_block=!0:A.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(A,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(A){this.start_of_statement(A)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(A);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(A)},J.prototype.handle_string=function(A){A.text.startsWith("\`")&&A.newlines===0&&A.whitespace_before===""&&(A.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(A)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(A),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):!A.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||A.previous.text!=="]"&&A.previous.text!==")"||A.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(A)},J.prototype.handle_equals=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0},J.prototype.handle_comma=function(A){this.handle_whitespace_and_comments(A,!0),this.print_token(A),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)},J.prototype.handle_operator=function(A){var \$=A.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(A.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!\$),A.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(A);else if(A.text==="::")this.print_token(A);else if(y(A.text,["-","+"])&&this.start_of_object_property())this.print_token(A);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(A),A.text===":"&&this._flags.in_case)return this.print_token(A),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(A.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):A.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(A.text,O)){var ft=A.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(A),ft&&!at||this.allow_wrap_or_preserved_newline(A),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(A):this._output.space_before_token=!1,this.print_token(A),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(A),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(A),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(A),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[g.WORD,g.RESERVED])):A.text==="..."?(this.allow_wrap_or_preserved_newline(A),wt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(A.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(A),Nt=wt=!1,!A.newlines||A.text!=="--"&&A.text!=="++"&&A.text!=="~"||((\$=D(this._flags.last_token,z)&&A.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(wt=!0),this._flags.last_token.type===g.RESERVED?wt=!0:this._flags.last_token.type===g.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(A.text==="--"||A.text==="++")):this._flags.last_token.type===g.OPERATOR&&(wt=y(A.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(A.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(A),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(A,\$){return this._output.raw?(this._output.add_raw_token(A),void(A.directives&&A.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):A.directives?(this.print_newline(!1,\$),this.print_token(A),A.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(A.text)||A.newlines?this.print_block_commment(A,\$):(this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(A,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)vt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(A.text),ft=A.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(A),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ee,Et=0,Rt=_t.length;Et<Rt;Et++)if((ee=_t[Et])&&ee.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(A,\$){A.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(A),this.print_newline(!1,\$)},J.prototype.handle_dot=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(A,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(A)},J.prototype.handle_unknown=function(A,\$){this.print_token(A),A.text[A.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A)},E.exports.Beautifier=J},function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new w(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},w.prototype.get_indent_size=function(l,u){var _=this.__base_string_length;return _=(_=l<0?0:_)+l*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(l,u){var _=this.__base_string;return u=u||0,l<0&&(l=0,_=""),u+=l*this.__indent_size,this.__ensure_cache(u),_+=this.__cache[u]},w.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var l,u=this.__cache.length,_="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,_=new Array(l+1).join(this.__indent_string)),u&&(_+=new Array(u+1).join(" ")),this.__cache.push(_)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var _=this.__lines.length-2;0<=_;){var b=this.__lines[_];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(_+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}_--}},E.exports.Output=d},function(E){E.exports.Token=function(S,w,d,l){this.type=S,this.text=w,this.comments_before=null,this.newlines=d||0,this.whitespace_before=l||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var w="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",d="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",l="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",_="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+d+"])";S.identifier=new RegExp(_+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(_),S.identifierMatch=new RegExp("(?:"+u+"|["+w+d+l+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,w){var d=w(6).Options,l=["before-newline","after-newline","preserve-newline"];function u(b){d.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",l),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new d,E.exports.Options=u},function(E){function S(l,u){this.raw_options=w(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(l,u){var _,b={};for(_ in l=d(l))_!==u&&(b[_]=l[_]);if(u&&l[u])for(_ in l[u])b[_]=l[u][_];return b}function d(l){var u,_={};for(u in l)_[u.replace(/-/g,"_")]=l[u];return _}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,_){if(_=this._get_selection_list(l,u,_),_.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return _[0]},S.prototype._get_selection_list=function(l,u,_){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(_=_||[u[0]],!this._is_valid_selection(_,u))throw new Error("Invalid Default Value!");if(_=this._get_array(l,_),this._is_valid_selection(_,u))return _;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(_){return u.indexOf(_)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=w},function(E,S,U){var d=U(8).InputScanner,l=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),_=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,k){return k.indexOf(R)!==-1}function O(R,k){l.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new _(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new l)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},O.prototype._reset=function(){g=!1},O.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},O.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},O.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return g=!0,this._create_token(y.COMMENT,k)}}else if(g&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,k);return null},O.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,it=new d(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){L+="\\\\",it.hasNext()&&(L+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],A=L[2];if(!(L[L.length-1]||A.slice(0,8)==="![CDATA[")&&(A===Q||it&&A.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=O,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function w(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},w.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},w.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},w.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},w.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},w.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},w.prototype.read=function(d,l,u){var _,b="";return d&&(_=this.match(d))&&(b+=_[0]),!l||!_&&d||(b+=this.readUntil(l,u)),b},w.prototype.readUntil=function(_,l){var u=this.__position,_=(_.lastIndex=this.__position,_.exec(this.__input));return _?(u=_.index,l&&(u+=_[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},w.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},w.prototype.get_regexp=function(d,_){var u=null,_=_&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,_):d&&(u=new RegExp(d.source,_)),u},w.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},w.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=w},function(E,S,w){function d(O,g){this._input=new l(O),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var l=w(8).InputScanner,u=w(3).Token,_=w(10).TokenStream,b=w(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};d.prototype.tokenize=function(){this._input.restart(),this.__tokens=new _,this._reset();for(var O,g=new u(F.START,""),y=null,W=[],D=new _;g.type!==F.EOF;){for(O=this._get_next_token(g,y);this._is_comment(O);)D.add(O),O=this._get_next_token(g,y);D.isEmpty()||(O.comments_before=D,D=new _),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=g).next=O,this.__tokens.add(O),g=O}return this.__tokens},d.prototype._is_first_token=function(){return this.__tokens.isEmpty()},d.prototype._reset=function(){},d.prototype._get_next_token=function(O,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},d.prototype._is_comment=function(O){return!1},d.prototype._is_opening=function(O){return!1},d.prototype._is_closing=function(O,g){return!1},d.prototype._create_token=function(O,g){return new u(O,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},d.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=d,E.exports.TOKEN=F},function(E){function S(w){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=w}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var w=null;return this.hasNext()&&(w=this.__tokens[this.__position],this.__position+=1),w},S.prototype.peek=function(w){var d=null;return w=w||0,d=0<=(w+=this.__position)&&w<this.__tokens_length?this.__tokens[w]:d},S.prototype.add=function(w){this.__parent_token&&(w.parent=this.__parent_token),this.__tokens.push(w),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,w){var d=w(12).Pattern;function l(u,_){d.call(this,u,_),_?this._line_regexp=this._input.get_regexp(_._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(l.prototype=new d).__set_whitespace_patterns=function(u,_){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(_+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+_+"]")},l.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,_=this._input.read(this._match_pattern);return _===" "?this.whitespace_before_token=" ":_&&(u=this.__split(this._newline_regexp,_),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),_},l.prototype.matching=function(u,_){var b=this._create();return b.__set_whitespace_patterns(u,_),b._update(),b},l.prototype._create=function(){return new l(this._input,this)},l.prototype.__split=function(u,_){for(var b=u.lastIndex=0,F=[],O=u.exec(_);O;)F.push(_.substring(b,O.index)),b=O.index+O[0].length,O=u.exec(_);return b<_.length?F.push(_.substring(b,_.length)):F.push(""),F},E.exports.WhitespacePattern=l},function(E){function S(w,d){this._input=w,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,d&&(this._starting_pattern=this._input.get_regexp(d._starting_pattern,!0),this._match_pattern=this._input.get_regexp(d._match_pattern,!0),this._until_pattern=this._input.get_regexp(d._until_pattern),this._until_after=d._until_after)}S.prototype.read=function(){var w=this._input.read(this._starting_pattern);return this._starting_pattern&&!w||(w+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),w},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(w){var d=this._create();return d._until_after=!0,d._until_pattern=this._input.get_regexp(w),d._update(),d},S.prototype.until=function(w){var d=this._create();return d._until_after=!1,d._until_pattern=this._input.get_regexp(w),d._update(),d},S.prototype.starting_with=function(w){var d=this._create();return d._starting_pattern=this._input.get_regexp(w,!0),d._update(),d},S.prototype.matching=function(w){var d=this._create();return d._match_pattern=this._input.get_regexp(w,!0),d._update(),d},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(w,d){w=typeof w=="string"?w:w.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(w);return d},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,w){var d=w(12).Pattern,l={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(_,b){d.call(this,_,b),this.__template_pattern=null,this._disabled=Object.assign({},l),this._excluded=Object.assign({},l),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new d(_),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new d)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(_){var b=this._create();return b._disabled[_]=!0,b._update(),b},u.prototype.read_options=function(_){var b,F=this._create();for(b in l)F._disabled[b]=_.templating.indexOf(b)===-1;return F._update(),F},u.prototype.exclude=function(_){var b=this._create();return b._excluded[_]=!0,b._update(),b},u.prototype.read=function(){for(var _="",_=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),_+=b,b=this._read_template();return this._until_after&&(_+=this._input.readUntilAfter(this._until_pattern)),_},u.prototype.__set_templated_pattern=function(){var _=[];this._disabled.php||_.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||_.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||_.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(_.push(this.__patterns.django._starting_pattern.source),_.push(this.__patterns.django_value._starting_pattern.source),_.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||_.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&_.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+_.join("|")+")")},u.prototype._read_template=function(){var _,b="",F=this._input.peek();return F==="<"?(_=this._input.peek(1),this._disabled.php||this._excluded.php||_!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||_!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=u}],T={},C=function E(S){var w=T[S];return w!==void 0?w.exports:(w=T[S]={exports:{}},c[S](w,w.exports,E),w.exports)}(0);f=C})();var f,s=f;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var C=[,,function(w){function d(_){this.__parent=_,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function l(_,b){this.__cache=[""],this.__indent_size=_.indent_size,this.__indent_string=_.indent_char,_.indent_with_tabs||(this.__indent_string=new Array(_.indent_size+1).join(_.indent_char)),b=b||"",0<_.indent_level&&(b=new Array(_.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(_,b){this.__indent_cache=new l(_,b),this.raw=!1,this._end_with_newline=_.end_with_newline,this.indent_size=_.indent_size,this.wrap_line_length=_.wrap_line_length,this.indent_empty_lines=_.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new d(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}d.prototype.clone_empty=function(){var _=new d(this.__parent);return _.set_indent(this.__indent_count,this.__alignment_count),_},d.prototype.item=function(_){return _<0?this.__items[this.__items.length+_]:this.__items[_]},d.prototype.has_match=function(_){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(_))return!0;return!1},d.prototype.set_indent=function(_,b){this.is_empty()&&(this.__indent_count=_||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},d.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},d.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},d.prototype._allow_wrap=function(){var _;return!!this._should_wrap()&&(this.__parent.add_new_line(),(_=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),_.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),_.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,_.__items[0]===" "&&(_.__items.splice(0,1),--_.__character_count),!0)},d.prototype.is_empty=function(){return this.__items.length===0},d.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},d.prototype.push=function(_){this.__items.push(_);var b=_.lastIndexOf(\`
\`);b!==-1?this.__character_count=_.length-b:this.__character_count+=_.length},d.prototype.pop=function(){var _=null;return this.is_empty()||(_=this.__items.pop(),this.__character_count-=_.length),_},d.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},d.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},d.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},d.prototype.toString=function(){var _="";return this.is_empty()?this.__parent.indent_empty_lines&&(_=this.__parent.get_indent_string(this.__indent_count)):(_=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),_+=this.__items.join("")),_},l.prototype.get_indent_size=function(_,b){var F=this.__base_string_length;return F=(F=_<0?0:F)+_*this.__indent_size+(b=b||0)},l.prototype.get_indent_string=function(_,b){var F=this.__base_string;return b=b||0,_<0&&(_=0,F=""),b+=_*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},l.prototype.__ensure_cache=function(_){for(;_>=this.__cache.length;)this.__add_column()},l.prototype.__add_column=function(){var _,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(_=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(_+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(_,b){return this.__indent_cache.get_indent_string(_,b)},u.prototype.get_indent_size=function(_,b){return this.__indent_cache.get_indent_size(_,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(_){return!(this.is_empty()||!_&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(_){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=_!==\`
\`?b.replace(/[\\n]/g,_):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(_,b){return this.next_line.set_indent(_=_||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(_,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(_){for(var b=0;b<_.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(_.whitespace_before),this.current_line.push(_.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(_){this.__add_space_before_token(),this.current_line.push(_),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(_){for(var b=this.__lines.length;_<b;)this.__lines[_]._remove_indent(),_++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(_){for(_=_!==void 0&&_,this.current_line.trim();_&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(_,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(_)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new d(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},w.exports.Output=u},function(w){w.exports.Token=function(d,l,u,_){this.type=d,this.text=l,this.comments_before=null,this.newlines=u||0,this.whitespace_before=_||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(w){function d(_,b){this.raw_options=l(_,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function l(_,b){var F,O={};for(F in _=u(_))F!==b&&(O[F]=_[F]);if(b&&_[b])for(F in _[b])O[F]=_[b][F];return O}function u(_){var b,F={};for(b in _)F[b.replace(/-/g,"_")]=_[b];return F}d.prototype._get_array=function(_,b){return _=this.raw_options[_],b=b||[],typeof _=="object"?_!==null&&typeof _.concat=="function"&&(b=_.concat()):typeof _=="string"&&(b=_.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},d.prototype._get_boolean=function(_,b){return _=this.raw_options[_],_===void 0?!!b:!!_},d.prototype._get_characters=function(_,b){return _=this.raw_options[_],b=b||"",b=typeof _=="string"?_.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},d.prototype._get_number=function(_,b){return _=this.raw_options[_],b=parseInt(b,10),isNaN(b)&&(b=0),_=parseInt(_,10),_=isNaN(_)?b:_},d.prototype._get_selection=function(_,b,F){if(F=this._get_selection_list(_,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+_+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[_]+"'");return F[0]},d.prototype._get_selection_list=function(_,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(_,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+_+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[_]+"'")},d.prototype._is_valid_selection=function(_,b){return _.length&&b.length&&!_.some(function(F){return b.indexOf(F)===-1})},w.exports.Options=d,w.exports.normalizeOpts=u,w.exports.mergeOpts=l},,function(w){var d=RegExp.prototype.hasOwnProperty("sticky");function l(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}l.prototype.restart=function(){this.__position=0},l.prototype.back=function(){0<this.__position&&--this.__position},l.prototype.hasNext=function(){return this.__position<this.__input_length},l.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},l.prototype.peek=function(u){var _=null;return u=u||0,_=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):_},l.prototype.__match=function(u,_){u.lastIndex=_;var b=u.exec(this.__input);return!b||d&&u.sticky||b.index!==_&&(b=null),b},l.prototype.test=function(u,_){return _=_||0,0<=(_+=this.__position)&&_<this.__input_length&&!!this.__match(u,_)},l.prototype.testChar=function(u,_){return _=this.peek(_),u.lastIndex=0,_!==null&&u.test(_)},l.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},l.prototype.read=function(u,_,b){var F,O="";return u&&(F=this.match(u))&&(O+=F[0]),!_||!F&&u||(O+=this.readUntil(_,b)),O},l.prototype.readUntil=function(F,_){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,_&&(b+=F[0].length)):b=this.__input_length,_=this.__input.substring(this.__position,b),this.__position=b,_},l.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},l.prototype.get_regexp=function(u,F){var b=null,F=F&&d?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,F):u&&(b=new RegExp(u.source,F)),b},l.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},l.prototype.peekUntilAfter=function(b){var _=this.__position,b=this.readUntilAfter(b);return this.__position=_,b},l.prototype.lookBack=function(u){var _=this.__position-1;return _>=u.length&&this.__input.substring(_-u.length,_).toLowerCase()===u},w.exports.InputScanner=l},function(w,d,l){function u(y,W){this._input=new _(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var _=l(8).InputScanner,b=l(3).Token,F=l(10).TokenStream,O=l(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(g.START,""),D=null,z=[],H=new F;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},w.exports.Tokenizer=u,w.exports.TOKEN=g},function(w){function d(l){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=l}d.prototype.restart=function(){this.__position=0},d.prototype.isEmpty=function(){return this.__tokens_length===0},d.prototype.hasNext=function(){return this.__position<this.__tokens_length},d.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__tokens[this.__position],this.__position+=1),l},d.prototype.peek=function(l){var u=null;return l=l||0,u=0<=(l+=this.__position)&&l<this.__tokens_length?this.__tokens[l]:u},d.prototype.add=function(l){this.__parent_token&&(l.parent=this.__parent_token),this.__tokens.push(l),this.__tokens_length+=1},w.exports.TokenStream=d},function(w,d,l){var u=l(12).Pattern;function _(b,F){u.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(_.prototype=new u).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},_.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},_.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},_.prototype._create=function(){return new _(this._input,this)},_.prototype.__split=function(b,F){for(var O=b.lastIndex=0,g=[],y=b.exec(F);y;)g.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?g.push(F.substring(O,F.length)):g.push(""),g},w.exports.WhitespacePattern=_},function(w){function d(l,u){this._input=l,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}d.prototype.read=function(){var l=this._input.read(this._starting_pattern);return this._starting_pattern&&!l||(l+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),l},d.prototype.read_match=function(){return this._input.match(this._match_pattern)},d.prototype.until_after=function(l){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.until=function(l){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.starting_with=function(l){var u=this._create();return u._starting_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype.matching=function(l){var u=this._create();return u._match_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype._create=function(){return new d(this._input,this)},d.prototype._update=function(){},w.exports.Pattern=d},function(w){function d(l,u){l=typeof l=="string"?l:l.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(l+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(l+/\\sbeautify\\signore:end\\s/.source+u,"g")}d.prototype.get_directives=function(l){if(!l.match(this.__directives_block_pattern))return null;for(var u={},_=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(l));_;)u[_[1]]=_[2],_=this.__directive_pattern.exec(l);return u},d.prototype.readIgnored=function(l){return l.readUntilAfter(this.__directives_end_ignore_pattern)},w.exports.Directives=d},function(w,d,l){var u=l(12).Pattern,_={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){u.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},_),this._excluded=Object.assign({},_),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new u(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,g=this._create();for(O in _)g._disabled[O]=F.templating.indexOf(O)===-1;return g._update(),g},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",g=this._input.peek();return g==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},w.exports.TemplatablePattern=b},,,,function(w,d,l){var u=l(19).Beautifier,_=l(20).Options;w.exports=function(b,F,O,g){return new u(b,F,O,g).beautify()},w.exports.defaultOptions=function(){return new _}},function(w,d,l){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function _(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,it=L.next;it.type!==g.EOF&&L.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=l(20).Options,F=l(2).Output,O=l(21).Tokenizer,g=l(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),it=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===g.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,it="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(A,\$){return new U(A,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);it=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=L.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=_(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===g.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===g.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},w.exports.Beautifier=U},function(w,d,l){var u=l(6).Options;function _(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}_.prototype=new u,w.exports.Options=_},function(w,d,l){function u(H,U){_.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var _=l(9).Tokenizer,b=l(9).TOKEN,F=l(13).Directives,O=l(14).TemplatablePattern,g=l(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(u.prototype=new _)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},u.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},u.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},u.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},u.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},w.exports.Tokenizer=u,w.exports.TOKEN=y}],E={},S=function w(d){var l=E[d];return l!==void 0?l.exports:(l=E[d]={exports:{}},C[d](l,l.exports,w),l.exports)}(18);f=S})();var f,s,c,T=f;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(C){var E=C("./beautify"),S=C("./beautify-css");return{html_beautify:function(w,d){return T(w,d,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),c=require("./beautify-css.js"),exports.html_beautify=function(C,E){return T(C,E,s.js_beautify,c.css_beautify)}):typeof window<"u"?window.html_beautify=function(C,E){return T(C,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(C,E){return T(C,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var c=[,,function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new w(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},w.prototype.get_indent_size=function(l,u){var _=this.__base_string_length;return _=(_=l<0?0:_)+l*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(l,u){var _=this.__base_string;return u=u||0,l<0&&(l=0,_=""),u+=l*this.__indent_size,this.__ensure_cache(u),_+=this.__cache[u]},w.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var l,u=this.__cache.length,_="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,_=new Array(l+1).join(this.__indent_string)),u&&(_+=new Array(u+1).join(" ")),this.__cache.push(_)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var _=this.__lines.length-2;0<=_;){var b=this.__lines[_];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(_+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}_--}},E.exports.Output=d},,,,function(E){function S(l,u){this.raw_options=w(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(l,u){var _,b={};for(_ in l=d(l))_!==u&&(b[_]=l[_]);if(u&&l[u])for(_ in l[u])b[_]=l[u][_];return b}function d(l){var u,_={};for(u in l)_[u.replace(/-/g,"_")]=l[u];return _}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,_){if(_=this._get_selection_list(l,u,_),_.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return _[0]},S.prototype._get_selection_list=function(l,u,_){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(_=_||[u[0]],!this._is_valid_selection(_,u))throw new Error("Invalid Default Value!");if(_=this._get_array(l,_),this._is_valid_selection(_,u))return _;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(_){return u.indexOf(_)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=w},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function w(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},w.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},w.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},w.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},w.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},w.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},w.prototype.read=function(d,l,u){var _,b="";return d&&(_=this.match(d))&&(b+=_[0]),!l||!_&&d||(b+=this.readUntil(l,u)),b},w.prototype.readUntil=function(_,l){var u=this.__position,_=(_.lastIndex=this.__position,_.exec(this.__input));return _?(u=_.index,l&&(u+=_[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},w.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},w.prototype.get_regexp=function(d,_){var u=null,_=_&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,_):d&&(u=new RegExp(d.source,_)),u},w.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},w.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=w},,,,,function(E){function S(w,d){w=typeof w=="string"?w:w.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(w);return d},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,w){var d=w(16).Beautifier,l=w(17).Options;E.exports=function(u,_){return new d(u,_).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,w){var d=w(17).Options,l=w(2).Output,u=w(8).InputScanner,_=new(w(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new d(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new l(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,it=this._ch,J=!1;z=this._input.read(g)!=="",H=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),A=_.get_directives(lt);A&&A.ignore==="start"&&(lt+=_.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),A=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),A.match(/[ :]\$/)&&(A=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(A),this._output.space_before_token=!0),I===0&&A.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),k&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,w){var d=w(6).Options;function l(_){d.call(this,_,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var _=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||_,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}l.prototype=new d,E.exports.Options=l}],T={},C=function E(S){var w=T[S];return w!==void 0?w.exports:(w=T[S]={exports:{}},c[S](w,w.exports,E),w.exports)}(15);f=C})();var f,s=f;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.defineSimpleMode=function(u,_){f.defineMode(u,function(b){return f.simpleMode(b,_)})},f.simpleMode=function(u,_){s(_,"start");var b={},F=_.meta||{},O=!1;for(var g in _)if(g!=F&&_.hasOwnProperty(g))for(var y=b[g]=[],W=_[g],D=0;D<W.length;D++){var z=W[D];y.push(new C(z,_)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=f.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:f.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:l(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function s(u,_){if(!u.hasOwnProperty(_))throw new Error("Undefined state "+_+" in simple mode")}function c(u,_){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((_===!1?"":"^")+"(?:"+u+")",b)}function T(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var _=[],b=0;b<u.length;b++)_.push(u[b]&&u[b].replace(/\\./g," "));return _}function C(u,_){(u.next||u.push)&&s(_,u.next||u.push),this.regex=c(u.regex),this.token=T(u.token),this.data=u}function E(u,_){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var g=F.local.endToken||null;return F.local=F.localState=null,g}else{var g=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=u[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&w(_,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+_.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,_){if(u===_)return!0;if(!u||typeof u!="object"||!_||typeof _!="object")return!1;var b=0;for(var F in u)if(u.hasOwnProperty(F)){if(!_.hasOwnProperty(F)||!S(u[F],_[F]))return!1;b++}for(var F in _)_.hasOwnProperty(F)&&b--;return b==0}function w(u,_,b,F){var O;if(b.persistent)for(var g=_.persistentStates;g&&!O;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(O=g);var y=O?O.mode:b.mode||f.getMode(u,b.spec),W=O?O.state:f.startState(y);b.persistent&&!O&&(_.persistentStates={mode:y,spec:b.spec,state:W,next:_.persistentStates}),_.localState=W,_.local={mode:y,end:b.end&&c(b.end),endScan:b.end&&b.forceEnd!==!1&&c(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function d(u,_){for(var b=0;b<_.length;b++)if(_[b]===u)return!0}function l(u,_){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||_.dontIndentStates&&d(b.state,_.dontIndentStates)>-1)return f.Pass;var g=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){g--,(D.next||D.push)&&(y=u[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){const s=["س","ر","ج"],c=["ا","ب","ج","د","ه","و"],T=s.map(it=>Pr(it)).join(""),C=\`[\${c.map(it=>Pr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${T}›»]\`,w=Pr("م"),d=\`(?:\${w}\${\$i}(?:\${sa}|\${C}){1,6}\${Yi})\`,l=\`(?:\${w}\${\$i}(?:\${aa}|\${E}){1,6}\${Yi})\`,u=\`(?:\${d}|\${l})\`,_=\`[^›\${Wr}]\`,b=it=>RegExp(F(it),"u"),F=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Pr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${\$i}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Yi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Wr}(?:\${S}|\${u})\`,z=()=>RegExp(\`‹(?:\${_}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Wr}»]|\${Wr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${ec})|(?:\${Au})\`,"u"),k=()=>RegExp(\`(?!\${F(Qh)}(?:\${Vh}|\\\\s|\$))\${Ur}\`,"u"),K=()=>b(na),L=()=>b(ia),Q=()=>b(ra);f.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Lu,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Ou}),f.defineMIME("text/x-seen-ar-src","seen-ar"),f.defineMIME("text/seen-ar","seen-ar")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){const s=\`[nrt'"]\`,c=\`u\${\$i}[\\\\da-fA-F]{1,6}\${Yi}\`,T=\`[^'\${js}]\`;function C(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${\$i}\${Ir}\`),S=()=>RegExp(".*"),w=()=>RegExp(\`.*?\${Ir}\${Yi}\`),d=()=>RegExp(\`\${Ir}\${Ir}.*\`),l=\`\${js}(?:\${s}|\${c})\`,u=()=>RegExp(\`'(?:\${T}|\${l})'\`),_=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${T}|\${js}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Au})\`),D=()=>RegExp(\`\${Ur}\`,"u"),z=()=>C(na),H=()=>C(ia),U=()=>C(ra);f.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:d(),token:"comment"},{regex:_(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Lu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:w(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Ou}),f.defineMIME("text/x-seen-en-src","seen-en"),f.defineMIME("text/seen-en","seen-en")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.defineMode("javascript",function(s,c){var T=s.indentUnit,C=c.statementIndent,E=c.jsonld,S=c.json||E,w=c.trackScope!==!1,d=c.typescript,l=c.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function x(Xt){return{type:Xt,style:"keyword"}}var P=x("keyword a"),B=x("keyword b"),G=x("keyword c"),bt=x("keyword d"),Tt=x("operator"),Ct={type:"atom",style:"atom"};return{if:x("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:x("new"),delete:G,void:G,throw:G,debugger:x("debugger"),var:x("var"),const:x("var"),let:x("var"),function:x("function"),catch:x("catch"),for:x("for"),switch:x("switch"),case:x("case"),default:x("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:x("this"),class:x("class"),super:x("atom"),yield:G,export:x("export"),import:x("import"),extends:G,await:G}}(),_=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(x){for(var P=!1,B,G=!1;(B=x.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,g;function y(x,P,B){return O=x,g=B,P}function W(x,P){var B=x.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(x,P);if(B=="."&&x.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&x.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&x.eat(">"))return y("=>","operator");if(B=="0"&&x.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return x.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return x.eat("*")?(P.tokenize=z,z(x,P)):x.eat("/")?(x.skipToEnd(),y("comment","comment")):ze(x,P,1)?(F(x),x.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(x.eat("="),y("operator","operator",x.current()));if(B=="\`")return P.tokenize=H,H(x,P);if(B=="#"&&x.peek()=="!")return x.skipToEnd(),y("meta","meta");if(B=="#"&&x.eatWhile(l))return y("variable","property");if(B=="<"&&x.match("!--")||B=="-"&&x.match("->")&&!/\\S/.test(x.string.slice(0,x.start)))return x.skipToEnd(),y("comment","comment");if(_.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(x.eat("=")?(B=="!"||B=="=")&&x.eat("="):/[<>*+\\-|&?]/.test(B)&&(x.eat(B),B==">"&&x.eat(B))),B=="?"&&x.eat(".")?y("."):y("operator","operator",x.current());if(l.test(B)){x.eatWhile(l);var G=x.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var bt=u[G];return y(bt.type,bt.style,G)}if(G=="async"&&x.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(x){return function(P,B){var G=!1,bt;if(E&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==x&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(x,P){for(var B=!1,G;G=x.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(x,P){for(var B=!1,G;(G=x.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&x.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",x.current())}var U="([{}])";function Z(x,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=x.string.indexOf("=>",x.start);if(!(B<0)){if(d){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(x.string.slice(x.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=x.string.charAt(Ct),ke=U.indexOf(Xt);if(ke>=0&&ke<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(ke>=3&&ke<6)++bt;else if(l.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=x.string.charAt(Ct-1);if(yt==Xt&&x.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(x,P,B,G,bt,Tt){this.indented=x,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(x,P){if(!w)return!1;for(var B=x.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=x.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(x,P,B,G,bt){var Tt=x.cc;for(k.state=x,k.stream=bt,k.marked=null,k.cc=Tt,k.style=P,x.lexical.hasOwnProperty("align")||(x.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return k.marked?k.marked:B=="variable"&&I(x,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var x=arguments.length-1;x>=0;x--)k.cc.push(arguments[x])}function L(){return K.apply(null,arguments),!0}function Q(x,P){for(var B=P;B;B=B.next)if(B.name==x)return!0;return!1}function it(x){var P=k.state;if(k.marked="def",!!w){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(x,P.context);if(B!=null){P.context=B;return}}else if(!Q(x,P.localVars)){P.localVars=new \$(x,P.localVars);return}}c.globalVars&&!Q(x,P.globalVars)&&(P.globalVars=new \$(x,P.globalVars))}}function J(x,P){if(P)if(P.block){var B=J(x,P.prev);return B?B==P.prev?P:new A(B,P.vars,!0):null}else return Q(x,P.vars)?P:new A(P.prev,new \$(x,P.vars),!1);else return null}function lt(x){return x=="public"||x=="private"||x=="protected"||x=="abstract"||x=="readonly"}function A(x,P,B){this.prev=x,this.vars=P,this.block=B}function \$(x,P){this.name=x,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){k.state.context=new A(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new A(k.state.context,k.state.localVars,!0),k.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}kt.lex=!0;function ft(x,P){var B=function(){var G=k.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,k.stream.column(),x,null,G.lexical,P)};return B.lex=!0,B}function at(){var x=k.state;x.lexical.prev&&(x.lexical.type==")"&&(x.indented=x.lexical.indented),x.lexical=x.lexical.prev)}at.lex=!0;function _t(x){function P(B){return B==x?L():x==";"||B=="}"||B==")"||B=="]"?K():L(P)}return P}function vt(x,P){return x=="var"?L(ft("vardef",P),Xe,_t(";"),at):x=="keyword a"?L(ft("form"),Ee,vt,at):x=="keyword b"?L(ft("form"),vt,at):x=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),xe,_t(";"),at):x=="debugger"?L(_t(";")):x=="{"?L(ft("}"),Nt,We,at,kt):x==";"?L():x=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,vt,at,qn)):x=="function"?L(Ie):x=="for"?L(ft("form"),Nt,nr,vt,kt,at):x=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form",x=="class"?x:P),rr,at)):x=="variable"?d&&P=="declare"?(k.marked="keyword",L(vt)):d&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Un):P=="type"?L(ir,_t("operator"),nt,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),We,at,at)):d&&P=="namespace"?(k.marked="keyword",L(ft("form"),Et,vt,at)):d&&P=="abstract"?(k.marked="keyword",L(vt)):L(ft("stat"),zn):x=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,We,at,at,kt):x=="case"?L(Et,_t(":")):x=="default"?L(_t(":")):x=="catch"?L(ft("form"),wt,ee,vt,at,kt):x=="export"?L(ft("stat"),hn,at):x=="import"?L(ft("stat"),Ye,at):x=="async"?L(vt):P=="@"?L(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ee(x){if(x=="(")return L(Ne,_t(")"))}function Et(x,P){return we(x,P,!1)}function Rt(x,P){return we(x,P,!0)}function Ee(x){return x!="("?K():L(ft(")"),xe,_t(")"),at)}function we(x,P,B){if(k.state.fatArrowAt==k.stream.start){var G=B?_i:on;if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,_t("=>"),G,kt);if(x=="variable")return K(wt,fe,_t("=>"),G,kt)}var bt=B?It:ce;return ot.hasOwnProperty(x)?L(bt):x=="function"?L(Ie,bt):x=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form"),ln,at)):x=="keyword c"||x=="async"?L(B?Rt:Et):x=="("?L(ft(")"),xe,_t(")"),at,bt):x=="operator"||x=="spread"?L(B?Rt:Et):x=="["?L(ft("]"),Qe,at,bt):x=="{"?En(Hn,"}",null,bt):x=="quasi"?K(mt,bt):x=="new"?L(Ji(B)):L()}function xe(x){return x.match(/[;\\}\\)\\],]/)?K():K(Et)}function ce(x,P){return x==","?L(xe):It(x,P,!1)}function It(x,P,B){var G=B==!1?ce:It,bt=B==!1?Et:Rt;if(x=="=>")return L(wt,B?_i:on,kt);if(x=="operator")return/\\+\\+|--/.test(P)||d&&P=="!"?L(G):d&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),Bt(nt,">"),at,G):P=="?"?L(Et,_t(":"),bt):L(bt);if(x=="quasi")return K(mt,G);if(x!=";"){if(x=="(")return En(Rt,")","call",G);if(x==".")return L(Vi,G);if(x=="[")return L(ft("]"),xe,_t("]"),at,G);if(d&&P=="as")return k.marked="keyword",L(nt,G);if(x=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(bt)}}function mt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(mt):L(xe,Ge)}function Ge(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(mt)}function on(x){return Z(k.stream,k.state),K(x=="{"?vt:Et)}function _i(x){return Z(k.stream,k.state),K(x=="{"?vt:Rt)}function Ji(x){return function(P){return P=="."?L(x?pi:Gr):P=="variable"&&d?L(re,x?It:ce):K(x?Rt:Et)}}function Gr(x,P){if(P=="target")return k.marked="keyword",L(ce)}function pi(x,P){if(P=="target")return k.marked="keyword",L(It)}function zn(x){return x==":"?L(at,vt):K(ce,_t(";"),at)}function Vi(x){if(x=="variable")return k.marked="property",L()}function Hn(x,P){if(x=="async")return k.marked="property",L(Hn);if(x=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(di);var B;return d&&k.state.fatArrowAt==k.stream.start&&(B=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+B[0].length),L(Pe)}else{if(x=="number"||x=="string")return k.marked=E?"property":k.style+" property",L(Pe);if(x=="jsonld-keyword")return L(Pe);if(d&&lt(P))return k.marked="keyword",L(Hn);if(x=="[")return L(Et,Te,_t("]"),Pe);if(x=="spread")return L(Rt,Pe);if(P=="*")return k.marked="keyword",L(Hn);if(x==":")return K(Pe)}}function di(x){return x!="variable"?K(Pe):(k.marked="property",L(Ie))}function Pe(x){if(x==":")return L(Rt);if(x=="(")return K(Ie)}function Bt(x,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=k.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),L(function(Xt,ke){return Xt==P||ke==P?K():K(x)},G)}return bt==P||Tt==P?L():B&&B.indexOf(";")>-1?K(x):L(_t(P))}return function(bt,Tt){return bt==P||Tt==P?L():K(x,G)}}function En(x,P,B){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,B),Bt(x,P),at)}function We(x){return x=="}"?L():K(vt,We)}function Te(x,P){if(d){if(x==":")return L(nt);if(P=="?")return L(Te)}}function Xr(x,P){if(d&&(x==":"||P=="in"))return L(nt)}function Ce(x){if(d&&x==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Et,tr,nt):L(nt)}function tr(x,P){if(P=="is")return k.marked="keyword",L()}function nt(x,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:nt);if(x=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(nt);if(x=="string"||x=="number"||x=="atom")return L(ue);if(x=="[")return L(ft("]"),Bt(nt,"]",","),at,ue);if(x=="{")return L(ft("}"),ie,at,ue);if(x=="(")return L(Bt(oe,")"),gi,ue);if(x=="<")return L(Bt(nt,">"),nt);if(x=="quasi")return K(zt,ue)}function gi(x){if(x=="=>")return L(nt)}function ie(x){return x.match(/[\\}\\)\\]]/)?L():x==","||x==";"?L(ie):K(Mt,ie)}function Mt(x,P){if(x=="variable"||k.style=="keyword")return k.marked="property",L(Mt);if(P=="?"||x=="number"||x=="string")return L(Mt);if(x==":")return L(nt);if(x=="[")return L(_t("variable"),Xr,_t("]"),Mt);if(x=="(")return K(Be,Mt);if(!x.match(/[;\\}\\)\\],]/))return L()}function zt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(zt):L(nt,er)}function er(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(zt)}function oe(x,P){return x=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):x==":"?L(nt):x=="spread"?L(oe):K(nt)}function ue(x,P){if(P=="<")return L(ft(">"),Bt(nt,">"),at,ue);if(P=="|"||x=="."||P=="&")return L(nt);if(x=="[")return L(nt,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(nt);if(P=="?")return L(nt,_t(":"),nt)}function re(x,P){if(P=="<")return L(ft(">"),Bt(nt,">"),at,ue)}function Tn(){return K(nt,vi)}function vi(x,P){if(P=="=")return L(nt)}function Xe(x,P){return P=="enum"?(k.marked="keyword",L(Un)):K(fe,Te,Ae,Yr)}function fe(x,P){if(d&&lt(P))return k.marked="keyword",L(fe);if(x=="variable")return it(P),L();if(x=="spread")return L(fe);if(x=="[")return En(\$r,"]");if(x=="{")return En(mi,"}")}function mi(x,P){return x=="variable"&&!k.stream.match(/^\\s*:/,!1)?(it(P),L(Ae)):(x=="variable"&&(k.marked="property"),x=="spread"?L(fe):x=="}"?K():x=="["?L(Et,_t("]"),_t(":"),mi):L(_t(":"),fe,Ae))}function \$r(){return K(fe,Ae)}function Ae(x,P){if(P=="=")return L(Rt)}function Yr(x){if(x==",")return L(Xe)}function qn(x,P){if(x=="keyword b"&&P=="else")return L(ft("form","else"),vt,at)}function nr(x,P){if(P=="await")return L(nr);if(x=="(")return L(ft(")"),bi,at)}function bi(x){return x=="var"?L(Xe,un):x=="variable"?L(un):K(un)}function un(x,P){return x==")"?L():x==";"?L(un):P=="in"||P=="of"?(k.marked="keyword",L(Et,un)):K(Et,un)}function Ie(x,P){if(P=="*")return k.marked="keyword",L(Ie);if(x=="variable")return it(P),L(Ie);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,vt,kt);if(d&&P=="<")return L(ft(">"),Bt(Tn,">"),at,Ie)}function Be(x,P){if(P=="*")return k.marked="keyword",L(Be);if(x=="variable")return it(P),L(Be);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,kt);if(d&&P=="<")return L(ft(">"),Bt(Tn,">"),at,Be)}function ir(x,P){if(x=="keyword"||x=="variable")return k.marked="type",L(ir);if(P=="<")return L(ft(">"),Bt(Tn,">"),at)}function Ne(x,P){return P=="@"&&L(Et,Ne),x=="spread"?L(Ne):d&&lt(P)?(k.marked="keyword",L(Ne)):d&&x=="this"?L(Te,Ae):K(fe,Te,Ae)}function ln(x,P){return x=="variable"?rr(x,P):jn(x,P)}function rr(x,P){if(x=="variable")return it(P),L(jn)}function jn(x,P){if(P=="<")return L(ft(">"),Bt(Tn,">"),at,jn);if(P=="extends"||P=="implements"||d&&x==",")return P=="implements"&&(k.marked="keyword"),L(d?nt:Et,jn);if(x=="{")return L(ft("}"),me,at)}function me(x,P){if(x=="async"||x=="variable"&&(P=="static"||P=="get"||P=="set"||d&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(x=="variable"||k.style=="keyword")return k.marked="property",L(\$e,me);if(x=="number"||x=="string")return L(\$e,me);if(x=="[")return L(Et,Te,_t("]"),\$e,me);if(P=="*")return k.marked="keyword",L(me);if(d&&x=="(")return K(Be,me);if(x==";"||x==",")return L(me);if(x=="}")return L();if(P=="@")return L(Et,me)}function \$e(x,P){if(P=="!"||P=="?")return L(\$e);if(x==":")return L(nt,Ae);if(P=="=")return L(Rt);var B=k.state.lexical.prev,G=B&&B.info=="interface";return K(G?Be:Ie)}function hn(x,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Et,_t(";"))):x=="{"?L(Bt(sr,"}"),ct,_t(";")):K(vt)}function sr(x,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(x=="variable")return K(Rt,sr)}function Ye(x){return x=="string"?L():x=="("?K(Et):x=="."?K(ce):K(cn,yi,ct)}function cn(x,P){return x=="{"?En(cn,"}"):(x=="variable"&&it(P),P=="*"&&(k.marked="keyword"),L(Ht))}function yi(x){if(x==",")return L(cn,yi)}function Ht(x,P){if(P=="as")return k.marked="keyword",L(cn)}function ct(x,P){if(P=="from")return k.marked="keyword",L(Et)}function Qe(x){return x=="]"?L():K(Bt(Rt,"]"))}function Un(){return K(ft("form"),fe,_t("{"),ft("}"),Bt(Le,"}"),at,at)}function Le(){return K(fe,Ae)}function Lt(x,P){return x.lastType=="operator"||x.lastType==","||_.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(x,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(x.string.slice(0,x.pos-(B||0)))}return{startState:function(x){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((x||0)-T,0,"block",!1),localVars:c.localVars,context:c.localVars&&new A(null,null,!1),indented:x||0};return c.globalVars&&typeof c.globalVars=="object"&&(P.globalVars=c.globalVars),P},token:function(x,P){if(x.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=x.indentation(),Z(x,P)),P.tokenize!=z&&x.eatSpace())return null;var B=P.tokenize(x,P);return O=="comment"?B:(P.lastType=O=="operator"&&(g=="++"||g=="--")?"incdec":O,R(P,B,O,g,x))},indent:function(x,P){if(x.tokenize==z||x.tokenize==H)return f.Pass;if(x.tokenize!=W)return 0;var B=P&&P.charAt(0),G=x.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=x.cc.length-1;Tt>=0;--Tt){var Ct=x.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=qn&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=x.cc[x.cc.length-1])&&(bt==ce||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;C&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,ke=B==Xt;return Xt=="vardef"?G.indented+(x.lastType=="operator"||x.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+T:Xt=="stat"?G.indented+(Lt(x,P)?C||T:0):G.info=="switch"&&!ke&&c.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?T:2*T):G.align?G.column+(ke?0:1):G.indented+(ke?0:T)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:ze,skipExpression:function(x){R(x,"atom","atom","true",new f.StringStream("",2,null))}}}),f.registerHelper("wordChars","javascript",/[\\w\$]/),f.defineMIME("text/javascript","javascript"),f.defineMIME("text/ecmascript","javascript"),f.defineMIME("application/javascript","javascript"),f.defineMIME("application/x-javascript","javascript"),f.defineMIME("application/ecmascript","javascript"),f.defineMIME("application/json",{name:"javascript",json:!0}),f.defineMIME("application/x-json",{name:"javascript",json:!0}),f.defineMIME("application/manifest+json",{name:"javascript",json:!0}),f.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),f.defineMIME("text/typescript",{name:"javascript",typescript:!0}),f.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){f.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),f.defineMIME("text/x-rustsrc","rust"),f.defineMIME("text/rust","rust")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(C,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=C+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var w=this;f.on(this.inner,"mousedown",function(l){if(l.which!=1)return;f.e_preventDefault(l);var u=w.orientation=="horizontal"?"pageX":"pageY",_=l[u],b=w.pos;function F(){f.off(document,"mousemove",O),f.off(document,"mouseup",F)}function O(g){if(g.which!=1)return F();w.moveTo(b+(g[u]-_)*(w.total/w.size))}f.on(document,"mousemove",O),f.on(document,"mouseup",F)}),f.on(this.node,"click",function(l){f.e_preventDefault(l);var u=w.inner.getBoundingClientRect(),_;w.orientation=="horizontal"?_=l.clientX<u.left?-1:l.clientX>u.right?1:0:_=l.clientY<u.top?-1:l.clientY>u.bottom?1:0,w.moveTo(w.pos+_*w.screen)});function d(l){var u=f.wheelEventPixels(l)[w.orientation=="horizontal"?"x":"y"],_=w.pos;w.moveTo(w.pos+u),w.pos!=_&&f.e_preventDefault(l)}f.on(this.node,"mousewheel",d),f.on(this.node,"DOMMouseScroll",d)}s.prototype.setPos=function(C,E){return C<0&&(C=0),C>this.total-this.screen&&(C=this.total-this.screen),!E&&C==this.pos?!1:(this.pos=C,this.inner.style[this.orientation=="horizontal"?"left":"top"]=C*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(C){this.setPos(C)&&this.scroll(C,this.orientation)};var c=10;s.prototype.update=function(C,E,S){var w=this.screen!=E||this.total!=C||this.size!=S;w&&(this.screen=E,this.total=C,this.size=S);var d=this.screen*(this.size/this.total);d<c&&(this.size-=c-d,d=c),this.inner.style[this.orientation=="horizontal"?"width":"height"]=d+"px",this.setPos(this.pos,w)};function T(C,E,S){this.addClass=C,this.horiz=new s(C,"horizontal",S),E(this.horiz.node),this.vert=new s(C,"vertical",S),E(this.vert.node),this.width=null}T.prototype.update=function(C){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,w=C.scrollWidth>C.clientWidth+1,d=C.scrollHeight>C.clientHeight+1;return this.vert.node.style.display=d?"block":"none",this.horiz.node.style.display=w?"block":"none",d&&(this.vert.update(C.scrollHeight,C.clientHeight,C.viewHeight-(w?S:0)),this.vert.node.style.bottom=w?S+"px":"0"),w&&(this.horiz.update(C.scrollWidth,C.clientWidth,C.viewWidth-(d?S:0)-C.barLeft),this.horiz.node.style.right=d?S+"px":"0",this.horiz.node.style.left=C.barLeft+"px"),{right:d?S:0,bottom:w?S:0}},T.prototype.setScrollTop=function(C){this.vert.setPos(C)},T.prototype.setScrollLeft=function(C){this.horiz.setPos(C)},T.prototype.clear=function(){var C=this.horiz.node.parentNode;C.removeChild(this.horiz.node),C.removeChild(this.vert.node)},f.scrollbarModel.simple=function(C,E){return new T("CodeMirror-simplescroll",C,E)},f.scrollbarModel.overlay=function(C,E){return new T("CodeMirror-overlayscroll",C,E)}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s="CodeMirror-activeline",c="CodeMirror-activeline-background",T="CodeMirror-activeline-gutter";f.defineOption("styleActiveLine",!1,function(d,l,u){var _=u==f.Init?!1:u;l!=_&&(_&&(d.off("beforeSelectionChange",w),C(d),delete d.state.activeLines),l&&(d.state.activeLines=[],S(d,d.listSelections()),d.on("beforeSelectionChange",w)))});function C(d){for(var l=0;l<d.state.activeLines.length;l++)d.removeLineClass(d.state.activeLines[l],"wrap",s),d.removeLineClass(d.state.activeLines[l],"background",c),d.removeLineClass(d.state.activeLines[l],"gutter",T)}function E(d,l){if(d.length!=l.length)return!1;for(var u=0;u<d.length;u++)if(d[u]!=l[u])return!1;return!0}function S(d,l){for(var u=[],_=0;_<l.length;_++){var b=l[_],F=d.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=d.getLineHandleVisualStart(b.head.line);u[u.length-1]!=O&&u.push(O)}}E(d.state.activeLines,u)||d.operation(function(){C(d);for(var g=0;g<u.length;g++)d.addLineClass(u[g],"wrap",s),d.addLineClass(u[g],"background",c),d.addLineClass(u[g],"gutter",T);d.state.activeLines=u})}function w(d,l){S(d,l.ranges)}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),c=f.Pos,T={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function C(u){return u&&u.bracketRegex||/[(){}[\\]]/}function E(u,_,b){var F=u.getLineHandle(_.line),O=_.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=C(b),W=!g&&O>=0&&y.test(F.text.charAt(O))&&T[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&T[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==_.ch))return null;var z=u.getTokenTypeAt(c(_.line,O+1)),H=S(u,c(_.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:c(_.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(u,_,b,F,O){for(var g=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=C(O),z=b>0?Math.min(_.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,_.line-y),H=_.line;H!=z;H+=b){var U=u.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(H==_.line&&(Z=_.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(u.getTokenTypeAt(c(H,Z+1))||"")==(F||""))){var I=T[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:c(H,Z),ch:rt}}}}}return H-b==(b>0?u.lastLine():u.firstLine())?!1:null}function w(u,_,b){for(var F=u.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,g=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(u,y[W].head,b);if(D&&(D.match||O!==!1)&&u.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(u.markText(D.from,c(D.from.line,D.from.ch+1),{className:z})),D.to&&u.getLine(D.to.line).length<=F&&g.push(u.markText(D.to,c(D.to.line,D.to.ch+1),{className:z}))}}if(g.length){s&&u.state.focused&&u.focus();var H=function(){u.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(_)setTimeout(H,800);else return H}}function d(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=w(u,!1,u.state.matchBrackets)})}function l(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}f.defineOption("matchBrackets",!1,function(u,_,b){b&&b!=f.Init&&(u.off("cursorActivity",d),u.off("focus",d),u.off("blur",l),l(u)),_&&(u.state.matchBrackets=typeof _=="object"?_:{},u.on("cursorActivity",d),u.on("focus",d),u.on("blur",l))}),f.defineExtension("matchBrackets",function(){w(this,!0)}),f.defineExtension("findMatchingBracket",function(u,_,b){return(b||typeof _=="boolean")&&(b?(b.strict=_,_=b):_=_?{strict:!0}:null),E(this,u,_)}),f.defineExtension("scanForBracket",function(u,_,b,F){return S(this,u,_,b,F)})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},c=f.Pos;f.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=f.Init&&(g.removeKeyMap(C),g.state.closeBrackets=null),y&&(E(T(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(C))});function T(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:s[y]}var C={Backspace:d,Enter:l};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";C[D]||(C[D]=S(W))}}E(s.pairs+"\`");function S(g){return function(y){return b(y,g)}}function w(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function d(g){var y=w(g);if(!y||g.getOption("disableInput"))return f.Pass;for(var W=T(y,"pairs"),D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return f.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return f.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;g.replaceRange("",c(U.line,U.ch-1),c(U.line,U.ch+1),"+delete")}}function l(g){var y=w(g),W=y&&T(y,"explode");if(!W||g.getOption("disableInput"))return f.Pass;for(var D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return f.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return f.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),u(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function u(g,y){for(var W=[],D=g.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==g.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,z)}function _(g){var y=f.cmpPos(g.anchor,g.head)>0;return{anchor:new c(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new c(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=w(g);if(!W||g.getOption("disableInput"))return f.Pass;var D=T(W,"pairs"),z=D.indexOf(y);if(z==-1)return f.Pass;for(var H=T(W,"closeBefore"),U=T(W,"triples"),Z=D.charAt(z+1)==y,ot=g.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=g.getRange(K,c(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&O(g,K)?L="both":U.indexOf(y)>=0&&g.getRange(K,c(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(c(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(c(K.line,K.ch-2))))return f.Pass;L="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(c(K.line,K.ch-1),K);if(!f.isWordChar(Q)&&it!=y&&!f.isWordChar(it))L="both";else return f.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))L="both";else return f.Pass;if(!I)I=L;else if(I!=L)return f.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);g.operation(function(){if(I=="skip")u(g,1);else if(I=="skipThree")u(g,3);else if(I=="surround"){for(var A=g.getSelections(),\$=0;\$<A.length;\$++)A[\$]=J+A[\$]+lt;g.replaceSelections(A,"around"),A=g.listSelections().slice();for(var \$=0;\$<A.length;\$++)A[\$]=_(A[\$]);g.setSelections(A)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),u(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),u(g,1))})}function F(g,y){var W=g.getRange(c(y.line,y.ch-1),c(y.line,y.ch+1));return W.length==2?W:null}function O(g,y){var W=g.getTokenAt(c(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(E,S,w,d){if(w&&w.call){var l=w;w=null}else var l=C(E,w,"rangeFinder");typeof S=="number"&&(S=f.Pos(S,0));var u=C(E,w,"minFoldSize");function _(g){var y=l(E,S);if(!y||y.to.line-y.from.line<u)return null;if(d==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=_(!0);if(C(E,w,"scanUp"))for(;!b&&S.line>E.firstLine();)S=f.Pos(S.line-1,0),b=_(!1);if(!(!b||b.cleared||d==="unfold")){var F=c(E,w,b);f.on(F,"mousedown",function(g){O.clear(),f.e_preventDefault(g)});var O=E.markText(b.from,b.to,{replacedWith:F,clearOnEnter:C(E,w,"clearOnEnter"),__isFold:!0});O.on("clear",function(g,y){f.signal(E,"unfold",E,g,y)}),f.signal(E,"fold",E,b.from,b.to)}}function c(E,S,w){var d=C(E,S,"widget");if(typeof d=="function"&&(d=d(w.from,w.to)),typeof d=="string"){var l=document.createTextNode(d);d=document.createElement("span"),d.appendChild(l),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}f.newFoldFunction=function(E,S){return function(w,d){s(w,d,{rangeFinder:E,widget:S})}},f.defineExtension("foldCode",function(E,S,w){s(this,E,S,w)}),f.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),w=0;w<S.length;++w)if(S[w].__isFold)return!0}),f.commands.toggleFold=function(E){E.foldCode(E.getCursor())},f.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},f.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},f.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),w=E.lastLine();S<=w;S++)E.foldCode(f.Pos(S,0),{scanUp:!1},"fold")})},f.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),w=E.lastLine();S<=w;S++)E.foldCode(f.Pos(S,0),{scanUp:!1},"unfold")})},f.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,w){for(var d=0;d<E.length;++d){var l=E[d](S,w);if(l)return l}}}),f.registerHelper("fold","auto",function(E,S){for(var w=E.getHelpers(S,"fold"),d=0;d<w.length;d++){var l=w[d](E,S);if(l)return l}});var T={rangeFinder:f.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};f.defineOption("foldOptions",null);function C(E,S,w){if(S&&S[w]!==void 0)return S[w];var d=E.options.foldOptions;return d&&d[w]!==void 0?d[w]:T[w]}f.defineExtension("foldOption",function(E,S){return C(this,E,S)})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],f):f(CodeMirror)})(function(f){f.defineOption("foldGutter",!1,function(O,g,y){y&&y!=f.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",l),O.off("changes",_),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",_),O.off("optionChange",u)),g&&(O.state.foldGutter=new c(T(g)),d(O),O.on("gutterClick",l),O.on("changes",_),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",_),O.on("optionChange",u))});var s=f.Pos;function c(O){this.options=O,this.from=this.to=0}function T(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function C(O,g){for(var y=O.findMarks(s(g,0),s(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(O){if(typeof O=="string"){var g=document.createElement("div");return g.className=O+" CodeMirror-guttermarker-subtle",g}else return O.cloneNode(!0)}function S(O,g,y){var W=O.state.foldGutter.options,D=g-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&w(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&w(W.indicatorOpen);O.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),C(O,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=s(D,0),k=H&&H(O,R);if(k&&k.to.line-k.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function w(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function d(O){var g=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,g.from,g.to)}),y.from=g.from,y.to=g.to)}function l(O,g,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=C(O,g);z?z.clear():O.foldCode(s(g,0),D)}}}function u(O,g){g=="mode"&&_(O)}function _(O){var g=O.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){d(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var g=O.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=O.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?d(O):O.operation(function(){W.from<g.from&&(S(O,W.from,g.from),g.from=W.from),W.to>g.to&&(S(O,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,g){var y=O.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s="CodeMirror-hint",c="CodeMirror-hint-active";f.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return g.showHint(D)},f.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new T(this,g);D.options.hint&&(f.signal(this,"startCompletion",this),D.update(!0))}}),f.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function T(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var C=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;T.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&f.signal(this.data,"close"),this.widget&&this.widget.close(),f.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(w(W),W.from||g.from,W.to||g.to,"complete"),f.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=C(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&f.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new u(this,g),f.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(g,y)),z}function w(g){return typeof g=="string"?g:g.text}function d(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=g.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function l(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function u(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+c);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||w(R))),I.hintId=rt}var K=g.options.container||z.body,L=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=L.left,it=L.bottom,J=!0,lt=0,A=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,A=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-A+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Et=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(it=L.top-Et)+A+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-kt;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ee-=at.right-at.left-kt),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=d(g,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var xe;D.on("blur",this.onBlur=function(){xe=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(xe)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=it+vt.top-It.top,on=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(on+=U.offsetHeight),on<=mt.top||on>=mt.bottom)return g.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),f.on(U,"dblclick",function(It){var mt=l(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),f.on(U,"click",function(It){var mt=l(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),g.options.completeOnSingleClick&&W.pick())}),f.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),f.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+c,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+c,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),f.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function _(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var z=g(y,W);z&&z.then?z.then(D):D(z)}}function F(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=_(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(H){return f.hint.fromList(H,{words:D})}:f.hint.anyword?function(H,U){return f.hint.anyword(H,U)}:function(){}}f.registerHelper("hint","auto",{resolve:F}),f.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),z,H=f.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),f.commands.autocomplete=f.showHint;var O={hint:f.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};f.defineOption("hintOptions",null)});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(c){return function(T,C){var E=C.line,S=T.getLine(E);function w(F){for(var O,g=C.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(F[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<C.ch)break;if(O=T.getTokenTypeAt(f.Pos(E,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};g=W-1}}function d(F){var O=1,g=T.lastLine(),y,W=F.ch,D;t:for(var z=E;z<=g;++z)for(var H=T.getLine(z),U=z==E?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(T.getTokenTypeAt(f.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||E==y?null:{from:f.Pos(E,W),to:f.Pos(y,D)}}for(var l=[],u=0;u<c.length;u++){var _=w(c[u]);_&&l.push(_)}l.sort(function(F,O){return F.ch-O.ch});for(var u=0;u<l.length;u++){var b=d(l[u]);if(b)return b}return null}}f.registerHelper("fold","brace",s([["{","}"],["[","]"]])),f.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),f.registerHelper("fold","import",function(c,T){function C(u){if(u<c.firstLine()||u>c.lastLine())return null;var _=c.getTokenAt(f.Pos(u,1));if(/\\S/.test(_.string)||(_=c.getTokenAt(f.Pos(u,_.end+1))),_.type!="keyword"||_.string!="import")return null;for(var b=u,F=Math.min(c.lastLine(),u+10);b<=F;++b){var O=c.getLine(b),g=O.indexOf(";");if(g!=-1)return{startCh:_.end,end:f.Pos(b,g)}}}var E=T.line,S=C(E),w;if(!S||C(E-1)||(w=C(E-2))&&w.end.line==E-1)return null;for(var d=S.end;;){var l=C(d.line+1);if(l==null)break;d=l.end}return{from:c.clipPos(f.Pos(E,S.startCh+1)),to:d}}),f.registerHelper("fold","include",function(c,T){function C(l){if(l<c.firstLine()||l>c.lastLine())return null;var u=c.getTokenAt(f.Pos(l,1));if(/\\S/.test(u.string)||(u=c.getTokenAt(f.Pos(l,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var E=T.line,S=C(E);if(S==null||C(E-1)!=null)return null;for(var w=E;;){var d=C(w+1);if(d==null)break;++w}return{from:f.Pos(E,S+1),to:c.clipPos(f.Pos(w))}})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(c,T){var C=c.getLine(T),E=C.search(/\\S/);return E==-1||/\\bcomment\\b/.test(c.getTokenTypeAt(f.Pos(T,E+1)))?-1:f.countColumn(C,null,c.getOption("tabSize"))}f.registerHelper("fold","indent",function(c,T){var C=s(c,T.line);if(!(C<0)){for(var E=null,S=T.line+1,w=c.lastLine();S<=w;++S){var d=s(c,S);if(d!=-1)if(d>C)E=S;else break}if(E)return{from:f.Pos(T.line,c.getLine(T.line).length),to:f.Pos(E,c.getLine(E).length)}}})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,c){var T=s.getModeAt(c),C=T.blockCommentStart,E=T.blockCommentEnd;if(!(!C||!E)){for(var S=c.line,w=s.getLine(S),d,l=c.ch,u=0;;){var _=l<=0?-1:w.lastIndexOf(C,l-1);if(_==-1){if(u==1)return;u=1,l=w.length;continue}if(u==1&&_<c.ch)return;if(/comment/.test(s.getTokenTypeAt(f.Pos(S,_+1)))&&(_==0||w.slice(_-E.length,_)==E||!/comment/.test(s.getTokenTypeAt(f.Pos(S,_))))){d=_+C.length;break}l=_-1}var b=1,F=s.lastLine(),O,g;t:for(var y=S;y<=F;++y)for(var W=s.getLine(y),D=y==S?d:0;;){var z=W.indexOf(C,D),H=W.indexOf(E,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,g=D;break t}++D}if(!(O==null||S==O&&g==d))return{from:f.Pos(S,d),to:f.Pos(O,g)}}})});const uc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},lc={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...uc},hc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function cc(f,s){for(let[c,T]of Object.entries(f)){let C=document.querySelector(\`#\${c}\`);C&&(C.textContent=T[s])}}function fc(f,s){for(let[c,T]of Object.entries(f)){let C=document.querySelector(\`#\${c}\`);C&&(C.title=T[s])}}class _c{msg;start_loc;end_loc;constructor(s,c,T){this.msg=s,this.start_loc=c,this.end_loc=T}}const fu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},pc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"},hi=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Wn=["0","1","2","3","4","5","6","7","8","9"],dc="ـ",Us=regexp("\\\\p{L}"),gc=regexp("\\\\p{N}");function Br(f){return f==null}function Ks(f){return f instanceof Array}function Gt(f,s){return f.includes(s)}function vc(f,s,c){f[s]=c}function Zs(f){return Array.isArray(f)&&f.length===0}function At(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function _u(f,s){f==null?console.log("undefined"):console.log(JSON.stringify(f))}function St(f){throw new Error(f)}function sn(f){return{...f}}function mc(f){return f.toLowerCase()}class pu{line;column;constructor(s,c){return this.line=s,this.column=c,this}}class bc{v;loc;constructor(s,c){return this.v=s,this.loc=c,this}}class yc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,c,T,C,E,S,w,d,l,u){return this.lang=s,this.code=c,this.start_loc=T,this.end_loc=C,this.tokens=E,this.errs=S,this.current_index=w,this.current=d,this.lookbehind=l,this.ignore_cmts_ws=u,this}init(s,c,T){this.lang=s,this.code=c,this.start_loc=new pu(1,1),this.end_loc=new pu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=T}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=sn(this.end_loc),this.add_token("\$eof")}add_token(s){const c=new bc(s,sn(this.start_loc));this.tokens.push(c)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const c=new _c(s,sn(this.start_loc),sn(this.end_loc));this.errs.push(c)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===dc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Br(this.lookbehind)}expect_none_ahead(){return Br(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(Us)}expect_num(){return this.lookahead().match(gc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Br(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const c=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),c.push(sn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(c.length>1)s+=this.next()+this.next(),c.pop();else{s+=this.next(),c.pop();break}else s+=this.next();const T=c.pop();return T&&(this.start_loc=sn(T),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let s=this.next();switch(s){case"(":switch(s=this.next(),s){case"س":s=\`
\`;break;case"ر":s="\\r";break;case"ج":s="	";break;case"‹":s="‹";break;case"›":s="›";break;case"«":s="«";break;case"»":s="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+s);break;case"٪":s="٪";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s)}return s}else return this.current}en_escape_char(){if(this.current==="%"){let s=this.next();switch(s){case"n":s=\`
\`;break;case"r":s="\\r";break;case"t":s="	";break;case"'":s="'";break;case'"':s='"';break;case"%":s="%";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s);break}return s}else return this.current}enclosed_val(s){let c="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?c+=this.ar_escape_char():c+=this.en_escape_char()}return c}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let c="",T="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",T]);break}else c+=s+s;else this.lang==="ar"?T+=this.ar_escape_char():T+=this.en_escape_char(),T+=c}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(hi,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Wn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(Gt(hi,this.lookahead()))s+=this.next();else if(Gt(Wn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,c=!1;for(;;){if(Gt(Wn,this.lookahead()))s+=this.next();else if(Gt(hi,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),c=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}c?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();fu[s]?this.add_token(["key",fu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();pc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&Gt(hi,this.lookahead());)s+=this.next();return s}maghrib_float(){if(Gt(Wn,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&Gt(Wn,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(hi,s)?this.mashriq_num():Gt(Wn,s)?this.maghrib_num():s==="_"||s.match(Us)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Wn,s)?this.maghrib_num():Gt(hi,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(Us)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}class wc{fns;structs;constructor(){this.fns=[],this.structs=[]}insert_fn(s){this.fns.push(s)}insert_struct(s){this.structs.push(s)}}class ht{id;t;v;constructor(s,c,T){this.id=s,this.t=c,this.v=T}}class du{t;o;constructor(s,c){this.t=s,this.o=c}}class xc{name;fields;children;constructor(s,c,T){this.name=s,this.fields=c,this.children=T}}class kc{fields;o;constructor(s,c){this.fields=s,this.o=c}}class Sc{t;ts;o;constructor(s,c,T){this.t=s,this.ts=c,this.o=T}}class Ec{name;variant;constructor(s,c){this.name=s,this.variant=c}}class gu{k;v;constructor(s,c){this.k=s,this.v=c}}class rn{opr;op;constructor(s,c){this.opr=s,this.op=c}}class Gs{lopr;op;ropr;constructor(s,c,T){this.lopr=s,this.op=c,this.ropr=T}}class Xs{name;params;ret_types;body;constructor(s,c,T,C){this.name=s,this.params=c,this.ret_types=T,this.body=C}}class vu{_pat;t;constructor(s,c){this._pat=s,this.t=c}}class Tc{k;v;constructor(s,c){this.k=s,this.v=c}}class mu{lhs;t;rhs;constructor(s,c,T){this.lhs=s,this.t=c,this.rhs=T}}class Cc{expr;arms;constructor(s,c){this.expr=s,this.arms=c}}class Ac{pats;expr;constructor(s,c){this.pats=s,this.expr=c}}const Lc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Oc=[".","!","not","-","+"],Nc=["?","!","%"],Rc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Fc{tokens;current_index;skipped_new_line;current;ast;symtab;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.symtab=new wc,this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_global_const()||this.maybe_global_fn()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef(),s||St("invalid syntax: "+At(this.current))}}next(s){this.current_index+=1;const c=this.tokens[this.current_index];return this.current=c,c.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let c=this.current_index;for(;s>0;){for(c+=1;;){const T=this.tokens[c];let C;if(T&&(C=T.v[0]===\`
\`),C)c+=1;else break}s-=1}return this.tokens[c]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Br(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(Ks(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(Ks(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const c=this.maybe_pat();if(c)return s.push(c);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const c=this.maybe_pat();if(c)return s.push(c);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const c=this.maybe_id();if(!c)break;let T;this.is_colon()&&(this.next(),T=this.req_pat());const C=new Tc(c,T);s.push(C)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){St("enum patterns are not supported yet");const s=this.current;this.next();const c=new Ec(s,_pat);if(_pat)return new ht("enum_pat","pat",c)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,c=this.stmts();if(Zs(c))St("expecting a statement : "+At(s));else return c}stmts(){let s=[],c;for(;c=this.maybe_stmt(),c&&s.push(c),!!c;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_global_const(){let s=this.maybe_const();return s?(this.ast.push(s),!0):!1}maybe_global_fn(){let s=this.maybe_fn();return s?(this.ast.push(s),!0):!1}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),C=new mu(s,c,T);return new ht("const","stmt",C)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),C=new mu(s,c,T);return new ht("var","stmt",C)}req_expr(){const s=this.current,c=this.maybe_expr();if(c)return c;St("expecting expression : "+At(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const c=this.maybe_stmt();if(c)s.push(c);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,c=this.maybe_do_block();if(c)return c;St("expecting 'do' block : "+At(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const c=this.maybe_stmt();if(c)s.push(c);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Lc,this.current.v)}is_postfix_uni_op(){return Gt(Nc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else St("expecting  an index [...]: "+At(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let c=this.maybe_expr();c&&s.push(c)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,c){const T=s.v.opr,C=s.v.op;if(s.id==="prefix")if(this.prec_uni(c)>=this.prec_uni(C)){const E=new rn(T,c),S=new ht("postfix","expr",E),w=new rn(S,C),d=new ht("prefix","expr",w);return this.next(),d}else{const E=new rn(s,c),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(s,c){if(s.id==="bin"){const T=s.v.op,C=s.v.ropr,E=s.v.lopr;if(this.prec_uni(c)>=this.prec_bin(T)){const S=new rn(C,c),w=new ht("postfix","expr",S),d=new Gs(E,T,w),l=new ht("bin","expr",d);return this.next(),l}else{const S=new rn(s,c),w=new ht("postfix","expr",S);return this.next(),w}}}maybe_lopr_prefix_bin(s,c){const T=s.v.op;let C=s.v.opr;if(s.id==="prefix")if(this.prec_uni(T)>=this.prec_bin(c)){C=this.req_op(C);const E=new rn(C,T);return new ht("prefix","expr",E)}else{const E=this.req_ropr(s),S=new Gs(C,c,E),w=new ht("bin","expr",S),d=new rn(w,T);return new ht("prefix","expr",d)}}get_lopr(s,c){let T=this.maybe_lopr_prefix_postfix(s,c);if(!T&&(T=this.maybe_lopr_bin_postfix(s,c),!T)){const C=new rn(s,c);T=new ht("postfix","expr",C),this.next()}return T}req_ropr(s){let c;const T=this.current;return this.is_open_bracket()?(this.next(),c=this.req_list_index()):this.is_dot()?(this.next(),c=this.req_access(s)):this.is_open_paren()?(this.next(),c=this.req_call_args()):(this.next(),c=this.maybe_expr()),c||St("expecting right operand: "+At(T)),c}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(s))}}is_bin_rassoc(s){return Gt(Rc,s)}maybe_op(s){const c=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,c);if(this.is_bin_op()){const T=this.maybe_lopr_prefix_bin(s,c);if(T)return T;let C=this.req_ropr(s);C&&(C.id==="bin"?C=this.while_op(C,this.prec_bin(C.v.op)>this.prec_bin(c)||this.prec_bin(C.v.op)===this.prec_bin(c)&&this.is_bin_rassoc(C.v.op)):C.id==="prefix"?C=this.while_op(C,this.prec_bin(c)>this.prec_uni(C.v.op)||this.is_bin_rassoc(c)):C=this.while_op(C,!1));const E=new Gs(s,c,C);return new ht("bin","expr",E)}}req_op(s){const c=this.maybe_op(s);if(c)return c;St("expect an operation: "+At(this.lookahead()))}while_op(s,c){let T=sn(s);if(this.is_eof())return T;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&c!==!1;)T=this.req_op(T);return T}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const c=()=>{if(!s)return;Ks(s)||(s=[s]);const T=[];return s.forEach(C=>{C.id="id",C.type="pat",T.push(new ht("param","pat",new vu(C)))}),T};if(this.is_thick_arrow()){const T=c();this.next(),this.req_open_curly();const C=this.req_body_ret();this.req_close_curly();const E=new Xs("",T,null,C);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let c=null;if(c=this.maybe_expr(),c){let T=c;if(this.is_comma()){const C=[T];for(;;){const E=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||E)break;this.req_comma(),T=this.maybe_expr(),T?C.push(T):St("expected an argument: "+s)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(C)||new ht("tuple","expr",C)}else return this.req_close_paren(),this.maybe_afn(c)||(c.grouped=!0,c)}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let c=this.req_id();this.req_colon();let T=this.req_expr();s.push([c,T]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return Gt(Oc,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const c=new rn(this.req_prim(),s);return new ht("prefix","expr",c)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("int","expr",[s,c])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("float","expr",[s,c])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const c=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||c)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let c=!1;for(this.is_id&&this.expect_colon()&&(c=!0);;){s.length>0&&this.req_comma();let T;c&&(T=this.req_id(),this.req_colon());let C=this.req_expr();if(c?s.push([T,C]):s.push([C]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),c?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const c=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let w;this.is_id()&&this.expect_colon()&&(w=this.current,this.next(),this.next());let d;if(w?d=new ht("named_arg","expr",[w,this.req_expr()]):d=this.maybe_expr(),!d)break;S.push(d),this.optional_comma()}return this.req_close_paren(),S}},T=S=>{if(!this.is_open_curly())return;this.next();const w=[];for(;!(this.is_eof()||this.is_close_curly());){const d=this.maybe_expr();if(!d)break;w.push(d),this.optional_comma()}return this.req_close_curly(),w.push(),w},C=c(),E=T();return C||E?new ht("call","expr",[s,C,E]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const c=this.req_expr(),T=new Ac(s,c);return new ht("arm","",T)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||c.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const C=this.maybe_when_arm();if(C)c.push(C);else break}this.maybe_comma(),this.req_close_curly();const T=new Cc(s,c);return new ht("when","expr",T)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||St("expecting an expression: "+At(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&Gt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const c=new ht("use","stmt",s);return this.ast.push(c),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const c=this.req_type();this.req_close_bracket();const T=new du(c,this.maybe_optional());s=new ht("[","t",T)}else if(this.is_open_curly()){this.next();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){c.length>0&&this.req_comma();const C=this.maybe_id();let E;C&&this.is_colon()&&(this.next(),E=this.req_type());const S=new gu(C,E);c.push(S)}this.maybe_comma(),this.req_close_curly();const T=new kc(c,this.maybe_optional());s=new ht("{","t",T)}else if(this.is_id()){const c=this.req_id();if(this.is_open_angle()){const T=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)T.length>0&&this.req_comma(),T.push(this.req_type());this.maybe_comma(),this.req_close_angle();const C=new Sc(c,T,this.maybe_optional());s=new ht("<","t",C)}else{const T=new du(c,this.maybe_optional());s=new ht("t","t",T)}}return s}req_type(){let s=this.maybe_type();return s||St("type required: "+At(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||St("requires type annotation: "+At(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const c=this.req_pat(),T=this.maybe_tannotation(),C=new vu(c,T),E=new ht("param","pat",C);c.id!=="id"&&St("only parameters with id patterns are currently supported"),s.push(E)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let c=this.next();this.is_exclamation()?(this.next(),s.push({id:c,_t:"throw"})):s.push({id:c,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();symtab.insert_fn(s.v[1]);const c=this.maybe_fn_params(),T=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const C=this.req_body_ret(),E=new Xs(s,c,T,C),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const C=this.req_body_ret(),E=new Xs(s,c,T,C);return new ht("fn","fn",E)}}maybe_fields(){const s=[];for(;this.is_id();){const c=new ht("id","expr",this.req_id()),T=this.req_tannotation(),C=new gu(c,T),E=new ht("field","",C);if(s.push(E),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const d=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let l;this.is_id()&&this.expect_colon()&&(l=this.current,this.next(),this.next());let u;if(l?u=new ht("field","expr",[l,this.req_type()]):u=this.maybe_expr(),!u)break;d.push(u),this.optional_comma()}return this.req_close_paren(),d}},c=()=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d};if(!this.is_typedef())return;this.next();const T=this.req_id();symtab.symtab_struct(T.v[1]);let C=s()||[];const E=c();if(!(C||E))return;if(E){const d={v:["id","__children"],loc:{line:0,column:0}},l={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[d,l]);C.push(u)}const S=new xc(T,C,E),w=new ht("type","def",S);return this.ast.push(w),!0}implicit_return(s){if(!s||s.length<=0)return;const c=s.length-1,T=s[c];if(!(Gt(["when","while","if","for","return","let","var","const"],T.id)||T.id==="bin"&&T.v.op.v===":=")&&T.id!==";"&&!(T.id==="bin"&&T.v.op.v==="=")&&!(T.id==="bin"&&T.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],T.v.lopr.v.v[1]))&&T.t==="expr"){const C=new ht("iret","expr",T);return vc(s,c,C)}}}const Nu=["readonly"],Dc=["html","body","div","span","p","textarea","field"],Mc=["0","1","2","3","4","5","6","7","8","9"];regexp("\\\\p{L}"),regexp("\\\\p{N}");function Pc(f){return Wc(Mc,f[0])}function Ru(f){if(Pc(f))return f;{let s="",c=0;for(;c<f.length;){switch(f[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:Oe()}c+=1}return s}}function Fu(f){return f instanceof Array}function Wc(f,s){return f.includes(s)}function Ke(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function Oe(f){throw new Error(f)}function Du(f,s,c){switch(f.id){case"call":let T=f.v[0].v.v[1],C=f.v[1]||[],E=f.v[2]||[];if(T==="br")return s+="<br>";switch(T){case"select":s=Ic(C,s)+"} ";break;case"font_face":s=zc(C,s);break;case"keyframes":s=Hc(C,E,s);break;default:s+=\`<\${T}\`,C.forEach((S,w)=>{if(w===0&&S.id==="str")s+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const d=S.v[0].v[1];if(Nu.includes(d))s+=\` \${d} \`;else if(s+=\` \${d}= \`,S.v[1].id==="str")s+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const l=S.v[1].v[0].v[1],u=S.v[1].v[1].v[1]||"";s+=\`\${l}\${u}\`}else S.v[1].id==="bool"?s+=\`\${d}\`:Oe("not supported: "+Ke(S))}else Oe("not supported: "+Ke(S))}),s+=">",E.forEach(S=>{s=Du(S,s)}),s+=\`</\${T}>\`}break;case"str":s+=f.v.v[1];break;default:Oe("unknown html element: "+Ke(f))}return s}function Ic(f,s){return f.forEach(c=>{const T=Sn(c.v[0].v[1]),C=c.v[1];T==="element"?(s=Bc(C,s),s+=" {"):(s+=\`\${T} : \`,s=xn(C,s),s+="; ")}),s}function Bc(f,s){return Fu(f.v)?(s+=" ",f.v.forEach((c,T)=>{s+=\`\${c.v.v[1]} \`,T<f.v.length-1&&(s+=",")})):s+=\` \${f.v.v[1]}\`,s}function xn(f,s){switch(f.id){case"int":case"float":const c=f.v[0].v[1],T=f.v[1]&&f.v[1].v[1]||"";s+=c+T;break;case"prefix":s+=f.v.op.v,s=xn(f.v.opr,s);break;case"postfix":s=xn(f.v.opr,s),s+=f.v.op.v;break;case"str":s+=f.v.v[1];break;case"ref":s+=Sn(f.v.v[1]);break;case"tuple":f.v.forEach(d=>{s=xn(d,s+" ")});break;case"call":const C=f.v[0].v.v[1],E=f.v[1];s+=\` \${C}(\`,E.forEach(d=>{s=xn(d,s)}),s+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(f);const w=S.get_code();pprint(w),s+="\${"+w+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(f)}\`)}return s}function zc(f,s){return s+="@font-face { ",s=write_ar_css(f,s),s+="}",s}function Hc(f,s,c){return c+=\` @keyframes \${f[0].v.v[1]} { \`,s&&s.forEach(T=>{const C=T.v[0].v.v[1],E=T.v[1];switch(C){case"at":const S=E[0],w=E[1].v||[];c=xn(S,c),c+=" {",w.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=Sn(l[0].v[1]),_=l[1];c+=\` \${u} : \`,c=xn(_,c),c+="; "});else{const l=Sn(d[0].v[1]),u=d[1];c+=\` \${l} : \`,c=xn(u,c),c+="; "}}),c+="} ";break;default:Oe("unsupported element: "+Ke(C))}}),c+="}",c}const Js={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},bu=f=>{switch(f){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return f}},yu={حوم:"hover"},qc=f=>{switch(f){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return f}},Mu=f=>{switch(f){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return f}},Vs=f=>{switch(f){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return f}},Qi=f=>{switch(f){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return f}},Pu=f=>{switch(f){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return f}};function Wu(f,s,c){switch(f.id){case"call":const T=f.v[0].v.v[1],C=Js[T]||T,E=f.v[1]||[],S=f.v[2]||[];if(C==="br")return s+="<br>";switch(C){case"اختر":s=Iu(E,s)+"} ";break;case"عرف_خط":s=Uc(E,s);break;case"اطارات_رئيسية":s=Kc(E,S,s);break;default:s+=\`<\${C}\`,Dc.includes(C)&&(s+=" dir='rtl'"),E.forEach((w,d)=>{if(d===0&&w.id==="str")s+=\` id='\${w.v.v[1]}'\`;else if(w.id==="named_arg"){const l=bu(w.v[0].v[1]);if(Nu.includes(l))s+=\` \${l} \`;else if(s+=\` \${l}= \`,w.v[1].id==="str")s+=\`'\${w.v[1].v.v[1]}'\`;else if(w.v[1].id==="int"||w.v[1].id==="float"){const u=Ru(w.v[1].v[0].v[1]),_=w.v[1].v[1]&&Mu(w.v[1].v[1].v[1])||"";s+=\`\${u}\${_}\`}else w.v[1].id==="bool"?s+=\`\${bu(l)}\`:Oe("not supported: "+Ke(w))}else Oe("not supported: "+Ke(w))}),s+=">",S.forEach(w=>{s=Wu(w,s)}),s+=\`</\${C}>\`}break;case"str":s+=f.v.v[1];break;default:Oe("unknown html element: "+Ke(f))}return s}function Iu(f,s){return f.forEach(c=>{const T=Sn(Vs(c.v[0].v[1])),C=c.v[1];T==="element"?(s=jc(C,s),s+=" {"):(s+=\`\${T} : \`,s=kn(C,s),s+="; ")}),s}function jc(f,s){const c=T=>{const C=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Js).forEach(E=>{T=T.replaceAll(C(E),Js[E])}),Object.keys(yu).forEach(E=>{T=T.replaceAll(C(E),yu[E])}),T};if(Fu(f.v))s+=" ",f.v.forEach((T,C)=>{let E=T.v.v[1];s+=c(E),C<f.v.length-1&&(s+=",")});else{const T=f.v.v[1];s+=c(T)}return s}function kn(f,s){switch(f.id){case"bool":Oe();break;case"int":case"float":const c=Ru(f.v[0].v[1]),T=Mu(f.v[1]&&f.v[1].v[1])||"";s+=c+T;break;case"prefix":s+=f.v.op.v,s=kn(f.v.opr,s);break;case"postfix":s=kn(f.v.opr,s),s+=f.v.op.v;break;case"str":s+=Pu(f.v.v[1]);break;case"ref":s+=Sn(Qi(f.v.v[1]));break;case"tuple":f.v.forEach(w=>{s=kn(w,s+" ")});break;case"call":const C=qc(f.v[0].v.v[1]),E=f.v[1];s+=\` \${C}(\`,E.forEach(w=>{s=kn(w,s)}),s+=")";break;case"bin":jsGen.init(),jsGen.write_expr(f);const S=jsGen.get_code();s+="\${"+S+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(f)}\`)}return s}function Uc(f,s){return s+="@font-face { ",s=Iu(f,s),s+="}",s}function Kc(f,s,c){return c+=\` @keyframes \${f[0].v.v[1]} { \`,s&&s.forEach(T=>{const C=T.v[0].v.v[1],E=Qi(T.v[1]);switch(C){case"عند":const S=E[0],w=E[1].v||[];c=kn(S,c),c+=" {",w.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=Sn(Vs(l[0].v[1])),_=Qi(l[1]);c+=\` \${u} : \`,c=kn(_,c),c+="; "});else{const l=Sn(Vs(d[0].v[1])),u=Qi(d[1]);c+=\` \${l} : \`,c=kn(u,c),c+="; "}}),c+="} ";break;default:Oe("unsupported element: "+Ke(C))}}),c+="}",c}class Gc{write_html;write_ar_html;CSS_value_en;CSS_str_en;constructor(){this.write_html=Du,this.write_ar_html=Wu,this.CSS_value_en=Qi,this.CSS_str_en=Pu}}function Sn(f){return HYPHENATED.includes(f)?f.replaceAll("_","-"):f}const Xc=["0","1","2","3","4","5","6","7","8","9"];regexp("\\\\p{L}"),regexp("\\\\p{N}");function \$c(f){return Bu(Xc,f[0])}function wu(f){if(\$c(f))return f;{let s="",c=0;for(;c<f.length;){switch(f[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:wn()}c+=1}return s}}function Yc(f){return f instanceof Array}function Bu(f,s){return f.includes(s)}function In(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function wn(f){throw new Error(f)}function Qc(f,s){return f.repeat(s)}const Zc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,xu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},Jc=4;class Hr{current;indent_level;stack;astructs;ast;symtab;html_gen;main_args;opts;constructor(s,c,T,C,E,S,w,d){return this.current=s,this.indent_level=c,this.stack=T,this.astructs=C,this.ast=E,this.symtab=S,this.html_gen=w,this.opts=d,this}init(s,c,T,C,E){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.symtab=c,this.html_gen=T,this.main_args=C,this.opts=E}run(){this.strict_mode();let s,c=0;for(;c<this.ast.length;){const T=this.ast[c];if(T){const C=T.v;switch(T.id){case"use":this.write_use(C);break;case"modif":this.write_modifier(C);break;case"main":s=C;break;case"const":this.write_const(C);break;case"fn":this.write_fn(C);break;case"type":this.write_typedef(C);break;default:wn("unsupported node: "+this.ast[c].id)}}c+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!Yc(s.v)||xu[s.v[1]]&&(s.v[1]=xu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),Qc(" ",s*Jc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const c=s.v.v[1];this.append(c==="_"?"default":c)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let c=0;for(;c<s.v.length;)this.write_pat(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:wn("unsupported pattern "+In(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let c=0;for(;c<s.length;)c>0&&this.append(", "),this.write_pat(s[c].v._pat),c+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let c=0;const T=s.v.length;for(;c<T;){const C=s.v[c];this.write_stmt(C),c+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,c){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),c?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",c),this.pop()}write_fields(s){const c=[];s.forEach(T=>{const C=T.v[0].v[1];c.push(C)}),c.forEach(T=>{this.appendi(this.spaces()+""+T+\`
\`)}),this.write_init(c)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let c=0;for(;c<s.length;)this.append(s[c]),c<s.length-1&&this.append(", "),c+=1;for(this.append(\`) {
\`),this.indent_level+=1,c=0;c<s.length;)this.appendi("this."+s[c]+" = "+s[c]+\`
\`),c+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):wn("cannot write stmt: "+In(s))}write_body(s,c,T){if(this.append(\` {
\`),this.push(),this.indent_level+=1,T)for(const[S,w]of Object.entries(T))this.append(\`const \${S} = '\${w}'
\`);let C=0;const E=s.v.length;for(;C<E;){const S=s.v[C];this.write_stmt(S),C+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const c=s.v.v[1];this.append(c)}write_str(s){const c=s.v.v[1],T=c.indexOf("\${")===-1?'"':"\`";this.append(T+c+T)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){Bu(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let c=0;const T=s.v.length;for(;c<T;)this.write_expr(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append("]")}write_structl(s){const c=s.v;this.append("{");let T=0;for(;T<c.length;){const C=c[T],E=C.k;E.v.v[1]?this.write_id(E.v):this.write_str_id(E.v);const S=C.v;this.append(": "),this.write_expr(S),T<c.length-1&&this.append(", "),T+=1}this.append("}")}write_args(s){this.append("(");let c=0;for(;c<s.v.length;){let T=s.v[c];T.v.op&&T.v.op.v===":"&&(T=T.v.ropr),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const c=s.v[1];this.write_expr(c)}write_tuple(s){this.append("[");let c=0;for(;c<s.v.length;){let T=s.v[c];T.id==="narg"&&(T=s.v[c].v[1]),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((c,T)=>{const C=c[0].v[1],E=c[1];this.append(C),this.append(": "),this.write_expr(E),T<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let c=0;for(;c<s.v.arms.length;){const T=s.v.arms[c],C=T.v.pats,E=T.v.expr;let S=0;for(;S<C.length;)C[S].id!=="_"&&this.appendi("case "),this.write_pat(C[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(E),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,c+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const c=s.v.op.v;switch(c){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else wn("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(c);break;default:wn("unsupported op: "+c);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let c=s.pop();switch(c.id){case"ref":this.write_expr(c),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const T=c.v[0],C=c.v[1];this.write_expr(T),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&C.length>0&&this.append(", "),C.forEach((E,S)=>{this.write_expr(E),S<C.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(c);break;default:throw new Error("syntax error |> :"+In(c))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const T=html_gen.write_html(s,"",Hr());this.append(\` (() => \\\`\${T}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const T=html_gen.write_ar_html(s,"",Hr());this.append(\`(() => \\\`\${T}\\\`)()\`);return}else symtab.structs.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const c=s.v[1];c&&c.forEach((T,C)=>{this.write_expr(T),C<c.length-1&&this.append(", ")}),s.v[2]&&(c&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(c=>{this.write_expr(c),this.append(",")}),this.append("]"))}write_bin(s){const c=s.v.op.v;switch(c){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let T=[],C=s.v.lopr,E=s.v.ropr;for(;;)if(T.push(C),E.id==="bin"&&E.v.op.v==="|>")C=E.v.lopr,E=E.v.ropr;else{T.push(E);break}this.write_pipe(T);break}case"||>":throw new Error(" ||> : WIP , "+In(s));case":>":throw new Error(" :> : WIP , "+In(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(c),(c==="=="||c==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:wn("cannot write binary operation: "+In(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:wn("cannot write expr: "+In(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Zc)}get_code(){return this.current}}class Vc{run(s,c,T,C){const E=Gc(),S=Hr();return S.init(s,c,E,T,C),S.run()}}class tf{ast;symtab;main_args;target;target_opts;init(s,c,T,C,E){this.ast=s,this.symtab=c,this.main_args=T,this.target=C,this.target_opts=E}run(){let s;switch(mc(this.target)){case"js":s=new Vc;break;default:St('target "'+this.target+'" is not supported');break}return s.run(this.ast,this.symtab,this.main_args,this.target_opts)}}class ef{src;main_args;target;target_opts;lang;tokens;ast;symtab;gen_code;constructor(s,c,T,C,E,S,w,d,l,u){return this.src=s,this.main_args=c,this.target=T,this.target_opts=C,this.lang=E,this.tokens=S,this.ast=w,this.symtab=d,this.transltab=l,this.gen_code=u,this}init(s,c,T,C){this.src=s,this.main_args=c,this.target="js",this.target_opts=C||{},this.lang=T||"en"}init_ar(s,c,T){this.init(s,c,"ar",T)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const c=new yc;c.init(this.lang,this.src,s),c.run(),this.tokens=c.tokens,Zs(c.errs)||(_u(c.errs),St(""))}parse(){const s=new Fc;s.init(this.tokens),s.run(),this.ast=s.ast,this.symtab=s.symtab,Zs(s.errs)||(_u(s.errs),St(""))}generate(s){const c=new tf;c.init(this.ast,this.symtab,this.main_args,s,this.target_opts),this.gen_code=c.run()}}const ku="panda-syntax",nf="ttcn_modified",rf=["mode","lang","theme","statusbar"],sf={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},af={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},qr=window.opts,Su=qr.mode||"code";let ci;switch(Su){case"code":ci=sf;break;case"editor":ci=af;break;default:throw new Error("invalid mode! : "+Su)}let of=new URLSearchParams(window.location.search).get("lang"),ta=of||qr.lang;Object.keys(qr).forEach(f=>{if(!rf.includes(f))throw new Error("invalid option: "+f);ci[f]=qr[f]});window.console.log=f=>Zi(f);window.console.error=f=>{ff(),Zi(f.message,Eu)};const Eu="rgb(217 83 77)",uf="rgb(108 141 211)",lf={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},hf={"Ctrl-9":f=>f.foldCode(f.getCursor()),Tab:()=>xf(),"Shift-Tab":()=>kf(),"Ctrl-'":()=>{wf("«»")},"Ctrl-0":()=>{ca()},"Ctrl-=":()=>{Uu()},"Ctrl--":()=>{Ku()}},zu=["findCtrl"],Tu=document.querySelector("#eval"),Hu=document.querySelector("#preview_area"),cf=new MutationObserver((f,s)=>{ea?ea=!1:Af()});cf.observe(Hu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:jr(ta),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:fa(jr(ta)),extraKeys:{...hf},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:zu}),Bn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:fa("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:zu});Bn.setSize(460);let zr={},qu,oa,fi,an,\$s,ea;function ff(){return!!navigator.userAgentData}function jr(f){return f==="ar"?"rtl":"ltr"}const Cu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await _f(ta);await Df();async function _f(f){qu=f==="ar_m",oa=f.startsWith("ar");let s=f.startsWith("ar")?"ar":"en";fi=14,an=s,\$s="",ea=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await vf(s),document.querySelector("#left_side_label").innerText=an==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=an==="ar"?"العرض الأولي":"Preview",la(fi),mf(s),yf(s),cc(lc,s),fc(hc,s),Tf(s),Yt.setValue(s==="ar"?Cu.ar:Cu.en),Yt.clearHistory(),bf(s),ju(1,1),\$s&&openProj(\$s),await ua(ci.theme),pf()&&gf(),ci.statusbar||df(),document.querySelector("body").style.visibility="visible"}function pf(){return ci.mode==="code"}function df(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function gf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function vf(f){an=f}async function mf(f,s){f==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function bf(f){f==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function yf(f){let s=jr(f);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function ju(f,s){document.querySelector("#status_bar").textContent=an==="ar"?\`سطر \${Ys(f)}, عمودي \${Ys(s)}\`:\`Ln \${f}, Col \${s}\`}function wf(f){let s=f;if(oa){const c=Yt.doc.getCursor(),T=c.line;Yt.doc.replaceRange(s,c),Yt.doc.setCursor(T,c.ch+s.length)}else return CodeMirror.Pass}function xf(){if(Yt.somethingSelected()){var f=Yt.getSelection(\`
\`);if(f.length>0&&(f.indexOf(\`
\`)>-1||f.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function kf(){Yt.indentSelection("subtract")}function Uu(){fi++,la(fi)}function Ku(){fi--,la(fi)}async function Sf(){let f=document.querySelector("#theme"),s=f.options[f.selectedIndex].value;await ua(s)}async function ua(f){f==="dark"?(f=ku,document.querySelector("#theme").value=ku):f==="light"&&(f=nf,document.querySelector("#theme").value="ttcn");const s=(T,C)=>{[...T.classList].forEach(E=>{E.startsWith("cm-s")&&T.classList.remove(E)}),C.split(" ").forEach(E=>{T.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",f),Bn.setOption("theme",f),s(document.querySelector("#wrapper"),f),s(document.querySelector("#editor_output"),f),s(document.querySelector("#output"),f),Ef();const c=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${c}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function Ef(){const f=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));f.style.fontSize=s.getPropertyValue("font-size"),f.style.color=s.getPropertyValue("color"),f.style.backgroundColor=s.getPropertyValue("background-color")}function la(f){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(c=>{c.style.fontSize=\`\${f}px\`})}function Tf(f){const s=f==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function Cf(){document.querySelector("#right_side").style.display="flex"}function ha(){document.querySelector("#right_side").style.display="none"}function Af(){document.querySelector("#preview").style.display="flex"}function Kr(){document.querySelector("#preview").style.display="none"}function Gu(){output.replaceChildren()}function Lf(f){Tu.replaceChildren();const s=document.createElement("iframe");Tu.appendChild(s),s.contentWindow;const c=s.contentDocument||s.contentWindow.document,T=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${f}<\\/script>
      </head>
      <body>
      </body>\`;c.open(),c.write(T),c.close()}async function ca(){ha(),Kr(),Gu();try{let f=await Xu();Lf(f.get_code());const s=an==="ar"?"انتهى":"End";Zi(\`
\`),Zi(\`--- \${s} ---
\`,uf)}catch(f){console.error(f)}}async function Of(){ha(),Bn.setValue("")}async function Nf(){Kr(),Hu.replaceChildren()}async function Rf(){Kr(),Cf(),await Xu()}async function Xu(){let f=Yt.getValue(),s=new ef,c={ignore_export:!0};const T={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(f,T,an,c),s.compile(),document.querySelector("#right_side_label").innerText=an==="ar"?"نص البرنامج":"Code";let C=js_beautify(s.gen_code,lf);return Bn.setOption("mode","javascript"),Bn.setOption("direction","ltr"),Bn.setOption("lineNumberFormatter",fa("ltr")),Bn.setValue(C),s}async function Ff(){document.querySelector("#output").innerHTML=""}async function Df(){document.querySelector("body").addEventListener("keydown",f=>Mf(f)),document.querySelector("body").addEventListener("keyup",f=>{zr[f.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>Sf()),document.querySelector("#run").addEventListener("click",()=>ca()),document.querySelector("#srccode").addEventListener("click",()=>Rf()),document.querySelector("#right_side_close").addEventListener("click",()=>Of()),document.querySelector("#preview_close").addEventListener("click",()=>Nf()),document.querySelector("#clear").addEventListener("click",()=>Ff()),Yt.on("cursorActivity",f=>{let{line:s,ch:c}=Yt.getCursor();s+=1,c+=1,ju(s,c)})}function fa(f){return f==="rtl"?s=>Ys(s):s=>s}function Mf(f){zr[f.key]=!0;let s="";switch(Object.entries(zr).forEach(([c,T])=>{zr[c]&&(s+=c)}),s.toLowerCase()){case"0control":case"control0":ca();break;case"-control":case"control-":Uu();break;case"=control":case"control=":Ku();break}}function Pf(f){var s=document.querySelector("#output");s.appendChild(f),s.scrollTop=s.scrollHeight}function Zi(f,s){f===""&&console.log(\`
\`),oa&&(f&&(f=Wf(f)),qu||f&&(f=If(f)));const c=document.createElement("p");c.textContent=f,c.setAttribute("dir",jr(an)),c.style.whiteSpace="pre-wrap",s&&(c.style.color=s),Pf(c)}function Wf(f){const s=/["'](.*?)["']/gi;return f.toString().replace(s,(c,T)=>c?\`«\${T}»\`:f)}function If(f){function s(T){let C="",E=0;for(;E<T.length;){switch(T[E]){case"0":C+="٠";break;case"1":C+="١";break;case"2":C+="٢";break;case"3":C+="٣";break;case"4":C+="٤";break;case"5":C+="٥";break;case"6":C+="٦";break;case"7":C+="٧";break;case"8":C+="٨";break;case"9":C+="٩";break;case".":C+="٫";break;default:Bf()}E+=1}return C}const c=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return f=f.replace(c,(T,C,E,S)=>{if(T){let w=\`\${s(C)}\`;return E&&(w+=",",S&&(w+=\`\${s(S)}\`)),w}else return f}),f}function Bf(f){throw new Error(f)}function zf(f){Yt.setValue(f)}window.setEditorValue=zf;window.hideRightSide=ha;window.hidePreview=Kr;window.resetOutput=Gu;window.setTheme=ua;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }

              export function SeenCode(id, parent, opts) { 
                opts.mode = 'code'
                const code = `<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>

		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="keywords" content=" ">		



		<script> window.opts = '%SEEN_EDITOR__OPTS%' </script>


		 				
		<script type="module">(function(f,s){typeof exports=="object"&&typeof module<"u"?module.exports=s():typeof define=="function"&&define.amd?define(s):(f=f||self,f.CodeMirror=s())})(void 0,function(){var f=navigator.userAgent,s=navigator.platform,c=/gecko\\/\\d/i.test(f),T=/MSIE \\d/.test(f),C=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(f),E=/Edge\\/(\\d+)/.exec(f),S=T||C||E,w=S&&(T?document.documentMode||6:+(E||C)[1]),d=!E&&/WebKit\\//.test(f),l=d&&/Qt\\/\\d+\\.\\d+/.test(f),u=!E&&/Chrome\\/(\\d+)/.exec(f),_=u&&+u[1],b=/Opera\\//.test(f),F=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(f),g=/PhantomJS/.test(f),y=F&&(/Mobile\\/\\w+/.test(f)||navigator.maxTouchPoints>2),W=/Android/.test(f),D=y||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(f),z=y||/Mac/.test(s),H=/\\bCrOS\\b/.test(f),U=/win/i.test(s),Z=b&&f.match(/Version\\/(\\d*\\.\\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,d=!0);var ot=z&&(l||b&&(Z==null||Z<12.11)),rt=c||S&&w>=9;function I(t){return new RegExp("(^|\\\\s)"+t+"(?:\$|\\\\s)\\\\s*")}var R=function(t,e){var i=t.className,n=I(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function K(t,e){return k(t).appendChild(e)}function L(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),typeof e=="string")r.appendChild(document.createTextNode(e));else if(e)for(var a=0;a<e.length;++a)r.appendChild(e[a]);return r}function Q(t,e,i,n){var r=L(t,e,i,n);return r.setAttribute("role","presentation"),r}var it;document.createRange?it=function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:it=function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};function J(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function lt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(t,e){var i=t.className;I(e).test(i)||(t.className+=(i?" ":"")+e)}function \$(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!I(i[n]).test(e)&&(e+=" "+i[n]);return e}var dt=function(t){t.select()};y?dt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:S&&(dt=function(t){try{t.select()}catch{}});function wt(t){return t.display.wrapper.ownerDocument}function Nt(t){return wt(t).defaultView}function kt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ft(t,e,i){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(i!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function at(t,e,i,n,r){e==null&&(e=t.search(/[^\\s\\u00a0]/),e==-1&&(e=t.length));for(var a=n||0,o=r||0;;){var h=t.indexOf("	",a);if(h<0||h>=e)return o+(e-a);o+=h-a,o+=i-o%i,a=h+1}}var _t=function(){this.id=null,this.f=null,this.time=0,this.handler=kt(this.onTimeout,this)};_t.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},_t.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};function vt(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}var ee=50,Et={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Ee={origin:"*mouse"},we={origin:"+move"};function xe(t,e,i){for(var n=0,r=0;;){var a=t.indexOf("	",n);a==-1&&(a=t.length);var o=a-n;if(a==t.length||r+o>=e)return n+Math.min(o,e-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=e)return n}}var ce=[""];function It(t){for(;ce.length<=t;)ce.push(mt(ce)+" ");return ce[t]}function mt(t){return t[t.length-1]}function Ge(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function on(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function _i(){}function Ji(t,e){var i;return Object.create?i=Object.create(t):(_i.prototype=t,i=new _i),e&&ft(e,i),i}var Gr=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function pi(t){return/\\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Gr.test(t))}function zn(t,e){return e?e.source.indexOf("\\\\w")>-1&&pi(t)?!0:e.test(t):pi(t)}function Vi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var Hn=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function di(t){return t.charCodeAt(0)>=768&&Hn.test(t)}function Pe(t,e,i){for(;(i<0?e>0:e<t.length)&&di(t.charAt(e));)e+=i;return e}function Bt(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var r=(e+i)/2,a=n<0?Math.ceil(r):Math.floor(r);if(a==e)return t(a)?e:i;t(a)?i=a:e=a+n}}function En(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var r=!1,a=0;a<t.length;++a){var o=t[a];(o.from<i&&o.to>e||e==i&&o.to==e)&&(n(Math.max(o.from,e),Math.min(o.to,i),o.level==1?"rtl":"ltr",a),r=!0)}r||n(e,i,"ltr")}var We=null;function Te(t,e,i){var n;We=null;for(var r=0;r<t.length;++r){var a=t[r];if(a.from<e&&a.to>e)return r;a.to==e&&(a.from!=a.to&&i=="before"?n=r:We=r),a.from==e&&(a.from!=a.to&&i!="before"?n=r:We=r)}return n??We}var Xr=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(m){return m<=247?t.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?e.charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":m==8204?"b":"L"}var n=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,h=/[1n]/;function p(m,N,M){this.level=m,this.from=N,this.to=M}return function(m,N){var M=N=="ltr"?"L":"R";if(m.length==0||N=="ltr"&&!n.test(m))return!1;for(var j=m.length,q=[],X=0;X<j;++X)q.push(i(m.charCodeAt(X)));for(var Y=0,V=M;Y<j;++Y){var tt=q[Y];tt=="m"?q[Y]=V:V=tt}for(var st=0,et=M;st<j;++st){var ut=q[st];ut=="1"&&et=="r"?q[st]="n":a.test(ut)&&(et=ut,ut=="r"&&(q[st]="R"))}for(var gt=1,pt=q[0];gt<j-1;++gt){var xt=q[gt];xt=="+"&&pt=="1"&&q[gt+1]=="1"?q[gt]="1":xt==","&&pt==q[gt+1]&&(pt=="1"||pt=="n")&&(q[gt]=pt),pt=xt}for(var Dt=0;Dt<j;++Dt){var Vt=q[Dt];if(Vt==",")q[Dt]="N";else if(Vt=="%"){var Wt=void 0;for(Wt=Dt+1;Wt<j&&q[Wt]=="%";++Wt);for(var ye=Dt&&q[Dt-1]=="!"||Wt<j&&q[Wt]=="1"?"1":"N",de=Dt;de<Wt;++de)q[de]=ye;Dt=Wt-1}}for(var Ut=0,ge=M;Ut<j;++Ut){var ne=q[Ut];ge=="L"&&ne=="1"?q[Ut]="L":a.test(ne)&&(ge=ne)}for(var \$t=0;\$t<j;++\$t)if(r.test(q[\$t])){var Kt=void 0;for(Kt=\$t+1;Kt<j&&r.test(q[Kt]);++Kt);for(var qt=(\$t?q[\$t-1]:M)=="L",ve=(Kt<j?q[Kt]:M)=="L",ui=qt==ve?qt?"L":"R":M,yn=\$t;yn<Kt;++yn)q[yn]=ui;\$t=Kt-1}for(var ae=[],Ue,te=0;te<j;)if(o.test(q[te])){var Hs=te;for(++te;te<j&&o.test(q[te]);++te);ae.push(new p(0,Hs,te))}else{var nn=te,Mn=ae.length,Pn=N=="rtl"?1:0;for(++te;te<j&&q[te]!="L";++te);for(var he=nn;he<te;)if(h.test(q[he])){nn<he&&(ae.splice(Mn,0,new p(1,nn,he)),Mn+=Pn);var li=he;for(++he;he<te&&h.test(q[he]);++he);ae.splice(Mn,0,new p(2,li,he)),Mn+=Pn,nn=he}else++he;nn<te&&ae.splice(Mn,0,new p(1,nn,te))}return N=="ltr"&&(ae[0].level==1&&(Ue=m.match(/^\\s+/))&&(ae[0].from=Ue[0].length,ae.unshift(new p(0,0,Ue[0].length))),mt(ae).level==1&&(Ue=m.match(/\\s+\$/))&&(mt(ae).to-=Ue[0].length,ae.push(new p(0,j-Ue[0].length,j)))),N=="rtl"?ae.reverse():ae}}();function Ce(t,e){var i=t.order;return i==null&&(i=t.order=Xr(t.text,e)),i}var tr=[],nt=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||tr).concat(i)}};function gi(t,e){return t._handlers&&t._handlers[e]||tr}function ie(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var a=vt(r,i);a>-1&&(n[e]=r.slice(0,a).concat(r.slice(a+1)))}}}function Mt(t,e){var i=gi(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function zt(t,e,i){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Mt(t,i||e.type,t,e),vi(e)||e.codemirrorIgnore}function er(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)vt(i,e[n])==-1&&i.push(e[n])}function oe(t,e){return gi(t,e).length>0}function ue(t){t.prototype.on=function(e,i){nt(this,e,i)},t.prototype.off=function(e,i){ie(this,e,i)}}function re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Tn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function vi(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Xe(t){re(t),Tn(t)}function fe(t){return t.target||t.srcElement}function mi(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),z&&t.ctrlKey&&e==1&&(e=3),e}var \$r=function(){if(S&&w<9)return!1;var t=L("div");return"draggable"in t||"dragDrop"in t}(),Ae;function Yr(t){if(Ae==null){var e=L("span","​");K(t,L("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(Ae=e.offsetWidth<=1&&e.offsetHeight>2&&!(S&&w<8))}var i=Ae?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var qn;function nr(t){if(qn!=null)return qn;var e=K(t,document.createTextNode("AخA")),i=it(e,0,1).getBoundingClientRect(),n=it(e,1,2).getBoundingClientRect();return k(t),!i||i.left==i.right?!1:qn=n.right-i.right<3}var bi=\`

b\`.split(/\\n/).length!=3?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf(\`
\`,e);r==-1&&(r=t.length);var a=t.slice(e,t.charAt(r-1)=="\\r"?r-1:r),o=a.indexOf("\\r");o!=-1?(i.push(a.slice(0,o)),e+=o+1):(i.push(a),e=r+1)}return i}:function(t){return t.split(/\\r\\n?|\\n/)},un=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},Ie=function(){var t=L("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Be=null;function ir(t){if(Be!=null)return Be;var e=K(t,L("span","x")),i=e.getBoundingClientRect(),n=it(e,0,1).getBoundingClientRect();return Be=Math.abs(i.left-n.left)>1}var Ne={},ln={};function rr(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ne[t]=e}function jn(t,e){ln[t]=e}function me(t){if(typeof t=="string"&&ln.hasOwnProperty(t))t=ln[t];else if(t&&typeof t.name=="string"&&ln.hasOwnProperty(t.name)){var e=ln[t.name];typeof e=="string"&&(e={name:e}),t=Ji(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(t))return me("application/xml");if(typeof t=="string"&&/^[\\w\\-]+\\/[\\w\\-]+\\+json\$/.test(t))return me("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function \$e(t,e){e=me(e);var i=Ne[e.name];if(!i)return \$e(t,"text/plain");var n=i(t,e);if(hn.hasOwnProperty(e.name)){var r=hn[e.name];for(var a in r)r.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=r[a])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)n[o]=e.modeProps[o];return n}var hn={};function sr(t,e){var i=hn.hasOwnProperty(t)?hn[t]:hn[t]={};ft(e,i)}function Ye(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function cn(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),!(!i||i.mode==t));)e=i.state,t=i.mode;return i||{mode:t,state:e}}function yi(t,e,i){return t.startState?t.startState(e,i):!0}var Ht=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var e=this.string.charAt(this.pos),i;if(typeof t=="string"?i=e==t:i=e&&(t.test?t.test(e):t(e)),i)return++this.pos,e},Ht.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=at(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return at(this.string,null,this.tabSize)-(this.lineStart?at(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,e,i){if(typeof t=="string"){var n=function(o){return i?o.toLowerCase():o},r=this.string.substr(this.pos,t.length);if(n(r)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var a=this.string.slice(this.pos).match(t);return a&&a.index>0?null:(a&&e!==!1&&(this.pos+=a[0].length),a)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ct(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(e<a){i=r;break}e-=a}return i.lines[e]}function Qe(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(a){var o=a.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function Un(t,e,i){var n=[];return t.iter(e,i,function(r){n.push(r.text)}),n}function Le(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function Lt(t){if(t.parent==null)return null;for(var e=t.parent,i=vt(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function ze(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],a=r.height;if(e<a){t=r;continue t}e-=a,i+=r.chunkSize()}return i}while(!t.lines);for(var o=0;o<t.lines.length;++o){var h=t.lines[o],p=h.height;if(e<p)break;e-=p}return i+o}function x(t,e){return e>=t.first&&e<t.first+t.size}function P(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function B(t,e,i){if(i===void 0&&(i=null),!(this instanceof B))return new B(t,e,i);this.line=t,this.ch=e,this.sticky=i}function G(t,e){return t.line-e.line||t.ch-e.ch}function bt(t,e){return t.sticky==e.sticky&&G(t,e)==0}function Tt(t){return B(t.line,t.ch)}function Ct(t,e){return G(t,e)<0?e:t}function Xt(t,e){return G(t,e)<0?t:e}function ke(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return B(t.first,0);var i=t.first+t.size-1;return e.line>i?B(i,ct(t,i).text.length):\$u(e,ct(t,e.line).text.length)}function \$u(t,e){var i=t.ch;return i==null||i>e?B(t.line,e):i<0?B(t.line,0):t}function _a(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=yt(t,e[n]);return i}var ar=function(t,e){this.state=t,this.lookAhead=e},He=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};He.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},He.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},He.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},He.fromSaved=function(t,e,i){return e instanceof ar?new He(t,Ye(t.mode,e.state),i,e.lookAhead):new He(t,Ye(t.mode,e),i)},He.prototype.save=function(t){var e=t!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ar(e,this.maxLookAhead):e};function pa(t,e,i,n){var r=[t.state.modeGen],a={};ya(t,e.text,t.doc.mode,i,function(m,N){return r.push(m,N)},a,n);for(var o=i.state,h=function(m){i.baseTokens=r;var N=t.state.overlays[m],M=1,j=0;i.state=!0,ya(t,e.text,N.mode,i,function(q,X){for(var Y=M;j<q;){var V=r[M];V>q&&r.splice(M,1,q,r[M+1],V),M+=2,j=Math.min(q,V)}if(X)if(N.opaque)r.splice(Y,M-Y,q,"overlay "+X),M=Y+2;else for(;Y<M;Y+=2){var tt=r[Y+1];r[Y+1]=(tt?tt+" ":"")+"overlay "+X}},a),i.state=o,i.baseTokens=null,i.baseTokenPos=1},p=0;p<t.state.overlays.length;++p)h(p);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function da(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=wi(t,Lt(e)),r=e.text.length>t.options.maxHighlightLength&&Ye(t.doc.mode,n.state),a=pa(t,e,n);r&&(n.state=r),e.stateAfter=n.save(!r),e.styles=a.styles,a.classes?e.styleClasses=a.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function wi(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return new He(n,!0,e);var a=Yu(t,e,i),o=a>n.first&&ct(n,a-1).stateAfter,h=o?He.fromSaved(n,o,a):new He(n,yi(n.mode),a);return n.iter(a,e,function(p){Qr(t,p.text,h);var m=h.line;p.stateAfter=m==e-1||m%5==0||m>=r.viewFrom&&m<r.viewTo?h.save():null,h.nextLine()}),i&&(n.modeFrontier=h.line),h}function Qr(t,e,i,n){var r=t.doc.mode,a=new Ht(e,t.options.tabSize,i);for(a.start=a.pos=n||0,e==""&&ga(r,i.state);!a.eol();)Zr(r,a,i.state),a.start=a.pos}function ga(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=cn(t,e);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function Zr(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=cn(t,i).mode);var a=t.token(e,i);if(e.pos>e.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}var va=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function ma(t,e,i,n){var r=t.doc,a=r.mode,o;e=yt(r,e);var h=ct(r,e.line),p=wi(t,e.line,i),m=new Ht(h.text,t.options.tabSize,p),N;for(n&&(N=[]);(n||m.pos<e.ch)&&!m.eol();)m.start=m.pos,o=Zr(a,m,p.state),n&&N.push(new va(m,o,Ye(r.mode,p.state)));return n?N:new va(m,o,p.state)}function ba(t,e){if(t)for(;;){var i=t.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";e[n]==null?e[n]=i[2]:new RegExp("(?:^|\\\\s)"+i[2]+"(?:\$|\\\\s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ya(t,e,i,n,r,a,o){var h=i.flattenSpans;h==null&&(h=t.options.flattenSpans);var p=0,m=null,N=new Ht(e,t.options.tabSize,n),M,j=t.options.addModeClass&&[null];for(e==""&&ba(ga(i,n.state),a);!N.eol();){if(N.pos>t.options.maxHighlightLength?(h=!1,o&&Qr(t,e,n,N.pos),N.pos=e.length,M=null):M=ba(Zr(i,N,n.state,j),a),j){var q=j[0].name;q&&(M="m-"+(M?q+" "+M:q))}if(!h||m!=M){for(;p<N.start;)p=Math.min(N.start,p+5e3),r(p,m);m=M}N.start=N.pos}for(;p<N.pos;){var X=Math.min(N.pos,p+5e3);r(X,m),p=X}}function Yu(t,e,i){for(var n,r,a=t.doc,o=i?-1:e-(t.doc.mode.innerMode?1e3:100),h=e;h>o;--h){if(h<=a.first)return a.first;var p=ct(a,h-1),m=p.stateAfter;if(m&&(!i||h+(m instanceof ar?m.lookAhead:0)<=a.modeFrontier))return h;var N=at(p.text,null,t.options.tabSize);(r==null||n>N)&&(r=h-1,n=N)}return r}function Qu(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var r=ct(t,n).stateAfter;if(r&&(!(r instanceof ar)||n+r.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var wa=!1,Ze=!1;function Zu(){wa=!0}function Ju(){Ze=!0}function or(t,e,i){this.marker=t,this.from=e,this.to=i}function xi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Vu(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function tl(t,e,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function el(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);if(h||a.from==e&&o.type=="bookmark"&&(!i||!a.marker.insertLeft)){var p=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);(n||(n=[])).push(new or(o,a.from,p?null:a.to))}}return n}function nl(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var a=t[r],o=a.marker,h=a.to==null||(o.inclusiveRight?a.to>=e:a.to>e);if(h||a.from==e&&o.type=="bookmark"&&(!i||a.marker.insertLeft)){var p=a.from==null||(o.inclusiveLeft?a.from<=e:a.from<e);(n||(n=[])).push(new or(o,p?null:a.from-e,a.to==null?null:a.to-e))}}return n}function Jr(t,e){if(e.full)return null;var i=x(t,e.from.line)&&ct(t,e.from.line).markedSpans,n=x(t,e.to.line)&&ct(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,a=e.to.ch,o=G(e.from,e.to)==0,h=el(i,r,o),p=nl(n,a,o),m=e.text.length==1,N=mt(e.text).length+(m?r:0);if(h)for(var M=0;M<h.length;++M){var j=h[M];if(j.to==null){var q=xi(p,j.marker);q?m&&(j.to=q.to==null?null:q.to+N):j.to=r}}if(p)for(var X=0;X<p.length;++X){var Y=p[X];if(Y.to!=null&&(Y.to+=N),Y.from==null){var V=xi(h,Y.marker);V||(Y.from=N,m&&(h||(h=[])).push(Y))}else Y.from+=N,m&&(h||(h=[])).push(Y)}h&&(h=xa(h)),p&&p!=h&&(p=xa(p));var tt=[h];if(!m){var st=e.text.length-2,et;if(st>0&&h)for(var ut=0;ut<h.length;++ut)h[ut].to==null&&(et||(et=[])).push(new or(h[ut].marker,null,null));for(var gt=0;gt<st;++gt)tt.push(et);tt.push(p)}return tt}function xa(t){for(var e=0;e<t.length;++e){var i=t[e];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function il(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(q){if(q.markedSpans)for(var X=0;X<q.markedSpans.length;++X){var Y=q.markedSpans[X].marker;Y.readOnly&&(!n||vt(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var r=[{from:e,to:i}],a=0;a<n.length;++a)for(var o=n[a],h=o.find(0),p=0;p<r.length;++p){var m=r[p];if(!(G(m.to,h.from)<0||G(m.from,h.to)>0)){var N=[p,1],M=G(m.from,h.from),j=G(m.to,h.to);(M<0||!o.inclusiveLeft&&!M)&&N.push({from:m.from,to:h.from}),(j>0||!o.inclusiveRight&&!j)&&N.push({from:h.to,to:m.to}),r.splice.apply(r,N),p+=N.length-3}}return r}function ka(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function Sa(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function ur(t){return t.inclusiveLeft?-1:0}function lr(t){return t.inclusiveRight?1:0}function Vr(t,e){var i=t.lines.length-e.lines.length;if(i!=0)return i;var n=t.find(),r=e.find(),a=G(n.from,r.from)||ur(t)-ur(e);if(a)return-a;var o=G(n.to,r.to)||lr(t)-lr(e);return o||e.id-t.id}function Ea(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=void 0,a=0;a<i.length;++a)r=i[a],r.marker.collapsed&&(e?r.from:r.to)==null&&(!n||Vr(n,r.marker)<0)&&(n=r.marker);return n}function Ta(t){return Ea(t,!0)}function hr(t){return Ea(t,!1)}function rl(t,e){var i=Ze&&t.markedSpans,n;if(i)for(var r=0;r<i.length;++r){var a=i[r];a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!n||Vr(n,a.marker)<0)&&(n=a.marker)}return n}function Ca(t,e,i,n,r){var a=ct(t,e),o=Ze&&a.markedSpans;if(o)for(var h=0;h<o.length;++h){var p=o[h];if(p.marker.collapsed){var m=p.marker.find(0),N=G(m.from,i)||ur(p.marker)-ur(r),M=G(m.to,n)||lr(p.marker)-lr(r);if(!(N>=0&&M<=0||N<=0&&M>=0)&&(N<=0&&(p.marker.inclusiveRight&&r.inclusiveLeft?G(m.to,i)>=0:G(m.to,i)>0)||N>=0&&(p.marker.inclusiveRight&&r.inclusiveLeft?G(m.from,n)<=0:G(m.from,n)<0)))return!0}}}function Re(t){for(var e;e=Ta(t);)t=e.find(-1,!0).line;return t}function sl(t){for(var e;e=hr(t);)t=e.find(1,!0).line;return t}function al(t){for(var e,i;e=hr(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function ts(t,e){var i=ct(t,e),n=Re(i);return i==n?e:Lt(n)}function Aa(t,e){if(e>t.lastLine())return e;var i=ct(t,e),n;if(!fn(t,i))return e;for(;n=hr(i);)i=n.find(1,!0).line;return Lt(i)+1}function fn(t,e){var i=Ze&&e.markedSpans;if(i){for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&es(t,e,n))return!0}}}function es(t,e,i){if(i.to==null){var n=i.marker.find(1,!0);return es(t,n.line,xi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,a=0;a<e.markedSpans.length;++a)if(r=e.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(r.to==null||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&es(t,e,r))return!0}function Je(t){t=Re(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var o=0;o<a.children.length;++o){var h=a.children[o];if(h==i)break;e+=h.height}return e}function cr(t){if(t.height==0)return 0;for(var e=t.text.length,i,n=t;i=Ta(n);){var r=i.find(0,!0);n=r.from.line,e+=r.from.ch-r.to.ch}for(n=t;i=hr(n);){var a=i.find(0,!0);e-=n.text.length-a.from.ch,n=a.to.line,e+=n.text.length-a.to.ch}return e}function ns(t){var e=t.display,i=t.doc;e.maxLine=ct(i,i.first),e.maxLineLength=cr(e.maxLine),e.maxLineChanged=!0,i.iter(function(n){var r=cr(n);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=n)})}var Kn=function(t,e,i){this.text=t,Sa(this,e),this.height=i?i(this):1};Kn.prototype.lineNo=function(){return Lt(this)},ue(Kn);function ol(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),ka(t),Sa(t,i);var r=n?n(t):1;r!=t.height&&Le(t,r)}function ul(t){t.parent=null,ka(t)}var ll={},hl={};function La(t,e){if(!t||/^\\s*\$/.test(t))return null;var i=e.addModeClass?hl:ll;return i[t]||(i[t]=t.replace(/\\S+/g,"cm-\$&"))}function Oa(t,e){var i=Q("span",null,null,d?"padding-right: .1px":null),n={pre:Q("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var a=r?e.rest[r-1]:e.line,o=void 0;n.pos=0,n.addToken=fl,nr(t.display.measure)&&(o=Ce(a,t.doc.direction))&&(n.addToken=pl(n.addToken,o)),n.map=[];var h=e!=t.display.externalMeasured&&Lt(a);dl(a,n,da(t,a,h)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=\$(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=\$(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Yr(t.display.measure))),r==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(d){var p=n.content.lastChild;(/\\bcm-tab\\b/.test(p.className)||p.querySelector&&p.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Mt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=\$(n.pre.className,n.textClass||"")),n}function cl(t){var e=L("span","•","cm-invalidchar");return e.title="\\\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function fl(t,e,i,n,r,a,o){if(e){var h=t.splitSpaces?_l(e,t.trailingSpace):e,p=t.cm.state.specialChars,m=!1,N;if(!p.test(e))t.col+=e.length,N=document.createTextNode(h),t.map.push(t.pos,t.pos+e.length,N),S&&w<9&&(m=!0),t.pos+=e.length;else{N=document.createDocumentFragment();for(var M=0;;){p.lastIndex=M;var j=p.exec(e),q=j?j.index-M:e.length-M;if(q){var X=document.createTextNode(h.slice(M,M+q));S&&w<9?N.appendChild(L("span",[X])):N.appendChild(X),t.map.push(t.pos,t.pos+q,X),t.col+=q,t.pos+=q}if(!j)break;M+=q+1;var Y=void 0;if(j[0]=="	"){var V=t.cm.options.tabSize,tt=V-t.col%V;Y=N.appendChild(L("span",It(tt),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=tt}else j[0]=="\\r"||j[0]==\`
\`?(Y=N.appendChild(L("span",j[0]=="\\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),S&&w<9?N.appendChild(L("span",[Y])):N.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=h.charCodeAt(e.length-1)==32,i||n||r||m||a||o){var st=i||"";n&&(st+=n),r&&(st+=r);var et=L("span",[N],st,a);if(o)for(var ut in o)o.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&et.setAttribute(ut,o[ut]);return t.content.appendChild(et)}t.content.appendChild(N)}}function _l(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var a=t.charAt(r);a==" "&&i&&(r==t.length-1||t.charCodeAt(r+1)==32)&&(a=" "),n+=a,i=a==" "}return n}function pl(t,e){return function(i,n,r,a,o,h,p){r=r?r+" cm-force-border":"cm-force-border";for(var m=i.pos,N=m+n.length;;){for(var M=void 0,j=0;j<e.length&&(M=e[j],!(M.to>m&&M.from<=m));j++);if(M.to>=N)return t(i,n,r,a,o,h,p);t(i,n.slice(0,M.to-m),r,a,null,h,p),a=null,n=n.slice(M.to-m),m=M.to}}}function Na(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function dl(t,e,i){var n=t.markedSpans,r=t.text,a=0;if(!n){for(var o=1;o<i.length;o+=2)e.addToken(e,r.slice(a,a=i[o]),La(i[o+1],e.cm.options));return}for(var h=r.length,p=0,m=1,N="",M,j,q=0,X,Y,V,tt,st;;){if(q==p){X=Y=V=j="",st=null,tt=null,q=1/0;for(var et=[],ut=void 0,gt=0;gt<n.length;++gt){var pt=n[gt],xt=pt.marker;if(xt.type=="bookmark"&&pt.from==p&&xt.widgetNode)et.push(xt);else if(pt.from<=p&&(pt.to==null||pt.to>p||xt.collapsed&&pt.to==p&&pt.from==p)){if(pt.to!=null&&pt.to!=p&&q>pt.to&&(q=pt.to,Y=""),xt.className&&(X+=" "+xt.className),xt.css&&(j=(j?j+";":"")+xt.css),xt.startStyle&&pt.from==p&&(V+=" "+xt.startStyle),xt.endStyle&&pt.to==q&&(ut||(ut=[])).push(xt.endStyle,pt.to),xt.title&&((st||(st={})).title=xt.title),xt.attributes)for(var Dt in xt.attributes)(st||(st={}))[Dt]=xt.attributes[Dt];xt.collapsed&&(!tt||Vr(tt.marker,xt)<0)&&(tt=pt)}else pt.from>p&&q>pt.from&&(q=pt.from)}if(ut)for(var Vt=0;Vt<ut.length;Vt+=2)ut[Vt+1]==q&&(Y+=" "+ut[Vt]);if(!tt||tt.from==p)for(var Wt=0;Wt<et.length;++Wt)Na(e,0,et[Wt]);if(tt&&(tt.from||0)==p){if(Na(e,(tt.to==null?h+1:tt.to)-p,tt.marker,tt.from==null),tt.to==null)return;tt.to==p&&(tt=!1)}}if(p>=h)break;for(var ye=Math.min(h,q);;){if(N){var de=p+N.length;if(!tt){var Ut=de>ye?N.slice(0,ye-p):N;e.addToken(e,Ut,M?M+X:X,V,p+Ut.length==q?Y:"",j,st)}if(de>=ye){N=N.slice(ye-p),p=ye;break}p=de,V=""}N=r.slice(a,a=i[m++]),M=La(i[m++],e.cm.options)}}}function Ra(t,e,i){this.line=e,this.rest=al(e),this.size=this.rest?Lt(mt(this.rest))-i+1:1,this.node=this.text=null,this.hidden=fn(t,e)}function fr(t,e,i){for(var n=[],r,a=e;a<i;a=r){var o=new Ra(t.doc,ct(t.doc,a),a);r=a+o.size,n.push(o)}return n}var Gn=null;function gl(t){Gn?Gn.ops.push(t):t.ownsGroup=Gn={ops:[t],delayedCallbacks:[]}}function vl(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function ml(t,e){var i=t.ownsGroup;if(i)try{vl(i)}finally{Gn=null,e(i)}}var ki=null;function Qt(t,e){var i=gi(t,e);if(i.length){var n=Array.prototype.slice.call(arguments,2),r;Gn?r=Gn.delayedCallbacks:ki?r=ki:(r=ki=[],setTimeout(bl,0));for(var a=function(h){r.push(function(){return i[h].apply(null,n)})},o=0;o<i.length;++o)a(o)}}function bl(){var t=ki;ki=null;for(var e=0;e<t.length;++e)t[e]()}function Fa(t,e,i,n){for(var r=0;r<e.changes.length;r++){var a=e.changes[r];a=="text"?wl(t,e):a=="gutter"?Ma(t,e,i,n):a=="class"?is(t,e):a=="widget"&&xl(t,e,n)}e.changes=null}function Si(t){return t.node==t.text&&(t.node=L("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),S&&w<8&&(t.node.style.zIndex=2)),t.node}function yl(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=Si(e);e.background=n.insertBefore(L("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Da(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Oa(t,e)}function wl(t,e){var i=e.text.className,n=Da(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,is(t,e)):i&&(e.text.className=i)}function is(t,e){yl(t,e),e.line.wrapClass?Si(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Ma(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=Si(e);e.gutterBackground=L("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var o=Si(e),h=e.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(h.setAttribute("aria-hidden","true"),t.display.input.setUneditable(h),o.insertBefore(h,e.text),e.line.gutterClass&&(h.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(e.lineNumber=h.appendChild(L("div",P(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var p=0;p<t.display.gutterSpecs.length;++p){var m=t.display.gutterSpecs[p].className,N=a.hasOwnProperty(m)&&a[m];N&&h.appendChild(L("div",[N],"CodeMirror-gutter-elt","left: "+n.gutterLeft[m]+"px; width: "+n.gutterWidth[m]+"px"))}}}function xl(t,e,i){e.alignable&&(e.alignable=null);for(var n=I("CodeMirror-linewidget"),r=e.node.firstChild,a=void 0;r;r=a)a=r.nextSibling,n.test(r.className)&&e.node.removeChild(r);Pa(t,e,i)}function kl(t,e,i,n){var r=Da(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),is(t,e),Ma(t,e,i,n),Pa(t,e,n),e.node}function Pa(t,e,i){if(Wa(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Wa(t,e.rest[n],e,i,!1)}function Wa(t,e,i,n,r){if(e.widgets)for(var a=Si(i),o=0,h=e.widgets;o<h.length;++o){var p=h[o],m=L("div",[p.node],"CodeMirror-linewidget"+(p.className?" "+p.className:""));p.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),Sl(p,m,i,n),t.display.input.setUneditable(m),r&&p.above?a.insertBefore(m,i.gutter||i.text):a.appendChild(m),Qt(p,"redraw")}}function Sl(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ei(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!J(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),K(e.display.measure,L("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var i=fe(e);i!=t.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==t.sizer&&i!=t.mover)return!0}function _r(t){return t.lineSpace.offsetTop}function rs(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ia(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=K(t.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function qe(t){return ee-t.display.nativeBarWidth}function Cn(t){return t.display.scroller.clientWidth-qe(t)-t.display.barWidth}function ss(t){return t.display.scroller.clientHeight-qe(t)-t.display.barHeight}function El(t,e,i){var n=t.options.lineWrapping,r=n&&Cn(t);if(!e.measure.heights||n&&e.measure.width!=r){var a=e.measure.heights=[];if(n){e.measure.width=r;for(var o=e.text.firstChild.getClientRects(),h=0;h<o.length-1;h++){var p=o[h],m=o[h+1];Math.abs(p.bottom-m.bottom)>2&&a.push((p.bottom+m.top)/2-i.top)}}a.push(i.bottom-i.top)}}function Ba(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(Lt(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function Tl(t,e){e=Re(e);var i=Lt(e),n=t.display.externalMeasured=new Ra(t.doc,e,i);n.lineN=i;var r=n.built=Oa(t,n);return n.text=r.pre,K(t.display.lineMeasure,r.pre),n}function za(t,e,i,n){return je(t,Xn(t,e),i,n)}function as(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[On(t,e)];var i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size)return i}function Xn(t,e){var i=Lt(e),n=as(t,i);n&&!n.text?n=null:n&&n.changes&&(Fa(t,n,i,cs(t)),t.curOp.forceUpdate=!0),n||(n=Tl(t,e));var r=Ba(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function je(t,e,i,n,r){e.before&&(i=-1);var a=i+(n||""),o;return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(El(t,e.view,e.rect),e.hasHeights=!0),o=Al(t,e,i,n),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ha={left:0,right:0,top:0,bottom:0};function qa(t,e,i){for(var n,r,a,o,h,p,m=0;m<t.length;m+=3)if(h=t[m],p=t[m+1],e<h?(r=0,a=1,o="left"):e<p?(r=e-h,a=r+1):(m==t.length-3||e==p&&t[m+3]>e)&&(a=p-h,r=a-1,e>=p&&(o="right")),r!=null){if(n=t[m+2],h==p&&i==(n.insertLeft?"left":"right")&&(o=i),i=="left"&&r==0)for(;m&&t[m-2]==t[m-3]&&t[m-1].insertLeft;)n=t[(m-=3)+2],o="left";if(i=="right"&&r==p-h)for(;m<t.length-3&&t[m+3]==t[m+4]&&!t[m+5].insertLeft;)n=t[(m+=3)+2],o="right";break}return{node:n,start:r,end:a,collapse:o,coverStart:h,coverEnd:p}}function Cl(t,e){var i=Ha;if(e=="left")for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function Al(t,e,i,n){var r=qa(e.map,i,n),a=r.node,o=r.start,h=r.end,p=r.collapse,m;if(a.nodeType==3){for(var N=0;N<4;N++){for(;o&&di(e.line.text.charAt(r.coverStart+o));)--o;for(;r.coverStart+h<r.coverEnd&&di(e.line.text.charAt(r.coverStart+h));)++h;if(S&&w<9&&o==0&&h==r.coverEnd-r.coverStart?m=a.parentNode.getBoundingClientRect():m=Cl(it(a,o,h).getClientRects(),n),m.left||m.right||o==0)break;h=o,o=o-1,p="right"}S&&w<11&&(m=Ll(t.display.measure,m))}else{o>0&&(p=n="right");var M;t.options.lineWrapping&&(M=a.getClientRects()).length>1?m=M[n=="right"?M.length-1:0]:m=a.getBoundingClientRect()}if(S&&w<9&&!o&&(!m||!m.left&&!m.right)){var j=a.parentNode.getClientRects()[0];j?m={left:j.left,right:j.left+Yn(t.display),top:j.top,bottom:j.bottom}:m=Ha}for(var q=m.top-e.rect.top,X=m.bottom-e.rect.top,Y=(q+X)/2,V=e.view.measure.heights,tt=0;tt<V.length-1&&!(Y<V[tt]);tt++);var st=tt?V[tt-1]:0,et=V[tt],ut={left:(p=="right"?m.right:m.left)-e.rect.left,right:(p=="left"?m.left:m.right)-e.rect.left,top:st,bottom:et};return!m.left&&!m.right&&(ut.bogus=!0),t.options.singleCursorHeightPerLine||(ut.rtop=q,ut.rbottom=X),ut}function Ll(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ir(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ja(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Ua(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ja(t.display.view[e])}function Ti(t){Ua(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ka(t){return u&&W?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Ga(t){return u&&W?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function os(t){var e=Re(t),i=e.widgets,n=0;if(i)for(var r=0;r<i.length;++r)i[r].above&&(n+=Ei(i[r]));return n}function pr(t,e,i,n,r){if(!r){var a=os(e);i.top+=a,i.bottom+=a}if(n=="line")return i;n||(n="local");var o=Je(e);if(n=="local"?o+=_r(t.display):o-=t.display.viewOffset,n=="page"||n=="window"){var h=t.display.lineSpace.getBoundingClientRect();o+=h.top+(n=="window"?0:Ga(wt(t)));var p=h.left+(n=="window"?0:Ka(wt(t)));i.left+=p,i.right+=p}return i.top+=o,i.bottom+=o,i}function Xa(t,e,i){if(i=="div")return e;var n=e.left,r=e.top;if(i=="page")n-=Ka(wt(t)),r-=Ga(wt(t));else if(i=="local"||!i){var a=t.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function dr(t,e,i,n,r){return n||(n=ct(t.doc,e.line)),pr(t,n,za(t,n,e.ch,r),i)}function Fe(t,e,i,n,r,a){n=n||ct(t.doc,e.line),r||(r=Xn(t,n));function o(X,Y){var V=je(t,r,X,Y?"right":"left",a);return Y?V.left=V.right:V.right=V.left,pr(t,n,V,i)}var h=Ce(n,t.doc.direction),p=e.ch,m=e.sticky;if(p>=n.text.length?(p=n.text.length,m="before"):p<=0&&(p=0,m="after"),!h)return o(m=="before"?p-1:p,m=="before");function N(X,Y,V){var tt=h[Y],st=tt.level==1;return o(V?X-1:X,st!=V)}var M=Te(h,p,m),j=We,q=N(p,M,m=="before");return j!=null&&(q.other=N(p,j,m!="before")),q}function \$a(t,e){var i=0;e=yt(t.doc,e),t.options.lineWrapping||(i=Yn(t.display)*e.ch);var n=ct(t.doc,e.line),r=Je(n)+_r(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function us(t,e,i,n,r){var a=B(t,e,i);return a.xRel=r,n&&(a.outside=n),a}function ls(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return us(n.first,0,null,-1,-1);var r=ze(n,i),a=n.first+n.size-1;if(r>a)return us(n.first+n.size-1,ct(n,a).text.length,null,1,1);e<0&&(e=0);for(var o=ct(n,r);;){var h=Ol(t,o,r,e,i),p=rl(o,h.ch+(h.xRel>0||h.outside>0?1:0));if(!p)return h;var m=p.find(1);if(m.line==r)return m;o=ct(n,r=m.line)}}function Ya(t,e,i,n){n-=os(e);var r=e.text.length,a=Bt(function(o){return je(t,i,o-1).bottom<=n},r,0);return r=Bt(function(o){return je(t,i,o).top>n},a,r),{begin:a,end:r}}function Qa(t,e,i,n){i||(i=Xn(t,e));var r=pr(t,e,je(t,i,n),"line").top;return Ya(t,e,i,r)}function hs(t,e,i,n){return t.bottom<=i?!1:t.top>i?!0:(n?t.left:t.right)>e}function Ol(t,e,i,n,r){r-=Je(e);var a=Xn(t,e),o=os(e),h=0,p=e.text.length,m=!0,N=Ce(e,t.doc.direction);if(N){var M=(t.options.lineWrapping?Rl:Nl)(t,e,i,a,N,n,r);m=M.level!=1,h=m?M.from:M.to-1,p=m?M.to:M.from-1}var j=null,q=null,X=Bt(function(gt){var pt=je(t,a,gt);return pt.top+=o,pt.bottom+=o,hs(pt,n,r,!1)?(pt.top<=r&&pt.left<=n&&(j=gt,q=pt),!0):!1},h,p),Y,V,tt=!1;if(q){var st=n-q.left<q.right-n,et=st==m;X=j+(et?0:1),V=et?"after":"before",Y=st?q.left:q.right}else{!m&&(X==p||X==h)&&X++,V=X==0?"after":X==e.text.length?"before":je(t,a,X-(m?1:0)).bottom+o<=r==m?"after":"before";var ut=Fe(t,B(i,X,V),"line",e,a);Y=ut.left,tt=r<ut.top?-1:r>=ut.bottom?1:0}return X=Pe(e.text,X,1),us(i,X,V,tt,n-Y)}function Nl(t,e,i,n,r,a,o){var h=Bt(function(M){var j=r[M],q=j.level!=1;return hs(Fe(t,B(i,q?j.to:j.from,q?"before":"after"),"line",e,n),a,o,!0)},0,r.length-1),p=r[h];if(h>0){var m=p.level!=1,N=Fe(t,B(i,m?p.from:p.to,m?"after":"before"),"line",e,n);hs(N,a,o,!0)&&N.top>o&&(p=r[h-1])}return p}function Rl(t,e,i,n,r,a,o){var h=Ya(t,e,n,o),p=h.begin,m=h.end;/\\s/.test(e.text.charAt(m-1))&&m--;for(var N=null,M=null,j=0;j<r.length;j++){var q=r[j];if(!(q.from>=m||q.to<=p)){var X=q.level!=1,Y=je(t,n,X?Math.min(m,q.to)-1:Math.max(p,q.from)).right,V=Y<a?a-Y+1e9:Y-a;(!N||M>V)&&(N=q,M=V)}}return N||(N=r[r.length-1]),N.from<p&&(N={from:p,to:N.to,level:N.level}),N.to>m&&(N={from:N.from,to:m,level:N.level}),N}var An;function \$n(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(An==null){An=L("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)An.appendChild(document.createTextNode("x")),An.appendChild(L("br"));An.appendChild(document.createTextNode("x"))}K(t.measure,An);var i=An.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),k(t.measure),i||1}function Yn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=L("span","xxxxxxxxxx"),i=L("pre",[e],"CodeMirror-line-like");K(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function cs(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,a=e.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var h=t.display.gutterSpecs[o].className;i[h]=a.offsetLeft+a.clientLeft+r,n[h]=a.clientWidth}return{fixedPos:fs(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function fs(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Za(t){var e=\$n(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/Yn(t.display)-3);return function(r){if(fn(t.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return i?a+(Math.ceil(r.text.length/n)||1)*e:a+e}}function _s(t){var e=t.doc,i=Za(t);e.iter(function(n){var r=i(n);r!=n.height&&Le(n,r)})}function Ln(t,e,i,n){var r=t.display;if(!i&&fe(e).getAttribute("cm-not-content")=="true")return null;var a,o,h=r.lineSpace.getBoundingClientRect();try{a=e.clientX-h.left,o=e.clientY-h.top}catch{return null}var p=ls(t,a,o),m;if(n&&p.xRel>0&&(m=ct(t.doc,p.line).text).length==p.ch){var N=at(m,m.length,t.options.tabSize)-m.length;p=B(p.line,Math.max(0,Math.round((a-Ia(t.display).left)/Yn(t.display))-N))}return p}function On(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function _e(t,e,i,n){e==null&&(e=t.doc.first),i==null&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ze&&ts(t.doc,e)<r.viewTo&&pn(t);else if(i<=r.viewFrom)Ze&&Aa(t.doc,i+n)>r.viewFrom?pn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)pn(t);else if(e<=r.viewFrom){var a=gr(t,i,i+n,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=n):pn(t)}else if(i>=r.viewTo){var o=gr(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):pn(t)}else{var h=gr(t,e,e,-1),p=gr(t,i,i+n,1);h&&p?(r.view=r.view.slice(0,h.index).concat(fr(t,h.lineN,p.lineN)).concat(r.view.slice(p.index)),r.viewTo+=n):pn(t)}var m=r.externalMeasured;m&&(i<m.lineN?m.lineN+=n:e<m.lineN+m.size&&(r.externalMeasured=null))}function _n(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var a=n.view[On(t,e)];if(a.node!=null){var o=a.changes||(a.changes=[]);vt(o,i)==-1&&o.push(i)}}}function pn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function gr(t,e,i,n){var r=On(t,e),a,o=t.display.view;if(!Ze||i==t.doc.first+t.doc.size)return{index:r,lineN:i};for(var h=t.display.viewFrom,p=0;p<r;p++)h+=o[p].size;if(h!=e){if(n>0){if(r==o.length-1)return null;a=h+o[r].size-e,r++}else a=h-e;e+=a,i+=a}for(;ts(t.doc,i)!=i;){if(r==(n<0?0:o.length-1))return null;i+=n*o[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Fl(t,e,i){var n=t.display,r=n.view;r.length==0||e>=n.viewTo||i<=n.viewFrom?(n.view=fr(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=fr(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(On(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(fr(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,On(t,i)))),n.viewTo=i}function Ja(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];!r.hidden&&(!r.node||r.changes)&&++i}return i}function Ci(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Va(t,e){e===void 0&&(e=!0);var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=t.options.\$customCursor;o&&(e=!0);for(var h=0;h<i.sel.ranges.length;h++)if(!(!e&&h==i.sel.primIndex)){var p=i.sel.ranges[h];if(!(p.from().line>=t.display.viewTo||p.to().line<t.display.viewFrom)){var m=p.empty();if(o){var N=o(t,p);N&&ps(t,N,r)}else(m||t.options.showCursorWhenSelecting)&&ps(t,p.head,r);m||Dl(t,p,a)}}return n}function ps(t,e,i){var n=Fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(L("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\\bcm-fat-cursor\\b/.test(t.getWrapperElement().className)){var a=dr(t,e,"div",null,null),o=a.right-a.left;r.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(n.other){var h=i.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));h.style.display="",h.style.left=n.other.left+"px",h.style.top=n.other.top+"px",h.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function vr(t,e){return t.top-e.top||t.left-e.left}function Dl(t,e,i){var n=t.display,r=t.doc,a=document.createDocumentFragment(),o=Ia(t.display),h=o.left,p=Math.max(n.sizerWidth,Cn(t)-n.sizer.offsetLeft)-o.right,m=r.direction=="ltr";function N(et,ut,gt,pt){ut<0&&(ut=0),ut=Math.round(ut),pt=Math.round(pt),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+et+\`px;
                             top: \`+ut+"px; width: "+(gt??p-et)+\`px;
                             height: \`+(pt-ut)+"px"))}function M(et,ut,gt){var pt=ct(r,et),xt=pt.text.length,Dt,Vt;function Wt(Ut,ge){return dr(t,B(et,Ut),"div",pt,ge)}function ye(Ut,ge,ne){var \$t=Qa(t,pt,null,Ut),Kt=ge=="ltr"==(ne=="after")?"left":"right",qt=ne=="after"?\$t.begin:\$t.end-(/\\s/.test(pt.text.charAt(\$t.end-1))?2:1);return Wt(qt,Kt)[Kt]}var de=Ce(pt,r.direction);return En(de,ut||0,gt??xt,function(Ut,ge,ne,\$t){var Kt=ne=="ltr",qt=Wt(Ut,Kt?"left":"right"),ve=Wt(ge-1,Kt?"right":"left"),ui=ut==null&&Ut==0,yn=gt==null&&ge==xt,ae=\$t==0,Ue=!de||\$t==de.length-1;if(ve.top-qt.top<=3){var te=(m?ui:yn)&&ae,Hs=(m?yn:ui)&&Ue,nn=te?h:(Kt?qt:ve).left,Mn=Hs?p:(Kt?ve:qt).right;N(nn,qt.top,Mn-nn,qt.bottom)}else{var Pn,he,li,qs;Kt?(Pn=m&&ui&&ae?h:qt.left,he=m?p:ye(Ut,ne,"before"),li=m?h:ye(ge,ne,"after"),qs=m&&yn&&Ue?p:ve.right):(Pn=m?ye(Ut,ne,"before"):h,he=!m&&ui&&ae?p:qt.right,li=!m&&yn&&Ue?h:ve.left,qs=m?ye(ge,ne,"after"):p),N(Pn,qt.top,he-Pn,qt.bottom),qt.bottom<ve.top&&N(h,qt.bottom,null,ve.top),N(li,ve.top,qs-li,ve.bottom)}(!Dt||vr(qt,Dt)<0)&&(Dt=qt),vr(ve,Dt)<0&&(Dt=ve),(!Vt||vr(qt,Vt)<0)&&(Vt=qt),vr(ve,Vt)<0&&(Vt=ve)}),{start:Dt,end:Vt}}var j=e.from(),q=e.to();if(j.line==q.line)M(j.line,j.ch,q.ch);else{var X=ct(r,j.line),Y=ct(r,q.line),V=Re(X)==Re(Y),tt=M(j.line,j.ch,V?X.text.length+1:null).end,st=M(q.line,V?0:null,q.ch).start;V&&(tt.top<st.top-2?(N(tt.right,tt.top,null,tt.bottom),N(h,st.top,st.left,st.bottom)):N(tt.right,tt.top,st.left-tt.right,tt.bottom)),tt.bottom<st.top&&N(h,tt.bottom,null,st.top)}i.appendChild(a)}function ds(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Qn(t),e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function to(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||vs(t))}function gs(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Qn(t))},100)}function vs(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Mt(t,"focus",t,e),t.state.focused=!0,A(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),d&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),ds(t))}function Qn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Mt(t,"blur",t,e),t.state.focused=!1,R(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function mr(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,a=0,o=0;o<e.view.length;o++){var h=e.view[o],p=t.options.lineWrapping,m=void 0,N=0;if(!h.hidden){if(r+=h.line.height,S&&w<8){var M=h.node.offsetTop+h.node.offsetHeight;m=M-i,i=M}else{var j=h.node.getBoundingClientRect();m=j.bottom-j.top,!p&&h.text.firstChild&&(N=h.text.firstChild.getBoundingClientRect().right-j.left-1)}var q=h.line.height-m;if((q>.005||q<-.005)&&(r<n&&(a-=q),Le(h.line,m),eo(h.line),h.rest))for(var X=0;X<h.rest.length;X++)eo(h.rest[X]);if(N>t.display.sizerWidth){var Y=Math.ceil(N/Yn(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=h.line,t.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(e.scroller.scrollTop+=a)}function eo(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function br(t,e,i){var n=i&&i.top!=null?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-_r(t));var r=i&&i.bottom!=null?i.bottom:n+t.wrapper.clientHeight,a=ze(e,n),o=ze(e,r);if(i&&i.ensure){var h=i.ensure.from.line,p=i.ensure.to.line;h<a?(a=h,o=ze(e,Je(ct(e,h))+t.wrapper.clientHeight)):Math.min(p,e.lastLine())>=o&&(a=ze(e,Je(ct(e,p))-t.wrapper.clientHeight),o=p)}return{from:a,to:Math.max(o,a+1)}}function Ml(t,e){if(!zt(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null,a=i.wrapper.ownerDocument;if(e.top+n.top<0?r=!0:e.bottom+n.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(r=!1),r!=null&&!g){var o=L("div","​",null,\`position: absolute;
                         top: \`+(e.top-i.viewOffset-_r(t.display))+\`px;
                         height: \`+(e.bottom-e.top+qe(t)+i.barHeight)+\`px;
                         left: \`+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Pl(t,e,i,n){n==null&&(n=0);var r;!t.options.lineWrapping&&e==i&&(i=e.sticky=="before"?B(e.line,e.ch+1,"before"):e,e=e.ch?B(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var a=0;a<5;a++){var o=!1,h=Fe(t,e),p=!i||i==e?h:Fe(t,i);r={left:Math.min(h.left,p.left),top:Math.min(h.top,p.top)-n,right:Math.max(h.left,p.left),bottom:Math.max(h.bottom,p.bottom)+n};var m=ms(t,r),N=t.doc.scrollTop,M=t.doc.scrollLeft;if(m.scrollTop!=null&&(Li(t,m.scrollTop),Math.abs(t.doc.scrollTop-N)>1&&(o=!0)),m.scrollLeft!=null&&(Nn(t,m.scrollLeft),Math.abs(t.doc.scrollLeft-M)>1&&(o=!0)),!o)break}return r}function Wl(t,e){var i=ms(t,e);i.scrollTop!=null&&Li(t,i.scrollTop),i.scrollLeft!=null&&Nn(t,i.scrollLeft)}function ms(t,e){var i=t.display,n=\$n(t.display);e.top<0&&(e.top=0);var r=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:i.scroller.scrollTop,a=ss(t),o={};e.bottom-e.top>a&&(e.bottom=e.top+a);var h=t.doc.height+rs(i),p=e.top<n,m=e.bottom>h-n;if(e.top<r)o.scrollTop=p?0:e.top;else if(e.bottom>r+a){var N=Math.min(e.top,(m?h:e.bottom)-a);N!=r&&(o.scrollTop=N)}var M=t.options.fixedGutter?0:i.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:i.scroller.scrollLeft-M,q=Cn(t)-i.gutters.offsetWidth,X=e.right-e.left>q;return X&&(e.right=e.left+q),e.left<10?o.scrollLeft=0:e.left<j?o.scrollLeft=Math.max(0,e.left+M-(X?0:10)):e.right>q+j-3&&(o.scrollLeft=e.right+(X?0:10)-q),o}function bs(t,e){e!=null&&(yr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Zn(t){yr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ai(t,e,i){(e!=null||i!=null)&&yr(t),e!=null&&(t.curOp.scrollLeft=e),i!=null&&(t.curOp.scrollTop=i)}function Il(t,e){yr(t),t.curOp.scrollToPos=e}function yr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=\$a(t,e.from),n=\$a(t,e.to);no(t,i,n,e.margin)}}function no(t,e,i,n){var r=ms(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Ai(t,r.scrollLeft,r.scrollTop)}function Li(t,e){Math.abs(t.doc.scrollTop-e)<2||(c||ws(t,{top:e}),io(t,e,!0),c&&ws(t),Ri(t,100))}function io(t,e,i){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Nn(t,e,i,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,uo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Oi(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+rs(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+qe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var Rn=function(t,e,i){this.cm=i;var n=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,t(n),t(r),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var a=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},Rn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rn.prototype.zeroWidthHack=function(){var t=z&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new _t,this.disableVert=new _t},Rn.prototype.enableZeroWidthBar=function(t,e,i){t.style.visibility="";function n(){var r=t.getBoundingClientRect(),a=i=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},Rn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Ni=function(){};Ni.prototype.update=function(){return{bottom:0,right:0}},Ni.prototype.setScrollLeft=function(){},Ni.prototype.setScrollTop=function(){},Ni.prototype.clear=function(){};function Jn(t,e){e||(e=Oi(t));var i=t.display.barWidth,n=t.display.barHeight;ro(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&mr(t),ro(t,Oi(t)),i=t.display.barWidth,n=t.display.barHeight}function ro(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}var so={native:Rn,null:Ni};function ao(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new so[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){i=="horizontal"?Nn(t,e):Li(t,e)},t),t.display.scrollbars.addClass&&A(t.display.wrapper,t.display.scrollbars.addClass)}var Bl=0;function Fn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bl,markArrays:null},gl(t.curOp)}function Dn(t){var e=t.curOp;e&&ml(e,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;zl(i)})}function zl(t){for(var e=t.ops,i=0;i<e.length;i++)Hl(e[i]);for(var n=0;n<e.length;n++)ql(e[n]);for(var r=0;r<e.length;r++)jl(e[r]);for(var a=0;a<e.length;a++)Ul(e[a]);for(var o=0;o<e.length;o++)Kl(e[o])}function Hl(t){var e=t.cm,i=e.display;Xl(e),t.updateMaxLine&&ns(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new wr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ql(t){t.updatedDisplay=t.mustUpdate&&ys(t.cm,t.update)}function jl(t){var e=t.cm,i=e.display;t.updatedDisplay&&mr(e),t.barMeasure=Oi(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=za(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+qe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Cn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Ul(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Nn(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==lt(wt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Jn(e,t.barMeasure),t.updatedDisplay&&ks(e,t.barMeasure),t.selectionChanged&&ds(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&to(t.cm)}function Kl(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&oo(e,t.update),i.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),t.scrollTop!=null&&io(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Nn(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Pl(e,yt(n,t.scrollToPos.from),yt(n,t.scrollToPos.to),t.scrollToPos.margin);Ml(e,r)}var a=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(a)for(var h=0;h<a.length;++h)a[h].lines.length||Mt(a[h],"hide");if(o)for(var p=0;p<o.length;++p)o[p].lines.length&&Mt(o[p],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function be(t,e){if(t.curOp)return e();Fn(t);try{return e()}finally{Dn(t)}}function Zt(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Fn(t);try{return e.apply(t,arguments)}finally{Dn(t)}}}function le(t){return function(){if(this.curOp)return t.apply(this,arguments);Fn(this);try{return t.apply(this,arguments)}finally{Dn(this)}}}function Jt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Fn(e);try{return t.apply(this,arguments)}finally{Dn(e)}}}function Ri(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,kt(Gl,t))}function Gl(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=wi(t,e.highlightFrontier),r=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(a){if(n.line>=t.display.viewFrom){var o=a.styles,h=a.text.length>t.options.maxHighlightLength?Ye(e.mode,n.state):null,p=pa(t,a,n,!0);h&&(n.state=h),a.styles=p.styles;var m=a.styleClasses,N=p.classes;N?a.styleClasses=N:m&&(a.styleClasses=null);for(var M=!o||o.length!=a.styles.length||m!=N&&(!m||!N||m.bgClass!=N.bgClass||m.textClass!=N.textClass),j=0;!M&&j<o.length;++j)M=o[j]!=a.styles[j];M&&r.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=t.options.maxHighlightLength&&Qr(t,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Ri(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),r.length&&be(t,function(){for(var a=0;a<r.length;a++)_n(t,r[a],"text")})}}var wr=function(t,e,i){var n=t.display;this.viewport=e,this.visible=br(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Cn(t),this.force=i,this.dims=cs(t),this.events=[]};wr.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},wr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Mt.apply(null,this.events[t])};function Xl(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=qe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=qe(t)+"px",e.scrollbarsClipped=!0)}function \$l(t){if(t.hasFocus())return null;var e=lt(wt(t));if(!e||!J(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=Nt(t).getSelection();n.anchorNode&&n.extend&&J(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Yl(t){if(!(!t||!t.activeElt||t.activeElt==lt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)\$/.test(t.activeElt.nodeName)&&t.anchorNode&&J(document.body,t.anchorNode)&&J(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,i=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(t.focusNode,t.focusOffset)}}function ys(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return pn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&Ja(t)==0)return!1;lo(t)&&(pn(t),e.dims=cs(t));var r=n.first+n.size,a=Math.max(e.visible.from-t.options.viewportMargin,n.first),o=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(r,i.viewTo)),Ze&&(a=ts(t.doc,a),o=Aa(t.doc,o));var h=a!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Fl(t,a,o),i.viewOffset=Je(ct(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var p=Ja(t);if(!h&&p==0&&!e.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var m=\$l(t);return p>4&&(i.lineDiv.style.display="none"),Ql(t,i.updateLineNumbers,e.dims),p>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Yl(m),k(i.cursorDiv),k(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,h&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Ri(t,400)),i.updateLineNumbers=null,!0}function oo(t,e){for(var i=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==Cn(t)){if(i&&i.top!=null&&(i={top:Math.min(t.doc.height+rs(t.display)-ss(t),i.top)}),e.visible=br(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=br(t.display,t.doc,i));if(!ys(t,e))break;mr(t);var r=Oi(t);Ci(t),Jn(t,r),ks(t,r),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ws(t,e){var i=new wr(t,e);if(ys(t,i)){mr(t),oo(t,i);var n=Oi(t);Ci(t),Jn(t,n),ks(t,n),i.finish()}}function Ql(t,e,i){var n=t.display,r=t.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function h(X){var Y=X.nextSibling;return d&&z&&t.display.currentWheelTarget==X?X.style.display="none":X.parentNode.removeChild(X),Y}for(var p=n.view,m=n.viewFrom,N=0;N<p.length;N++){var M=p[N];if(!M.hidden)if(!M.node||M.node.parentNode!=a){var j=kl(t,M,m,i);a.insertBefore(j,o)}else{for(;o!=M.node;)o=h(o);var q=r&&e!=null&&e<=m&&M.lineNumber;M.changes&&(vt(M.changes,"gutter")>-1&&(q=!1),Fa(t,M,m,i)),q&&(k(M.lineNumber),M.lineNumber.appendChild(document.createTextNode(P(t.options,m)))),o=M.node.nextSibling}m+=M.size}for(;o;)o=h(o)}function xs(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",Qt(t,"gutterChanged",t)}function ks(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+qe(t)+"px"}function uo(t){var e=t.display,i=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=fs(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){t.options.fixedGutter&&(i[o].gutter&&(i[o].gutter.style.left=a),i[o].gutterBackground&&(i[o].gutterBackground.style.left=a));var h=i[o].alignable;if(h)for(var p=0;p<h.length;p++)h[p].style.left=a}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function lo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=P(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",xs(t.display),!0}return!1}function Ss(t,e){for(var i=[],n=!1,r=0;r<t.length;r++){var a=t[r],o=null;if(typeof a!="string"&&(o=a.style,a=a.className),a=="CodeMirror-linenumbers")if(e)n=!0;else continue;i.push({className:a,style:o})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function ho(t){var e=t.gutters,i=t.gutterSpecs;k(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],a=r.className,o=r.style,h=e.appendChild(L("div",null,"CodeMirror-gutter "+a));o&&(h.style.cssText=o),a=="CodeMirror-linenumbers"&&(t.lineGutter=h,h.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",xs(t)}function Fi(t){ho(t.display),_e(t),uo(t)}function Zl(t,e,i,n){var r=this;this.input=i,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Q("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=Q("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var a=Q("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[a],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+ee+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),u&&_>=105&&(r.wrapper.style.clipPath="inset(0px)"),r.wrapper.setAttribute("translate","no"),S&&w<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),!d&&!(c&&D)&&(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=Ss(n.gutters,n.lineNumbers),ho(r),i.init(r)}var xr=0,tn=null;S?tn=-.53:c?tn=15:u?tn=-.7:F&&(tn=-1/3);function co(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),i==null&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:i==null&&(i=t.wheelDelta),{x:e,y:i}}function Jl(t){var e=co(t);return e.x*=tn,e.y*=tn,e}function fo(t,e){u&&_==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var i=co(e),n=i.x,r=i.y,a=tn;e.deltaMode===0&&(n=e.deltaX,r=e.deltaY,a=1);var o=t.display,h=o.scroller,p=h.scrollWidth>h.clientWidth,m=h.scrollHeight>h.clientHeight;if(n&&p||r&&m){if(r&&z&&d){t:for(var N=e.target,M=o.view;N!=h;N=N.parentNode)for(var j=0;j<M.length;j++)if(M[j].node==N){t.display.currentWheelTarget=N;break t}}if(n&&!c&&!b&&a!=null){r&&m&&Li(t,Math.max(0,h.scrollTop+r*a)),Nn(t,Math.max(0,h.scrollLeft+n*a)),(!r||r&&m)&&re(e),o.wheelStartX=null;return}if(r&&a!=null){var q=r*a,X=t.doc.scrollTop,Y=X+o.wrapper.clientHeight;q<0?X=Math.max(0,X+q-50):Y=Math.min(t.doc.height,Y+q+50),ws(t,{top:X,bottom:Y})}xr<20&&e.deltaMode!==0&&(o.wheelStartX==null?(o.wheelStartX=h.scrollLeft,o.wheelStartY=h.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(o.wheelStartX!=null){var V=h.scrollLeft-o.wheelStartX,tt=h.scrollTop-o.wheelStartY,st=tt&&o.wheelDY&&tt/o.wheelDY||V&&o.wheelDX&&V/o.wheelDX;o.wheelStartX=o.wheelStartY=null,st&&(tn=(tn*xr+st)/(xr+1),++xr)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}var Se=function(t,e){this.ranges=t,this.primIndex=e};Se.prototype.primary=function(){return this.ranges[this.primIndex]},Se.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(!bt(i.anchor,n.anchor)||!bt(i.head,n.head))return!1}return!0},Se.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ot(Tt(this.ranges[e].anchor),Tt(this.ranges[e].head));return new Se(t,this.primIndex)},Se.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Se.prototype.contains=function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(G(e,n.from())>=0&&G(t,n.to())<=0)return i}return-1};var Ot=function(t,e){this.anchor=t,this.head=e};Ot.prototype.from=function(){return Xt(this.anchor,this.head)},Ot.prototype.to=function(){return Ct(this.anchor,this.head)},Ot.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function De(t,e,i){var n=t&&t.options.selectionsMayTouch,r=e[i];e.sort(function(j,q){return G(j.from(),q.from())}),i=vt(e,r);for(var a=1;a<e.length;a++){var o=e[a],h=e[a-1],p=G(h.to(),o.from());if(n&&!o.empty()?p>0:p>=0){var m=Xt(h.from(),o.from()),N=Ct(h.to(),o.to()),M=h.empty()?o.from()==o.head:h.from()==h.head;a<=i&&--i,e.splice(--a,2,new Ot(M?N:m,M?m:N))}}return new Se(e,i)}function dn(t,e){return new Se([new Ot(t,e||t)],0)}function gn(t){return t.text?B(t.from.line+t.text.length-1,mt(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function _o(t,e){if(G(t,e.from)<0)return t;if(G(t,e.to)<=0)return gn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=gn(e).ch-e.to.ch),B(i,n)}function Es(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new Ot(_o(r.anchor,e),_o(r.head,e)))}return De(t.cm,i,t.sel.primIndex)}function po(t,e,i){return t.line==e.line?B(i.line,t.ch-e.ch+i.ch):B(i.line+(t.line-e.line),t.ch)}function Vl(t,e,i){for(var n=[],r=B(t.first,0),a=r,o=0;o<e.length;o++){var h=e[o],p=po(h.from,r,a),m=po(gn(h),r,a);if(r=h.to,a=m,i=="around"){var N=t.sel.ranges[o],M=G(N.head,N.anchor)<0;n[o]=new Ot(M?m:p,M?p:m)}else n[o]=new Ot(p,p)}return new Se(n,t.sel.primIndex)}function Ts(t){t.doc.mode=\$e(t.options,t.doc.modeOption),Di(t)}function Di(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Ri(t,100),t.state.modeGen++,t.curOp&&_e(t)}function go(t,e){return e.from.ch==0&&e.to.ch==0&&mt(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Cs(t,e,i,n){function r(st){return i?i[st]:null}function a(st,et,ut){ol(st,et,ut,n),Qt(st,"change",st,e)}function o(st,et){for(var ut=[],gt=st;gt<et;++gt)ut.push(new Kn(m[gt],r(gt),n));return ut}var h=e.from,p=e.to,m=e.text,N=ct(t,h.line),M=ct(t,p.line),j=mt(m),q=r(m.length-1),X=p.line-h.line;if(e.full)t.insert(0,o(0,m.length)),t.remove(m.length,t.size-m.length);else if(go(t,e)){var Y=o(0,m.length-1);a(M,M.text,q),X&&t.remove(h.line,X),Y.length&&t.insert(h.line,Y)}else if(N==M)if(m.length==1)a(N,N.text.slice(0,h.ch)+j+N.text.slice(p.ch),q);else{var V=o(1,m.length-1);V.push(new Kn(j+N.text.slice(p.ch),q,n)),a(N,N.text.slice(0,h.ch)+m[0],r(0)),t.insert(h.line+1,V)}else if(m.length==1)a(N,N.text.slice(0,h.ch)+m[0]+M.text.slice(p.ch),r(0)),t.remove(h.line+1,X);else{a(N,N.text.slice(0,h.ch)+m[0],r(0)),a(M,j+M.text.slice(p.ch),q);var tt=o(1,m.length-1);X>1&&t.remove(h.line+1,X-1),t.insert(h.line+1,tt)}Qt(t,"change",t,e)}function vn(t,e,i){function n(r,a,o){if(r.linked)for(var h=0;h<r.linked.length;++h){var p=r.linked[h];if(p.doc!=a){var m=o&&p.sharedHist;i&&!m||(e(p.doc,m),n(p.doc,r,m))}}}n(t,null,!0)}function vo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,_s(t),Ts(t),mo(t),t.options.direction=e.direction,t.options.lineWrapping||ns(t),t.options.mode=e.modeOption,_e(t)}function mo(t){(t.doc.direction=="rtl"?A:R)(t.display.lineDiv,"CodeMirror-rtl")}function th(t){be(t,function(){mo(t),_e(t)})}function kr(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function As(t,e){var i={from:Tt(e.from),to:gn(e),text:Qe(t,e.from,e.to)};return wo(t,i,e.from.line,e.to.line+1),vn(t,function(n){return wo(n,i,e.from.line,e.to.line+1)},!0),i}function bo(t){for(;t.length;){var e=mt(t);if(e.ranges)t.pop();else break}}function eh(t,e){if(e)return bo(t.done),mt(t.done);if(t.done.length&&!mt(t.done).ranges)return mt(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),mt(t.done)}function yo(t,e,i,n){var r=t.history;r.undone.length=0;var a=+new Date,o,h;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(o=eh(r,r.lastOp==n)))h=mt(o.changes),G(e.from,e.to)==0&&G(e.from,h.to)==0?h.to=gn(e):o.changes.push(As(t,e));else{var p=mt(r.done);for((!p||!p.ranges)&&Sr(t.sel,r.done),o={changes:[As(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,h||Mt(t,"historyAdded")}function nh(t,e,i,n){var r=e.charAt(0);return r=="*"||r=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function ih(t,e,i,n){var r=t.history,a=n&&n.origin;i==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||nh(t,a,mt(r.done),e))?r.done[r.done.length-1]=e:Sr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=i,n&&n.clearRedo!==!1&&bo(r.undone)}function Sr(t,e){var i=mt(e);i&&i.ranges&&i.equals(t)||e.push(t)}function wo(t,e,i,n){var r=e["spans_"+t.id],a=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(o){o.markedSpans&&((r||(r=e["spans_"+t.id]={}))[a]=o.markedSpans),++a})}function rh(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function sh(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(rh(i[r]));return n}function xo(t,e){var i=sh(t,e),n=Jr(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)t:for(var h=0;h<o.length;++h){for(var p=o[h],m=0;m<a.length;++m)if(a[m].marker==p.marker)continue t;a.push(p)}else o&&(i[r]=o)}return i}function Vn(t,e,i){for(var n=[],r=0;r<t.length;++r){var a=t[r];if(a.ranges){n.push(i?Se.prototype.deepCopy.call(a):a);continue}var o=a.changes,h=[];n.push({changes:h});for(var p=0;p<o.length;++p){var m=o[p],N=void 0;if(h.push({from:m.from,to:m.to,text:m.text}),e)for(var M in m)(N=M.match(/^spans_(\\d+)\$/))&&vt(e,Number(N[1]))>-1&&(mt(h)[M]=m[M],delete m[M])}}return n}function Ls(t,e,i,n){if(n){var r=t.anchor;if(i){var a=G(e,r)<0;a!=G(i,r)<0?(r=e,e=i):a!=G(e,i)<0&&(e=i)}return new Ot(r,e)}else return new Ot(i||e,e)}function Er(t,e,i,n,r){r==null&&(r=t.cm&&(t.cm.display.shift||t.extend)),se(t,new Se([Ls(t.sel.primary(),e,i,r)],0),n)}function ko(t,e,i){for(var n=[],r=t.cm&&(t.cm.display.shift||t.extend),a=0;a<t.sel.ranges.length;a++)n[a]=Ls(t.sel.ranges[a],e[a],null,r);var o=De(t.cm,n,t.sel.primIndex);se(t,o,i)}function Os(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,se(t,De(t.cm,r,t.sel.primIndex),n)}function So(t,e,i,n){se(t,dn(e,i),n)}function ah(t,e,i){var n={ranges:e.ranges,update:function(r){this.ranges=[];for(var a=0;a<r.length;a++)this.ranges[a]=new Ot(yt(t,r[a].anchor),yt(t,r[a].head))},origin:i&&i.origin};return Mt(t,"beforeSelectionChange",t,n),t.cm&&Mt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?De(t.cm,n.ranges,n.ranges.length-1):e}function Eo(t,e,i){var n=t.history.done,r=mt(n);r&&r.ranges?(n[n.length-1]=e,Tr(t,e,i)):se(t,e,i)}function se(t,e,i){Tr(t,e,i),ih(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function Tr(t,e,i){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=ah(t,e,i));var n=i&&i.bias||(G(e.primary().head,t.sel.primary().head)<0?-1:1);To(t,Ao(t,e,n,!0)),!(i&&i.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Zn(t.cm)}function To(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,er(t.cm)),Qt(t,"cursorActivity",t))}function Co(t){To(t,Ao(t,t.sel,null,!1))}function Ao(t,e,i,n){for(var r,a=0;a<e.ranges.length;a++){var o=e.ranges[a],h=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[a],p=Cr(t,o.anchor,h&&h.anchor,i,n),m=o.head==o.anchor?p:Cr(t,o.head,h&&h.head,i,n);(r||p!=o.anchor||m!=o.head)&&(r||(r=e.ranges.slice(0,a)),r[a]=new Ot(p,m))}return r?De(t.cm,r,e.primIndex):e}function ti(t,e,i,n,r){var a=ct(t,e.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var h=a.markedSpans[o],p=h.marker,m="selectLeft"in p?!p.selectLeft:p.inclusiveLeft,N="selectRight"in p?!p.selectRight:p.inclusiveRight;if((h.from==null||(m?h.from<=e.ch:h.from<e.ch))&&(h.to==null||(N?h.to>=e.ch:h.to>e.ch))){if(r&&(Mt(p,"beforeCursorEnter"),p.explicitlyCleared))if(a.markedSpans){--o;continue}else break;if(!p.atomic)continue;if(i){var M=p.find(n<0?1:-1),j=void 0;if((n<0?N:m)&&(M=Lo(t,M,-n,M&&M.line==e.line?a:null)),M&&M.line==e.line&&(j=G(M,i))&&(n<0?j<0:j>0))return ti(t,M,e,n,r)}var q=p.find(n<0?-1:1);return(n<0?m:N)&&(q=Lo(t,q,n,q.line==e.line?a:null)),q?ti(t,q,e,n,r):null}}return e}function Cr(t,e,i,n,r){var a=n||1,o=ti(t,e,i,a,r)||!r&&ti(t,e,i,a,!0)||ti(t,e,i,-a,r)||!r&&ti(t,e,i,-a,!0);return o||(t.cantEdit=!0,B(t.first,0))}function Lo(t,e,i,n){return i<0&&e.ch==0?e.line>t.first?yt(t,B(e.line-1)):null:i>0&&e.ch==(n||ct(t,e.line)).text.length?e.line<t.first+t.size-1?B(e.line+1,0):null:new B(e.line,e.ch+i)}function Oo(t){t.setSelection(B(t.firstLine(),0),B(t.lastLine()),Rt)}function No(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(r,a,o,h){r&&(n.from=yt(t,r)),a&&(n.to=yt(t,a)),o&&(n.text=o),h!==void 0&&(n.origin=h)}),Mt(t,"beforeChange",t,n),t.cm&&Mt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ei(t,e,i){if(t.cm){if(!t.cm.curOp)return Zt(t.cm,ei)(t,e,i);if(t.cm.state.suppressEdits)return}if(!((oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))&&(e=No(t,e,!0),!e))){var n=wa&&!i&&il(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Ro(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text,origin:e.origin});else Ro(t,e)}}function Ro(t,e){if(!(e.text.length==1&&e.text[0]==""&&G(e.from,e.to)==0)){var i=Es(t,e);yo(t,e,i,t.cm?t.cm.curOp.id:NaN),Mi(t,e,i,Jr(t,e));var n=[];vn(t,function(r,a){!a&&vt(n,r.history)==-1&&(Po(r.history,e),n.push(r.history)),Mi(r,e,null,Jr(r,e))})}}function Ar(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!i)){for(var r=t.history,a,o=t.sel,h=e=="undo"?r.done:r.undone,p=e=="undo"?r.undone:r.done,m=0;m<h.length&&(a=h[m],!(i?a.ranges&&!a.equals(t.sel):!a.ranges));m++);if(m!=h.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(a=h.pop(),a.ranges){if(Sr(a,p),i&&!a.equals(t.sel)){se(t,a,{clearRedo:!1});return}o=a}else if(n){h.push(a);return}else break;var N=[];Sr(o,p),p.push({changes:N,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var M=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),j=function(Y){var V=a.changes[Y];if(V.origin=e,M&&!No(t,V,!1))return h.length=0,{};N.push(As(t,V));var tt=Y?Es(t,V):mt(h);Mi(t,V,tt,xo(t,V)),!Y&&t.cm&&t.cm.scrollIntoView({from:V.from,to:gn(V)});var st=[];vn(t,function(et,ut){!ut&&vt(st,et.history)==-1&&(Po(et.history,V),st.push(et.history)),Mi(et,V,null,xo(et,V))})},q=a.changes.length-1;q>=0;--q){var X=j(q);if(X)return X.v}}}}function Fo(t,e){if(e!=0&&(t.first+=e,t.sel=new Se(Ge(t.sel.ranges,function(r){return new Ot(B(r.anchor.line+e,r.anchor.ch),B(r.head.line+e,r.head.ch))}),t.sel.primIndex),t.cm)){_e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)_n(t.cm,n,"gutter")}}function Mi(t,e,i,n){if(t.cm&&!t.cm.curOp)return Zt(t.cm,Mi)(t,e,i,n);if(e.to.line<t.first){Fo(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Fo(t,r),e={from:B(t.first,0),to:B(e.to.line+r,e.to.ch),text:[mt(e.text)],origin:e.origin}}var a=t.lastLine();e.to.line>a&&(e={from:e.from,to:B(a,ct(t,a).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qe(t,e.from,e.to),i||(i=Es(t,e)),t.cm?oh(t.cm,e,n):Cs(t,e,n),Tr(t,i,Rt),t.cantEdit&&Cr(t,B(t.firstLine(),0))&&(t.cantEdit=!1)}}function oh(t,e,i){var n=t.doc,r=t.display,a=e.from,o=e.to,h=!1,p=a.line;t.options.lineWrapping||(p=Lt(Re(ct(n,a.line))),n.iter(p,o.line+1,function(q){if(q==r.maxLine)return h=!0,!0})),n.sel.contains(e.from,e.to)>-1&&er(t),Cs(n,e,i,Za(t)),t.options.lineWrapping||(n.iter(p,a.line+e.text.length,function(q){var X=cr(q);X>r.maxLineLength&&(r.maxLine=q,r.maxLineLength=X,r.maxLineChanged=!0,h=!1)}),h&&(t.curOp.updateMaxLine=!0)),Qu(n,a.line),Ri(t,400);var m=e.text.length-(o.line-a.line)-1;e.full?_e(t):a.line==o.line&&e.text.length==1&&!go(t.doc,e)?_n(t,a.line,"text"):_e(t,a.line,o.line+1,m);var N=oe(t,"changes"),M=oe(t,"change");if(M||N){var j={from:a,to:o,text:e.text,removed:e.removed,origin:e.origin};M&&Qt(t,"change",t,j),N&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function ni(t,e,i,n,r){var a;n||(n=i),G(n,i)<0&&(a=[n,i],i=a[0],n=a[1]),typeof e=="string"&&(e=t.splitLines(e)),ei(t,{from:i,to:n,text:e,origin:r})}function Do(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Mo(t,e,i,n){for(var r=0;r<t.length;++r){var a=t[r],o=!0;if(a.ranges){a.copied||(a=t[r]=a.deepCopy(),a.copied=!0);for(var h=0;h<a.ranges.length;h++)Do(a.ranges[h].anchor,e,i,n),Do(a.ranges[h].head,e,i,n);continue}for(var p=0;p<a.changes.length;++p){var m=a.changes[p];if(i<m.from.line)m.from=B(m.from.line+n,m.from.ch),m.to=B(m.to.line+n,m.to.ch);else if(e<=m.to.line){o=!1;break}}o||(t.splice(0,r+1),r=0)}}function Po(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Mo(t.done,i,n,r),Mo(t.undone,i,n,r)}function Pi(t,e,i,n){var r=e,a=e;return typeof e=="number"?a=ct(t,ke(t,e)):r=Lt(e),r==null?null:(n(a,r)&&t.cm&&_n(t.cm,r,i),a)}function Wi(t){this.lines=t,this.parent=null;for(var e=0,i=0;i<t.length;++i)t[i].parent=this,e+=t[i].height;this.height=e}Wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,ul(r),Qt(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}};function Ii(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}Ii.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var a=Math.min(e,r-t),o=n.height;if(n.removeInner(t,a),this.height-=o-n.height,r==a&&(this.children.splice(i--,1),n.parent=null),(e-=a)==0)break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Wi))){var h=[];this.collapse(h),this.children=[new Wi(h)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<=a){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var o=r.lines.length%25+25,h=o;h<r.lines.length;){var p=new Wi(r.lines.slice(h,h+=25));r.height-=p.height,this.children.splice(++n,0,p),p.parent=this}r.lines=r.lines.slice(0,o),this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Ii(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=vt(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new Ii(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(t<a){var o=Math.min(e,a-t);if(r.iterN(t,o,i))return!0;if((e-=o)==0)break;t=0}else t-=a}}};var Bi=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Bi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=Lt(i);if(!(n==null||!e)){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var a=Ei(this);Le(i,Math.max(0,i.height-a)),t&&(be(t,function(){Wo(t,i,-a),_n(t,n,"widget")}),Qt(t,"lineWidgetCleared",t,this,n))}},Bi.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Ei(this)-e;r&&(fn(this.doc,n)||Le(n,n.height+r),i&&be(i,function(){i.curOp.forceUpdate=!0,Wo(i,n,r),Qt(i,"lineWidgetChanged",i,t,Lt(n))}))},ue(Bi);function Wo(t,e,i){Je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&bs(t,i)}function uh(t,e,i,n){var r=new Bi(t,i,n),a=t.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Pi(t,e,"widget",function(o){var h=o.widgets||(o.widgets=[]);if(r.insertAt==null?h.push(r):h.splice(Math.min(h.length,Math.max(0,r.insertAt)),0,r),r.line=o,a&&!fn(t,o)){var p=Je(o)<t.scrollTop;Le(o,o.height+Ei(r)),p&&bs(a,r.height),a.curOp.forceUpdate=!0}return!0}),a&&Qt(a,"lineWidgetAdded",a,r,typeof e=="number"?e:Lt(e)),r}var Io=0,mn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Io};mn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Fn(t),oe(this,"clear")){var i=this.find();i&&Qt(this,"clear",i.from,i.to)}for(var n=null,r=null,a=0;a<this.lines.length;++a){var o=this.lines[a],h=xi(o.markedSpans,this);t&&!this.collapsed?_n(t,Lt(o),"text"):t&&(h.to!=null&&(r=Lt(o)),h.from!=null&&(n=Lt(o))),o.markedSpans=Vu(o.markedSpans,h),h.from==null&&this.collapsed&&!fn(this.doc,o)&&t&&Le(o,\$n(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var p=0;p<this.lines.length;++p){var m=Re(this.lines[p]),N=cr(m);N>t.display.maxLineLength&&(t.display.maxLine=m,t.display.maxLineLength=N,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&_e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Co(t.doc)),t&&Qt(t,"markerCleared",t,this,n,r),e&&Dn(t),this.parent&&this.parent.clear()}},mn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var a=this.lines[r],o=xi(a.markedSpans,this);if(o.from!=null&&(i=B(e?a:Lt(a),o.from),t==-1))return i;if(o.to!=null&&(n=B(e?a:Lt(a),o.to),t==1))return n}return i&&{from:i,to:n}},mn.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;!e||!n||be(n,function(){var r=e.line,a=Lt(e.line),o=as(n,a);if(o&&(ja(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!fn(i.doc,r)&&i.height!=null){var h=i.height;i.height=null;var p=Ei(i)-h;p&&Le(r,r.height+p)}Qt(n,"markerChanged",n,t)})},mn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||vt(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},mn.prototype.detachLine=function(t){if(this.lines.splice(vt(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(mn);function ii(t,e,i,n,r){if(n&&n.shared)return lh(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Zt(t.cm,ii)(t,e,i,n,r);var a=new mn(t,r),o=G(e,i);if(n&&ft(n,a,!1),o>0||o==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Q("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ca(t,e.line,e,i,a)||e.line!=i.line&&Ca(t,i.line,e,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ju()}a.addToHistory&&yo(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var h=e.line,p=t.cm,m;if(t.iter(h,i.line+1,function(M){p&&a.collapsed&&!p.options.lineWrapping&&Re(M)==p.display.maxLine&&(m=!0),a.collapsed&&h!=e.line&&Le(M,0),tl(M,new or(a,h==e.line?e.ch:null,h==i.line?i.ch:null),t.cm&&t.cm.curOp),++h}),a.collapsed&&t.iter(e.line,i.line+1,function(M){fn(t,M)&&Le(M,0)}),a.clearOnEnter&&nt(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Zu(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++Io,a.atomic=!0),p){if(m&&(p.curOp.updateMaxLine=!0),a.collapsed)_e(p,e.line,i.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var N=e.line;N<=i.line;N++)_n(p,N,"text");a.atomic&&Co(p.doc),Qt(p,"markerAdded",p,a)}return a}var zi=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};zi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Qt(this,"clear")}},zi.prototype.find=function(t,e){return this.primary.find(t,e)},ue(zi);function lh(t,e,i,n,r){n=ft(n),n.shared=!1;var a=[ii(t,e,i,n,r)],o=a[0],h=n.widgetNode;return vn(t,function(p){h&&(n.widgetNode=h.cloneNode(!0)),a.push(ii(p,yt(p,e),yt(p,i),n,r));for(var m=0;m<p.linked.length;++m)if(p.linked[m].isParent)return;o=mt(a)}),new zi(a,o)}function Bo(t){return t.findMarks(B(t.first,0),t.clipPos(B(t.lastLine())),function(e){return e.parent})}function hh(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),a=t.clipPos(r.from),o=t.clipPos(r.to);if(G(a,o)){var h=ii(t,a,o,n.primary,n.primary.type);n.markers.push(h),h.parent=n}}}function ch(t){for(var e=function(n){var r=t[n],a=[r.primary.doc];vn(r.primary.doc,function(p){return a.push(p)});for(var o=0;o<r.markers.length;o++){var h=r.markers[o];vt(a,h.doc)==-1&&(h.parent=null,r.markers.splice(o--,1))}},i=0;i<t.length;i++)e(i)}var fh=0,pe=function(t,e,i,n,r){if(!(this instanceof pe))return new pe(t,e,i,n,r);i==null&&(i=0),Ii.call(this,[new Wi([new Kn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=B(i,0);this.sel=dn(a),this.history=new kr(null),this.id=++fh,this.modeOption=e,this.lineSep=n,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Cs(this,{from:a,to:a,text:t}),se(this,dn(a),Rt)};pe.prototype=Ji(Ii.prototype,{constructor:pe,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Un(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Jt(function(t){var e=B(this.first,0),i=this.first+this.size-1;ei(this,{from:e,to:B(i,ct(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ai(this.cm,0,0),se(this,dn(e),Rt)}),replaceRange:function(t,e,i,n){e=yt(this,e),i=i?yt(this,i):e,ni(this,t,e,i,n)},getRange:function(t,e,i){var n=Qe(this,yt(this,t),yt(this,e));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(x(this,t))return ct(this,t)},getLineNumber:function(t){return Lt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ct(this,t)),Re(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e=this.sel.primary(),i;return t==null||t=="head"?i=e.head:t=="anchor"?i=e.anchor:t=="end"||t=="to"||t===!1?i=e.to():i=e.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt(function(t,e,i){So(this,yt(this,typeof t=="number"?B(t,e||0):t),null,i)}),setSelection:Jt(function(t,e,i){So(this,yt(this,t),yt(this,e||t),i)}),extendSelection:Jt(function(t,e,i){Er(this,yt(this,t),e&&yt(this,e),i)}),extendSelections:Jt(function(t,e){ko(this,_a(this,t),e)}),extendSelectionsBy:Jt(function(t,e){var i=Ge(this.sel.ranges,t);ko(this,_a(this,i),e)}),setSelections:Jt(function(t,e,i){if(t.length){for(var n=[],r=0;r<t.length;r++)n[r]=new Ot(yt(this,t[r].anchor),yt(this,t[r].head||t[r].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,De(this.cm,n,e),i)}}),addSelection:Jt(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new Ot(yt(this,t),yt(this,e||t))),se(this,De(this.cm,n,n.length-1),i)}),getSelection:function(t){for(var e=this.sel.ranges,i,n=0;n<e.length;n++){var r=Qe(this,e[n].from(),e[n].to());i=i?i.concat(r):r}return t===!1?i:i.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Qe(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Jt(function(t,e,i){for(var n=[],r=this.sel,a=0;a<r.ranges.length;a++){var o=r.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(t[a]),origin:i}}for(var h=e&&e!="end"&&Vl(this,n,e),p=n.length-1;p>=0;p--)ei(this,n[p]);h?Eo(this,h):this.cm&&Zn(this.cm)}),undo:Jt(function(){Ar(this,"undo")}),redo:Jt(function(){Ar(this,"redo")}),undoSelection:Jt(function(){Ar(this,"undo",!0)}),redoSelection:Jt(function(){Ar(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){var t=this;this.history=new kr(this.history),vn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Vn(this.history.done),undone:Vn(this.history.undone)}},setHistory:function(t){var e=this.history=new kr(this.history);e.done=Vn(t.done.slice(0),null,!0),e.undone=Vn(t.undone.slice(0),null,!0)},setGutterMarker:Jt(function(t,e,i){return Pi(this,t,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[e]=i,!i&&Vi(r)&&(n.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Pi(e,i,"gutter",function(){return i.gutterMarkers[t]=null,Vi(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!x(this,t)||(e=t,t=ct(this,t),!t))return null}else if(e=Lt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Jt(function(t,e,i){return Pi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[r])n[r]=i;else{if(I(i).test(n[r]))return!1;n[r]+=" "+i}return!0})}),removeLineClass:Jt(function(t,e,i){return Pi(this,t,e=="gutter"?"gutter":"class",function(n){var r=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",a=n[r];if(a)if(i==null)n[r]=null;else{var o=a.match(I(i));if(!o)return!1;var h=o.index+o[0].length;n[r]=a.slice(0,o.index)+(!o.index||h==a.length?"":" ")+a.slice(h)||null}else return!1;return!0})}),addLineWidget:Jt(function(t,e,i){return uh(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return ii(this,yt(this,t),yt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),ii(this,t,t,i,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],i=ct(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(r.from==null||r.from<=t.ch)&&(r.to==null||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=yt(this,t),e=yt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(a){var o=a.markedSpans;if(o)for(var h=0;h<o.length;h++){var p=o[h];!(p.to!=null&&r==t.line&&t.ch>=p.to||p.from==null&&r!=t.line||p.from!=null&&r==e.line&&p.from>=e.ch)&&(!i||i(p.marker))&&n.push(p.marker.parent||p.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+n;if(a>t)return e=t,!0;t-=a,++i}),yt(this,B(i,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+i}),e},copy:function(t){var e=new pe(Un(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<i&&(i=t.to);var n=new pe(Un(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],hh(n,Bo(this)),n},unlinkDoc:function(t){if(t instanceof Pt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var i=this.linked[e];if(i.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),ch(Bo(this));break}}if(t.history==this.history){var n=[t.id];vn(t,function(r){return n.push(r.id)},!0),t.history=new kr(null),t.history.done=Vn(this.history.done,n),t.history.undone=Vn(this.history.undone,n)}},iterLinkedDocs:function(t){vn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):bi(t)},lineSeparator:function(){return this.lineSep||\`
\`},setDirection:Jt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&th(this.cm))})}),pe.prototype.eachLine=pe.prototype.iter;var zo=0;function _h(t){var e=this;if(Ho(e),!(zt(e,t)||Ve(e.display,t))){re(t),S&&(zo=+new Date);var i=Ln(e,t,!0),n=t.dataTransfer.files;if(!(!i||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,h=function(){++o==r&&Zt(e,function(){i=yt(e.doc,i);var q={from:i,to:i,text:e.doc.splitLines(a.filter(function(X){return X!=null}).join(e.doc.lineSeparator())),origin:"paste"};ei(e.doc,q),Eo(e.doc,dn(yt(e.doc,i),yt(e.doc,gn(q))))})()},p=function(q,X){if(e.options.allowDropFileTypes&&vt(e.options.allowDropFileTypes,q.type)==-1){h();return}var Y=new FileReader;Y.onerror=function(){return h()},Y.onload=function(){var V=Y.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(V)){h();return}a[X]=V,h()},Y.readAsText(q)},m=0;m<n.length;m++)p(n[m],m);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var N=t.dataTransfer.getData("Text");if(N){var M;if(e.state.draggingText&&!e.state.draggingText.copy&&(M=e.listSelections()),Tr(e.doc,dn(i,i)),M)for(var j=0;j<M.length;++j)ni(e.doc,"",M[j].anchor,M[j].head,"drag");e.replaceSelection(N,"around","paste"),e.display.input.focus()}}catch{}}}}function ph(t,e){if(S&&(!t.state.draggingText||+new Date-zo<100)){Xe(e);return}if(!(zt(t,e)||Ve(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!F)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),b&&i.parentNode.removeChild(i)}}function dh(t,e){var i=Ln(t,e);if(i){var n=document.createDocumentFragment();ps(t,i,n),t.display.dragCursor||(t.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),K(t.display.dragCursor,n)}}function Ho(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function qo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var a=0;a<i.length;a++)t(i[a])})}}var jo=!1;function gh(){jo||(vh(),jo=!0)}function vh(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,qo(mh)},100))}),nt(window,"blur",function(){return qo(Qn)})}function mh(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var bn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Hi=0;Hi<10;Hi++)bn[Hi+48]=bn[Hi+96]=String(Hi);for(var Lr=65;Lr<=90;Lr++)bn[Lr]=String.fromCharCode(Lr);for(var qi=1;qi<=12;qi++)bn[qi+111]=bn[qi+63235]="F"+qi;var en={};en.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},en.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},en.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},en.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},en.default=z?en.macDefault:en.pcDefault;function bh(t){var e=t.split(/-(?!\$)/);t=e[e.length-1];for(var i,n,r,a,o=0;o<e.length-1;o++){var h=e[o];if(/^(cmd|meta|m)\$/i.test(h))a=!0;else if(/^a(lt)?\$/i.test(h))i=!0;else if(/^(c|ctrl|control)\$/i.test(h))n=!0;else if(/^s(hift)?\$/i.test(h))r=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),a&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function yh(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)\$/.test(i))continue;if(n=="..."){delete t[i];continue}for(var r=Ge(i.split(" "),bh),a=0;a<r.length;a++){var o=void 0,h=void 0;a==r.length-1?(h=r.join(" "),o=n):(h=r.slice(0,a+1).join(" "),o="...");var p=e[h];if(!p)e[h]=o;else if(p!=o)throw new Error("Inconsistent bindings for "+h)}delete t[i]}for(var m in e)t[m]=e[m];return t}function ri(t,e,i,n){e=Or(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&i(r))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return ri(t,e.fallthrough,i,n);for(var a=0;a<e.fallthrough.length;a++){var o=ri(t,e.fallthrough[a],i,n);if(o)return o}}}function Uo(t){var e=typeof t=="string"?t:bn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function Ko(t,e,i){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(ot?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(ot?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!i&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function Go(t,e){if(b&&t.keyCode==34&&t.char)return!1;var i=bn[t.keyCode];return i==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(i=t.code),Ko(i,t,e))}function Or(t){return typeof t=="string"?en[t]:t}function si(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=e(i[r]);n.length&&G(a.from,mt(n).to)<=0;){var o=n.pop();if(G(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}be(t,function(){for(var h=n.length-1;h>=0;h--)ni(t.doc,"",n[h].from,n[h].to,"+delete");Zn(t)})}function Ns(t,e,i){var n=Pe(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Rs(t,e,i){var n=Ns(t,e.ch,i);return n==null?null:new B(e.line,n,i<0?"after":"before")}function Fs(t,e,i,n,r){if(t){e.doc.direction=="rtl"&&(r=-r);var a=Ce(i,e.doc.direction);if(a){var o=r<0?mt(a):a[0],h=r<0==(o.level==1),p=h?"after":"before",m;if(o.level>0||e.doc.direction=="rtl"){var N=Xn(e,i);m=r<0?i.text.length-1:0;var M=je(e,N,m).top;m=Bt(function(j){return je(e,N,j).top==M},r<0==(o.level==1)?o.from:o.to-1,m),p=="before"&&(m=Ns(i,m,1))}else m=r<0?o.to:o.from;return new B(n,m,p)}}return new B(n,r<0?i.text.length:0,r<0?"before":"after")}function wh(t,e,i,n){var r=Ce(e,t.doc.direction);if(!r)return Rs(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=Te(r,i.ch,i.sticky),o=r[a];if(t.doc.direction=="ltr"&&o.level%2==0&&(n>0?o.to>i.ch:o.from<i.ch))return Rs(e,i,n);var h=function(tt,st){return Ns(e,tt instanceof B?tt.ch:tt,st)},p,m=function(tt){return t.options.lineWrapping?(p=p||Xn(t,e),Qa(t,e,p,tt)):{begin:0,end:e.text.length}},N=m(i.sticky=="before"?h(i,-1):i.ch);if(t.doc.direction=="rtl"||o.level==1){var M=o.level==1==n<0,j=h(i,M?1:-1);if(j!=null&&(M?j<=o.to&&j<=N.end:j>=o.from&&j>=N.begin)){var q=M?"before":"after";return new B(i.line,j,q)}}var X=function(tt,st,et){for(var ut=function(Dt,Vt){return Vt?new B(i.line,h(Dt,1),"before"):new B(i.line,Dt,"after")};tt>=0&&tt<r.length;tt+=st){var gt=r[tt],pt=st>0==(gt.level!=1),xt=pt?et.begin:h(et.end,-1);if(gt.from<=xt&&xt<gt.to||(xt=pt?gt.from:h(gt.to,-1),et.begin<=xt&&xt<et.end))return ut(xt,pt)}},Y=X(a+n,n,N);if(Y)return Y;var V=n>0?N.end:h(N.begin,-1);return V!=null&&!(n>0&&V==e.text.length)&&(Y=X(n>0?0:r.length-1,n,m(V)),Y)?Y:null}var ji={selectAll:Oo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rt)},killLine:function(t){return si(t,function(e){if(e.empty()){var i=ct(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:B(e.head.line+1,0)}:{from:e.head,to:B(e.head.line,i)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return si(t,function(e){return{from:B(e.from().line,0),to:yt(t.doc,B(e.to().line+1,0))}})},delLineLeft:function(t){return si(t,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return si(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return si(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(B(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(B(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Xo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return \$o(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return xh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},we)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},we)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\\S/)?\$o(t,e.head):n},we)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var a=i[r].from(),o=at(t.getLine(a.line),a.ch,n);e.push(It(n-o%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return be(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,a=ct(t.doc,r.line).text;if(a){if(r.ch==a.length&&(r=new B(r.line,r.ch-1)),r.ch>0)r=new B(r.line,r.ch+1),t.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),B(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var o=ct(t.doc,r.line-1).text;o&&(r=new B(r.line,1),t.replaceRange(a.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),B(r.line-1,o.length-1),r,"+transpose"))}}i.push(new Ot(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return be(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Zn(t)})},openLine:function(t){return t.replaceSelection(\`
\`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Xo(t,e){var i=ct(t.doc,e),n=Re(i);return n!=i&&(e=Lt(n)),Fs(!0,t,n,e,1)}function xh(t,e){var i=ct(t.doc,e),n=sl(i);return n!=i&&(e=Lt(n)),Fs(!0,t,i,e,-1)}function \$o(t,e){var i=Xo(t,e.line),n=ct(t.doc,i.line),r=Ce(n,t.doc.direction);if(!r||r[0].level==0){var a=Math.max(i.ch,n.text.search(/\\S/)),o=e.line==i.line&&e.ch<=a&&e.ch;return B(i.line,o?0:a,i.sticky)}return i}function Nr(t,e,i){if(typeof e=="string"&&(e=ji[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Et}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function kh(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ri(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ri(e,t.options.extraKeys,i,t)||ri(e,t.options.keyMap,i,t)}var Sh=new _t;function Ui(t,e,i,n){var r=t.state.keySeq;if(r){if(Uo(e))return"handled";if(/\\'\$/.test(e)?t.state.keySeq=null:Sh.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Yo(t,r+" "+e,i,n))return!0}return Yo(t,e,i,n)}function Yo(t,e,i,n){var r=kh(t,e,n);return r=="multi"&&(t.state.keySeq=e),r=="handled"&&Qt(t,"keyHandled",t,e,i),(r=="handled"||r=="multi")&&(re(i),ds(t)),!!r}function Qo(t,e){var i=Go(e,!0);return i?e.shiftKey&&!t.state.keySeq?Ui(t,"Shift-"+i,e,function(n){return Nr(t,n,!0)})||Ui(t,i,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Nr(t,n)}):Ui(t,i,e,function(n){return Nr(t,n)}):!1}function Eh(t,e,i){return Ui(t,"'"+i+"'",e,function(n){return Nr(t,n,!0)})}var Ds=null;function Zo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=lt(wt(e)),!zt(e,t))){S&&w<11&&t.keyCode==27&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=i==16||t.shiftKey;var n=Qo(e,t);b&&(Ds=n?i:null,!n&&i==88&&!Ie&&(z?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),c&&!z&&!n&&i==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className)&&Th(e)}}function Th(t){var e=t.display.lineDiv;A(e,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(R(e,"CodeMirror-crosshair"),ie(document,"keyup",i),ie(document,"mouseover",i))}nt(document,"keyup",i),nt(document,"mouseover",i)}function Jo(t){t.keyCode==16&&(this.doc.sel.shift=!1),zt(this,t)}function Vo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(Ve(e.display,t)||zt(e,t)||t.ctrlKey&&!t.altKey||z&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(b&&i==Ds){Ds=null,re(t);return}if(!(b&&(!t.which||t.which<10)&&Qo(e,t))){var r=String.fromCharCode(n??i);r!="\\b"&&(Eh(e,t,r)||e.display.input.onKeyPress(t))}}}var Ch=400,Ms=function(t,e,i){this.time=t,this.pos=e,this.button=i};Ms.prototype.compare=function(t,e,i){return this.time+Ch>t&&G(e,this.pos)==0&&i==this.button};var Ki,Gi;function Ah(t,e){var i=+new Date;return Gi&&Gi.compare(i,t,e)?(Ki=Gi=null,"triple"):Ki&&Ki.compare(i,t,e)?(Gi=new Ms(i,t,e),Ki=null,"double"):(Ki=new Ms(i,t,e),Gi=null,"single")}function tu(t){var e=this,i=e.display;if(!(zt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,Ve(i,t)){d||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Ps(e,t)){var n=Ln(e,t),r=mi(t),a=n?Ah(n,r):"single";Nt(e).focus(),r==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&Lh(e,r,n,a,t))&&(r==1?n?Nh(e,n,a,t):fe(t)==i.scroller&&re(t):r==2?(n&&Er(e.doc,n),setTimeout(function(){return i.input.focus()},20)):r==3&&(rt?e.display.input.onContextMenu(t):gs(e)))}}}function Lh(t,e,i,n,r){var a="Click";return n=="double"?a="Double"+a:n=="triple"&&(a="Triple"+a),a=(e==1?"Left":e==2?"Middle":"Right")+a,Ui(t,Ko(a,r),r,function(o){if(typeof o=="string"&&(o=ji[o]),!o)return!1;var h=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),h=o(t,i)!=Et}finally{t.state.suppressEdits=!1}return h})}function Oh(t,e,i){var n=t.getOption("configureMouse"),r=n?n(t,e,i):{};if(r.unit==null){var a=H?i.shiftKey&&i.metaKey:i.altKey;r.unit=a?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(r.extend==null||t.doc.extend)&&(r.extend=t.doc.extend||i.shiftKey),r.addNew==null&&(r.addNew=z?i.metaKey:i.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(z?i.altKey:i.ctrlKey)),r}function Nh(t,e,i,n){S?setTimeout(kt(to,t),0):t.curOp.focus=lt(wt(t));var r=Oh(t,i,n),a=t.doc.sel,o;t.options.dragDrop&&\$r&&!t.isReadOnly()&&i=="single"&&(o=a.contains(e))>-1&&(G((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(G(o.to(),e)>0||e.xRel<0)?Rh(t,n,e,r):Fh(t,n,e,r)}function Rh(t,e,i,n){var r=t.display,a=!1,o=Zt(t,function(m){d&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:gs(t)),ie(r.wrapper.ownerDocument,"mouseup",o),ie(r.wrapper.ownerDocument,"mousemove",h),ie(r.scroller,"dragstart",p),ie(r.scroller,"drop",o),a||(re(m),n.addNew||Er(t.doc,i,null,null,n.extend),d&&!F||S&&w==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),h=function(m){a=a||Math.abs(e.clientX-m.clientX)+Math.abs(e.clientY-m.clientY)>=10},p=function(){return a=!0};d&&(r.scroller.draggable=!0),t.state.draggingText=o,o.copy=!n.moveOnDrag,nt(r.wrapper.ownerDocument,"mouseup",o),nt(r.wrapper.ownerDocument,"mousemove",h),nt(r.scroller,"dragstart",p),nt(r.scroller,"drop",o),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function eu(t,e,i){if(i=="char")return new Ot(e,e);if(i=="word")return t.findWordAt(e);if(i=="line")return new Ot(B(e.line,0),yt(t.doc,B(e.line+1,0)));var n=i(t,e);return new Ot(n.from,n.to)}function Fh(t,e,i,n){S&&gs(t);var r=t.display,a=t.doc;re(e);var o,h,p=a.sel,m=p.ranges;if(n.addNew&&!n.extend?(h=a.sel.contains(i),h>-1?o=m[h]:o=new Ot(i,i)):(o=a.sel.primary(),h=a.sel.primIndex),n.unit=="rectangle")n.addNew||(o=new Ot(i,i)),i=Ln(t,e,!0,!0),h=-1;else{var N=eu(t,i,n.unit);n.extend?o=Ls(o,N.anchor,N.head,n.extend):o=N}n.addNew?h==-1?(h=m.length,se(a,De(t,m.concat([o]),h),{scroll:!1,origin:"*mouse"})):m.length>1&&m[h].empty()&&n.unit=="char"&&!n.extend?(se(a,De(t,m.slice(0,h).concat(m.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=a.sel):Os(a,h,o,Ee):(h=0,se(a,new Se([o],0),Ee),p=a.sel);var M=i;function j(et){if(G(M,et)!=0)if(M=et,n.unit=="rectangle"){for(var ut=[],gt=t.options.tabSize,pt=at(ct(a,i.line).text,i.ch,gt),xt=at(ct(a,et.line).text,et.ch,gt),Dt=Math.min(pt,xt),Vt=Math.max(pt,xt),Wt=Math.min(i.line,et.line),ye=Math.min(t.lastLine(),Math.max(i.line,et.line));Wt<=ye;Wt++){var de=ct(a,Wt).text,Ut=xe(de,Dt,gt);Dt==Vt?ut.push(new Ot(B(Wt,Ut),B(Wt,Ut))):de.length>Ut&&ut.push(new Ot(B(Wt,Ut),B(Wt,xe(de,Vt,gt))))}ut.length||ut.push(new Ot(i,i)),se(a,De(t,p.ranges.slice(0,h).concat(ut),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(et)}else{var ge=o,ne=eu(t,et,n.unit),\$t=ge.anchor,Kt;G(ne.anchor,\$t)>0?(Kt=ne.head,\$t=Xt(ge.from(),ne.anchor)):(Kt=ne.anchor,\$t=Ct(ge.to(),ne.head));var qt=p.ranges.slice(0);qt[h]=Dh(t,new Ot(yt(a,\$t),Kt)),se(a,De(t,qt,h),Ee)}}var q=r.wrapper.getBoundingClientRect(),X=0;function Y(et){var ut=++X,gt=Ln(t,et,!0,n.unit=="rectangle");if(gt)if(G(gt,M)!=0){t.curOp.focus=lt(wt(t)),j(gt);var pt=br(r,a);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Zt(t,function(){X==ut&&Y(et)}),150)}else{var xt=et.clientY<q.top?-20:et.clientY>q.bottom?20:0;xt&&setTimeout(Zt(t,function(){X==ut&&(r.scroller.scrollTop+=xt,Y(et))}),50)}}function V(et){t.state.selectingText=!1,X=1/0,et&&(re(et),r.input.focus()),ie(r.wrapper.ownerDocument,"mousemove",tt),ie(r.wrapper.ownerDocument,"mouseup",st),a.history.lastSelOrigin=null}var tt=Zt(t,function(et){et.buttons===0||!mi(et)?V(et):Y(et)}),st=Zt(t,V);t.state.selectingText=st,nt(r.wrapper.ownerDocument,"mousemove",tt),nt(r.wrapper.ownerDocument,"mouseup",st)}function Dh(t,e){var i=e.anchor,n=e.head,r=ct(t.doc,i.line);if(G(i,n)==0&&i.sticky==n.sticky)return e;var a=Ce(r);if(!a)return e;var o=Te(a,i.ch,i.sticky),h=a[o];if(h.from!=i.ch&&h.to!=i.ch)return e;var p=o+(h.from==i.ch==(h.level!=1)?0:1);if(p==0||p==a.length)return e;var m;if(n.line!=i.line)m=(n.line-i.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var N=Te(a,n.ch,n.sticky),M=N-o||(n.ch-i.ch)*(h.level==1?-1:1);N==p-1||N==p?m=M<0:m=M>0}var j=a[p+(m?-1:0)],q=m==(j.level==1),X=q?j.from:j.to,Y=q?"after":"before";return i.ch==X&&i.sticky==Y?e:new Ot(new B(i.line,X,Y),n)}function nu(t,e,i,n){var r,a;if(e.touches)r=e.touches[0].clientX,a=e.touches[0].clientY;else try{r=e.clientX,a=e.clientY}catch{return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&re(e);var o=t.display,h=o.lineDiv.getBoundingClientRect();if(a>h.bottom||!oe(t,i))return vi(e);a-=h.top-o.viewOffset;for(var p=0;p<t.display.gutterSpecs.length;++p){var m=o.gutters.childNodes[p];if(m&&m.getBoundingClientRect().right>=r){var N=ze(t.doc,a),M=t.display.gutterSpecs[p];return Mt(t,i,t,N,M.className,e),vi(e)}}}function Ps(t,e){return nu(t,e,"gutterClick",!0)}function iu(t,e){Ve(t.display,e)||Mh(t,e)||zt(t,e,"contextmenu")||rt||t.display.input.onContextMenu(e)}function Mh(t,e){return oe(t,"gutterContextMenu")?nu(t,e,"gutterContextMenu",!1):!1}function ru(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,"")+t.options.theme.replace(/(^|\\s)\\s*/g," cm-s-"),Ti(t)}var ai={toString:function(){return"CodeMirror.Init"}},su={},Rr={};function Ph(t){var e=t.optionHandlers;function i(n,r,a,o){t.defaults[n]=r,a&&(e[n]=o?function(h,p,m){m!=ai&&a(h,p,m)}:a)}t.defineOption=i,t.Init=ai,i("value","",function(n,r){return n.setValue(r)},!0),i("mode",null,function(n,r){n.doc.modeOption=r,Ts(n)},!0),i("indentUnit",2,Ts,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Di(n),Ti(n),_e(n)},!0),i("lineSeparator",null,function(n,r){if(n.doc.lineSep=r,!!r){var a=[],o=n.doc.first;n.doc.iter(function(p){for(var m=0;;){var N=p.text.indexOf(r,m);if(N==-1)break;m=N+r.length,a.push(B(o,N))}o++});for(var h=a.length-1;h>=0;h--)ni(n.doc,r,a[h],B(a[h].line,a[h].ch+r.length))}}),i("specialChars",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g,function(n,r,a){n.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),a!=ai&&n.refresh()}),i("specialCharPlaceholder",cl,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,r){return n.getInputField().spellcheck=r},!0),i("autocorrect",!1,function(n,r){return n.getInputField().autocorrect=r},!0),i("autocapitalize",!1,function(n,r){return n.getInputField().autocapitalize=r},!0),i("rtlMoveVisually",!U),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){ru(n),Fi(n)},!0),i("keyMap","default",function(n,r,a){var o=Or(r),h=a!=ai&&Or(a);h&&h.detach&&h.detach(n,o),o.attach&&o.attach(n,h||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Ih,!0),i("gutters",[],function(n,r){n.display.gutterSpecs=Ss(r,n.options.lineNumbers),Fi(n)},!0),i("fixedGutter",!0,function(n,r){n.display.gutters.style.left=r?fs(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return Jn(n)},!0),i("scrollbarStyle","native",function(n){ao(n),Jn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,r){n.display.gutterSpecs=Ss(n.options.gutters,r),Fi(n)},!0),i("firstLineNumber",1,Fi,!0),i("lineNumberFormatter",function(n){return n},Fi,!0),i("showCursorWhenSelecting",!1,Ci,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,r){r=="nocursor"&&(Qn(n),n.display.input.blur()),n.display.input.readOnlyChanged(r)}),i("screenReaderLabel",null,function(n,r){r=r===""?null:r,n.display.input.screenReaderLabelChanged(r)}),i("disableInput",!1,function(n,r){r||n.display.input.reset()},!0),i("dragDrop",!0,Wh),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Ci,!0),i("singleCursorHeightPerLine",!0,Ci,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Di,!0),i("addModeClass",!1,Di,!0),i("pollInterval",100),i("undoDepth",200,function(n,r){return n.doc.history.undoDepth=r}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Di,!0),i("moveInputWithCursor",!0,function(n,r){r||n.display.input.resetPosition()}),i("tabindex",null,function(n,r){return n.display.input.getField().tabIndex=r||""}),i("autofocus",null),i("direction","ltr",function(n,r){return n.doc.setDirection(r)},!0),i("phrases",null)}function Wh(t,e,i){var n=i&&i!=ai;if(!e!=!n){var r=t.display.dragFunctions,a=e?nt:ie;a(t.display.scroller,"dragstart",r.start),a(t.display.scroller,"dragenter",r.enter),a(t.display.scroller,"dragover",r.over),a(t.display.scroller,"dragleave",r.leave),a(t.display.scroller,"drop",r.drop)}}function Ih(t){t.options.lineWrapping?(A(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(R(t.display.wrapper,"CodeMirror-wrap"),ns(t)),_s(t),_e(t),Ti(t),setTimeout(function(){return Jn(t)},100)}function Pt(t,e){var i=this;if(!(this instanceof Pt))return new Pt(t,e);this.options=e=e?ft(e):{},ft(su,e,!1);var n=e.value;typeof n=="string"?n=new pe(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var r=new Pt.inputStyles[e.inputStyle](this),a=this.display=new Zl(t,n,r,e);a.wrapper.CodeMirror=this,ru(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ao(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _t,keySeq:null,specialChars:null},e.autofocus&&!D&&a.input.focus(),S&&w<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Bh(this),gh(),Fn(this),this.curOp.forceUpdate=!0,vo(this,n),e.autofocus&&!D||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&vs(i)},20):Qn(this);for(var o in Rr)Rr.hasOwnProperty(o)&&Rr[o](this,e[o],ai);lo(this),e.finishInit&&e.finishInit(this);for(var h=0;h<Ws.length;++h)Ws[h](this);Dn(this),d&&e.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Pt.defaults=su,Pt.optionHandlers=Rr;function Bh(t){var e=t.display;nt(e.scroller,"mousedown",Zt(t,tu)),S&&w<11?nt(e.scroller,"dblclick",Zt(t,function(p){if(!zt(t,p)){var m=Ln(t,p);if(!(!m||Ps(t,p)||Ve(t.display,p))){re(p);var N=t.findWordAt(m);Er(t.doc,N.anchor,N.head)}}})):nt(e.scroller,"dblclick",function(p){return zt(t,p)||re(p)}),nt(e.scroller,"contextmenu",function(p){return iu(t,p)}),nt(e.input.getField(),"contextmenu",function(p){e.scroller.contains(p.target)||iu(t,p)});var i,n={end:0};function r(){e.activeTouch&&(i=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function a(p){if(p.touches.length!=1)return!1;var m=p.touches[0];return m.radiusX<=1&&m.radiusY<=1}function o(p,m){if(m.left==null)return!0;var N=m.left-p.left,M=m.top-p.top;return N*N+M*M>20*20}nt(e.scroller,"touchstart",function(p){if(!zt(t,p)&&!a(p)&&!Ps(t,p)){e.input.ensurePolled(),clearTimeout(i);var m=+new Date;e.activeTouch={start:m,moved:!1,prev:m-n.end<=300?n:null},p.touches.length==1&&(e.activeTouch.left=p.touches[0].pageX,e.activeTouch.top=p.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(p){var m=e.activeTouch;if(m&&!Ve(e,p)&&m.left!=null&&!m.moved&&new Date-m.start<300){var N=t.coordsChar(e.activeTouch,"page"),M;!m.prev||o(m,m.prev)?M=new Ot(N,N):!m.prev.prev||o(m,m.prev.prev)?M=t.findWordAt(N):M=new Ot(B(N.line,0),yt(t.doc,B(N.line+1,0))),t.setSelection(M.anchor,M.head),t.focus(),re(p)}r()}),nt(e.scroller,"touchcancel",r),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Li(t,e.scroller.scrollTop),Nn(t,e.scroller.scrollLeft,!0),Mt(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(p){return fo(t,p)}),nt(e.scroller,"DOMMouseScroll",function(p){return fo(t,p)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(p){zt(t,p)||Xe(p)},over:function(p){zt(t,p)||(dh(t,p),Xe(p))},start:function(p){return ph(t,p)},drop:Zt(t,_h),leave:function(p){zt(t,p)||Ho(t)}};var h=e.input.getField();nt(h,"keyup",function(p){return Jo.call(t,p)}),nt(h,"keydown",Zt(t,Zo)),nt(h,"keypress",Zt(t,Vo)),nt(h,"focus",function(p){return vs(t,p)}),nt(h,"blur",function(p){return Qn(t,p)})}var Ws=[];Pt.defineInitHook=function(t){return Ws.push(t)};function Xi(t,e,i,n){var r=t.doc,a;i==null&&(i="add"),i=="smart"&&(r.mode.indent?a=wi(t,e).state:i="prev");var o=t.options.tabSize,h=ct(r,e),p=at(h.text,null,o);h.stateAfter&&(h.stateAfter=null);var m=h.text.match(/^\\s*/)[0],N;if(!n&&!/\\S/.test(h.text))N=0,i="not";else if(i=="smart"&&(N=r.mode.indent(a,h.text.slice(m.length),h.text),N==Et||N>150)){if(!n)return;i="prev"}i=="prev"?e>r.first?N=at(ct(r,e-1).text,null,o):N=0:i=="add"?N=p+t.options.indentUnit:i=="subtract"?N=p-t.options.indentUnit:typeof i=="number"&&(N=p+i),N=Math.max(0,N);var M="",j=0;if(t.options.indentWithTabs)for(var q=Math.floor(N/o);q;--q)j+=o,M+="	";if(j<N&&(M+=It(N-j)),M!=m)return ni(r,M,B(e,0),B(e,m.length),"+input"),h.stateAfter=null,!0;for(var X=0;X<r.sel.ranges.length;X++){var Y=r.sel.ranges[X];if(Y.head.line==e&&Y.head.ch<m.length){var V=B(e,m.length);Os(r,X,new Ot(V,V));break}}}var Me=null;function Fr(t){Me=t}function Is(t,e,i,n,r){var a=t.doc;t.display.shift=!1,n||(n=a.sel);var o=+new Date-200,h=r=="paste"||t.state.pasteIncoming>o,p=bi(e),m=null;if(h&&n.ranges.length>1)if(Me&&Me.text.join(\`
\`)==e){if(n.ranges.length%Me.text.length==0){m=[];for(var N=0;N<Me.text.length;N++)m.push(a.splitLines(Me.text[N]))}}else p.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(m=Ge(p,function(tt){return[tt]}));for(var M=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var q=n.ranges[j],X=q.from(),Y=q.to();q.empty()&&(i&&i>0?X=B(X.line,X.ch-i):t.state.overwrite&&!h?Y=B(Y.line,Math.min(ct(a,Y.line).text.length,Y.ch+mt(p).length)):h&&Me&&Me.lineWise&&Me.text.join(\`
\`)==p.join(\`
\`)&&(X=Y=B(X.line,0)));var V={from:X,to:Y,text:m?m[j%m.length]:p,origin:r||(h?"paste":t.state.cutIncoming>o?"cut":"+input")};ei(t.doc,V),Qt(t,"inputRead",t,V)}e&&!h&&ou(t,e),Zn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=M),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function au(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&be(e,function(){return Is(e,i,0,null,"paste")}),!0}function ou(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var a=t.getModeAt(r.head),o=!1;if(a.electricChars){for(var h=0;h<a.electricChars.length;h++)if(e.indexOf(a.electricChars.charAt(h))>-1){o=Xi(t,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ct(t.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Xi(t,r.head.line,"smart"));o&&Qt(t,"electricInput",t,r.head.line)}}}function uu(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,a={anchor:B(r,0),head:B(r+1,0)};i.push(a),e.push(t.getRange(a.anchor,a.head))}return{text:e,ranges:i}}function Bs(t,e,i,n){t.setAttribute("autocorrect",i?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function lu(){var t=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=L("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?t.style.width="1000px":t.setAttribute("wrap","off"),y&&(t.style.border="1px solid black"),e}function zh(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){Nt(this).focus(),this.display.input.focus()},setOption:function(n,r){var a=this.options,o=a[n];a[n]==r&&n!="mode"||(a[n]=r,e.hasOwnProperty(n)&&Zt(this,e[n])(this,r,o),Mt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,r){this.state.keyMaps[r?"push":"unshift"](Or(n))},removeKeyMap:function(n){for(var r=this.state.keyMaps,a=0;a<r.length;++a)if(r[a]==n||r[a].name==n)return r.splice(a,1),!0},addOverlay:le(function(n,r){var a=n.token?n:t.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");on(this.state.overlays,{mode:a,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},function(o){return o.priority}),this.state.modeGen++,_e(this)}),removeOverlay:le(function(n){for(var r=this.state.overlays,a=0;a<r.length;++a){var o=r[a].modeSpec;if(o==n||typeof n=="string"&&o.name==n){r.splice(a,1),this.state.modeGen++,_e(this);return}}}),indentLine:le(function(n,r,a){typeof r!="string"&&typeof r!="number"&&(r==null?r=this.options.smartIndent?"smart":"prev":r=r?"add":"subtract"),x(this.doc,n)&&Xi(this,n,r,a)}),indentSelection:le(function(n){for(var r=this.doc.sel.ranges,a=-1,o=0;o<r.length;o++){var h=r[o];if(h.empty())h.head.line>a&&(Xi(this,h.head.line,n,!0),a=h.head.line,o==this.doc.sel.primIndex&&Zn(this));else{var p=h.from(),m=h.to(),N=Math.max(a,p.line);a=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var M=N;M<a;++M)Xi(this,M,n);var j=this.doc.sel.ranges;p.ch==0&&r.length==j.length&&j[o].from().ch>0&&Os(this.doc,o,new Ot(p,j[o].to()),Rt)}}}),getTokenAt:function(n,r){return ma(this,n,r)},getLineTokens:function(n,r){return ma(this,B(n),r,!0)},getTokenTypeAt:function(n){n=yt(this.doc,n);var r=da(this,ct(this.doc,n.line)),a=0,o=(r.length-1)/2,h=n.ch,p;if(h==0)p=r[2];else for(;;){var m=a+o>>1;if((m?r[m*2-1]:0)>=h)o=m;else if(r[m*2+1]<h)a=m+1;else{p=r[m*2+2];break}}var N=p?p.indexOf("overlay "):-1;return N<0?p:N==0?null:p.slice(0,N-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(n,r){return this.getHelpers(n,r)[0]},getHelpers:function(n,r){var a=[];if(!i.hasOwnProperty(r))return a;var o=i[r],h=this.getModeAt(n);if(typeof h[r]=="string")o[h[r]]&&a.push(o[h[r]]);else if(h[r])for(var p=0;p<h[r].length;p++){var m=o[h[r][p]];m&&a.push(m)}else h.helperType&&o[h.helperType]?a.push(o[h.helperType]):o[h.name]&&a.push(o[h.name]);for(var N=0;N<o._global.length;N++){var M=o._global[N];M.pred(h,this)&&vt(a,M.val)==-1&&a.push(M.val)}return a},getStateAfter:function(n,r){var a=this.doc;return n=ke(a,n??a.first+a.size-1),wi(this,n+1,r).state},cursorCoords:function(n,r){var a,o=this.doc.sel.primary();return n==null?a=o.head:typeof n=="object"?a=yt(this.doc,n):a=n?o.from():o.to(),Fe(this,a,r||"page")},charCoords:function(n,r){return dr(this,yt(this.doc,n),r||"page")},coordsChar:function(n,r){return n=Xa(this,n,r||"page"),ls(this,n.left,n.top)},lineAtHeight:function(n,r){return n=Xa(this,{top:n,left:0},r||"page").top,ze(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,r,a){var o=!1,h;if(typeof n=="number"){var p=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>p&&(n=p,o=!0),h=ct(this.doc,n)}else h=n;return pr(this,h,{top:0,left:0},r||"page",a||o).top+(o?this.doc.height-Je(h):0)},defaultTextHeight:function(){return \$n(this.display)},defaultCharWidth:function(){return Yn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,r,a,o,h){var p=this.display;n=Fe(this,yt(this.doc,n));var m=n.bottom,N=n.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),p.sizer.appendChild(r),o=="over")m=n.top;else if(o=="above"||o=="near"){var M=Math.max(p.wrapper.clientHeight,this.doc.height),j=Math.max(p.sizer.clientWidth,p.lineSpace.clientWidth);(o=="above"||n.bottom+r.offsetHeight>M)&&n.top>r.offsetHeight?m=n.top-r.offsetHeight:n.bottom+r.offsetHeight<=M&&(m=n.bottom),N+r.offsetWidth>j&&(N=j-r.offsetWidth)}r.style.top=m+"px",r.style.left=r.style.right="",h=="right"?(N=p.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(h=="left"?N=0:h=="middle"&&(N=(p.sizer.clientWidth-r.offsetWidth)/2),r.style.left=N+"px"),a&&Wl(this,{left:N,top:m,right:N+r.offsetWidth,bottom:m+r.offsetHeight})},triggerOnKeyDown:le(Zo),triggerOnKeyPress:le(Vo),triggerOnKeyUp:Jo,triggerOnMouseDown:le(tu),execCommand:function(n){if(ji.hasOwnProperty(n))return ji[n].call(null,this)},triggerElectric:le(function(n){ou(this,n)}),findPosH:function(n,r,a,o){var h=1;r<0&&(h=-1,r=-r);for(var p=yt(this.doc,n),m=0;m<r&&(p=zs(this.doc,p,h,a,o),!p.hitSide);++m);return p},moveH:le(function(n,r){var a=this;this.extendSelectionsBy(function(o){return a.display.shift||a.doc.extend||o.empty()?zs(a.doc,o.head,n,r,a.options.rtlMoveVisually):n<0?o.from():o.to()},we)}),deleteH:le(function(n,r){var a=this.doc.sel,o=this.doc;a.somethingSelected()?o.replaceSelection("",null,"+delete"):si(this,function(h){var p=zs(o,h.head,n,r,!1);return n<0?{from:p,to:h.head}:{from:h.head,to:p}})}),findPosV:function(n,r,a,o){var h=1,p=o;r<0&&(h=-1,r=-r);for(var m=yt(this.doc,n),N=0;N<r;++N){var M=Fe(this,m,"div");if(p==null?p=M.left:M.left=p,m=hu(this,M,h,a),m.hitSide)break}return m},moveV:le(function(n,r){var a=this,o=this.doc,h=[],p=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(N){if(p)return n<0?N.from():N.to();var M=Fe(a,N.head,"div");N.goalColumn!=null&&(M.left=N.goalColumn),h.push(M.left);var j=hu(a,M,n,r);return r=="page"&&N==o.sel.primary()&&bs(a,dr(a,j,"div").top-M.top),j},we),h.length)for(var m=0;m<o.sel.ranges.length;m++)o.sel.ranges[m].goalColumn=h[m]}),findWordAt:function(n){var r=this.doc,a=ct(r,n.line).text,o=n.ch,h=n.ch;if(a){var p=this.getHelper(n,"wordChars");(n.sticky=="before"||h==a.length)&&o?--o:++h;for(var m=a.charAt(o),N=zn(m,p)?function(M){return zn(M,p)}:/\\s/.test(m)?function(M){return/\\s/.test(M)}:function(M){return!/\\s/.test(M)&&!zn(M)};o>0&&N(a.charAt(o-1));)--o;for(;h<a.length&&N(a.charAt(h));)++h}return new Ot(B(n.line,o),B(n.line,h))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:le(function(n,r){Ai(this,n,r)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-qe(this)-this.display.barHeight,width:n.scrollWidth-qe(this)-this.display.barWidth,clientHeight:ss(this),clientWidth:Cn(this)}},scrollIntoView:le(function(n,r){n==null?(n={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof n=="number"?n={from:B(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=r||0,n.from.line!=null?Il(this,n):no(this,n.from,n.to,n.margin)}),setSize:le(function(n,r){var a=this,o=function(p){return typeof p=="number"||/^\\d+\$/.test(String(p))?p+"px":p};n!=null&&(this.display.wrapper.style.width=o(n)),r!=null&&(this.display.wrapper.style.height=o(r)),this.options.lineWrapping&&Ua(this);var h=this.display.viewFrom;this.doc.iter(h,this.display.viewTo,function(p){if(p.widgets){for(var m=0;m<p.widgets.length;m++)if(p.widgets[m].noHScroll){_n(a,h,"widget");break}}++h}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(n){return be(this,n)},startOperation:function(){return Fn(this)},endOperation:function(){return Dn(this)},refresh:le(function(){var n=this.display.cachedTextHeight;_e(this),this.curOp.forceUpdate=!0,Ti(this),Ai(this,this.doc.scrollLeft,this.doc.scrollTop),xs(this.display),(n==null||Math.abs(n-\$n(this.display))>.5||this.options.lineWrapping)&&_s(this),Mt(this,"refresh",this)}),swapDoc:le(function(n){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),vo(this,n),Ti(this),this.display.input.reset(),Ai(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,r),r}),phrase:function(n){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(n,r,a){i.hasOwnProperty(n)||(i[n]=t[n]={_global:[]}),i[n][r]=a},t.registerGlobalHelper=function(n,r,a,o){t.registerHelper(n,r,o),i[n]._global.push({pred:a,val:o})}}function zs(t,e,i,n,r){var a=e,o=i,h=ct(t,e.line),p=r&&t.direction=="rtl"?-i:i;function m(){var st=e.line+p;return st<t.first||st>=t.first+t.size?!1:(e=new B(st,e.ch,e.sticky),h=ct(t,st))}function N(st){var et;if(n=="codepoint"){var ut=h.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(ut))et=null;else{var gt=i>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;et=new B(e.line,Math.max(0,Math.min(h.text.length,e.ch+i*(gt?2:1))),-i)}}else r?et=wh(t.cm,h,e,i):et=Rs(h,e,i);if(et==null)if(!st&&m())e=Fs(r,t.cm,h,e.line,p);else return!1;else e=et;return!0}if(n=="char"||n=="codepoint")N();else if(n=="column")N(!0);else if(n=="word"||n=="group")for(var M=null,j=n=="group",q=t.cm&&t.cm.getHelper(e,"wordChars"),X=!0;!(i<0&&!N(!X));X=!1){var Y=h.text.charAt(e.ch)||\`
\`,V=zn(Y,q)?"w":j&&Y==\`
\`?"n":!j||/\\s/.test(Y)?null:"p";if(j&&!X&&!V&&(V="s"),M&&M!=V){i<0&&(i=1,N(),e.sticky="after");break}if(V&&(M=V),i>0&&!N(!X))break}var tt=Cr(t,e,a,o,!0);return bt(a,tt)&&(tt.hitSide=!0),tt}function hu(t,e,i,n){var r=t.doc,a=e.left,o;if(n=="page"){var h=Math.min(t.display.wrapper.clientHeight,Nt(t).innerHeight||r(t).documentElement.clientHeight),p=Math.max(h-.5*\$n(t.display),3);o=(i>0?e.bottom:e.top)+i*p}else n=="line"&&(o=i>0?e.bottom+3:e.top-3);for(var m;m=ls(t,a,o),!!m.outside;){if(i<0?o<=0:o>=r.height){m.hitSide=!0;break}o+=i*5}return m}var Ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _t,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(t){var e=this,i=this,n=i.cm,r=i.div=t.lineDiv;r.contentEditable=!0,Bs(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function a(h){for(var p=h.target;p;p=p.parentNode){if(p==r)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(p.className))break}return!1}nt(r,"paste",function(h){!a(h)||zt(n,h)||au(h,n)||w<=11&&setTimeout(Zt(n,function(){return e.updateFromDOM()}),20)}),nt(r,"compositionstart",function(h){e.composing={data:h.data,done:!1}}),nt(r,"compositionupdate",function(h){e.composing||(e.composing={data:h.data,done:!1})}),nt(r,"compositionend",function(h){e.composing&&(h.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(r,"touchstart",function(){return i.forceCompositionEnd()}),nt(r,"input",function(){e.composing||e.readFromDOMSoon()});function o(h){if(!(!a(h)||zt(n,h))){if(n.somethingSelected())Fr({lineWise:!1,text:n.getSelections()}),h.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var p=uu(n);Fr({lineWise:!0,text:p.text}),h.type=="cut"&&n.operation(function(){n.setSelections(p.ranges,0,Rt),n.replaceSelection("",null,"cut")})}else return;if(h.clipboardData){h.clipboardData.clearData();var m=Me.text.join(\`
\`);if(h.clipboardData.setData("Text",m),h.clipboardData.getData("Text")==m){h.preventDefault();return}}var N=lu(),M=N.firstChild;Bs(M),n.display.lineSpace.insertBefore(N,n.display.lineSpace.firstChild),M.value=Me.text.join(\`
\`);var j=lt(r.ownerDocument);dt(M),setTimeout(function(){n.display.lineSpace.removeChild(N),j.focus(),j==r&&i.showPrimarySelection()},50)}}nt(r,"copy",o),nt(r,"cut",o)},Ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var t=Va(this.cm,!1);return t.focus=lt(this.div.ownerDocument)==this.div,t},Ft.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom){t.removeAllRanges();return}var a=Dr(e,t.anchorNode,t.anchorOffset),o=Dr(e,t.focusNode,t.focusOffset);if(!(a&&!a.bad&&o&&!o.bad&&G(Xt(a,o),n)==0&&G(Ct(a,o),r)==0)){var h=e.display.view,p=n.line>=e.display.viewFrom&&cu(e,n)||{node:h[0].measure.map[2],offset:0},m=r.line<e.display.viewTo&&cu(e,r);if(!m){var N=h[h.length-1].measure,M=N.maps?N.maps[N.maps.length-1]:N.map;m={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!p||!m){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),q;try{q=it(p.node,p.offset,m.offset,m.node)}catch{}q&&(!c&&e.state.focused?(t.collapse(p.node,p.offset),q.collapsed||(t.removeAllRanges(),t.addRange(q))):(t.removeAllRanges(),t.addRange(q)),j&&t.anchorNode==null?t.addRange(j):c&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(t){K(this.cm.display.cursorDiv,t.cursors),K(this.cm.display.selectionDiv,t.selection)},Ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return J(this.div,e)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):be(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function i(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(W&&u&&this.cm.display.gutterSpecs.length&&Hh(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Dr(e,t.anchorNode,t.anchorOffset),n=Dr(e,t.focusNode,t.focusOffset);i&&n&&be(e,function(){se(e.doc,dn(i,n),Rt),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.ch==0&&n.line>t.firstLine()&&(n=B(n.line-1,ct(t.doc,n.line-1).length)),r.ch==ct(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=B(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var a,o,h;n.line==e.viewFrom||(a=On(t,n.line))==0?(o=Lt(e.view[0].line),h=e.view[0].node):(o=Lt(e.view[a].line),h=e.view[a-1].node.nextSibling);var p=On(t,r.line),m,N;if(p==e.view.length-1?(m=e.viewTo-1,N=e.lineDiv.lastChild):(m=Lt(e.view[p+1].line)-1,N=e.view[p+1].node.previousSibling),!h)return!1;for(var M=t.doc.splitLines(qh(t,h,N,o,m)),j=Qe(t.doc,B(o,0),B(m,ct(t.doc,m).text.length));M.length>1&&j.length>1;)if(mt(M)==mt(j))M.pop(),j.pop(),m--;else if(M[0]==j[0])M.shift(),j.shift(),o++;else break;for(var q=0,X=0,Y=M[0],V=j[0],tt=Math.min(Y.length,V.length);q<tt&&Y.charCodeAt(q)==V.charCodeAt(q);)++q;for(var st=mt(M),et=mt(j),ut=Math.min(st.length-(M.length==1?q:0),et.length-(j.length==1?q:0));X<ut&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)++X;if(M.length==1&&j.length==1&&o==n.line)for(;q&&q>n.ch&&st.charCodeAt(st.length-X-1)==et.charCodeAt(et.length-X-1);)q--,X++;M[M.length-1]=st.slice(0,st.length-X).replace(/^\\u200b+/,""),M[0]=M[0].slice(q).replace(/\\u200b+\$/,"");var gt=B(o,q),pt=B(m,j.length?mt(j).length-X:0);if(M.length>1||M[0]||G(gt,pt))return ni(t.doc,M,gt,pt,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&be(this.cm,function(){return _e(t.cm)})},Ft.prototype.setUneditable=function(t){t.contentEditable="false"},Ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Is)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function cu(t,e){var i=as(t,e.line);if(!i||i.hidden)return null;var n=ct(t.doc,e.line),r=Ba(i,n,e.line),a=Ce(n,t.doc.direction),o="left";if(a){var h=Te(a,e.ch);o=h%2?"right":"left"}var p=qa(r.map,e.ch,o);return p.offset=p.collapse=="right"?p.end:p.start,p}function Hh(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function oi(t,e){return e&&(t.bad=!0),t}function qh(t,e,i,n,r){var a="",o=!1,h=t.doc.lineSeparator(),p=!1;function m(q){return function(X){return X.id==q}}function N(){o&&(a+=h,p&&(a+=h),o=p=!1)}function M(q){q&&(N(),a+=q)}function j(q){if(q.nodeType==1){var X=q.getAttribute("cm-text");if(X){M(X);return}var Y=q.getAttribute("cm-marker"),V;if(Y){var tt=t.findMarks(B(n,0),B(r+1,0),m(+Y));tt.length&&(V=tt[0].find(0))&&M(Qe(t.doc,V.from,V.to).join(h));return}if(q.getAttribute("contenteditable")=="false")return;var st=/^(pre|div|p|li|table|br)\$/i.test(q.nodeName);if(!/^br\$/i.test(q.nodeName)&&q.textContent.length==0)return;st&&N();for(var et=0;et<q.childNodes.length;et++)j(q.childNodes[et]);/^(pre|p)\$/i.test(q.nodeName)&&(p=!0),st&&(o=!0)}else q.nodeType==3&&M(q.nodeValue.replace(/\\u200b/g,"").replace(/\\u00a0/g," "))}for(;j(e),e!=i;)e=e.nextSibling,p=!1;return a}function Dr(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return oi(t.clipPos(B(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var a=t.display.view[r];if(a.node==n)return jh(a,e,i)}}function jh(t,e,i){var n=t.text.firstChild,r=!1;if(!e||!J(n,e))return oi(B(Lt(t.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[i],i=0,!e)){var a=t.rest?mt(t.rest):t.line;return oi(B(Lt(a),a.text.length),r)}var o=e.nodeType==3?e:null,h=e;for(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(o=e.firstChild,i&&(i=o.nodeValue.length));h.parentNode!=n;)h=h.parentNode;var p=t.measure,m=p.maps;function N(V,tt,st){for(var et=-1;et<(m?m.length:0);et++)for(var ut=et<0?p.map:m[et],gt=0;gt<ut.length;gt+=3){var pt=ut[gt+2];if(pt==V||pt==tt){var xt=Lt(et<0?t.line:t.rest[et]),Dt=ut[gt]+st;return(st<0||pt!=V)&&(Dt=ut[gt+(st?1:0)]),B(xt,Dt)}}}var M=N(o,h,i);if(M)return oi(M,r);for(var j=h.nextSibling,q=o?o.nodeValue.length-i:0;j;j=j.nextSibling){if(M=N(j,j.firstChild,0),M)return oi(B(M.line,M.ch-q),r);q+=j.textContent.length}for(var X=h.previousSibling,Y=i;X;X=X.previousSibling){if(M=N(X,X.firstChild,-1),M)return oi(B(M.line,M.ch+Y),r);Y+=X.textContent.length}}var jt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new _t,this.hasSelection=!1,this.composing=null,this.resetting=!1};jt.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),y&&(r.style.width="0px"),nt(r,"input",function(){S&&w>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()}),nt(r,"paste",function(o){zt(n,o)||au(o,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function a(o){if(!zt(n,o)){if(n.somethingSelected())Fr({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var h=uu(n);Fr({lineWise:!0,text:h.text}),o.type=="cut"?n.setSelections(h.ranges,null,Rt):(i.prevInput="",r.value=h.text.join(\`
\`),dt(r))}else return;o.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(r,"cut",a),nt(r,"copy",a),nt(t.scroller,"paste",function(o){if(!(Ve(t,o)||zt(n,o))){if(!r.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var h=new Event("paste");h.clipboardData=o.clipboardData,r.dispatchEvent(h)}}),nt(t.lineSpace,"selectstart",function(o){Ve(t,o)||re(o)}),nt(r,"compositionstart",function(){var o=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:o,range:n.markText(o,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},jt.prototype.createField=function(t){this.wrapper=lu(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Bs(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},jt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},jt.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Va(t);if(t.options.moveInputWithCursor){var r=Fe(t,i.sel.primary().head,"div"),a=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-a.left))}return n},jt.prototype.showSelection=function(t){var e=this.cm,i=e.display;K(i.cursorDiv,t.cursors),K(i.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},jt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&dt(this.textarea),S&&w>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",S&&w>=9&&(this.hasSelection=null));this.resetting=!1}},jt.prototype.getField=function(){return this.textarea},jt.prototype.supportsTouch=function(){return!1},jt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},jt.prototype.blur=function(){this.textarea.blur()},jt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},jt.prototype.receivedFocus=function(){this.slowPoll()},jt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},jt.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function i(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,i)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,i)},jt.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||un(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(S&&w>=9&&this.hasSelection===r||z&&/[\\uf700-\\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var a=r.charCodeAt(0);if(a==8203&&!n&&(n="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var o=0,h=Math.min(n.length,r.length);o<h&&n.charCodeAt(o)==r.charCodeAt(o);)++o;return be(e,function(){Is(e,r.slice(o),n.length-o,null,t.composing?"*compose":null),r.length>1e3||r.indexOf(\`
\`)>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},jt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},jt.prototype.onKeyPress=function(){S&&w>=9&&(this.hasSelection=null),this.fastPoll()},jt.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var a=Ln(i,t),o=n.scroller.scrollTop;if(!a||b)return;var h=i.options.resetSelectionOnContextMenu;h&&i.doc.sel.contains(a)==-1&&Zt(i,se)(i.doc,dn(a),Rt);var p=r.style.cssText,m=e.wrapper.style.cssText,N=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",r.style.cssText=\`position: absolute; width: 30px; height: 30px;
      top: \`+(t.clientY-N.top-5)+"px; left: "+(t.clientX-N.left-5)+\`px;
      z-index: 1000; background: \`+(S?"rgba(255, 255, 255, .05)":"transparent")+\`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\`;var M;d&&(M=r.ownerDocument.defaultView.scrollY),n.input.focus(),d&&r.ownerDocument.defaultView.scrollTo(null,M),n.input.reset(),i.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=q,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(r.selectionStart!=null){var Y=i.somethingSelected(),V="​"+(Y?r.value:"");r.value="⇚",r.value=V,e.prevInput=Y?"":"​",r.selectionStart=1,r.selectionEnd=V.length,n.selForContextMenu=i.doc.sel}}function q(){if(e.contextMenuPending==q&&(e.contextMenuPending=!1,e.wrapper.style.cssText=m,r.style.cssText=p,S&&w<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=o),r.selectionStart!=null)){(!S||S&&w<9)&&j();var Y=0,V=function(){n.selForContextMenu==i.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&e.prevInput=="​"?Zt(i,Oo)(i):Y++<10?n.detectingSelectAll=setTimeout(V,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(V,200)}}if(S&&w>=9&&j(),rt){Xe(t);var X=function(){ie(window,"mouseup",X),setTimeout(q,20)};nt(window,"mouseup",X)}else setTimeout(q,50)},jt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},jt.prototype.setUneditable=function(){},jt.prototype.needsContentAttribute=!1;function Uh(t,e){if(e=e?ft(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var i=lt(t.ownerDocument);e.autofocus=i==t||t.getAttribute("autofocus")!=null&&i==document.body}function n(){t.value=h.getValue()}var r;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var a=t.form;r=a.submit;try{var o=a.submit=function(){n(),a.submit=r,a.submit(),a.submit=o}}catch{}}e.finishInit=function(p){p.save=n,p.getTextArea=function(){return t},p.toTextArea=function(){p.toTextArea=isNaN,n(),t.parentNode.removeChild(p.getWrapperElement()),t.style.display="",t.form&&(ie(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=r))}},t.style.display="none";var h=Pt(function(p){return t.parentNode.insertBefore(p,t.nextSibling)},e);return h}function Kh(t){t.off=ie,t.on=nt,t.wheelEventPixels=Jl,t.Doc=pe,t.splitLines=bi,t.countColumn=at,t.findColumn=xe,t.isWordChar=pi,t.Pass=Et,t.signal=Mt,t.Line=Kn,t.changeEnd=gn,t.scrollbarModel=so,t.Pos=B,t.cmpPos=G,t.modes=Ne,t.mimeModes=ln,t.resolveMode=me,t.getMode=\$e,t.modeExtensions=hn,t.extendMode=sr,t.copyState=Ye,t.startState=yi,t.innerMode=cn,t.commands=ji,t.keyMap=en,t.keyName=Go,t.isModifierKey=Uo,t.lookupKey=ri,t.normalizeKeyMap=yh,t.StringStream=Ht,t.SharedTextMarker=zi,t.TextMarker=mn,t.LineWidget=Bi,t.e_preventDefault=re,t.e_stopPropagation=Tn,t.e_stop=Xe,t.addClass=A,t.contains=J,t.rmClass=R,t.keyNames=bn}Ph(Pt),zh(Pt);var Gh="iter insert remove copy getEditor constructor".split(" ");for(var Mr in pe.prototype)pe.prototype.hasOwnProperty(Mr)&&vt(Gh,Mr)<0&&(Pt.prototype[Mr]=function(t){return function(){return t.apply(this.doc,arguments)}}(pe.prototype[Mr]));return ue(pe),Pt.inputStyles={textarea:jt,contenteditable:Ft},Pt.defineMode=function(t){!Pt.defaults.mode&&t!="null"&&(Pt.defaults.mode=t),rr.apply(this,arguments)},Pt.defineMIME=jn,Pt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(t,e){Pt.prototype[t]=e},Pt.defineDocExtension=function(t,e){pe.prototype[t]=e},Pt.fromTextArea=Uh,Kh(Pt),Pt.version="5.65.12",Pt});const Xh={الف:{general:{char:"ا",code:"ا"},isolated:{char:"ﺍ",code:"ﺍ"},end:{char:"ﺎ",code:"ﺎ"}},باء:{general:{char:"ب",code:"ب"},isolated:{char:"ﺏ",code:"ﺏ"},end:{char:"ﺐ",code:"ﺐ"},middle:{char:"ﺒ",code:"ﺒ"},beginning:{char:"ﺑ",code:"ﺑ"}},تاء:{general:{char:"ت",code:"ت"},isolated:{char:"ﺕ",code:"ﺕ"},end:{char:"ﺖ",code:"ﺖ"},middle:{char:"ﺘ",code:"ﺘ"},beginning:{char:"ﺗ",code:"ﺗ"}},ثاء:{general:{char:"ث",code:"ث"},isolated:{char:"ﺙ",code:"ﺙ"},end:{char:"ﺚ",code:"ﺚ"},middle:{char:"ﺜ",code:"ﺜ"},beginning:{char:"ﺛ",code:"ﺛ"}},جيم:{general:{char:"ج",code:"ج"},isolated:{char:"ﺝ",code:"ﺝ"},end:{char:"ﺞ",code:"ﺞ"},middle:{char:"ﺠ",code:"ﺠ"},beginning:{char:"ﺟ",code:"ﺟ"}},حاء:{general:{char:"ح",code:"ح"},isolated:{char:"ﺡ",code:"ﺡ"},end:{char:"ﺢ",code:"ﺢ"},middle:{char:"ﺤ",code:"ﺤ"},beginning:{char:"ﺣ",code:"ﺣ"}},خاء:{general:{char:"خ",code:"خ"},isolated:{char:"ﺥ",code:"ﺥ"},end:{char:"ﺦ",code:"ﺦ"},middle:{char:"ﺨ",code:"ﺨ"},beginning:{char:"ﺧ",code:"ﺧ"}},دال:{general:{char:"د",code:"د"},isolated:{char:"ﺩ",code:"ﺩ"},end:{char:"ﺪ",code:"ﺪ"}},ذال:{general:{char:"ذ",code:"ذ"},isolated:{char:"ﺫ",code:"ﺫ"},end:{char:"ﺬ",code:"ﺬ"}},راء:{general:{char:"ر",code:"ر"},isolated:{char:"ﺭ",code:"ﺭ"},end:{char:"ﺮ",code:"ﺮ"}},زين:{general:{char:"ز",code:"ز"},isolated:{char:"ﺯ",code:"ﺯ"},end:{char:"ﺰ",code:"ﺰ"}},سين:{general:{char:"س",code:"س"},isolated:{char:"ﺱ",code:"ﺱ"},end:{char:"ﺲ",code:"ﺲ"},middle:{char:"ﺴ",code:"ﺴ"},beginning:{char:"ﺳ",code:"ﺳ"}},شين:{general:{char:"ش",code:"ش"},isolated:{char:"ﺵ",code:"ﺵ"},end:{char:"ﺶ",code:"ﺶ"},middle:{char:"ﺸ",code:"ﺸ"},beginning:{char:"ﺷ",code:"ﺷ"}},صاد:{general:{char:"ص",code:"ص"},isolated:{char:"ﺹ",code:"ﺹ"},end:{char:"ﺺ",code:"ﺺ"},middle:{char:"ﺼ",code:"ﺼ"},beginning:{char:"ﺻ",code:"ﺻ"}},ضاض:{general:{char:"ض",code:"ض"},isolated:{char:"ﺽ",code:"ﺽ"},end:{char:"ﺾ",code:"ﺾ"},middle:{char:"ﻀ",code:"ﻀ"},beginning:{char:"ﺿ",code:"ﺿ"}},طاء:{general:{char:"ط",code:"ط"},isolated:{char:"ﻁ",code:"ﻁ"},end:{char:"ﻂ",code:"ﻂ"},middle:{char:"ﻄ",code:"ﻄ"},beginning:{char:"ﻃ",code:"ﻃ"}},ظاء:{general:{char:"ظ",code:"ظ"},isolated:{char:"ﻅ",code:"ﻅ"},end:{char:"ﻆ",code:"ﻆ"},middle:{char:"ﻈ",code:"ﻈ"},beginning:{char:"ﻇ",code:"ﻇ"}},عين:{general:{char:"ع",code:"ع"},isolated:{char:"ﻉ",code:"ﻉ"},end:{char:"ﻊ",code:"ﻊ"},middle:{char:"ﻌ",code:"ﻌ"},beginning:{char:"ﻋ",code:"ﻋ"}},غين:{general:{char:"غ",code:"غ"},isolated:{char:"ﻍ",code:"ﻍ"},end:{char:"ﻎ",code:"ﻎ"},middle:{char:"ﻐ",code:"ﻐ"},beginning:{char:"ﻏ",code:"ﻏ"}},فاء:{general:{char:"ف",code:"ف"},isolated:{char:"ﻑ",code:"ﻑ"},end:{char:"ﻒ",code:"ﻒ"},middle:{char:"ﻔ",code:"ﻔ"},beginning:{char:"ﻓ",code:"ﻓ"}},قاف:{general:{char:"ق",code:"ق"},isolated:{char:"ﻕ",code:"ﻕ"},end:{char:"ﻖ",code:"ﻖ"},middle:{char:"ﻘ",code:"ﻘ"},beginning:{char:"ﻗ",code:"ﻗ"}},كاف:{general:{char:"ك",code:"ك"},isolated:{char:"ﻙ",code:"ﻙ"},end:{char:"ﻚ",code:"ﻚ"},middle:{char:"ﻜ",code:"ﻜ"},beginning:{char:"ﻛ",code:"ﻛ"}},لام:{general:{char:"ل",code:"ل"},isolated:{char:"ﻝ",code:"ﻝ"},end:{char:"ﻞ",code:"ﻞ"},middle:{char:"ﻠ",code:"ﻠ"},beginning:{char:"ﻟ",code:"ﻟ"}},ميم:{general:{char:"م",code:"م"},isolated:{char:"ﻡ",code:"ﻡ"},end:{char:"ﻢ",code:"ﻢ"},middle:{char:"ﻤ",code:"ﻤ"},beginning:{char:"ﻣ",code:"ﻣ"}},نون:{general:{char:"ن",code:"ن"},isolated:{char:"ﻥ",code:"ﻥ"},end:{char:"ﻦ",code:"ﻦ"},middle:{char:"ﻨ",code:"ﻨ"},beginning:{char:"ﻧ",code:"ﻧ"}},هاء:{general:{char:"ه",code:"ه"},isolated:{char:"ﻩ",code:"ﻩ"},end:{char:"ﻪ",code:"ﻪ"},middle:{char:"ﻬ",code:"ﻬ"},beginning:{char:"ﻫ",code:"ﻫ"}},واو:{general:{char:"و",code:"و"},isolated:{char:"ﻭ",code:"ﻭ"},end:{char:"ﻮ",code:"ﻮ"}},ياء:{general:{char:"ي",code:"ي"},isolated:{char:"ﻱ",code:"ﻱ"},end:{char:"ﻲ",code:"ﻲ"},middle:{char:"ﻴ",code:"ﻴ"},beginning:{char:"ﻳ",code:"ﻳ"}},الف_مد:{general:{char:"آ",code:"آ"},isolated:{char:"ﺁ",code:"ﺁ"},end:{char:"ﺂ",code:"ﺂ"}},تاء_مربوطة:{general:{char:"ة",code:"ة"},isolated:{char:"ﺓ",code:"ﺓ"},end:{char:"ﺔ",code:"ﺔ"}},الف_مقصورة:{general:{char:"ى",code:"ى"},isolated:{char:"ﻯ",code:"ﻯ"},end:{char:"ﻰ",code:"ﻰ"}},همزة_ياء:{general:{char:"ئ",code:"ئ"},isolated:{char:"ﺉ",code:"ﺉ"},end:{char:"ﺊ",code:"ﺊ"},middle:{char:"ﺌ",code:"ﺌ"},beginning:{char:"ﺋ",code:"ﺋ"}}},\$h=(()=>{let f=[];return Object.values(Xh).forEach(s=>{s.middle&&(f.push(s.general.code),f.push(s.middle.code),f.push(s.beginning.code))}),f})();function Pr(f){let s=[];return f.split("").forEach(c=>{\$h.includes(c)?s.push(\`\${c}ـ*\`):c==="ـ"||s.push(c)}),s.join("")}function Ys(f){return(""+f).split("").map(T=>{switch(T){case"0":return"٠";case"1":return"١";case"2":return"٢";case"3":return"٣";case"4":return"٤";case"5":return"٥";case"6":return"٦";case"7":return"٧";case"8":return"٨";case"9":return"٩"}}).join("")}const Yh=["!","?","؟","_","[","(",".","*","×","/","÷","+","-","<","<=","≤",">",">=","≥","==","!=","≠","<<",">>","&","ࢱ","|و|","^","⊕","|","|ء|","&&","ࢱࢱ","|وو|","||","|ءء|",":>","|>","||>","=","+=","-=","*=","×=","/=","÷=","&=","ࢱ=","|=","^=",">>=","<<=",":+","::","@","\$","%","٪","#","⎔","~","]","{","}","\\\\)","'",'"',"»","«","‹","›"],na={use:{ar:"احضر",en:"use"},where:{ar:"حيث",en:"where"},when:{ar:"عندما",en:"when"},ret:{ar:"رد",en:"return"},_let:{ar:"عرف",en:"let"},_const:{ar:"ثابت",en:"const"},_var:{ar:"متغير",en:"var"},fn:{ar:"دل",en:"fn"},struct:{ar:"نوع",en:"type"},impl:{ar:"اضافة",en:"impl"},trait:{ar:"سمة",en:"trait"},res:{ar:"𞹍",en:"𞹍"},ok:{ar:"✓",en:"✓"},err:{ar:"✗",en:"✗"}},ia={float:{ar:"عائم",en:"float"},int:{ar:"صحيح",en:"int"},str:{ar:"سلسلة",en:"str"},bool:{ar:"منطقي",en:"bool"},char:{ar:"محرف",en:"char"}},ra={_true:{ar:"صحيح",en:"true"},_false:{ar:"غير_صحيح",en:"false"}},Qh={...na,...ia,...ra},Zh="[\\\\p{L}_]",Jh="[\\\\p{L}\\\\p{N}_]",Ur=\`(?:\${Zh}\${Jh}*)\`,Vh="[^\\\\p{L}\\\\p{N}_]",sa="[٠-٩]",tc=\`(?:,\${sa}+)\`,ec=\`\${sa}+\${tc}?\`,aa="[0-9]",nc=\`(?:\\\\.\${aa}+)\`,Au=\`\${aa}+\${nc}?\`,js="\\\\\\\\",Wr="\\\\/",Ir="\\\\-",\$i="\\\\{",Yi="\\\\}",ic="\\\\(",rc="\\\\)",Qs="\\\\s",sc=\`\${ic}?\${Qs}*\${rc}?\`,ac=()=>RegExp(\`(?:(?:#|#)\${Ur})\`,"u"),oc=()=>RegExp(\`(?:~\${Ur}?\${Qs}*\${sc}\${Qs}*->)\`,"u"),Lu=[{regex:ac(),token:"meta"},{regex:oc(),token:["def",null,"operator",null,"operator",null,"operator","operator"]},{regex:RegExp(\`[\${Yh.join("")}]+\`),token:"operator"},{regex:/[\\{\\[\\(]>/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],Ou={dontIndentStates:["comment"],electricInput:/^\\s-\\}\$/,fold:"brace"};(function(){(function(){var c=[function(E,S,w){var d=w(1).Beautifier,l=w(5).Options;E.exports=function(u,_){return new d(u,_).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,w){var d=w(2).Output,l=w(3).Token,u=w(4),_=w(5).Options,b=w(7).Tokenizer,F=w(7).line_starters,O=w(7).positionable_operators,g=w(7).TOKEN;function y(A,\$){return \$.indexOf(A)!==-1}function W(A,\$){return A&&A.type===g.RESERVED&&A.text===\$}function D(A,\$){return A&&A.type===g.RESERVED&&y(A.text,\$)}var z=["case","return","do","if","throw","else","await","break","continue","async"],H=function(A){for(var \$={},dt=0;dt<A.length;dt++)\$[A[dt].replace(/-/g,"_")]=A[dt];return \$}(["before-newline","after-newline","preserve-newline"]),U=[H.before_newline,H.preserve_newline],Z="BlockStatement",ot="Statement",rt="ObjectLiteral",I="ArrayLiteral",R="ForInitializer",k="Conditional",K="Expression";function L(A,\$){\$.multiline_frame||\$.mode===R||\$.mode===k||A.remove_indent(\$.start_line_index)}function Q(A){return A===I}function it(A){return y(A,[K,R,k])}function J(A,\$){\$=\$||{},this._source_text=A||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new _(\$)}J.prototype.create_flags=function(A,\$){var dt=0;return A&&(dt=A.indentation_level,!this._output.just_added_newline()&&A.line_indent_level>dt&&(dt=A.line_indent_level)),{mode:\$,parent:A,last_token:A?A.last_token:new l(g.START_BLOCK,""),last_word:A?A.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:dt,alignment:0,line_indent_level:A?A.line_indent_level:dt,start_line_index:this._output.get_line_number(),ternary_depth:0}},J.prototype._reset=function(A){var \$=A.match(/^[\\t ]*/)[0],\$=(this._last_last_text="",this._output=new d(this._options,\$),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Z),new b(A,this._options));return this._tokens=\$.tokenize(),A},J.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var A=this._reset(this._source_text),\$=this._options.eol,dt=(this._options.eol==="auto"&&(\$=\`
\`,A&&u.lineBreak.test(A||"")&&(\$=A.match(u.lineBreak)[0])),this._tokens.next());dt;)this.handle_token(dt),this._last_last_text=this._flags.last_token.text,this._flags.last_token=dt,dt=this._tokens.next();return this._output.get_code(\$)},J.prototype.handle_token=function(A,\$){A.type===g.START_EXPR?this.handle_start_expr(A):A.type===g.END_EXPR?this.handle_end_expr(A):A.type===g.START_BLOCK?this.handle_start_block(A):A.type===g.END_BLOCK?this.handle_end_block(A):A.type===g.WORD||A.type===g.RESERVED?this.handle_word(A):A.type===g.SEMICOLON?this.handle_semicolon(A):A.type===g.STRING?this.handle_string(A):A.type===g.EQUALS?this.handle_equals(A):A.type===g.OPERATOR?this.handle_operator(A):A.type===g.COMMA?this.handle_comma(A):A.type===g.BLOCK_COMMENT?this.handle_block_comment(A,\$):A.type===g.COMMENT?this.handle_comment(A,\$):A.type===g.DOT?this.handle_dot(A):A.type===g.EOF?this.handle_eof(A):(A.type,g.UNKNOWN,this.handle_unknown(A,\$))},J.prototype.handle_whitespace_and_comments=function(A,\$){var dt=A.newlines,wt=this._options.keep_array_indentation&&Q(this._flags.mode);if(A.comments_before)for(var Nt=A.comments_before.next();Nt;)this.handle_whitespace_and_comments(Nt,\$),this.handle_token(Nt,\$),Nt=A.comments_before.next();if(wt)for(var kt=0;kt<dt;kt+=1)this.print_newline(0<kt,\$);else if(this._options.max_preserve_newlines&&dt>this._options.max_preserve_newlines&&(dt=this._options.max_preserve_newlines),this._options.preserve_newlines&&1<dt){this.print_newline(!1,\$);for(var ft=1;ft<dt;ft+=1)this.print_newline(!0,\$)}};var lt=["async","break","continue","return","throw","yield"];J.prototype.allow_wrap_or_preserved_newline=function(A,\$){\$=\$!==void 0&&\$,this._output.just_added_newline()||(\$=this._options.preserve_newlines&&A.newlines||\$,(y(this._flags.last_token.text,O)||y(A.text,O))&&(A=y(this._flags.last_token.text,O)&&y(this._options.operator_position,U)||y(A.text,O),\$=\$&&A),\$?this.print_newline(!1,!0):this._options.wrap_line_length&&!D(this._flags.last_token,lt)&&this._output.set_wrap_point())},J.prototype.print_newline=function(A,\$){if(!\$&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var dt=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(dt,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(A)&&(this._flags.multiline_frame=!0)},J.prototype.print_token_line_indentation=function(A){this._output.just_added_newline()&&(this._options.keep_array_indentation&&A.newlines&&(A.text==="["||Q(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(A.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},J.prototype.print_token=function(A){var \$;this._output.raw?this._output.add_raw_token(A):(this._options.comma_first&&A.previous&&A.previous.type===g.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","&&(\$=this._output.previous_line.pop(),this._output.previous_line.is_empty()&&(this._output.previous_line.push(\$),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(A),this._output.add_token(","),this._output.space_before_token=!0),this.print_token_line_indentation(A),this._output.non_breaking_space=!0,this._output.add_token(A.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0))},J.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.deindent=function(){0<this._flags.indentation_level&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(--this._flags.indentation_level,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.set_mode=function(A){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,A),this._flags=this.create_flags(this._previous_flags,A),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},J.prototype.restore_mode=function(){0<this._flag_store.length&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ot&&L(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},J.prototype.start_of_object_property=function(){return this._flags.parent.mode===rt&&this._flags.mode===ot&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))},J.prototype.start_of_statement=function(A){return!!(D(this._flags.last_token,["var","let","const"])&&A.type===g.WORD||W(this._flags.last_token,"do")||!(this._flags.parent.mode===rt&&this._flags.mode===ot)&&D(this._flags.last_token,lt)&&!A.newlines||W(this._flags.last_token,"else")&&!(W(A,"if")&&!A.comments_before)||this._flags.last_token.type===g.END_EXPR&&(this._previous_flags.mode===R||this._previous_flags.mode===k)||this._flags.last_token.type===g.WORD&&this._flags.mode===Z&&!this._flags.in_case&&!(A.text==="--"||A.text==="++")&&this._last_last_text!=="function"&&A.type!==g.WORD&&A.type!==g.RESERVED||this._flags.mode===rt&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])))&&(this.set_mode(ot),this.indent(),this.handle_whitespace_and_comments(A,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A,D(A,["do","for","if","while"])),!0)},J.prototype.handle_start_expr=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A);var \$,dt,wt=K;if(A.text==="["){if(this._flags.last_token.type===g.WORD||this._flags.last_token.text===")")return D(this._flags.last_token,F)&&(this._output.space_before_token=!0),this.print_token(A),this.set_mode(wt),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));wt=I,!Q(this._flags.mode)||this._flags.last_token.text!=="["&&(this._flags.last_token.text!==","||this._last_last_text!=="]"&&this._last_last_text!=="}")||this._options.keep_array_indentation||this.print_newline(),y(this._flags.last_token.type,[g.START_EXPR,g.END_EXPR,g.WORD,g.OPERATOR,g.DOT])||(this._output.space_before_token=!0)}else this._flags.last_token.type===g.RESERVED?this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,wt=R):y(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,wt=k):y(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&A.whitespace_before===""?this._output.space_before_token=!1:!y(this._flags.last_token.text,F)&&this._flags.last_token.text!=="catch"||(this._output.space_before_token=!0):this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):this._flags.last_token.type===g.WORD?(this._output.space_before_token=!1,\$=this._tokens.peek(-3),this._options.space_after_named_function&&\$&&(dt=this._tokens.peek(-4),D(\$,["async","function"])||\$.text==="*"&&D(dt,["async","function"])?this._output.space_before_token=!0:this._flags.mode===rt?\$.text!=="{"&&\$.text!==","&&(\$.text!=="*"||dt.text!=="{"&&dt.text!==",")||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0))):this.allow_wrap_or_preserved_newline(A),(this._flags.last_token.type===g.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);this._flags.last_token.text===";"||this._flags.last_token.type===g.START_BLOCK?this.print_newline():this._flags.last_token.type!==g.END_EXPR&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.END_BLOCK&&this._flags.last_token.text!=="."&&this._flags.last_token.type!==g.COMMA||this.allow_wrap_or_preserved_newline(A,A.newlines),this.print_token(A),this.set_mode(wt),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},J.prototype.handle_end_expr=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(A,A.text==="]"&&Q(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==g.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(A),this.restore_mode(),L(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=K,this._flags.do_block=!1,this._flags.do_while=!1)},J.prototype.handle_start_block=function(A){this.handle_whitespace_and_comments(A);var dt=this._tokens.peek(),\$=this._tokens.peek(1),\$=(this._flags.last_word==="switch"&&this._flags.last_token.type===g.END_EXPR?(this.set_mode(Z),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Z):\$&&(y(\$.text,[":",","])&&y(dt.type,[g.STRING,g.WORD,g.RESERVED])||y(dt.text,["get","set","..."])&&y(\$.type,[g.WORD,g.RESERVED]))?y(this._last_last_text,["class","interface"])&&!y(\$.text,[":",","])?this.set_mode(Z):this.set_mode(rt):(this._flags.last_token.type!==g.OPERATOR||this._flags.last_token.text!=="=>")&&(y(this._flags.last_token.type,[g.EQUALS,g.START_EXPR,g.COMMA,g.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"]))?this.set_mode(rt):this.set_mode(Z),this._flags.last_token&&D(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0),!dt.comments_before&&dt.text==="}"),dt=\$&&this._flags.last_word==="function"&&this._flags.last_token.type===g.END_EXPR;if(this._options.brace_preserve_inline){var wt=0,Nt=null;this._flags.inline_frame=!0;do if((Nt=this._tokens.peek((wt+=1)-1)).newlines){this._flags.inline_frame=!1;break}while(Nt.type!==g.EOF&&(Nt.type!==g.END_BLOCK||Nt.opened!==A))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==g.OPERATOR&&(dt||this._flags.last_token.type===g.EQUALS||D(this._flags.last_token,z)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Q(this._previous_flags.mode)||this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.COMMA||(this._flags.last_token.type!==g.COMMA&&!this._options.space_in_paren||(this._output.space_before_token=!0),(this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(A),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==g.OPERATOR&&this._flags.last_token.type!==g.START_EXPR&&(y(this._flags.last_token.type,[g.START_BLOCK,g.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(A),this.indent(),\$||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},J.prototype.handle_end_block=function(A){for(this.handle_whitespace_and_comments(A);this._flags.mode===ot;)this.restore_mode();var \$=this._flags.last_token.type===g.START_BLOCK;this._flags.inline_frame&&!\$?this._output.space_before_token=!0:this._options.brace_style==="expand"?\$||this.print_newline():\$||(Q(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(A)},J.prototype.handle_word=function(A){if(A.type===g.RESERVED&&(y(A.text,["set","get"])&&this._flags.mode!==rt||A.text==="import"&&y(this._tokens.peek().text,["(","."])||y(A.text,["as","from"])&&!this._flags.import_block||this._flags.mode===rt&&this._tokens.peek().text===":")&&(A.type=g.WORD),this.start_of_statement(A)?D(this._flags.last_token,["var","let","const"])&&A.type===g.WORD&&(this._flags.declaration_statement=!0):!A.newlines||it(this._flags.mode)||this._flags.last_token.type===g.OPERATOR&&this._flags.last_token.text!=="--"&&this._flags.last_token.text!=="++"||this._flags.last_token.type===g.EQUALS||!this._options.preserve_newlines&&D(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(A):(this.handle_whitespace_and_comments(A),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(W(A,"while"))return this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&W(A,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ot;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(A,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(A),void(this._flags.in_case=!0);if(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR&&this._flags.last_token.type!==g.EQUALS&&this._flags.last_token.type!==g.OPERATOR||this.start_of_object_property()||y(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===rt||this.allow_wrap_or_preserved_newline(A),W(A,"function"))return!(y(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!y(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==g.OPERATOR)||this._output.just_added_blankline()||A.comments_before||(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,lt)||W(this._flags.last_token,"default")&&this._last_last_text==="export"||this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===g.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(it(this._flags.mode)||Q(this._flags.mode))||this.print_newline(),this.print_token(A),void(this._flags.last_word=A.text);var \$="NONE";this._flags.last_token.type===g.END_BLOCK?this._previous_flags.inline_frame?\$="SPACE":!D(A,["else","catch","finally","from"])||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines?\$="NEWLINE":(\$="SPACE",this._output.space_before_token=!0):this._flags.last_token.type===g.SEMICOLON&&this._flags.mode===Z?\$="NEWLINE":this._flags.last_token.type===g.SEMICOLON&&it(this._flags.mode)?\$="SPACE":this._flags.last_token.type===g.STRING?\$="NEWLINE":this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.last_token.text==="*"&&(y(this._last_last_text,["function","yield"])||this._flags.mode===rt&&y(this._last_last_text,["{",","]))?\$="SPACE":this._flags.last_token.type===g.START_BLOCK?\$=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===g.END_EXPR&&(this._output.space_before_token=!0,\$="NEWLINE"),D(A,F)&&this._flags.last_token.text!==")"&&(\$=this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?"SPACE":"NEWLINE"),D(A,["else","catch","finally"])?(this._flags.last_token.type!==g.END_BLOCK||this._previous_flags.mode!==Z||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&A.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),this._output.current_line.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0):\$==="NEWLINE"?D(this._flags.last_token,z)||this._flags.last_token.text==="declare"&&D(A,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==g.END_EXPR?this._flags.last_token.type===g.START_EXPR&&D(A,["var","let","const"])||this._flags.last_token.text===":"||(W(A,"if")&&W(A.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(A,F)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Q(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():\$==="SPACE"&&(this._output.space_before_token=!0),!A.previous||A.previous.type!==g.WORD&&A.previous.type!==g.RESERVED||(this._output.space_before_token=!0),this.print_token(A),this._flags.last_word=A.text,A.type===g.RESERVED&&(A.text==="do"?this._flags.do_block=!0:A.text==="if"?this._flags.if_block=!0:A.text==="import"?this._flags.import_block=!0:this._flags.import_block&&W(A,"from")&&(this._flags.import_block=!1))},J.prototype.handle_semicolon=function(A){this.start_of_statement(A)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(A);for(var \$=this._tokens.peek();!(this._flags.mode!==ot||this._flags.if_block&&W(\$,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(A)},J.prototype.handle_string=function(A){A.text.startsWith("\`")&&A.newlines===0&&A.whitespace_before===""&&(A.previous.text===")"||this._flags.last_token.type===g.WORD)||(this.start_of_statement(A)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(A),this._flags.last_token.type===g.RESERVED||this._flags.last_token.type===g.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===g.COMMA||this._flags.last_token.type===g.START_EXPR||this._flags.last_token.type===g.EQUALS||this._flags.last_token.type===g.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(A):!A.text.startsWith("\`")||this._flags.last_token.type!==g.END_EXPR||A.previous.text!=="]"&&A.previous.text!==")"||A.newlines!==0?this.print_newline():this._output.space_before_token=!0)),this.print_token(A)},J.prototype.handle_equals=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0},J.prototype.handle_comma=function(A){this.handle_whitespace_and_comments(A,!0),this.print_token(A),this._output.space_before_token=!0,this._flags.declaration_statement?(it(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)):this._flags.mode===rt||this._flags.mode===ot&&this._flags.parent.mode===rt?(this._flags.mode===ot&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(A)},J.prototype.handle_operator=function(A){var \$=A.text==="*"&&(D(this._flags.last_token,["function","yield"])||y(this._flags.last_token.type,[g.START_BLOCK,g.COMMA,g.END_BLOCK,g.SEMICOLON])),dt=y(A.text,["-","+"])&&(y(this._flags.last_token.type,[g.START_BLOCK,g.START_EXPR,g.EQUALS,g.OPERATOR])||y(this._flags.last_token.text,F)||this._flags.last_token.text===",");if(this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!\$),A.text==="*"&&this._flags.last_token.type===g.DOT)this.print_token(A);else if(A.text==="::")this.print_token(A);else if(y(A.text,["-","+"])&&this.start_of_object_property())this.print_token(A);else{if(this._flags.last_token.type===g.OPERATOR&&y(this._options.operator_position,U)&&this.allow_wrap_or_preserved_newline(A),A.text===":"&&this._flags.in_case)return this.print_token(A),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==g.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var wt=!0,Nt=!0,kt=!1;if(A.text===":"?this._flags.ternary_depth===0?wt=!1:(--this._flags.ternary_depth,kt=!0):A.text==="?"&&(this._flags.ternary_depth+=1),!dt&&!\$&&this._options.preserve_newlines&&y(A.text,O)){var ft=A.text===":",at=ft&&kt,_t=ft&&!kt;switch(this._options.operator_position){case H.before_newline:return this._output.space_before_token=!_t,this.print_token(A),ft&&!at||this.allow_wrap_or_preserved_newline(A),void(this._output.space_before_token=!0);case H.after_newline:return this._output.space_before_token=!0,!ft||at?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(A):this._output.space_before_token=!1,this.print_token(A),void(this._output.space_before_token=!0);case H.preserve_newline:return _t||this.allow_wrap_or_preserved_newline(A),wt=!(this._output.just_added_newline()||_t),this._output.space_before_token=wt,this.print_token(A),void(this._output.space_before_token=!0)}}\$?(this.allow_wrap_or_preserved_newline(A),wt=!1,Nt=(kt=this._tokens.peek())&&y(kt.type,[g.WORD,g.RESERVED])):A.text==="..."?(this.allow_wrap_or_preserved_newline(A),wt=this._flags.last_token.type===g.START_BLOCK,Nt=!1):(y(A.text,["--","++","!","~"])||dt)&&(this._flags.last_token.type!==g.COMMA&&this._flags.last_token.type!==g.START_EXPR||this.allow_wrap_or_preserved_newline(A),Nt=wt=!1,!A.newlines||A.text!=="--"&&A.text!=="++"&&A.text!=="~"||((\$=D(this._flags.last_token,z)&&A.newlines)&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(\$,!0)),this._flags.last_token.text===";"&&it(this._flags.mode)&&(wt=!0),this._flags.last_token.type===g.RESERVED?wt=!0:this._flags.last_token.type===g.END_EXPR?wt=!(this._flags.last_token.text==="]"&&(A.text==="--"||A.text==="++")):this._flags.last_token.type===g.OPERATOR&&(wt=y(A.text,["--","-","++","+"])&&y(this._flags.last_token.text,["--","-","++","+"]),y(A.text,["+","-"])&&y(this._flags.last_token.text,["--","++"])&&(Nt=!0)),(this._flags.mode!==Z||this._flags.inline_frame)&&this._flags.mode!==ot||this._flags.last_token.text!=="{"&&this._flags.last_token.text!==";"||this.print_newline()),this._output.space_before_token=this._output.space_before_token||wt,this.print_token(A),this._output.space_before_token=Nt}},J.prototype.handle_block_comment=function(A,\$){return this._output.raw?(this._output.add_raw_token(A),void(A.directives&&A.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw))):A.directives?(this.print_newline(!1,\$),this.print_token(A),A.directives.preserve==="start"&&(this._output.raw=!0),void this.print_newline(!1,!0)):void(u.newline.test(A.text)||A.newlines?this.print_block_commment(A,\$):(this._output.space_before_token=!0,this.print_token(A),this._output.space_before_token=!0))},J.prototype.print_block_commment=function(A,\$){var dt,wt,Nt,kt=function(_t){for(var vt=[],ee=(_t=_t.replace(u.allLineBreaks,\`
\`)).indexOf(\`
\`);ee!==-1;)vt.push(_t.substring(0,ee)),ee=(_t=_t.substring(ee+1)).indexOf(\`
\`);return _t.length&&vt.push(_t),vt}(A.text),ft=A.whitespace_before,at=ft.length;if(this.print_newline(!1,\$),this.print_token_line_indentation(A),this._output.add_token(kt[0]),this.print_newline(!1,\$),1<kt.length){for(wt=function(_t,vt){for(var ee=0;ee<_t.length;ee++)if(_t[ee].trim().charAt(0)!==vt)return!1;return!0}(kt=kt.slice(1),"*"),Nt=function(_t,vt){for(var ee,Et=0,Rt=_t.length;Et<Rt;Et++)if((ee=_t[Et])&&ee.indexOf(vt)!==0)return!1;return!0}(kt,ft),wt&&(this._flags.alignment=1),dt=0;dt<kt.length;dt++)wt?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].replace(/^\\s+/g,""))):Nt&&kt[dt]?(this.print_token_line_indentation(A),this._output.add_token(kt[dt].substring(at))):(this._output.current_line.set_indent(-1),this._output.add_token(kt[dt])),this.print_newline(!1,\$);this._flags.alignment=0}},J.prototype.handle_comment=function(A,\$){A.newlines?this.print_newline(!1,\$):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(A),this.print_newline(!1,\$)},J.prototype.handle_dot=function(A){this.start_of_statement(A)||this.handle_whitespace_and_comments(A,!0),this._flags.last_token.text.match("^[0-9]+\$")&&(this._output.space_before_token=!0),D(this._flags.last_token,z)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(A,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(A)},J.prototype.handle_unknown=function(A,\$){this.print_token(A),A.text[A.text.length-1]===\`
\`&&this.print_newline(!1,\$)},J.prototype.handle_eof=function(A){for(;this._flags.mode===ot;)this.restore_mode();this.handle_whitespace_and_comments(A)},E.exports.Beautifier=J},function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new w(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},w.prototype.get_indent_size=function(l,u){var _=this.__base_string_length;return _=(_=l<0?0:_)+l*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(l,u){var _=this.__base_string;return u=u||0,l<0&&(l=0,_=""),u+=l*this.__indent_size,this.__ensure_cache(u),_+=this.__cache[u]},w.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var l,u=this.__cache.length,_="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,_=new Array(l+1).join(this.__indent_string)),u&&(_+=new Array(u+1).join(" ")),this.__cache.push(_)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var _=this.__lines.length-2;0<=_;){var b=this.__lines[_];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(_+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}_--}},E.exports.Output=d},function(E){E.exports.Token=function(S,w,d,l){this.type=S,this.text=w,this.comments_before=null,this.newlines=d||0,this.whitespace_before=l||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(E,S){var w="\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a",d="\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc",l="\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f",u="\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}",_="(?:"+u+"|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a"+d+"])";S.identifier=new RegExp(_+"(?:\\\\\\\\u[0-9a-fA-F]{4}|\\\\\\\\u\\\\{[0-9a-fA-F]+\\\\}|[\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f])*","g"),S.identifierStart=new RegExp(_),S.identifierMatch=new RegExp("(?:"+u+"|["+w+d+l+"])+"),S.newline=/[\\n\\r\\u2028\\u2029]/,S.lineBreak=new RegExp(\`\\r
|\`+S.newline.source),S.allLineBreaks=new RegExp(S.lineBreak.source,"g")},function(E,S,w){var d=w(6).Options,l=["before-newline","after-newline","preserve-newline"];function u(b){d.call(this,b,"js");var b=this.raw_options.brace_style||null,F=(b==="expand-strict"?this.raw_options.brace_style="expand":b==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"),this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_preserve_inline=!1,this.brace_style="collapse";for(var O=0;O<F.length;O++)F[O]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=F[O];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",l),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}u.prototype=new d,E.exports.Options=u},function(E){function S(l,u){this.raw_options=w(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(l,u){var _,b={};for(_ in l=d(l))_!==u&&(b[_]=l[_]);if(u&&l[u])for(_ in l[u])b[_]=l[u][_];return b}function d(l){var u,_={};for(u in l)_[u.replace(/-/g,"_")]=l[u];return _}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,_){if(_=this._get_selection_list(l,u,_),_.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return _[0]},S.prototype._get_selection_list=function(l,u,_){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(_=_||[u[0]],!this._is_valid_selection(_,u))throw new Error("Invalid Default Value!");if(_=this._get_array(l,_),this._is_valid_selection(_,u))return _;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(_){return u.indexOf(_)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=w},function(E,S,U){var d=U(8).InputScanner,l=U(9).Tokenizer,rt=U(9).TOKEN,ot=U(13).Directives,u=U(4),_=U(12).Pattern,b=U(14).TemplatablePattern;function F(R,k){return k.indexOf(R)!==-1}function O(R,k){l.call(this,R,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source),R=new _(this._input),k=new b(this._input).read_options(this._options),this.__patterns={template:k,identifier:k.starting_with(u.identifier).matching(u.identifierMatch),number:R.matching(D),punct:R.matching(Z),comment:R.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:R.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:R.matching(/<!--/),html_comment_end:R.matching(/-->/),include:R.starting_with(/#include/).until_after(u.lineBreak),shebang:R.starting_with(/#!/).until_after(u.lineBreak),xml:R.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:k.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:k.until(/["\\\\\\n\\r\\u2028\\u2029]/),template_text:k.until(/[\`\\\\\$]/),template_expression:k.until(/[\`}\\\\]/)}}var g,y={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:rt.START,RAW:rt.RAW,EOF:rt.EOF},W=new ot(/\\/\\*/,/\\*\\//),D=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,z=/[0-9]/,H=/[^\\d\\.]/,U=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rt=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |",Z=(rt=(rt="\\\\?\\\\.(?!\\\\d) "+(rt=rt.replace(/[-[\\]{}()*+?.,\\\\^\$|#]/g,"\\\\\$&"))).replace(/ /g,"|"),new RegExp(rt)),ot="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),rt=ot.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),I=new RegExp("^(?:"+rt.join("|")+")\$");(O.prototype=new l)._is_comment=function(R){return R.type===y.COMMENT||R.type===y.BLOCK_COMMENT||R.type===y.UNKNOWN},O.prototype._is_opening=function(R){return R.type===y.START_BLOCK||R.type===y.START_EXPR},O.prototype._is_closing=function(R,k){return(R.type===y.END_BLOCK||R.type===y.END_EXPR)&&k&&(R.text==="]"&&k.text==="["||R.text===")"&&k.text==="("||R.text==="}"&&k.text==="{")},O.prototype._reset=function(){g=!1},O.prototype._get_next_token=function(R,k){this._readWhitespace();var K=this._input.peek();return K===null?this._create_token(y.EOF,""):this._read_non_javascript(K)||this._read_string(K)||this._read_pair(K,this._input.peek(1))||this._read_word(R)||this._read_singles(K)||this._read_comment(K)||this._read_regexp(K,R)||this._read_xml(K,R)||this._read_punctuation()||this._create_token(y.UNKNOWN,this._input.next())},O.prototype._read_word=function(R){var k=this.__patterns.identifier.read();return k!==""?(k=k.replace(u.allLineBreaks,\`
\`),R.type!==y.DOT&&(R.type!==y.RESERVED||R.text!=="set"&&R.text!=="get")&&I.test(k)?k!=="in"&&k!=="of"||R.type!==y.WORD&&R.type!==y.STRING?this._create_token(y.RESERVED,k):this._create_token(y.OPERATOR,k):this._create_token(y.WORD,k)):(k=this.__patterns.number.read())!==""?this._create_token(y.WORD,k):void 0},O.prototype._read_singles=function(R){var k=null;return R==="("||R==="["?k=this._create_token(y.START_EXPR,R):R===")"||R==="]"?k=this._create_token(y.END_EXPR,R):R==="{"?k=this._create_token(y.START_BLOCK,R):R==="}"?k=this._create_token(y.END_BLOCK,R):R===";"?k=this._create_token(y.SEMICOLON,R):R==="."&&H.test(this._input.peek(1))?k=this._create_token(y.DOT,R):R===","&&(k=this._create_token(y.COMMA,R)),k&&this._input.next(),k},O.prototype._read_pair=function(R,k){var K=null;return(K=R==="#"&&k==="{"?this._create_token(y.START_BLOCK,R+k):K)&&(this._input.next(),this._input.next()),K},O.prototype._read_punctuation=function(){var R=this.__patterns.punct.read();if(R!=="")return R==="="?this._create_token(y.EQUALS,R):R==="?."?this._create_token(y.DOT,R):this._create_token(y.OPERATOR,R)},O.prototype._read_non_javascript=function(R){var k="";if(R==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read()))return this._create_token(y.UNKNOWN,k.trim()+\`
\`);if(k=this.__patterns.include.read())return this._create_token(y.UNKNOWN,k.trim()+\`
\`);R=this._input.next();var K="#";if(this._input.hasNext()&&this._input.testChar(z)){for(;K+=R=this._input.next(),this._input.hasNext()&&R!=="#"&&R!=="=";);return R!=="#"&&(this._input.peek()==="["&&this._input.peek(1)==="]"?(K+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(K+="{}",this._input.next(),this._input.next())),this._create_token(y.WORD,K)}this._input.back()}else if(R==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)k+=this._input.next();return g=!0,this._create_token(y.COMMENT,k)}}else if(g&&R==="-"&&(k=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(y.COMMENT,k);return null},O.prototype._read_comment=function(R){var k,K=null;return R==="/"&&(R="",this._input.peek(1)==="*"?(R=this.__patterns.block_comment.read(),(k=W.get_directives(R))&&k.ignore==="start"&&(R+=W.readIgnored(this._input)),R=R.replace(u.allLineBreaks,\`
\`),(K=this._create_token(y.BLOCK_COMMENT,R)).directives=k):this._input.peek(1)==="/"&&(R=this.__patterns.comment.read(),K=this._create_token(y.COMMENT,R))),K},O.prototype._read_string=function(R){var k;return R==="\`"||R==="'"||R==='"'?(k=this._input.next(),this.has_char_escapes=!1,k+=R==="\`"?this._read_string_recursive("\`",!0,"\${"):this._read_string_recursive(R),this.has_char_escapes&&this._options.unescape_strings&&(k=function(K){for(var L="",Q=0,it=new d(K),J=null;it.hasNext();)if((J=it.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(L+=J[0]),it.peek()==="\\\\"){if(it.next(),it.peek()==="x")J=it.match(/x([0-9A-Fa-f]{2})/g);else{if(it.peek()!=="u"){L+="\\\\",it.hasNext()&&(L+=it.next());continue}J=(J=it.match(/u([0-9A-Fa-f]{4})/g))||it.match(/u\\{([0-9A-Fa-f]+)\\}/g)}if(!J||126<(Q=parseInt(J[1],16))&&Q<=255&&J[0].indexOf("x")===0)return K;L+=0<=Q&&Q<32||1114111<Q?"\\\\"+J[0]:Q===34||Q===39||Q===92?"\\\\"+String.fromCharCode(Q):String.fromCharCode(Q)}return L}(k)),this._input.peek()===R&&(k+=this._input.next()),k=k.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,k)):null},O.prototype._allow_regexp_or_xml=function(R){return R.type===y.RESERVED&&F(R.text,["return","case","throw","else","do","typeof","yield"])||R.type===y.END_EXPR&&R.text===")"&&R.opened.previous.type===y.RESERVED&&F(R.opened.previous.text,["if","while","for"])||F(R.type,[y.COMMENT,y.START_EXPR,y.START_BLOCK,y.START,y.END_BLOCK,y.OPERATOR,y.EQUALS,y.EOF,y.SEMICOLON,y.COMMA])},O.prototype._read_regexp=function(R,k){if(R==="/"&&this._allow_regexp_or_xml(k)){for(var K=this._input.next(),L=!1,Q=!1;this._input.hasNext()&&(L||Q||this._input.peek()!==R)&&!this._input.testChar(u.newline);)K+=this._input.peek(),L?L=!1:(L=this._input.peek()==="\\\\",this._input.peek()==="["?Q=!0:this._input.peek()==="]"&&(Q=!1)),this._input.next();return this._input.peek()===R&&(K=(K+=this._input.next())+this._input.read(u.identifier)),this._create_token(y.STRING,K)}return null},O.prototype._read_xml=function(R,k){if(this._options.e4x&&R==="<"&&this._allow_regexp_or_xml(k)){var K="",L=this.__patterns.xml.read_match();if(L){for(var Q=L[2].replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"),it=Q.indexOf("{")===0,J=0;L;){var lt=!!L[1],A=L[2];if(!(L[L.length-1]||A.slice(0,8)==="![CDATA[")&&(A===Q||it&&A.replace(/^{\\s+/,"{").replace(/\\s+}\$/,"}"))&&(lt?--J:++J),K+=L[0],J<=0)break;L=this.__patterns.xml.read_match()}return L||(K+=this._input.match(/[\\s\\S]*/g)[0]),K=K.replace(u.allLineBreaks,\`
\`),this._create_token(y.STRING,K)}}return null},O.prototype._read_string_recursive=function(R,k,K){R==="'"?Q=this.__patterns.single_quote:R==='"'?Q=this.__patterns.double_quote:R==="\`"?Q=this.__patterns.template_text:R==="}"&&(Q=this.__patterns.template_expression);for(var L,Q,it=Q.read(),J="";this._input.hasNext();){if((J=this._input.next())===R||!k&&u.newline.test(J)){this._input.back();break}J==="\\\\"&&this._input.hasNext()?((L=this._input.peek())==="x"||L==="u"?this.has_char_escapes=!0:L==="\\r"&&this._input.peek(1)===\`
\`&&this._input.next(),J+=this._input.next()):K&&(K==="\${"&&J==="\$"&&this._input.peek()==="{"&&(J+=this._input.next()),K===J&&(J+=R==="\`"?this._read_string_recursive("}",k,"\`"):this._read_string_recursive("\`",k,"\${"),this._input.hasNext()&&(J+=this._input.next()))),it+=J+=Q.read()}return it},E.exports.Tokenizer=O,E.exports.TOKEN=y,E.exports.positionable_operators=U.slice(),E.exports.line_starters=ot.slice()},function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function w(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},w.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},w.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},w.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},w.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},w.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},w.prototype.read=function(d,l,u){var _,b="";return d&&(_=this.match(d))&&(b+=_[0]),!l||!_&&d||(b+=this.readUntil(l,u)),b},w.prototype.readUntil=function(_,l){var u=this.__position,_=(_.lastIndex=this.__position,_.exec(this.__input));return _?(u=_.index,l&&(u+=_[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},w.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},w.prototype.get_regexp=function(d,_){var u=null,_=_&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,_):d&&(u=new RegExp(d.source,_)),u},w.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},w.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=w},function(E,S,w){function d(O,g){this._input=new l(O),this._options=g||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new b(this._input)}var l=w(8).InputScanner,u=w(3).Token,_=w(10).TokenStream,b=w(11).WhitespacePattern,F={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};d.prototype.tokenize=function(){this._input.restart(),this.__tokens=new _,this._reset();for(var O,g=new u(F.START,""),y=null,W=[],D=new _;g.type!==F.EOF;){for(O=this._get_next_token(g,y);this._is_comment(O);)D.add(O),O=this._get_next_token(g,y);D.isEmpty()||(O.comments_before=D,D=new _),O.parent=y,this._is_opening(O)?(W.push(y),y=O):y&&this._is_closing(O,y)&&((O.opened=y).closed=O,y=W.pop(),O.parent=y),(O.previous=g).next=O,this.__tokens.add(O),g=O}return this.__tokens},d.prototype._is_first_token=function(){return this.__tokens.isEmpty()},d.prototype._reset=function(){},d.prototype._get_next_token=function(O,g){this._readWhitespace();var y=this._input.read(/.+/g);return y?this._create_token(F.RAW,y):this._create_token(F.EOF,"")},d.prototype._is_comment=function(O){return!1},d.prototype._is_opening=function(O){return!1},d.prototype._is_closing=function(O,g){return!1},d.prototype._create_token=function(O,g){return new u(O,g,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},d.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},E.exports.Tokenizer=d,E.exports.TOKEN=F},function(E){function S(w){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=w}S.prototype.restart=function(){this.__position=0},S.prototype.isEmpty=function(){return this.__tokens_length===0},S.prototype.hasNext=function(){return this.__position<this.__tokens_length},S.prototype.next=function(){var w=null;return this.hasNext()&&(w=this.__tokens[this.__position],this.__position+=1),w},S.prototype.peek=function(w){var d=null;return w=w||0,d=0<=(w+=this.__position)&&w<this.__tokens_length?this.__tokens[w]:d},S.prototype.add=function(w){this.__parent_token&&(w.parent=this.__parent_token),this.__tokens.push(w),this.__tokens_length+=1},E.exports.TokenStream=S},function(E,S,w){var d=w(12).Pattern;function l(u,_){d.call(this,u,_),_?this._line_regexp=this._input.get_regexp(_._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(l.prototype=new d).__set_whitespace_patterns=function(u,_){this._match_pattern=this._input.get_regexp("["+(u+="\\\\t ")+(_+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+_+"]")},l.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u,_=this._input.read(this._match_pattern);return _===" "?this.whitespace_before_token=" ":_&&(u=this.__split(this._newline_regexp,_),this.newline_count=u.length-1,this.whitespace_before_token=u[this.newline_count]),_},l.prototype.matching=function(u,_){var b=this._create();return b.__set_whitespace_patterns(u,_),b._update(),b},l.prototype._create=function(){return new l(this._input,this)},l.prototype.__split=function(u,_){for(var b=u.lastIndex=0,F=[],O=u.exec(_);O;)F.push(_.substring(b,O.index)),b=O.index+O[0].length,O=u.exec(_);return b<_.length?F.push(_.substring(b,_.length)):F.push(""),F},E.exports.WhitespacePattern=l},function(E){function S(w,d){this._input=w,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,d&&(this._starting_pattern=this._input.get_regexp(d._starting_pattern,!0),this._match_pattern=this._input.get_regexp(d._match_pattern,!0),this._until_pattern=this._input.get_regexp(d._until_pattern),this._until_after=d._until_after)}S.prototype.read=function(){var w=this._input.read(this._starting_pattern);return this._starting_pattern&&!w||(w+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),w},S.prototype.read_match=function(){return this._input.match(this._match_pattern)},S.prototype.until_after=function(w){var d=this._create();return d._until_after=!0,d._until_pattern=this._input.get_regexp(w),d._update(),d},S.prototype.until=function(w){var d=this._create();return d._until_after=!1,d._until_pattern=this._input.get_regexp(w),d._update(),d},S.prototype.starting_with=function(w){var d=this._create();return d._starting_pattern=this._input.get_regexp(w,!0),d._update(),d},S.prototype.matching=function(w){var d=this._create();return d._match_pattern=this._input.get_regexp(w,!0),d._update(),d},S.prototype._create=function(){return new S(this._input,this)},S.prototype._update=function(){},E.exports.Pattern=S},function(E){function S(w,d){w=typeof w=="string"?w:w.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(w);return d},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},function(E,S,w){var d=w(12).Pattern,l={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function u(_,b){d.call(this,_,b),this.__template_pattern=null,this._disabled=Object.assign({},l),this._excluded=Object.assign({},l),b&&(this.__template_pattern=this._input.get_regexp(b.__template_pattern),this._excluded=Object.assign(this._excluded,b._excluded),this._disabled=Object.assign(this._disabled,b._disabled)),b=new d(_),this.__patterns={handlebars_comment:b.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:b.starting_with(/{{{/).until_after(/}}}/),handlebars:b.starting_with(/{{/).until_after(/}}/),php:b.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:b.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:b.starting_with(/{%/).until_after(/%}/),django_value:b.starting_with(/{{/).until_after(/}}/),django_comment:b.starting_with(/{#/).until_after(/#}/),smarty:b.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:b.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:b.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(u.prototype=new d)._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(_){var b=this._create();return b._disabled[_]=!0,b._update(),b},u.prototype.read_options=function(_){var b,F=this._create();for(b in l)F._disabled[b]=_.templating.indexOf(b)===-1;return F._update(),F},u.prototype.exclude=function(_){var b=this._create();return b._excluded[_]=!0,b._update(),b},u.prototype.read=function(){for(var _="",_=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),b=this._read_template();b;)this._match_pattern?b+=this._input.read(this._match_pattern):b+=this._input.readUntil(this.__template_pattern),_+=b,b=this._read_template();return this._until_after&&(_+=this._input.readUntilAfter(this._until_pattern)),_},u.prototype.__set_templated_pattern=function(){var _=[];this._disabled.php||_.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||_.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||_.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(_.push(this.__patterns.django._starting_pattern.source),_.push(this.__patterns.django_value._starting_pattern.source),_.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||_.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&_.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+_.join("|")+")")},u.prototype._read_template=function(){var _,b="",F=this._input.peek();return F==="<"?(_=this._input.peek(1),this._disabled.php||this._excluded.php||_!=="?"||(b=b||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||_!=="%"||(b=b||this.__patterns.erb.read())):F==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(b=(b=(b=b||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(b=b||this.__patterns.django_value.read()),this._excluded.django||(b=(b=b||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(b=(b=(b=b||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),b},E.exports.TemplatablePattern=u}],T={},C=function E(S){var w=T[S];return w!==void 0?w.exports:(w=T[S]={exports:{}},c[S](w,w.exports,E),w.exports)}(0);f=C})();var f,s=f;typeof define=="function"&&define.amd?define([],function(){return{js_beautify:s}}):typeof exports<"u"?exports.js_beautify=s:typeof window<"u"?window.js_beautify=s:typeof global<"u"&&(global.js_beautify=s)})();(function(){(function(){var C=[,,function(w){function d(_){this.__parent=_,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function l(_,b){this.__cache=[""],this.__indent_size=_.indent_size,this.__indent_string=_.indent_char,_.indent_with_tabs||(this.__indent_string=new Array(_.indent_size+1).join(_.indent_char)),b=b||"",0<_.indent_level&&(b=new Array(_.indent_level+1).join(this.__indent_string)),this.__base_string=b,this.__base_string_length=b.length}function u(_,b){this.__indent_cache=new l(_,b),this.raw=!1,this._end_with_newline=_.end_with_newline,this.indent_size=_.indent_size,this.wrap_line_length=_.wrap_line_length,this.indent_empty_lines=_.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new d(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}d.prototype.clone_empty=function(){var _=new d(this.__parent);return _.set_indent(this.__indent_count,this.__alignment_count),_},d.prototype.item=function(_){return _<0?this.__items[this.__items.length+_]:this.__items[_]},d.prototype.has_match=function(_){for(var b=this.__items.length-1;0<=b;b--)if(this.__items[b].match(_))return!0;return!1},d.prototype.set_indent=function(_,b){this.is_empty()&&(this.__indent_count=_||0,this.__alignment_count=b||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},d.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},d.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},d.prototype._allow_wrap=function(){var _;return!!this._should_wrap()&&(this.__parent.add_new_line(),(_=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),_.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),_.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,_.__items[0]===" "&&(_.__items.splice(0,1),--_.__character_count),!0)},d.prototype.is_empty=function(){return this.__items.length===0},d.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},d.prototype.push=function(_){this.__items.push(_);var b=_.lastIndexOf(\`
\`);b!==-1?this.__character_count=_.length-b:this.__character_count+=_.length},d.prototype.pop=function(){var _=null;return this.is_empty()||(_=this.__items.pop(),this.__character_count-=_.length),_},d.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},d.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},d.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},d.prototype.toString=function(){var _="";return this.is_empty()?this.__parent.indent_empty_lines&&(_=this.__parent.get_indent_string(this.__indent_count)):(_=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),_+=this.__items.join("")),_},l.prototype.get_indent_size=function(_,b){var F=this.__base_string_length;return F=(F=_<0?0:F)+_*this.__indent_size+(b=b||0)},l.prototype.get_indent_string=function(_,b){var F=this.__base_string;return b=b||0,_<0&&(_=0,F=""),b+=_*this.__indent_size,this.__ensure_cache(b),F+=this.__cache[b]},l.prototype.__ensure_cache=function(_){for(;_>=this.__cache.length;)this.__add_column()},l.prototype.__add_column=function(){var _,b=this.__cache.length,F="";this.__indent_size&&b>=this.__indent_size&&(b-=(_=Math.floor(b/this.__indent_size))*this.__indent_size,F=new Array(_+1).join(this.__indent_string)),b&&(F+=new Array(b+1).join(" ")),this.__cache.push(F)},u.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},u.prototype.get_line_number=function(){return this.__lines.length},u.prototype.get_indent_string=function(_,b){return this.__indent_cache.get_indent_string(_,b)},u.prototype.get_indent_size=function(_,b){return this.__indent_cache.get_indent_size(_,b)},u.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},u.prototype.add_new_line=function(_){return!(this.is_empty()||!_&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},u.prototype.get_code=function(_){this.trim(!0);var b=this.current_line.pop(),b=(b&&(b[b.length-1]===\`
\`&&(b=b.replace(/\\n+\$/g,"")),this.current_line.push(b)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return b=_!==\`
\`?b.replace(/[\\n]/g,_):b},u.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},u.prototype.set_indent=function(_,b){return this.next_line.set_indent(_=_||0,b=b||0),1<this.__lines.length?(this.current_line.set_indent(_,b),!0):(this.current_line.set_indent(),!1)},u.prototype.add_raw_token=function(_){for(var b=0;b<_.newlines;b++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(_.whitespace_before),this.current_line.push(_.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},u.prototype.add_token=function(_){this.__add_space_before_token(),this.current_line.push(_),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},u.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},u.prototype.remove_indent=function(_){for(var b=this.__lines.length;_<b;)this.__lines[_]._remove_indent(),_++;this.current_line._remove_wrap_indent()},u.prototype.trim=function(_){for(_=_!==void 0&&_,this.current_line.trim();_&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},u.prototype.just_added_newline=function(){return this.current_line.is_empty()},u.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},u.prototype.ensure_empty_line_above=function(_,b){for(var F=this.__lines.length-2;0<=F;){var O=this.__lines[F];if(O.is_empty())break;if(O.item(0).indexOf(_)!==0&&O.item(-1)!==b){this.__lines.splice(F+1,0,new d(this)),this.previous_line=this.__lines[this.__lines.length-2];break}F--}},w.exports.Output=u},function(w){w.exports.Token=function(d,l,u,_){this.type=d,this.text=l,this.comments_before=null,this.newlines=u||0,this.whitespace_before=_||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(w){function d(_,b){this.raw_options=l(_,b),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function l(_,b){var F,O={};for(F in _=u(_))F!==b&&(O[F]=_[F]);if(b&&_[b])for(F in _[b])O[F]=_[b][F];return O}function u(_){var b,F={};for(b in _)F[b.replace(/-/g,"_")]=_[b];return F}d.prototype._get_array=function(_,b){return _=this.raw_options[_],b=b||[],typeof _=="object"?_!==null&&typeof _.concat=="function"&&(b=_.concat()):typeof _=="string"&&(b=_.split(/[^a-zA-Z0-9_\\/\\-]+/)),b},d.prototype._get_boolean=function(_,b){return _=this.raw_options[_],_===void 0?!!b:!!_},d.prototype._get_characters=function(_,b){return _=this.raw_options[_],b=b||"",b=typeof _=="string"?_.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):b},d.prototype._get_number=function(_,b){return _=this.raw_options[_],b=parseInt(b,10),isNaN(b)&&(b=0),_=parseInt(_,10),_=isNaN(_)?b:_},d.prototype._get_selection=function(_,b,F){if(F=this._get_selection_list(_,b,F),F.length!==1)throw new Error("Invalid Option Value: The option '"+_+\`' can only be one of the following values:
\`+b+\`
You passed in: '\`+this.raw_options[_]+"'");return F[0]},d.prototype._get_selection_list=function(_,b,F){if(!b||b.length===0)throw new Error("Selection list cannot be empty.");if(F=F||[b[0]],!this._is_valid_selection(F,b))throw new Error("Invalid Default Value!");if(F=this._get_array(_,F),this._is_valid_selection(F,b))return F;throw new Error("Invalid Option Value: The option '"+_+\`' can contain only the following values:
\`+b+\`
You passed in: '\`+this.raw_options[_]+"'")},d.prototype._is_valid_selection=function(_,b){return _.length&&b.length&&!_.some(function(F){return b.indexOf(F)===-1})},w.exports.Options=d,w.exports.normalizeOpts=u,w.exports.mergeOpts=l},,function(w){var d=RegExp.prototype.hasOwnProperty("sticky");function l(u){this.__input=u||"",this.__input_length=this.__input.length,this.__position=0}l.prototype.restart=function(){this.__position=0},l.prototype.back=function(){0<this.__position&&--this.__position},l.prototype.hasNext=function(){return this.__position<this.__input_length},l.prototype.next=function(){var u=null;return this.hasNext()&&(u=this.__input.charAt(this.__position),this.__position+=1),u},l.prototype.peek=function(u){var _=null;return u=u||0,_=0<=(u+=this.__position)&&u<this.__input_length?this.__input.charAt(u):_},l.prototype.__match=function(u,_){u.lastIndex=_;var b=u.exec(this.__input);return!b||d&&u.sticky||b.index!==_&&(b=null),b},l.prototype.test=function(u,_){return _=_||0,0<=(_+=this.__position)&&_<this.__input_length&&!!this.__match(u,_)},l.prototype.testChar=function(u,_){return _=this.peek(_),u.lastIndex=0,_!==null&&u.test(_)},l.prototype.match=function(u){return u=this.__match(u,this.__position),u?this.__position+=u[0].length:u=null,u},l.prototype.read=function(u,_,b){var F,O="";return u&&(F=this.match(u))&&(O+=F[0]),!_||!F&&u||(O+=this.readUntil(_,b)),O},l.prototype.readUntil=function(F,_){var b=this.__position,F=(F.lastIndex=this.__position,F.exec(this.__input));return F?(b=F.index,_&&(b+=F[0].length)):b=this.__input_length,_=this.__input.substring(this.__position,b),this.__position=b,_},l.prototype.readUntilAfter=function(u){return this.readUntil(u,!0)},l.prototype.get_regexp=function(u,F){var b=null,F=F&&d?"y":"g";return typeof u=="string"&&u!==""?b=new RegExp(u,F):u&&(b=new RegExp(u.source,F)),b},l.prototype.get_literal_regexp=function(u){return RegExp(u.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},l.prototype.peekUntilAfter=function(b){var _=this.__position,b=this.readUntilAfter(b);return this.__position=_,b},l.prototype.lookBack=function(u){var _=this.__position-1;return _>=u.length&&this.__input.substring(_-u.length,_).toLowerCase()===u},w.exports.InputScanner=l},function(w,d,l){function u(y,W){this._input=new _(y),this._options=W||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new O(this._input)}var _=l(8).InputScanner,b=l(3).Token,F=l(10).TokenStream,O=l(11).WhitespacePattern,g={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};u.prototype.tokenize=function(){this._input.restart(),this.__tokens=new F,this._reset();for(var y,W=new b(g.START,""),D=null,z=[],H=new F;W.type!==g.EOF;){for(y=this._get_next_token(W,D);this._is_comment(y);)H.add(y),y=this._get_next_token(W,D);H.isEmpty()||(y.comments_before=H,H=new F),y.parent=D,this._is_opening(y)?(z.push(D),D=y):D&&this._is_closing(y,D)&&((y.opened=D).closed=y,D=z.pop(),y.parent=D),(y.previous=W).next=y,this.__tokens.add(y),W=y}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(y,W){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(g.RAW,D):this._create_token(g.EOF,"")},u.prototype._is_comment=function(y){return!1},u.prototype._is_opening=function(y){return!1},u.prototype._is_closing=function(y,W){return!1},u.prototype._create_token=function(y,W){return new b(y,W,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},w.exports.Tokenizer=u,w.exports.TOKEN=g},function(w){function d(l){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=l}d.prototype.restart=function(){this.__position=0},d.prototype.isEmpty=function(){return this.__tokens_length===0},d.prototype.hasNext=function(){return this.__position<this.__tokens_length},d.prototype.next=function(){var l=null;return this.hasNext()&&(l=this.__tokens[this.__position],this.__position+=1),l},d.prototype.peek=function(l){var u=null;return l=l||0,u=0<=(l+=this.__position)&&l<this.__tokens_length?this.__tokens[l]:u},d.prototype.add=function(l){this.__parent_token&&(l.parent=this.__parent_token),this.__tokens.push(l),this.__tokens_length+=1},w.exports.TokenStream=d},function(w,d,l){var u=l(12).Pattern;function _(b,F){u.call(this,b,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(_.prototype=new u).__set_whitespace_patterns=function(b,F){this._match_pattern=this._input.get_regexp("["+(b+="\\\\t ")+(F+="\\\\n\\\\r")+"]+",!0),this._newline_regexp=this._input.get_regexp("\\\\r\\\\n|["+F+"]")},_.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var b,F=this._input.read(this._match_pattern);return F===" "?this.whitespace_before_token=" ":F&&(b=this.__split(this._newline_regexp,F),this.newline_count=b.length-1,this.whitespace_before_token=b[this.newline_count]),F},_.prototype.matching=function(b,F){var O=this._create();return O.__set_whitespace_patterns(b,F),O._update(),O},_.prototype._create=function(){return new _(this._input,this)},_.prototype.__split=function(b,F){for(var O=b.lastIndex=0,g=[],y=b.exec(F);y;)g.push(F.substring(O,y.index)),O=y.index+y[0].length,y=b.exec(F);return O<F.length?g.push(F.substring(O,F.length)):g.push(""),g},w.exports.WhitespacePattern=_},function(w){function d(l,u){this._input=l,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,u&&(this._starting_pattern=this._input.get_regexp(u._starting_pattern,!0),this._match_pattern=this._input.get_regexp(u._match_pattern,!0),this._until_pattern=this._input.get_regexp(u._until_pattern),this._until_after=u._until_after)}d.prototype.read=function(){var l=this._input.read(this._starting_pattern);return this._starting_pattern&&!l||(l+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),l},d.prototype.read_match=function(){return this._input.match(this._match_pattern)},d.prototype.until_after=function(l){var u=this._create();return u._until_after=!0,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.until=function(l){var u=this._create();return u._until_after=!1,u._until_pattern=this._input.get_regexp(l),u._update(),u},d.prototype.starting_with=function(l){var u=this._create();return u._starting_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype.matching=function(l){var u=this._create();return u._match_pattern=this._input.get_regexp(l,!0),u._update(),u},d.prototype._create=function(){return new d(this._input,this)},d.prototype._update=function(){},w.exports.Pattern=d},function(w){function d(l,u){l=typeof l=="string"?l:l.source,u=typeof u=="string"?u:u.source,this.__directives_block_pattern=new RegExp(l+/ beautify( \\w+[:]\\w+)+ /.source+u,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(l+/\\sbeautify\\signore:end\\s/.source+u,"g")}d.prototype.get_directives=function(l){if(!l.match(this.__directives_block_pattern))return null;for(var u={},_=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(l));_;)u[_[1]]=_[2],_=this.__directive_pattern.exec(l);return u},d.prototype.readIgnored=function(l){return l.readUntilAfter(this.__directives_end_ignore_pattern)},w.exports.Directives=d},function(w,d,l){var u=l(12).Pattern,_={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function b(F,O){u.call(this,F,O),this.__template_pattern=null,this._disabled=Object.assign({},_),this._excluded=Object.assign({},_),O&&(this.__template_pattern=this._input.get_regexp(O.__template_pattern),this._excluded=Object.assign(this._excluded,O._excluded),this._disabled=Object.assign(this._disabled,O._disabled)),O=new u(F),this.__patterns={handlebars_comment:O.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:O.starting_with(/{{{/).until_after(/}}}/),handlebars:O.starting_with(/{{/).until_after(/}}/),php:O.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:O.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:O.starting_with(/{%/).until_after(/%}/),django_value:O.starting_with(/{{/).until_after(/}}/),django_comment:O.starting_with(/{#/).until_after(/#}/),smarty:O.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:O.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:O.starting_with(/{literal}/).until_after(/{\\/literal}/)}}(b.prototype=new u)._create=function(){return new b(this._input,this)},b.prototype._update=function(){this.__set_templated_pattern()},b.prototype.disable=function(F){var O=this._create();return O._disabled[F]=!0,O._update(),O},b.prototype.read_options=function(F){var O,g=this._create();for(O in _)g._disabled[O]=F.templating.indexOf(O)===-1;return g._update(),g},b.prototype.exclude=function(F){var O=this._create();return O._excluded[F]=!0,O._update(),O},b.prototype.read=function(){for(var F="",F=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),O=this._read_template();O;)this._match_pattern?O+=this._input.read(this._match_pattern):O+=this._input.readUntil(this.__template_pattern),F+=O,O=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},b.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},b.prototype._read_template=function(){var F,O="",g=this._input.peek();return g==="<"?(F=this._input.peek(1),this._disabled.php||this._excluded.php||F!=="?"||(O=O||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||F!=="%"||(O=O||this.__patterns.erb.read())):g==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(O=(O=(O=O||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(O=O||this.__patterns.django_value.read()),this._excluded.django||(O=(O=O||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(O=(O=(O=O||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read())),O},w.exports.TemplatablePattern=b},,,,function(w,d,l){var u=l(19).Beautifier,_=l(20).Options;w.exports=function(b,F,O,g){return new u(b,F,O,g).beautify()},w.exports.defaultOptions=function(){return new _}},function(w,d,l){function u(I,R){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new F(I,R)}function _(I,R){var k=null,K=null;return R.closed?(I==="script"?k="text/javascript":I==="style"&&(k="text/css"),-1<(k=function(L){for(var Q=null,it=L.next;it.type!==g.EOF&&L.closed!==it;){if(it.type===g.ATTRIBUTE&&it.text==="type"){it.next&&it.next.type===g.EQUALS&&it.next.next&&it.next.next.type===g.VALUE&&(Q=it.next.next.text);break}it=it.next}return Q}(R)||k).search("text/css")?K="css":-1<k.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)?K="javascript":-1<k.search(/(text|application|dojo)\\/(x-)?(html)/)?K="html":-1<k.search(/test\\/null/)&&(K="null"),K):null}var b=l(20).Options,F=l(2).Output,O=l(21).Tokenizer,g=l(21).TOKEN,y=/\\r\\n|[\\r\\n]/,W=/\\r\\n|[\\r\\n]/g;u.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},u.prototype.set_space_before_token=function(I,R){this._output.space_before_token=I,this._output.non_breaking_space=R},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},u.prototype.print_preserved_newlines=function(I){var R=0;I.type!==g.TEXT&&I.previous.type!==g.TEXT&&(R=I.newlines?1:0),this.preserve_newlines&&(R=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var k=0;k<R;k++)this.print_newline(0<k);return R!==0},u.prototype.traverse_whitespace=function(I){return!(!I.whitespace_before&&!I.newlines)&&(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(I){this._output.add_new_line(I)},u.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(I){return(I=this.indent_level+(I||0))<1?"":this._output.get_indent_string(I)};function D(I,R){return R.indexOf(I)!==-1}function z(I,R,k){this.parent=I||null,this.tag=R?R.tag_name:"",this.indent_level=k||0,this.parser_token=R||null}function H(I){this._printer=I,this._current_frame=null}function U(I,R,k,K){this._source_text=I||"",R=R||{},this._js_beautify=k,this._css_beautify=K,this._tag_stack=null,I=new b(R,"html"),this._options=I,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}H.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},H.prototype.record_tag=function(I){I=new z(this._current_frame,I,this._printer.indent_level),this._current_frame=I},H.prototype._try_pop_frame=function(I){var R=null;return I&&(R=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),R},H.prototype._get_frame=function(I,R){for(var k=this._current_frame;k&&I.indexOf(k.tag)===-1;){if(R&&R.indexOf(k.tag)!==-1){k=null;break}k=k.parent}return k},H.prototype.try_pop=function(I,R){return I=this._get_frame([I],R),this._try_pop_frame(I)},H.prototype.indent_to_tag=function(I){I=this._get_frame(I),I&&(this._printer.indent_level=I.indent_level)},U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var I=this._source_text,R=this._options.eol,k=(this._options.eol==="auto"&&(R=\`
\`,I&&y.test(I)&&(R=I.match(y)[0])),(I=I.replace(W,\`
\`)).match(/^[\\t ]*/)[0]),K={text:"",type:""},L=new Z,Q=new u(this._options,k),it=new O(I,this._options).tokenize(),J=(this._tag_stack=new H(Q),null),lt=it.next();lt.type!==g.EOF;)lt.type===g.TAG_OPEN||lt.type===g.COMMENT?L=J=this._handle_tag_open(Q,lt,L,K,it):lt.type===g.ATTRIBUTE||lt.type===g.EQUALS||lt.type===g.VALUE||lt.type===g.TEXT&&!L.tag_complete?J=this._handle_inside_tag(Q,lt,L,K):lt.type===g.TAG_CLOSE?J=this._handle_tag_close(Q,lt,L):lt.type===g.TEXT?J=this._handle_text(Q,lt,L):Q.add_raw_token(lt),K=J,lt=it.next();return Q._output.get_code(R)},U.prototype._handle_tag_close=function(I,R,k){var K={text:R.text,type:R.type};return I.alignment_size=0,k.tag_complete=!0,I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):(k.tag_start_char==="<"&&(I.set_space_before_token(R.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&k.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(R)),!k.indent_content||k.is_unformatted||k.is_content_unformatted||(I.indent(),k.indent_content=!1),k.is_inline_element||k.is_unformatted||k.is_content_unformatted||I.set_wrap_point(),K},U.prototype._handle_inside_tag=function(I,R,k,K){var L=k.has_wrapped_attrs,Q={text:R.text,type:R.type};return I.set_space_before_token(R.newlines||R.whitespace_before!=="",!0),k.is_unformatted?I.add_raw_token(R):k.tag_start_char==="{"&&R.type===g.TEXT?I.print_preserved_newlines(R)?(R.newlines=0,I.add_raw_token(R)):I.print_token(R):(R.type===g.ATTRIBUTE?I.set_space_before_token(!0):(R.type===g.EQUALS||R.type===g.VALUE&&R.previous.type===g.EQUALS)&&I.set_space_before_token(!1),R.type===g.ATTRIBUTE&&k.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(R),L=L||R.newlines!==0),this._is_wrap_attributes_force&&k.attr_count>=this._options.wrap_attributes_min_attrs&&(K.type!==g.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(I.print_newline(!1),L=!0)),I.print_token(R),L=L||I.previous_token_wrapped(),k.has_wrapped_attrs=L),Q},U.prototype._handle_text=function(I,R,k){var K={text:R.text,type:"TK_CONTENT"};return k.custom_beautifier_name?this._print_custom_beatifier_text(I,R,k):k.is_unformatted||k.is_content_unformatted?I.add_raw_token(R):(I.traverse_whitespace(R),I.print_token(R)),K},U.prototype._print_custom_beatifier_text=function(I,R,k){var K=this;if(R.text!==""){var L,Q=R.text,lt=1,it="",J="",lt=(k.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:k.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:k.custom_beautifier_name==="html"&&(L=function(A,\$){return new U(A,\$,K._js_beautify,K._css_beautify).beautify()}),this._options.indent_scripts==="keep"?lt=0:this._options.indent_scripts==="separate"&&(lt=-I.indent_level),I.get_full_indent(lt));if(Q=Q.replace(/\\n[ \\t]*\$/,""),k.custom_beautifier_name!=="html"&&Q[0]==="<"&&Q.match(/^(<!--|<!\\[CDATA\\[)/)){var k=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)\$/.exec(Q);if(!k)return void I.add_raw_token(R);it=lt+k[1]+\`
\`,Q=k[4],k[5]&&(J=lt+k[5]),Q=Q.replace(/\\n[ \\t]*\$/,""),(k[2]||k[3].indexOf(\`
\`)!==-1)&&(k=k[3].match(/[ \\t]+\$/))&&(R.whitespace_before=k[0])}Q=Q&&(L?((k=function(){this.eol=\`
\`}).prototype=this._options.raw_options,L(lt+Q,new k)):lt+(Q=(L=R.whitespace_before)?Q.replace(new RegExp(\`
(\`+L+")?","g"),\`
\`):Q).replace(/\\n/g,\`
\`+lt)),it&&(Q=Q?it+Q+\`
\`+J:it+J),I.print_newline(!1),Q&&(R.text=Q,R.whitespace_before="",R.newlines=0,I.add_raw_token(R),I.print_newline(!0))}},U.prototype._handle_tag_open=function(I,R,k,K,L){var Q=this._get_tag_open_token(R);if(!k.is_unformatted&&!k.is_content_unformatted||k.is_empty_element||R.type!==g.TAG_OPEN||Q.is_start_tag?(I.traverse_whitespace(R),this._set_tag_position(I,R,Q,k,K),Q.is_inline_element||I.set_wrap_point(),I.print_token(R)):(I.add_raw_token(R),Q.start_tag_token=this._tag_stack.try_pop(Q.tag_name)),Q.is_start_tag&&this._is_wrap_attributes_force)for(var it,J=0;(it=L.peek(J)).type===g.ATTRIBUTE&&(Q.attr_count+=1),J+=1,it.type!==g.EOF&&it.type!==g.TAG_CLOSE;);return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(Q.alignment_size=R.text.length+1),Q.tag_complete||Q.is_unformatted||(I.alignment_size=Q.alignment_size),Q};var Z=function(I,R){var k;this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",R?(this.tag_start_char=R.text[0],this.text=R.text,this.tag_start_char==="<"?(k=R.text.match(/^<([^\\s>]*)/),this.tag_check=k?k[1]:""):(k=R.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=k?k[1]:"",(R.text.startsWith("{{#>")||R.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&R.next!==null?this.tag_check=R.next.text.split(" ")[0]:this.tag_check=R.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),R.type===g.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||R.closed&&R.closed.text==="/>",I=2,this.tag_start_char==="{"&&3<=this.text.length&&this.text.charAt(2)==="~"&&(I=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(I)))):this.tag_complete=!0},ot=(U.prototype._get_tag_open_token=function(I){return I=new Z(this._tag_stack.get_parser_token(),I),I.alignment_size=this._options.wrap_attributes_indent_size,I.is_end_tag=I.is_end_tag||D(I.tag_check,this._options.void_elements),I.is_empty_element=I.tag_complete||I.is_start_tag&&I.is_end_tag,I.is_unformatted=!I.tag_complete&&D(I.tag_check,this._options.unformatted),I.is_content_unformatted=!I.is_empty_element&&D(I.tag_check,this._options.content_unformatted),I.is_inline_element=D(I.tag_name,this._options.inline)||this._options.inline_custom_elements&&I.tag_name.includes("-")||I.tag_start_char==="{",I},U.prototype._set_tag_position=function(I,R,k,K,L){k.is_empty_element||(k.is_end_tag?k.start_tag_token=this._tag_stack.try_pop(k.tag_name):(this._do_optional_end_element(k)&&!k.is_inline_element&&I.print_newline(!1),this._tag_stack.record_tag(k),k.tag_name!=="script"&&k.tag_name!=="style"||k.is_unformatted||k.is_content_unformatted||(k.custom_beautifier_name=_(k.tag_check,R)))),D(k.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),k.is_empty_element?(k.tag_start_char==="{"&&k.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),k.indent_content=!0,I.current_line_has_match(/{{#if/)||I.print_newline(!1)),k.tag_name==="!--"&&L.type===g.TAG_CLOSE&&K.is_end_tag&&k.text.indexOf(\`
\`)===-1||(k.is_inline_element||k.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))):k.is_end_tag?(R=!1,R=(R=k.start_tag_token&&k.start_tag_token.multiline_content)||!k.is_inline_element&&!(K.is_inline_element||K.is_unformatted)&&!(L.type===g.TAG_CLOSE&&k.start_tag_token===K)&&L.type!=="TK_CONTENT",(R=k.is_content_unformatted||k.is_unformatted?!1:R)&&I.print_newline(!1)):(k.indent_content=!k.custom_beautifier_name,k.tag_start_char==="<"&&(k.tag_name==="html"?k.indent_content=this._options.indent_inner_html:k.tag_name==="head"?k.indent_content=this._options.indent_head_inner_html:k.tag_name==="body"&&(k.indent_content=this._options.indent_body_inner_html)),k.is_inline_element||k.is_unformatted||L.type==="TK_CONTENT"&&!k.is_content_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,k))},U.prototype._calcluate_parent_multiline=function(I,R){!R.parent||!I._output.just_added_newline()||(R.is_inline_element||R.is_unformatted)&&R.parent.is_inline_element||(R.parent.multiline_content=!0)},["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"]),rt=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(I){var R,k=null;if(!I.is_empty_element&&I.is_start_tag&&I.parent)return I.tag_name==="body"?k=k||this._tag_stack.try_pop("head"):I.tag_name==="li"?k=k||this._tag_stack.try_pop("li",["ol","ul","menu"]):I.tag_name==="dd"||I.tag_name==="dt"?k=(k=k||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):I.parent.tag_name==="p"&&ot.indexOf(I.tag_name)!==-1?(R=I.parent.parent)&&rt.indexOf(R.tag_name)!==-1||(k=k||this._tag_stack.try_pop("p")):I.tag_name==="rp"||I.tag_name==="rt"?k=(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):I.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):I.tag_name==="tbody"||I.tag_name==="tfoot"?k=(k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):I.tag_name==="tr"?k=(k=(k=k||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):I.tag_name!=="th"&&I.tag_name!=="td"||(k=(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),I.parent=this._tag_stack.get_parser_token(),k},w.exports.Beautifier=U},function(w,d,l){var u=l(6).Options;function _(b){u.call(this,b,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}_.prototype=new u,w.exports.Options=_},function(w,d,l){function u(H,U){_.call(this,H,U),this._current_tag_name="";var H=new O(this._input).read_options(this._options),U=new g(this._input);this.__patterns={word:H.until(/[\\n\\r\\t <]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\\n\\r\\t =>]|\\/>/),element_name:H.until(/[\\n\\r\\t >\\/]/),handlebars_comment:U.starting_with(/{{!--/).until_after(/--}}/),handlebars:U.starting_with(/{{/).until_after(/}}/),handlebars_open:U.until(/[\\n\\r\\t }]/),handlebars_raw_close:U.until(/}}/),comment:U.starting_with(/<!--/).until_after(/-->/),cdata:U.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:U.starting_with(/<!\\[/).until_after(/]>/),processing:U.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(H=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=U.matching(H).until_after(H))}var _=l(9).Tokenizer,b=l(9).TOKEN,F=l(13).Directives,O=l(14).TemplatablePattern,g=l(12).Pattern,y={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:b.START,RAW:b.RAW,EOF:b.EOF},W=new F(/<\\!--/,/-->/);(u.prototype=new _)._is_comment=function(D){return!1},u.prototype._is_opening=function(D){return D.type===y.TAG_OPEN},u.prototype._is_closing=function(D,z){return D.type===y.TAG_CLOSE&&z&&((D.text===">"||D.text==="/>")&&z.text[0]==="<"||D.text==="}}"&&z.text[0]==="{"&&z.text[1]==="{")},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(D,z){this._readWhitespace();var H=this._input.peek();return H===null?this._create_token(y.EOF,""):this._read_open_handlebars(H,z)||this._read_attribute(H,D,z)||this._read_close(H,z)||this._read_raw_content(H,D,z)||this._read_content_word(H)||this._read_comment_or_cdata(H)||this._read_processing(H)||this._read_open(H,z)||this._create_token(y.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(D){var z=null,H=null,U=null;return D==="<"&&(this._input.peek(1)==="!"&&((H=this.__patterns.comment.read())?(U=W.get_directives(H))&&U.ignore==="start"&&(H+=W.readIgnored(this._input)):H=this.__patterns.cdata.read()),H&&((z=this._create_token(y.COMMENT,H)).directives=U)),z},u.prototype._read_processing=function(D){var z=null,H=null;return D==="<"&&(H=(D=this._input.peek(1))!=="!"&&D!=="?"?H:(H=this.__patterns.conditional_comment.read())||this.__patterns.processing.read())&&((z=this._create_token(y.COMMENT,H)).directives=null),z},u.prototype._read_open=function(D,z){var H=null,U=null;return z||D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),U=this._create_token(y.TAG_OPEN,H)),U},u.prototype._read_open_handlebars=function(D,z){var H=null,U=null;return z||this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(U=this._input.peek(2)==="!"?(H=(H=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(y.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),this._create_token(y.TAG_OPEN,H))),U},u.prototype._read_close=function(D,z){var H=null,U=null;return z&&(z.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),U=this._create_token(y.TAG_CLOSE,H)):z.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),U=this._create_token(y.TAG_CLOSE,"}}"))),U},u.prototype._read_attribute=function(D,z,H){var U=null;return H&&H.text[0]==="<"&&(D==="="?U=this._create_token(y.EQUALS,this._input.next()):D==='"'||D==="'"?(H=this._input.next(),H+=(D==='"'?this.__patterns.double_quote:this.__patterns.single_quote).read(),U=this._create_token(y.VALUE,H)):(D=this.__patterns.attribute.read())&&(U=z.type===y.EQUALS?this._create_token(y.VALUE,D):this._create_token(y.ATTRIBUTE,D))),U},u.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},u.prototype._read_raw_content=function(D,z,H){var U="";if(H&&H.text[0]==="{")U=this.__patterns.handlebars_raw_close.read();else if(z.type===y.TAG_CLOSE&&z.opened.text[0]==="<"&&z.text[0]!=="/")if(H=z.opened.text.substr(1).toLowerCase(),H==="script"||H==="style"){if(z=this._read_comment_or_cdata(D),z)return z.type=y.TEXT,z;U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig"))}else this._is_content_unformatted(H)&&(U=this._input.readUntil(new RegExp("</"+H+"[\\\\n\\\\r\\\\t ]*?>","ig")));return U?this._create_token(y.TEXT,U):null},u.prototype._read_content_word=function(D){var z="";if(z=(z=this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]?this.__patterns.unformatted_content_delimiter.read():z)||this.__patterns.word.read())return this._create_token(y.TEXT,z)},w.exports.Tokenizer=u,w.exports.TOKEN=y}],E={},S=function w(d){var l=E[d];return l!==void 0?l.exports:(l=E[d]={exports:{}},C[d](l,l.exports,w),l.exports)}(18);f=S})();var f,s,c,T=f;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(C){var E=C("./beautify"),S=C("./beautify-css");return{html_beautify:function(w,d){return T(w,d,E.js_beautify,S.css_beautify)}}}):typeof exports<"u"?(s=require("./beautify.js"),c=require("./beautify-css.js"),exports.html_beautify=function(C,E){return T(C,E,s.js_beautify,c.css_beautify)}):typeof window<"u"?window.html_beautify=function(C,E){return T(C,E,window.js_beautify,window.css_beautify)}:typeof global<"u"&&(global.html_beautify=function(C,E){return T(C,E,global.js_beautify,global.css_beautify)})})();(function(){(function(){var c=[,,function(E){function S(l){this.__parent=l,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function w(l,u){this.__cache=[""],this.__indent_size=l.indent_size,this.__indent_string=l.indent_char,l.indent_with_tabs||(this.__indent_string=new Array(l.indent_size+1).join(l.indent_char)),u=u||"",0<l.indent_level&&(u=new Array(l.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}function d(l,u){this.__indent_cache=new w(l,u),this.raw=!1,this._end_with_newline=l.end_with_newline,this.indent_size=l.indent_size,this.wrap_line_length=l.wrap_line_length,this.indent_empty_lines=l.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new S(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}S.prototype.clone_empty=function(){var l=new S(this.__parent);return l.set_indent(this.__indent_count,this.__alignment_count),l},S.prototype.item=function(l){return l<0?this.__items[this.__items.length+l]:this.__items[l]},S.prototype.has_match=function(l){for(var u=this.__items.length-1;0<=u;u--)if(this.__items[u].match(l))return!0;return!1},S.prototype.set_indent=function(l,u){this.is_empty()&&(this.__indent_count=l||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},S.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},S.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},S.prototype._allow_wrap=function(){var l;return!!this._should_wrap()&&(this.__parent.add_new_line(),(l=this.__parent.current_line).set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),l.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),l.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,l.__items[0]===" "&&(l.__items.splice(0,1),--l.__character_count),!0)},S.prototype.is_empty=function(){return this.__items.length===0},S.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},S.prototype.push=function(l){this.__items.push(l);var u=l.lastIndexOf(\`
\`);u!==-1?this.__character_count=l.length-u:this.__character_count+=l.length},S.prototype.pop=function(){var l=null;return this.is_empty()||(l=this.__items.pop(),this.__character_count-=l.length),l},S.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},S.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},S.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),--this.__character_count},S.prototype.toString=function(){var l="";return this.is_empty()?this.__parent.indent_empty_lines&&(l=this.__parent.get_indent_string(this.__indent_count)):(l=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),l+=this.__items.join("")),l},w.prototype.get_indent_size=function(l,u){var _=this.__base_string_length;return _=(_=l<0?0:_)+l*this.__indent_size+(u=u||0)},w.prototype.get_indent_string=function(l,u){var _=this.__base_string;return u=u||0,l<0&&(l=0,_=""),u+=l*this.__indent_size,this.__ensure_cache(u),_+=this.__cache[u]},w.prototype.__ensure_cache=function(l){for(;l>=this.__cache.length;)this.__add_column()},w.prototype.__add_column=function(){var l,u=this.__cache.length,_="";this.__indent_size&&u>=this.__indent_size&&(u-=(l=Math.floor(u/this.__indent_size))*this.__indent_size,_=new Array(l+1).join(this.__indent_string)),u&&(_+=new Array(u+1).join(" ")),this.__cache.push(_)},d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(l,u){return this.__indent_cache.get_indent_string(l,u)},d.prototype.get_indent_size=function(l,u){return this.__indent_cache.get_indent_size(l,u)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(l){return!(this.is_empty()||!l&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(l){this.trim(!0);var u=this.current_line.pop(),u=(u&&(u[u.length-1]===\`
\`&&(u=u.replace(/\\n+\$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline(),this.__lines.join(\`
\`));return u=l!==\`
\`?u.replace(/[\\n]/g,l):u},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(l,u){return this.next_line.set_indent(l=l||0,u=u||0),1<this.__lines.length?(this.current_line.set_indent(l,u),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(l){for(var u=0;u<l.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(l.whitespace_before),this.current_line.push(l.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(l){this.__add_space_before_token(),this.current_line.push(l),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(l){for(var u=this.__lines.length;l<u;)this.__lines[l]._remove_indent(),l++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(l){for(l=l!==void 0&&l,this.current_line.trim();l&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(l,u){for(var _=this.__lines.length-2;0<=_;){var b=this.__lines[_];if(b.is_empty())break;if(b.item(0).indexOf(l)!==0&&b.item(-1)!==u){this.__lines.splice(_+1,0,new S(this)),this.previous_line=this.__lines[this.__lines.length-2];break}_--}},E.exports.Output=d},,,,function(E){function S(l,u){this.raw_options=w(l,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function w(l,u){var _,b={};for(_ in l=d(l))_!==u&&(b[_]=l[_]);if(u&&l[u])for(_ in l[u])b[_]=l[u][_];return b}function d(l){var u,_={};for(u in l)_[u.replace(/-/g,"_")]=l[u];return _}S.prototype._get_array=function(l,u){return l=this.raw_options[l],u=u||[],typeof l=="object"?l!==null&&typeof l.concat=="function"&&(u=l.concat()):typeof l=="string"&&(u=l.split(/[^a-zA-Z0-9_\\/\\-]+/)),u},S.prototype._get_boolean=function(l,u){return l=this.raw_options[l],l===void 0?!!u:!!l},S.prototype._get_characters=function(l,u){return l=this.raw_options[l],u=u||"",u=typeof l=="string"?l.replace(/\\\\r/,"\\r").replace(/\\\\n/,\`
\`).replace(/\\\\t/,"	"):u},S.prototype._get_number=function(l,u){return l=this.raw_options[l],u=parseInt(u,10),isNaN(u)&&(u=0),l=parseInt(l,10),l=isNaN(l)?u:l},S.prototype._get_selection=function(l,u,_){if(_=this._get_selection_list(l,u,_),_.length!==1)throw new Error("Invalid Option Value: The option '"+l+\`' can only be one of the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'");return _[0]},S.prototype._get_selection_list=function(l,u,_){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(_=_||[u[0]],!this._is_valid_selection(_,u))throw new Error("Invalid Default Value!");if(_=this._get_array(l,_),this._is_valid_selection(_,u))return _;throw new Error("Invalid Option Value: The option '"+l+\`' can contain only the following values:
\`+u+\`
You passed in: '\`+this.raw_options[l]+"'")},S.prototype._is_valid_selection=function(l,u){return l.length&&u.length&&!l.some(function(_){return u.indexOf(_)===-1})},E.exports.Options=S,E.exports.normalizeOpts=d,E.exports.mergeOpts=w},,function(E){var S=RegExp.prototype.hasOwnProperty("sticky");function w(d){this.__input=d||"",this.__input_length=this.__input.length,this.__position=0}w.prototype.restart=function(){this.__position=0},w.prototype.back=function(){0<this.__position&&--this.__position},w.prototype.hasNext=function(){return this.__position<this.__input_length},w.prototype.next=function(){var d=null;return this.hasNext()&&(d=this.__input.charAt(this.__position),this.__position+=1),d},w.prototype.peek=function(d){var l=null;return d=d||0,l=0<=(d+=this.__position)&&d<this.__input_length?this.__input.charAt(d):l},w.prototype.__match=function(d,l){d.lastIndex=l;var u=d.exec(this.__input);return!u||S&&d.sticky||u.index!==l&&(u=null),u},w.prototype.test=function(d,l){return l=l||0,0<=(l+=this.__position)&&l<this.__input_length&&!!this.__match(d,l)},w.prototype.testChar=function(d,l){return l=this.peek(l),d.lastIndex=0,l!==null&&d.test(l)},w.prototype.match=function(d){return d=this.__match(d,this.__position),d?this.__position+=d[0].length:d=null,d},w.prototype.read=function(d,l,u){var _,b="";return d&&(_=this.match(d))&&(b+=_[0]),!l||!_&&d||(b+=this.readUntil(l,u)),b},w.prototype.readUntil=function(_,l){var u=this.__position,_=(_.lastIndex=this.__position,_.exec(this.__input));return _?(u=_.index,l&&(u+=_[0].length)):u=this.__input_length,l=this.__input.substring(this.__position,u),this.__position=u,l},w.prototype.readUntilAfter=function(d){return this.readUntil(d,!0)},w.prototype.get_regexp=function(d,_){var u=null,_=_&&S?"y":"g";return typeof d=="string"&&d!==""?u=new RegExp(d,_):d&&(u=new RegExp(d.source,_)),u},w.prototype.get_literal_regexp=function(d){return RegExp(d.replace(/[-\\/\\\\^\$*+?.()|[\\]{}]/g,"\\\\\$&"))},w.prototype.peekUntilAfter=function(u){var l=this.__position,u=this.readUntilAfter(u);return this.__position=l,u},w.prototype.lookBack=function(d){var l=this.__position-1;return l>=d.length&&this.__input.substring(l-d.length,l).toLowerCase()===d},E.exports.InputScanner=w},,,,,function(E){function S(w,d){w=typeof w=="string"?w:w.source,d=typeof d=="string"?d:d.source,this.__directives_block_pattern=new RegExp(w+/ beautify( \\w+[:]\\w+)+ /.source+d,"g"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(w+/\\sbeautify\\signore:end\\s/.source+d,"g")}S.prototype.get_directives=function(w){if(!w.match(this.__directives_block_pattern))return null;for(var d={},l=(this.__directive_pattern.lastIndex=0,this.__directive_pattern.exec(w));l;)d[l[1]]=l[2],l=this.__directive_pattern.exec(w);return d},S.prototype.readIgnored=function(w){return w.readUntilAfter(this.__directives_end_ignore_pattern)},E.exports.Directives=S},,function(E,S,w){var d=w(16).Beautifier,l=w(17).Options;E.exports=function(u,_){return new d(u,_).beautify()},E.exports.defaultOptions=function(){return new l}},function(E,S,w){var d=w(17).Options,l=w(2).Output,u=w(8).InputScanner,_=new(w(13)).Directives(/\\/\\*/,/\\*\\//),b=/\\r\\n|[\\r\\n]/,F=/\\r\\n|[\\r\\n]/g,O=/\\s/,g=/(?:\\s|\\n)+/g,y=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|\$)/g,W=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function D(z,H){this._source_text=z||"",this._options=new d(H),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}D.prototype.eatString=function(z){var H="";for(this._ch=this._input.next();this._ch;){if(H+=this._ch,this._ch==="\\\\")H+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===\`
\`)break;this._ch=this._input.next()}return H},D.prototype.eatWhitespace=function(z){for(var H=O.test(this._input.peek()),U=0;O.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===\`
\`&&(U===0||U<this._options.max_preserve_newlines)&&(U++,this._output.add_new_line(!0));return H},D.prototype.foundNestedPseudoClass=function(){for(var z=0,H=1,U=this._input.peek(H);U;){if(U==="{")return!0;if(U==="(")z+=1;else if(U===")"){if(z===0)return!1;--z}else if(U===";"||U==="}")return!1;H++,U=this._input.peek(H)}return!1},D.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},D.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},D.prototype.indent=function(){this._indentLevel++},D.prototype.outdent=function(){0<this._indentLevel&&this._indentLevel--},D.prototype.beautify=function(){if(this._options.disabled)return this._source_text;for(var z,H,U,Z=this._source_text,ot=this._options.eol,rt=(ot==="auto"&&(ot=\`
\`,Z&&b.test(Z||"")&&(ot=Z.match(b)[0])),(Z=Z.replace(F,\`
\`)).match(/^[\\t ]*/)[0]),I=(this._output=new l(this._options,rt),this._input=new u(Z),this._indentLevel=0,this._nestedLevel=0,this._ch=null,0),R=!1,k=!1,K=!1,L=!1,Q=!1,it=this._ch,J=!1;z=this._input.read(g)!=="",H=it,this._ch=this._input.next(),this._ch==="\\\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),it=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var lt=this._input.read(y),A=_.get_directives(lt);A&&A.ignore==="start"&&(lt+=_.readIgnored(this._input)),this.print_string(lt),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(W)),this.eatWhitespace(!0);else if(this._ch==="\$")this.preserveSingleSpace(z),this.print_string(this._ch),A=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g),A.match(/[ :]\$/)&&(A=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(A),this._output.space_before_token=!0),I===0&&A.indexOf(":")!==-1&&(k=!0,this.indent());else if(this._ch==="@")this.preserveSingleSpace(z),this._input.peek()==="{"?this.print_string(this._ch+this.eatString("}")):(this.print_string(this._ch),(lt=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='"]/g)).match(/[ :]\$/)&&(lt=this.eatString(": ").replace(/\\s+\$/,""),this.print_string(lt),this._output.space_before_token=!0),I===0&&lt.indexOf(":")!==-1?(k=!0,this.indent()):lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(K=!0)):I!==0||k||(L=!0));else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),L=!1,R=K?(K=!1,this._indentLevel>=this._nestedLevel):this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&R&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(H==="("?this._output.space_before_token=!1:H!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),H==="{"&&this._output.trim(!0),k&&(this.outdent(),k=!1),this.print_string(this._ch),R=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var \$=0;\$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;\$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[\$])){J=!0;break}!R&&!K||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||L||I!==0?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),k||(this._output.space_before_token=k=!0,this.eatWhitespace(!0),this.indent()))}else this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?(J=!1,I===0?(k&&(this.outdent(),k=!1),L=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0)):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),I++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),I&&(I--,this.outdent()))):(U=!1,this._input.lookBack("with")&&(U=!0),this.preserveSingleSpace(z||U),this.print_string(this._ch),k&&H==="\$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Q=!0):(this.eatWhitespace(),I++,this.indent())):this._ch===")"?(I&&(I--,this.outdent()),Q&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Q=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||k&&!Q||I!==0||L?this._output.space_before_token=!0:this._output.add_new_line()):this._ch!==">"&&this._ch!=="+"&&this._ch!=="~"||k||I!==0?this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(z),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),O.test(this._ch)&&(this._ch="")):this._ch!=="!"||this._input.lookBack("\\\\")?(this.preserveSingleSpace(H==='"'||H==="'"||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===\`
\`&&J&&this._output.add_new_line()):(this._output.space_before_token=!0,this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&O.test(this._ch)&&(this._ch=""));return this._output.get_code(ot)},E.exports.Beautifier=D},function(E,S,w){var d=w(6).Options;function l(_){d.call(this,_,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var _=this._get_boolean("space_around_selector_separator"),b=(this.space_around_combinator=this._get_boolean("space_around_combinator")||_,this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]));this.brace_style="collapse";for(var F=0;F<b.length;F++)b[F]!=="expand"?this.brace_style="collapse":this.brace_style=b[F]}l.prototype=new d,E.exports.Options=l}],T={},C=function E(S){var w=T[S];return w!==void 0?w.exports:(w=T[S]={exports:{}},c[S](w,w.exports,E),w.exports)}(15);f=C})();var f,s=f;typeof define=="function"&&define.amd?define([],function(){return{css_beautify:s}}):typeof exports<"u"?exports.css_beautify=s:typeof window<"u"?window.css_beautify=s:typeof global<"u"&&(global.css_beautify=s)})();(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.defineSimpleMode=function(u,_){f.defineMode(u,function(b){return f.simpleMode(b,_)})},f.simpleMode=function(u,_){s(_,"start");var b={},F=_.meta||{},O=!1;for(var g in _)if(g!=F&&_.hasOwnProperty(g))for(var y=b[g]=[],W=_[g],D=0;D<W.length;D++){var z=W[D];y.push(new C(z,_)),(z.indent||z.dedent)&&(O=!0)}var H={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:O?[]:null}},copyState:function(Z){var ot={state:Z.state,pending:Z.pending,local:Z.local,localState:null,indent:Z.indent&&Z.indent.slice(0)};Z.localState&&(ot.localState=f.copyState(Z.local.mode,Z.localState)),Z.stack&&(ot.stack=Z.stack.slice(0));for(var rt=Z.persistentStates;rt;rt=rt.next)ot.persistentStates={mode:rt.mode,spec:rt.spec,state:rt.state==Z.localState?ot.localState:f.copyState(rt.mode,rt.state),next:ot.persistentStates};return ot},token:E(b,u),innerMode:function(Z){return Z.local&&{mode:Z.local.mode,state:Z.localState}},indent:l(b,F)};if(F)for(var U in F)F.hasOwnProperty(U)&&(H[U]=F[U]);return H};function s(u,_){if(!u.hasOwnProperty(_))throw new Error("Undefined state "+_+" in simple mode")}function c(u,_){if(!u)return/(?:)/;var b="";return u instanceof RegExp?(u.ignoreCase&&(b="i"),u.unicode&&(b+="u"),u=u.source):u=String(u),new RegExp((_===!1?"":"^")+"(?:"+u+")",b)}function T(u){if(!u)return null;if(u.apply)return u;if(typeof u=="string")return u.replace(/\\./g," ");for(var _=[],b=0;b<u.length;b++)_.push(u[b]&&u[b].replace(/\\./g," "));return _}function C(u,_){(u.next||u.push)&&s(_,u.next||u.push),this.regex=c(u.regex),this.token=T(u.token),this.data=u}function E(u,_){return function(b,F){if(F.pending){var O=F.pending.shift();return F.pending.length==0&&(F.pending=null),b.pos+=O.text.length,O.token}if(F.local)if(F.local.end&&b.match(F.local.end)){var g=F.local.endToken||null;return F.local=F.localState=null,g}else{var g=F.local.mode.token(b,F.localState),y;return F.local.endScan&&(y=F.local.endScan.exec(b.current()))&&(b.pos=b.start+y.index),g}for(var W=u[F.state],D=0;D<W.length;D++){var z=W[D],H=(!z.data.sol||b.sol())&&b.match(z.regex);if(H){z.data.next?F.state=z.data.next:z.data.push?((F.stack||(F.stack=[])).push(F.state),F.state=z.data.push):z.data.pop&&F.stack&&F.stack.length&&(F.state=F.stack.pop()),z.data.mode&&w(_,F,z.data.mode,z.token),z.data.indent&&F.indent.push(b.indentation()+_.indentUnit),z.data.dedent&&F.indent.pop();var U=z.token;if(U&&U.apply&&(U=U(H)),H.length>2&&z.token&&typeof z.token!="string"){for(var Z=2;Z<H.length;Z++)H[Z]&&(F.pending||(F.pending=[])).push({text:H[Z],token:z.token[Z-1]});return b.backUp(H[0].length-(H[1]?H[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return b.next(),null}}function S(u,_){if(u===_)return!0;if(!u||typeof u!="object"||!_||typeof _!="object")return!1;var b=0;for(var F in u)if(u.hasOwnProperty(F)){if(!_.hasOwnProperty(F)||!S(u[F],_[F]))return!1;b++}for(var F in _)_.hasOwnProperty(F)&&b--;return b==0}function w(u,_,b,F){var O;if(b.persistent)for(var g=_.persistentStates;g&&!O;g=g.next)(b.spec?S(b.spec,g.spec):b.mode==g.mode)&&(O=g);var y=O?O.mode:b.mode||f.getMode(u,b.spec),W=O?O.state:f.startState(y);b.persistent&&!O&&(_.persistentStates={mode:y,spec:b.spec,state:W,next:_.persistentStates}),_.localState=W,_.local={mode:y,end:b.end&&c(b.end),endScan:b.end&&b.forceEnd!==!1&&c(b.end,!1),endToken:F&&F.join?F[F.length-1]:F}}function d(u,_){for(var b=0;b<_.length;b++)if(_[b]===u)return!0}function l(u,_){return function(b,F,O){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,F,O);if(b.indent==null||b.local||_.dontIndentStates&&d(b.state,_.dontIndentStates)>-1)return f.Pass;var g=b.indent.length-1,y=u[b.state];t:for(;;){for(var W=0;W<y.length;W++){var D=y[W];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var z=D.regex.exec(F);if(z&&z[0]){g--,(D.next||D.push)&&(y=u[D.next||D.push]),F=F.slice(z[0].length);continue t}}}break}return g<0?0:b.indent[g]}}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){const s=["س","ر","ج"],c=["ا","ب","ج","د","ه","و"],T=s.map(it=>Pr(it)).join(""),C=\`[\${c.map(it=>Pr(it)).join("")}]\`,E="[a-fA-F]",S=\`[\${T}›»]\`,w=Pr("م"),d=\`(?:\${w}\${\$i}(?:\${sa}|\${C}){1,6}\${Yi})\`,l=\`(?:\${w}\${\$i}(?:\${aa}|\${E}){1,6}\${Yi})\`,u=\`(?:\${d}|\${l})\`,_=\`[^›\${Wr}]\`,b=it=>RegExp(F(it),"u"),F=it=>{let J=[];return Object.values(it).forEach(lt=>J.push(Pr(lt.ar))),\`(?:\${J.join("|")})\`},O=()=>RegExp(\`\${\$i}-\`,"u"),g=()=>RegExp(".*","u"),y=()=>RegExp(\`.*?-\${Yi}\`,"u"),W=()=>RegExp("--.*","u"),D=\`\${Wr}(?:\${S}|\${u})\`,z=()=>RegExp(\`‹(?:\${_}|\${D})›\`,"u"),H=()=>RegExp("b?«««","u"),U=()=>RegExp("(?:[^»]|»(?!»»))*","u"),Z=()=>RegExp("»»»","u"),ot=()=>RegExp("b?«","u"),rt=()=>RegExp(\`(?:[^\${Wr}»]|\${Wr}(?:.|\$))*\`,"u"),I=()=>RegExp("»","u"),R=()=>RegExp(\`(?:\${ec})|(?:\${Au})\`,"u"),k=()=>RegExp(\`(?!\${F(Qh)}(?:\${Vh}|\\\\s|\$))\${Ur}\`,"u"),K=()=>b(na),L=()=>b(ia),Q=()=>b(ra);f.defineSimpleMode("seen-ar",{start:[{regex:O(),token:"comment",next:"multiline_comment"},{regex:W(),token:"comment"},{regex:H(),token:"string",next:"multiline_string"},{regex:ot(),token:"string",next:"string"},{regex:z(),token:"string-2"},{regex:R(),token:"number"},...Lu,{regex:k(),token:"variable"},{regex:K(),token:"keyword"},{regex:L(),token:"atom"},{regex:Q(),token:"builtin"}],multiline_comment:[{regex:y(),token:"comment",next:"start"},{regex:g(),token:"comment"}],multiline_string:[{regex:Z(),token:"string",next:"start"},{regex:U(),token:"string"}],string:[{regex:I(),token:"string",next:"start"},{regex:rt(),token:"string"}],meta:Ou}),f.defineMIME("text/x-seen-ar-src","seen-ar"),f.defineMIME("text/seen-ar","seen-ar")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){const s=\`[nrt'"]\`,c=\`u\${\$i}[\\\\da-fA-F]{1,6}\${Yi}\`,T=\`[^'\${js}]\`;function C(Z){let ot=[];return Object.values(Z).forEach(rt=>ot.push(rt.en)),RegExp(\`\\\\b(?:\${ot.join("|")})\\\\b\`)}const E=()=>RegExp(\`\${\$i}\${Ir}\`),S=()=>RegExp(".*"),w=()=>RegExp(\`.*?\${Ir}\${Yi}\`),d=()=>RegExp(\`\${Ir}\${Ir}.*\`),l=\`\${js}(?:\${s}|\${c})\`,u=()=>RegExp(\`'(?:\${T}|\${l})'\`),_=()=>RegExp('b?"""'),b=()=>RegExp('(?:[^"]|"(?!""))*'),F=()=>RegExp('"""'),O=()=>RegExp("b?'"),g=()=>RegExp(\`(?:\${T}|\${js}(?:.|\$))*\`),y=()=>RegExp("'"),W=()=>RegExp(\`(?:\${Au})\`),D=()=>RegExp(\`\${Ur}\`,"u"),z=()=>C(na),H=()=>C(ia),U=()=>C(ra);f.defineSimpleMode("seen-en",{start:[{regex:E(),token:"comment",next:"multiline_comment"},{regex:d(),token:"comment"},{regex:_(),token:"string",next:"multiline_string"},{regex:O(),token:"string",next:"string"},{regex:u(),token:"string-2"},{regex:W(),token:"number"},...Lu,{regex:z(),token:"keyword"},{regex:H(),token:"atom"},{regex:U(),token:"builtin"},{regex:D(),token:"variable"}],multiline_comment:[{regex:w(),token:"comment",next:"start"},{regex:S(),token:"comment"}],multiline_string:[{regex:F(),token:"string",next:"start"},{regex:b(),token:"string"}],string:[{regex:y(),token:"string",next:"start"},{regex:g(),token:"string"}],meta:Ou}),f.defineMIME("text/x-seen-en-src","seen-en"),f.defineMIME("text/seen-en","seen-en")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.defineMode("javascript",function(s,c){var T=s.indentUnit,C=c.statementIndent,E=c.jsonld,S=c.json||E,w=c.trackScope!==!1,d=c.typescript,l=c.wordCharacters||/[\\w\$\\xa1-\\uffff]/,u=function(){function x(Xt){return{type:Xt,style:"keyword"}}var P=x("keyword a"),B=x("keyword b"),G=x("keyword c"),bt=x("keyword d"),Tt=x("operator"),Ct={type:"atom",style:"atom"};return{if:x("if"),while:P,with:P,else:B,do:B,try:B,finally:B,return:bt,break:bt,continue:bt,new:x("new"),delete:G,void:G,throw:G,debugger:x("debugger"),var:x("var"),const:x("var"),let:x("var"),function:x("function"),catch:x("catch"),for:x("for"),switch:x("switch"),case:x("case"),default:x("default"),in:Tt,typeof:Tt,instanceof:Tt,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:x("this"),class:x("class"),super:x("atom"),yield:G,export:x("export"),import:x("import"),extends:G,await:G}}(),_=/[+\\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(x){for(var P=!1,B,G=!1;(B=x.next())!=null;){if(!P){if(B=="/"&&!G)return;B=="["?G=!0:G&&B=="]"&&(G=!1)}P=!P&&B=="\\\\"}}var O,g;function y(x,P,B){return O=x,g=B,P}function W(x,P){var B=x.next();if(B=='"'||B=="'")return P.tokenize=D(B),P.tokenize(x,P);if(B=="."&&x.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return y("number","number");if(B=="."&&x.match(".."))return y("spread","meta");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(B))return y(B);if(B=="="&&x.eat(">"))return y("=>","operator");if(B=="0"&&x.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\\d/.test(B))return x.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),y("number","number");if(B=="/")return x.eat("*")?(P.tokenize=z,z(x,P)):x.eat("/")?(x.skipToEnd(),y("comment","comment")):ze(x,P,1)?(F(x),x.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),y("regexp","string-2")):(x.eat("="),y("operator","operator",x.current()));if(B=="\`")return P.tokenize=H,H(x,P);if(B=="#"&&x.peek()=="!")return x.skipToEnd(),y("meta","meta");if(B=="#"&&x.eatWhile(l))return y("variable","property");if(B=="<"&&x.match("!--")||B=="-"&&x.match("->")&&!/\\S/.test(x.string.slice(0,x.start)))return x.skipToEnd(),y("comment","comment");if(_.test(B))return(B!=">"||!P.lexical||P.lexical.type!=">")&&(x.eat("=")?(B=="!"||B=="=")&&x.eat("="):/[<>*+\\-|&?]/.test(B)&&(x.eat(B),B==">"&&x.eat(B))),B=="?"&&x.eat(".")?y("."):y("operator","operator",x.current());if(l.test(B)){x.eatWhile(l);var G=x.current();if(P.lastType!="."){if(u.propertyIsEnumerable(G)){var bt=u[G];return y(bt.type,bt.style,G)}if(G=="async"&&x.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/,!1))return y("async","keyword",G)}return y("variable","variable",G)}}function D(x){return function(P,B){var G=!1,bt;if(E&&P.peek()=="@"&&P.match(b))return B.tokenize=W,y("jsonld-keyword","meta");for(;(bt=P.next())!=null&&!(bt==x&&!G);)G=!G&&bt=="\\\\";return G||(B.tokenize=W),y("string","string")}}function z(x,P){for(var B=!1,G;G=x.next();){if(G=="/"&&B){P.tokenize=W;break}B=G=="*"}return y("comment","comment")}function H(x,P){for(var B=!1,G;(G=x.next())!=null;){if(!B&&(G=="\`"||G=="\$"&&x.eat("{"))){P.tokenize=W;break}B=!B&&G=="\\\\"}return y("quasi","string-2",x.current())}var U="([{}])";function Z(x,P){P.fatArrowAt&&(P.fatArrowAt=null);var B=x.string.indexOf("=>",x.start);if(!(B<0)){if(d){var G=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*\$/.exec(x.string.slice(x.start,B));G&&(B=G.index)}for(var bt=0,Tt=!1,Ct=B-1;Ct>=0;--Ct){var Xt=x.string.charAt(Ct),ke=U.indexOf(Xt);if(ke>=0&&ke<3){if(!bt){++Ct;break}if(--bt==0){Xt=="("&&(Tt=!0);break}}else if(ke>=3&&ke<6)++bt;else if(l.test(Xt))Tt=!0;else if(/["'\\/\`]/.test(Xt))for(;;--Ct){if(Ct==0)return;var yt=x.string.charAt(Ct-1);if(yt==Xt&&x.string.charAt(Ct-2)!="\\\\"){Ct--;break}}else if(Tt&&!bt){++Ct;break}}Tt&&!bt&&(P.fatArrowAt=Ct)}}var ot={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function rt(x,P,B,G,bt,Tt){this.indented=x,this.column=P,this.type=B,this.prev=bt,this.info=Tt,G!=null&&(this.align=G)}function I(x,P){if(!w)return!1;for(var B=x.localVars;B;B=B.next)if(B.name==P)return!0;for(var G=x.context;G;G=G.prev)for(var B=G.vars;B;B=B.next)if(B.name==P)return!0}function R(x,P,B,G,bt){var Tt=x.cc;for(k.state=x,k.stream=bt,k.marked=null,k.cc=Tt,k.style=P,x.lexical.hasOwnProperty("align")||(x.lexical.align=!0);;){var Ct=Tt.length?Tt.pop():S?Et:vt;if(Ct(B,G)){for(;Tt.length&&Tt[Tt.length-1].lex;)Tt.pop()();return k.marked?k.marked:B=="variable"&&I(x,G)?"variable-2":P}}}var k={state:null,column:null,marked:null,cc:null};function K(){for(var x=arguments.length-1;x>=0;x--)k.cc.push(arguments[x])}function L(){return K.apply(null,arguments),!0}function Q(x,P){for(var B=P;B;B=B.next)if(B.name==x)return!0;return!1}function it(x){var P=k.state;if(k.marked="def",!!w){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var B=J(x,P.context);if(B!=null){P.context=B;return}}else if(!Q(x,P.localVars)){P.localVars=new \$(x,P.localVars);return}}c.globalVars&&!Q(x,P.globalVars)&&(P.globalVars=new \$(x,P.globalVars))}}function J(x,P){if(P)if(P.block){var B=J(x,P.prev);return B?B==P.prev?P:new A(B,P.vars,!0):null}else return Q(x,P.vars)?P:new A(P.prev,new \$(x,P.vars),!1);else return null}function lt(x){return x=="public"||x=="private"||x=="protected"||x=="abstract"||x=="readonly"}function A(x,P,B){this.prev=x,this.vars=P,this.block=B}function \$(x,P){this.name=x,this.next=P}var dt=new \$("this",new \$("arguments",null));function wt(){k.state.context=new A(k.state.context,k.state.localVars,!1),k.state.localVars=dt}function Nt(){k.state.context=new A(k.state.context,k.state.localVars,!0),k.state.localVars=null}wt.lex=Nt.lex=!0;function kt(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}kt.lex=!0;function ft(x,P){var B=function(){var G=k.state,bt=G.indented;if(G.lexical.type=="stat")bt=G.lexical.indented;else for(var Tt=G.lexical;Tt&&Tt.type==")"&&Tt.align;Tt=Tt.prev)bt=Tt.indented;G.lexical=new rt(bt,k.stream.column(),x,null,G.lexical,P)};return B.lex=!0,B}function at(){var x=k.state;x.lexical.prev&&(x.lexical.type==")"&&(x.indented=x.lexical.indented),x.lexical=x.lexical.prev)}at.lex=!0;function _t(x){function P(B){return B==x?L():x==";"||B=="}"||B==")"||B=="]"?K():L(P)}return P}function vt(x,P){return x=="var"?L(ft("vardef",P),Xe,_t(";"),at):x=="keyword a"?L(ft("form"),Ee,vt,at):x=="keyword b"?L(ft("form"),vt,at):x=="keyword d"?k.stream.match(/^\\s*\$/,!1)?L():L(ft("stat"),xe,_t(";"),at):x=="debugger"?L(_t(";")):x=="{"?L(ft("}"),Nt,We,at,kt):x==";"?L():x=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==at&&k.state.cc.pop()(),L(ft("form"),Ee,vt,at,qn)):x=="function"?L(Ie):x=="for"?L(ft("form"),Nt,nr,vt,kt,at):x=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form",x=="class"?x:P),rr,at)):x=="variable"?d&&P=="declare"?(k.marked="keyword",L(vt)):d&&(P=="module"||P=="enum"||P=="type")&&k.stream.match(/^\\s*\\w/,!1)?(k.marked="keyword",P=="enum"?L(Un):P=="type"?L(ir,_t("operator"),nt,_t(";")):L(ft("form"),fe,_t("{"),ft("}"),We,at,at)):d&&P=="namespace"?(k.marked="keyword",L(ft("form"),Et,vt,at)):d&&P=="abstract"?(k.marked="keyword",L(vt)):L(ft("stat"),zn):x=="switch"?L(ft("form"),Ee,_t("{"),ft("}","switch"),Nt,We,at,at,kt):x=="case"?L(Et,_t(":")):x=="default"?L(_t(":")):x=="catch"?L(ft("form"),wt,ee,vt,at,kt):x=="export"?L(ft("stat"),hn,at):x=="import"?L(ft("stat"),Ye,at):x=="async"?L(vt):P=="@"?L(Et,vt):K(ft("stat"),Et,_t(";"),at)}function ee(x){if(x=="(")return L(Ne,_t(")"))}function Et(x,P){return we(x,P,!1)}function Rt(x,P){return we(x,P,!0)}function Ee(x){return x!="("?K():L(ft(")"),xe,_t(")"),at)}function we(x,P,B){if(k.state.fatArrowAt==k.stream.start){var G=B?_i:on;if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,_t("=>"),G,kt);if(x=="variable")return K(wt,fe,_t("=>"),G,kt)}var bt=B?It:ce;return ot.hasOwnProperty(x)?L(bt):x=="function"?L(Ie,bt):x=="class"||d&&P=="interface"?(k.marked="keyword",L(ft("form"),ln,at)):x=="keyword c"||x=="async"?L(B?Rt:Et):x=="("?L(ft(")"),xe,_t(")"),at,bt):x=="operator"||x=="spread"?L(B?Rt:Et):x=="["?L(ft("]"),Qe,at,bt):x=="{"?En(Hn,"}",null,bt):x=="quasi"?K(mt,bt):x=="new"?L(Ji(B)):L()}function xe(x){return x.match(/[;\\}\\)\\],]/)?K():K(Et)}function ce(x,P){return x==","?L(xe):It(x,P,!1)}function It(x,P,B){var G=B==!1?ce:It,bt=B==!1?Et:Rt;if(x=="=>")return L(wt,B?_i:on,kt);if(x=="operator")return/\\+\\+|--/.test(P)||d&&P=="!"?L(G):d&&P=="<"&&k.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/,!1)?L(ft(">"),Bt(nt,">"),at,G):P=="?"?L(Et,_t(":"),bt):L(bt);if(x=="quasi")return K(mt,G);if(x!=";"){if(x=="(")return En(Rt,")","call",G);if(x==".")return L(Vi,G);if(x=="[")return L(ft("]"),xe,_t("]"),at,G);if(d&&P=="as")return k.marked="keyword",L(nt,G);if(x=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),L(bt)}}function mt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(mt):L(xe,Ge)}function Ge(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(mt)}function on(x){return Z(k.stream,k.state),K(x=="{"?vt:Et)}function _i(x){return Z(k.stream,k.state),K(x=="{"?vt:Rt)}function Ji(x){return function(P){return P=="."?L(x?pi:Gr):P=="variable"&&d?L(re,x?It:ce):K(x?Rt:Et)}}function Gr(x,P){if(P=="target")return k.marked="keyword",L(ce)}function pi(x,P){if(P=="target")return k.marked="keyword",L(It)}function zn(x){return x==":"?L(at,vt):K(ce,_t(";"),at)}function Vi(x){if(x=="variable")return k.marked="property",L()}function Hn(x,P){if(x=="async")return k.marked="property",L(Hn);if(x=="variable"||k.style=="keyword"){if(k.marked="property",P=="get"||P=="set")return L(di);var B;return d&&k.state.fatArrowAt==k.stream.start&&(B=k.stream.match(/^\\s*:\\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+B[0].length),L(Pe)}else{if(x=="number"||x=="string")return k.marked=E?"property":k.style+" property",L(Pe);if(x=="jsonld-keyword")return L(Pe);if(d&&lt(P))return k.marked="keyword",L(Hn);if(x=="[")return L(Et,Te,_t("]"),Pe);if(x=="spread")return L(Rt,Pe);if(P=="*")return k.marked="keyword",L(Hn);if(x==":")return K(Pe)}}function di(x){return x!="variable"?K(Pe):(k.marked="property",L(Ie))}function Pe(x){if(x==":")return L(Rt);if(x=="(")return K(Ie)}function Bt(x,P,B){function G(bt,Tt){if(B?B.indexOf(bt)>-1:bt==","){var Ct=k.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),L(function(Xt,ke){return Xt==P||ke==P?K():K(x)},G)}return bt==P||Tt==P?L():B&&B.indexOf(";")>-1?K(x):L(_t(P))}return function(bt,Tt){return bt==P||Tt==P?L():K(x,G)}}function En(x,P,B){for(var G=3;G<arguments.length;G++)k.cc.push(arguments[G]);return L(ft(P,B),Bt(x,P),at)}function We(x){return x=="}"?L():K(vt,We)}function Te(x,P){if(d){if(x==":")return L(nt);if(P=="?")return L(Te)}}function Xr(x,P){if(d&&(x==":"||P=="in"))return L(nt)}function Ce(x){if(d&&x==":")return k.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?L(Et,tr,nt):L(nt)}function tr(x,P){if(P=="is")return k.marked="keyword",L()}function nt(x,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return k.marked="keyword",L(P=="typeof"?Rt:nt);if(x=="variable"||P=="void")return k.marked="type",L(ue);if(P=="|"||P=="&")return L(nt);if(x=="string"||x=="number"||x=="atom")return L(ue);if(x=="[")return L(ft("]"),Bt(nt,"]",","),at,ue);if(x=="{")return L(ft("}"),ie,at,ue);if(x=="(")return L(Bt(oe,")"),gi,ue);if(x=="<")return L(Bt(nt,">"),nt);if(x=="quasi")return K(zt,ue)}function gi(x){if(x=="=>")return L(nt)}function ie(x){return x.match(/[\\}\\)\\]]/)?L():x==","||x==";"?L(ie):K(Mt,ie)}function Mt(x,P){if(x=="variable"||k.style=="keyword")return k.marked="property",L(Mt);if(P=="?"||x=="number"||x=="string")return L(Mt);if(x==":")return L(nt);if(x=="[")return L(_t("variable"),Xr,_t("]"),Mt);if(x=="(")return K(Be,Mt);if(!x.match(/[;\\}\\)\\],]/))return L()}function zt(x,P){return x!="quasi"?K():P.slice(P.length-2)!="\${"?L(zt):L(nt,er)}function er(x){if(x=="}")return k.marked="string-2",k.state.tokenize=H,L(zt)}function oe(x,P){return x=="variable"&&k.stream.match(/^\\s*[?:]/,!1)||P=="?"?L(oe):x==":"?L(nt):x=="spread"?L(oe):K(nt)}function ue(x,P){if(P=="<")return L(ft(">"),Bt(nt,">"),at,ue);if(P=="|"||x=="."||P=="&")return L(nt);if(x=="[")return L(nt,_t("]"),ue);if(P=="extends"||P=="implements")return k.marked="keyword",L(nt);if(P=="?")return L(nt,_t(":"),nt)}function re(x,P){if(P=="<")return L(ft(">"),Bt(nt,">"),at,ue)}function Tn(){return K(nt,vi)}function vi(x,P){if(P=="=")return L(nt)}function Xe(x,P){return P=="enum"?(k.marked="keyword",L(Un)):K(fe,Te,Ae,Yr)}function fe(x,P){if(d&&lt(P))return k.marked="keyword",L(fe);if(x=="variable")return it(P),L();if(x=="spread")return L(fe);if(x=="[")return En(\$r,"]");if(x=="{")return En(mi,"}")}function mi(x,P){return x=="variable"&&!k.stream.match(/^\\s*:/,!1)?(it(P),L(Ae)):(x=="variable"&&(k.marked="property"),x=="spread"?L(fe):x=="}"?K():x=="["?L(Et,_t("]"),_t(":"),mi):L(_t(":"),fe,Ae))}function \$r(){return K(fe,Ae)}function Ae(x,P){if(P=="=")return L(Rt)}function Yr(x){if(x==",")return L(Xe)}function qn(x,P){if(x=="keyword b"&&P=="else")return L(ft("form","else"),vt,at)}function nr(x,P){if(P=="await")return L(nr);if(x=="(")return L(ft(")"),bi,at)}function bi(x){return x=="var"?L(Xe,un):x=="variable"?L(un):K(un)}function un(x,P){return x==")"?L():x==";"?L(un):P=="in"||P=="of"?(k.marked="keyword",L(Et,un)):K(Et,un)}function Ie(x,P){if(P=="*")return k.marked="keyword",L(Ie);if(x=="variable")return it(P),L(Ie);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,vt,kt);if(d&&P=="<")return L(ft(">"),Bt(Tn,">"),at,Ie)}function Be(x,P){if(P=="*")return k.marked="keyword",L(Be);if(x=="variable")return it(P),L(Be);if(x=="(")return L(wt,ft(")"),Bt(Ne,")"),at,Ce,kt);if(d&&P=="<")return L(ft(">"),Bt(Tn,">"),at,Be)}function ir(x,P){if(x=="keyword"||x=="variable")return k.marked="type",L(ir);if(P=="<")return L(ft(">"),Bt(Tn,">"),at)}function Ne(x,P){return P=="@"&&L(Et,Ne),x=="spread"?L(Ne):d&&lt(P)?(k.marked="keyword",L(Ne)):d&&x=="this"?L(Te,Ae):K(fe,Te,Ae)}function ln(x,P){return x=="variable"?rr(x,P):jn(x,P)}function rr(x,P){if(x=="variable")return it(P),L(jn)}function jn(x,P){if(P=="<")return L(ft(">"),Bt(Tn,">"),at,jn);if(P=="extends"||P=="implements"||d&&x==",")return P=="implements"&&(k.marked="keyword"),L(d?nt:Et,jn);if(x=="{")return L(ft("}"),me,at)}function me(x,P){if(x=="async"||x=="variable"&&(P=="static"||P=="get"||P=="set"||d&&lt(P))&&k.stream.match(/^\\s+#?[\\w\$\\xa1-\\uffff]/,!1))return k.marked="keyword",L(me);if(x=="variable"||k.style=="keyword")return k.marked="property",L(\$e,me);if(x=="number"||x=="string")return L(\$e,me);if(x=="[")return L(Et,Te,_t("]"),\$e,me);if(P=="*")return k.marked="keyword",L(me);if(d&&x=="(")return K(Be,me);if(x==";"||x==",")return L(me);if(x=="}")return L();if(P=="@")return L(Et,me)}function \$e(x,P){if(P=="!"||P=="?")return L(\$e);if(x==":")return L(nt,Ae);if(P=="=")return L(Rt);var B=k.state.lexical.prev,G=B&&B.info=="interface";return K(G?Be:Ie)}function hn(x,P){return P=="*"?(k.marked="keyword",L(ct,_t(";"))):P=="default"?(k.marked="keyword",L(Et,_t(";"))):x=="{"?L(Bt(sr,"}"),ct,_t(";")):K(vt)}function sr(x,P){if(P=="as")return k.marked="keyword",L(_t("variable"));if(x=="variable")return K(Rt,sr)}function Ye(x){return x=="string"?L():x=="("?K(Et):x=="."?K(ce):K(cn,yi,ct)}function cn(x,P){return x=="{"?En(cn,"}"):(x=="variable"&&it(P),P=="*"&&(k.marked="keyword"),L(Ht))}function yi(x){if(x==",")return L(cn,yi)}function Ht(x,P){if(P=="as")return k.marked="keyword",L(cn)}function ct(x,P){if(P=="from")return k.marked="keyword",L(Et)}function Qe(x){return x=="]"?L():K(Bt(Rt,"]"))}function Un(){return K(ft("form"),fe,_t("{"),ft("}"),Bt(Le,"}"),at,at)}function Le(){return K(fe,Ae)}function Lt(x,P){return x.lastType=="operator"||x.lastType==","||_.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function ze(x,P,B){return P.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)\$/.test(P.lastType)||P.lastType=="quasi"&&/\\{\\s*\$/.test(x.string.slice(0,x.pos-(B||0)))}return{startState:function(x){var P={tokenize:W,lastType:"sof",cc:[],lexical:new rt((x||0)-T,0,"block",!1),localVars:c.localVars,context:c.localVars&&new A(null,null,!1),indented:x||0};return c.globalVars&&typeof c.globalVars=="object"&&(P.globalVars=c.globalVars),P},token:function(x,P){if(x.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=x.indentation(),Z(x,P)),P.tokenize!=z&&x.eatSpace())return null;var B=P.tokenize(x,P);return O=="comment"?B:(P.lastType=O=="operator"&&(g=="++"||g=="--")?"incdec":O,R(P,B,O,g,x))},indent:function(x,P){if(x.tokenize==z||x.tokenize==H)return f.Pass;if(x.tokenize!=W)return 0;var B=P&&P.charAt(0),G=x.lexical,bt;if(!/^\\s*else\\b/.test(P))for(var Tt=x.cc.length-1;Tt>=0;--Tt){var Ct=x.cc[Tt];if(Ct==at)G=G.prev;else if(Ct!=qn&&Ct!=kt)break}for(;(G.type=="stat"||G.type=="form")&&(B=="}"||(bt=x.cc[x.cc.length-1])&&(bt==ce||bt==It)&&!/^[,\\.=+\\-*:?[\\(]/.test(P));)G=G.prev;C&&G.type==")"&&G.prev.type=="stat"&&(G=G.prev);var Xt=G.type,ke=B==Xt;return Xt=="vardef"?G.indented+(x.lastType=="operator"||x.lastType==","?G.info.length+1:0):Xt=="form"&&B=="{"?G.indented:Xt=="form"?G.indented+T:Xt=="stat"?G.indented+(Lt(x,P)?C||T:0):G.info=="switch"&&!ke&&c.doubleIndentSwitch!=!1?G.indented+(/^(?:case|default)\\b/.test(P)?T:2*T):G.align?G.column+(ke?0:1):G.indented+(ke?0:T)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})\$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\\"\\"\`\`",helperType:S?"json":"javascript",jsonldMode:E,jsonMode:S,expressionAllowed:ze,skipExpression:function(x){R(x,"atom","atom","true",new f.StringStream("",2,null))}}}),f.registerHelper("wordChars","javascript",/[\\w\$]/),f.defineMIME("text/javascript","javascript"),f.defineMIME("text/ecmascript","javascript"),f.defineMIME("application/javascript","javascript"),f.defineMIME("application/x-javascript","javascript"),f.defineMIME("application/ecmascript","javascript"),f.defineMIME("application/json",{name:"javascript",json:!0}),f.defineMIME("application/x-json",{name:"javascript",json:!0}),f.defineMIME("application/manifest+json",{name:"javascript",json:!0}),f.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),f.defineMIME("text/typescript",{name:"javascript",typescript:!0}),f.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../../../lib/codemirror"),require("../../../../addon/mode/simple")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],f):f(CodeMirror)})(function(f){f.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\\\]|\\\\(?:[nrt0'"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/,token:"keyword"},{regex:/\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/,token:"atom"},{regex:/\\b(?:true|false|Some|None|Ok|Err)\\b/,token:"builtin"},{regex:/\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\\[.*\\]/,token:"meta"},{regex:/\\/\\/.*/,token:"comment"},{regex:/\\/\\*/,token:"comment",next:"comment"},{regex:/[-+\\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\\w*/,token:"variable"},{regex:/[\\{\\[\\(]/,indent:!0},{regex:/[\\}\\]\\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\\\"]|\\\\(?:.|\$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\\*\\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\\s*\\}\$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),f.defineMIME("text/x-rustsrc","rust"),f.defineMIME("text/rust","rust")});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(C,E,S){this.orientation=E,this.scroll=S,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=C+"-"+E,this.inner=this.node.appendChild(document.createElement("div"));var w=this;f.on(this.inner,"mousedown",function(l){if(l.which!=1)return;f.e_preventDefault(l);var u=w.orientation=="horizontal"?"pageX":"pageY",_=l[u],b=w.pos;function F(){f.off(document,"mousemove",O),f.off(document,"mouseup",F)}function O(g){if(g.which!=1)return F();w.moveTo(b+(g[u]-_)*(w.total/w.size))}f.on(document,"mousemove",O),f.on(document,"mouseup",F)}),f.on(this.node,"click",function(l){f.e_preventDefault(l);var u=w.inner.getBoundingClientRect(),_;w.orientation=="horizontal"?_=l.clientX<u.left?-1:l.clientX>u.right?1:0:_=l.clientY<u.top?-1:l.clientY>u.bottom?1:0,w.moveTo(w.pos+_*w.screen)});function d(l){var u=f.wheelEventPixels(l)[w.orientation=="horizontal"?"x":"y"],_=w.pos;w.moveTo(w.pos+u),w.pos!=_&&f.e_preventDefault(l)}f.on(this.node,"mousewheel",d),f.on(this.node,"DOMMouseScroll",d)}s.prototype.setPos=function(C,E){return C<0&&(C=0),C>this.total-this.screen&&(C=this.total-this.screen),!E&&C==this.pos?!1:(this.pos=C,this.inner.style[this.orientation=="horizontal"?"left":"top"]=C*(this.size/this.total)+"px",!0)},s.prototype.moveTo=function(C){this.setPos(C)&&this.scroll(C,this.orientation)};var c=10;s.prototype.update=function(C,E,S){var w=this.screen!=E||this.total!=C||this.size!=S;w&&(this.screen=E,this.total=C,this.size=S);var d=this.screen*(this.size/this.total);d<c&&(this.size-=c-d,d=c),this.inner.style[this.orientation=="horizontal"?"width":"height"]=d+"px",this.setPos(this.pos,w)};function T(C,E,S){this.addClass=C,this.horiz=new s(C,"horizontal",S),E(this.horiz.node),this.vert=new s(C,"vertical",S),E(this.vert.node),this.width=null}T.prototype.update=function(C){if(this.width==null){var E=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;E&&(this.width=parseInt(E.height))}var S=this.width||0,w=C.scrollWidth>C.clientWidth+1,d=C.scrollHeight>C.clientHeight+1;return this.vert.node.style.display=d?"block":"none",this.horiz.node.style.display=w?"block":"none",d&&(this.vert.update(C.scrollHeight,C.clientHeight,C.viewHeight-(w?S:0)),this.vert.node.style.bottom=w?S+"px":"0"),w&&(this.horiz.update(C.scrollWidth,C.clientWidth,C.viewWidth-(d?S:0)-C.barLeft),this.horiz.node.style.right=d?S+"px":"0",this.horiz.node.style.left=C.barLeft+"px"),{right:d?S:0,bottom:w?S:0}},T.prototype.setScrollTop=function(C){this.vert.setPos(C)},T.prototype.setScrollLeft=function(C){this.horiz.setPos(C)},T.prototype.clear=function(){var C=this.horiz.node.parentNode;C.removeChild(this.horiz.node),C.removeChild(this.vert.node)},f.scrollbarModel.simple=function(C,E){return new T("CodeMirror-simplescroll",C,E)},f.scrollbarModel.overlay=function(C,E){return new T("CodeMirror-overlayscroll",C,E)}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s="CodeMirror-activeline",c="CodeMirror-activeline-background",T="CodeMirror-activeline-gutter";f.defineOption("styleActiveLine",!1,function(d,l,u){var _=u==f.Init?!1:u;l!=_&&(_&&(d.off("beforeSelectionChange",w),C(d),delete d.state.activeLines),l&&(d.state.activeLines=[],S(d,d.listSelections()),d.on("beforeSelectionChange",w)))});function C(d){for(var l=0;l<d.state.activeLines.length;l++)d.removeLineClass(d.state.activeLines[l],"wrap",s),d.removeLineClass(d.state.activeLines[l],"background",c),d.removeLineClass(d.state.activeLines[l],"gutter",T)}function E(d,l){if(d.length!=l.length)return!1;for(var u=0;u<d.length;u++)if(d[u]!=l[u])return!1;return!0}function S(d,l){for(var u=[],_=0;_<l.length;_++){var b=l[_],F=d.getOption("styleActiveLine");if(!(typeof F=="object"&&F.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var O=d.getLineHandleVisualStart(b.head.line);u[u.length-1]!=O&&u.push(O)}}E(d.state.activeLines,u)||d.operation(function(){C(d);for(var g=0;g<u.length;g++)d.addLineClass(u[g],"wrap",s),d.addLineClass(u[g],"background",c),d.addLineClass(u[g],"gutter",T);d.state.activeLines=u})}function w(d,l){S(d,l.ranges)}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s=/MSIE \\d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),c=f.Pos,T={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<","‹":"›>","›":"‹<","«":"»>","»":"«<"};function C(u){return u&&u.bracketRegex||/[(){}[\\]]/}function E(u,_,b){var F=u.getLineHandle(_.line),O=_.ch-1,g=b&&b.afterCursor;g==null&&(g=/(^| )cm-fat-cursor(\$| )/.test(u.getWrapperElement().className));var y=C(b),W=!g&&O>=0&&y.test(F.text.charAt(O))&&T[F.text.charAt(O)]||y.test(F.text.charAt(O+1))&&T[F.text.charAt(++O)];if(!W)return null;var D=W.charAt(1)==">"?1:-1;if(b&&b.strict&&D>0!=(O==_.ch))return null;var z=u.getTokenTypeAt(c(_.line,O+1)),H=S(u,c(_.line,O+(D>0?1:0)),D,z,b);return H==null?null:{from:c(_.line,O),to:H&&H.pos,match:H&&H.ch==W.charAt(0),forward:D>0}}function S(u,_,b,F,O){for(var g=O&&O.maxScanLineLength||1e4,y=O&&O.maxScanLines||1e3,W=[],D=C(O),z=b>0?Math.min(_.line+y,u.lastLine()+1):Math.max(u.firstLine()-1,_.line-y),H=_.line;H!=z;H+=b){var U=u.getLine(H);if(U){var Z=b>0?0:U.length-1,ot=b>0?U.length:-1;if(!(U.length>g))for(H==_.line&&(Z=_.ch-(b<0?1:0));Z!=ot;Z+=b){var rt=U.charAt(Z);if(D.test(rt)&&(F===void 0||(u.getTokenTypeAt(c(H,Z+1))||"")==(F||""))){var I=T[rt];if(I&&I.charAt(1)==">"==b>0)W.push(rt);else if(W.length)W.pop();else return{pos:c(H,Z),ch:rt}}}}}return H-b==(b>0?u.lastLine():u.firstLine())?!1:null}function w(u,_,b){for(var F=u.state.matchBrackets.maxHighlightLineLength||1e3,O=b&&b.highlightNonMatching,g=[],y=u.listSelections(),W=0;W<y.length;W++){var D=y[W].empty()&&E(u,y[W].head,b);if(D&&(D.match||O!==!1)&&u.getLine(D.from.line).length<=F){var z=D.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";g.push(u.markText(D.from,c(D.from.line,D.from.ch+1),{className:z})),D.to&&u.getLine(D.to.line).length<=F&&g.push(u.markText(D.to,c(D.to.line,D.to.ch+1),{className:z}))}}if(g.length){s&&u.state.focused&&u.focus();var H=function(){u.operation(function(){for(var U=0;U<g.length;U++)g[U].clear()})};if(_)setTimeout(H,800);else return H}}function d(u){u.operation(function(){u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null),u.state.matchBrackets.currentlyHighlighted=w(u,!1,u.state.matchBrackets)})}function l(u){u.state.matchBrackets&&u.state.matchBrackets.currentlyHighlighted&&(u.state.matchBrackets.currentlyHighlighted(),u.state.matchBrackets.currentlyHighlighted=null)}f.defineOption("matchBrackets",!1,function(u,_,b){b&&b!=f.Init&&(u.off("cursorActivity",d),u.off("focus",d),u.off("blur",l),l(u)),_&&(u.state.matchBrackets=typeof _=="object"?_:{},u.on("cursorActivity",d),u.on("focus",d),u.on("blur",l))}),f.defineExtension("matchBrackets",function(){w(this,!0)}),f.defineExtension("findMatchingBracket",function(u,_,b){return(b||typeof _=="boolean")&&(b?(b.strict=_,_=b):_=_?{strict:!0}:null),E(this,u,_)}),f.defineExtension("scanForBracket",function(u,_,b,F){return S(this,u,_,b,F)})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s={pairs:\`()[]{}''‹›""«»\`,closeBefore:\`)]}'›"»:;>\`,triples:"",explode:"[]{}"},c=f.Pos;f.defineOption("autoCloseBrackets",!1,function(g,y,W){W&&W!=f.Init&&(g.removeKeyMap(C),g.state.closeBrackets=null),y&&(E(T(y,"pairs")),g.state.closeBrackets=y,g.addKeyMap(C))});function T(g,y){return y=="pairs"&&typeof g=="string"?g:typeof g=="object"&&g[y]!=null?g[y]:s[y]}var C={Backspace:d,Enter:l};function E(g){for(var y=0;y<g.length;y++){var W=g.charAt(y),D="'"+W+"'";C[D]||(C[D]=S(W))}}E(s.pairs+"\`");function S(g){return function(y){return b(y,g)}}function w(g){var y=g.state.closeBrackets;if(!y||y.override)return y;var W=g.getModeAt(g.getCursor());return W.closeBrackets||y}function d(g){var y=w(g);if(!y||g.getOption("disableInput"))return f.Pass;for(var W=T(y,"pairs"),D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return f.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return f.Pass}for(var z=D.length-1;z>=0;z--){var U=D[z].head;g.replaceRange("",c(U.line,U.ch-1),c(U.line,U.ch+1),"+delete")}}function l(g){var y=w(g),W=y&&T(y,"explode");if(!W||g.getOption("disableInput"))return f.Pass;for(var D=g.listSelections(),z=0;z<D.length;z++){if(!D[z].empty())return f.Pass;var H=F(g,D[z].head);if(!H||W.indexOf(H)%2!=0)return f.Pass}g.operation(function(){var U=g.lineSeparator()||\`
\`;g.replaceSelection(U+U,null),u(g,-1),D=g.listSelections();for(var Z=0;Z<D.length;Z++){var ot=D[Z].head.line;g.indentLine(ot,null,!0),g.indentLine(ot+1,null,!0)}})}function u(g,y){for(var W=[],D=g.listSelections(),z=0,H=0;H<D.length;H++){var U=D[H];U.head==g.getCursor()&&(z=H);var Z=U.head.ch||y>0?{line:U.head.line,ch:U.head.ch+y}:{line:U.head.line-1};W.push({anchor:Z,head:Z})}g.setSelections(W,z)}function _(g){var y=f.cmpPos(g.anchor,g.head)>0;return{anchor:new c(g.anchor.line,g.anchor.ch+(y?-1:1)),head:new c(g.head.line,g.head.ch+(y?1:-1))}}function b(g,y){var W=w(g);if(!W||g.getOption("disableInput"))return f.Pass;var D=T(W,"pairs"),z=D.indexOf(y);if(z==-1)return f.Pass;for(var H=T(W,"closeBefore"),U=T(W,"triples"),Z=D.charAt(z+1)==y,ot=g.listSelections(),rt=z%2==0,I,R=0;R<ot.length;R++){var k=ot[R],K=k.head,L,Q=g.getRange(K,c(K.line,K.ch+1));if(rt&&!k.empty())L="surround";else if((Z||!rt)&&Q==y)Z&&O(g,K)?L="both":U.indexOf(y)>=0&&g.getRange(K,c(K.line,K.ch+3))==y+y+y?L="skipThree":L="skip";else if(Z&&K.ch>1&&U.indexOf(y)>=0&&g.getRange(c(K.line,K.ch-2),K)==y+y){if(K.ch>2&&/\\bstring/.test(g.getTokenTypeAt(c(K.line,K.ch-2))))return f.Pass;L="addFour"}else if(Z){var it=K.ch==0?" ":g.getRange(c(K.line,K.ch-1),K);if(!f.isWordChar(Q)&&it!=y&&!f.isWordChar(it))L="both";else return f.Pass}else if(rt&&(Q.length===0||/\\s/.test(Q)||H.indexOf(Q)>-1))L="both";else return f.Pass;if(!I)I=L;else if(I!=L)return f.Pass}var J=z%2?D.charAt(z-1):y,lt=z%2?y:D.charAt(z+1);g.operation(function(){if(I=="skip")u(g,1);else if(I=="skipThree")u(g,3);else if(I=="surround"){for(var A=g.getSelections(),\$=0;\$<A.length;\$++)A[\$]=J+A[\$]+lt;g.replaceSelections(A,"around"),A=g.listSelections().slice();for(var \$=0;\$<A.length;\$++)A[\$]=_(A[\$]);g.setSelections(A)}else I=="both"?(g.replaceSelection(J+lt,null),g.triggerElectric(J+lt),u(g,-1)):I=="addFour"&&(g.replaceSelection(J+J+J+J,"before"),u(g,1))})}function F(g,y){var W=g.getRange(c(y.line,y.ch-1),c(y.line,y.ch+1));return W.length==2?W:null}function O(g,y){var W=g.getTokenAt(c(y.line,y.ch+1));return/\\bstring/.test(W.type)&&W.start==y.ch&&(y.ch==0||!/\\bstring/.test(g.getTokenTypeAt(y)))}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(E,S,w,d){if(w&&w.call){var l=w;w=null}else var l=C(E,w,"rangeFinder");typeof S=="number"&&(S=f.Pos(S,0));var u=C(E,w,"minFoldSize");function _(g){var y=l(E,S);if(!y||y.to.line-y.from.line<u)return null;if(d==="fold")return y;for(var W=E.findMarksAt(y.from),D=0;D<W.length;++D)if(W[D].__isFold){if(!g)return null;y.cleared=!0,W[D].clear()}return y}var b=_(!0);if(C(E,w,"scanUp"))for(;!b&&S.line>E.firstLine();)S=f.Pos(S.line-1,0),b=_(!1);if(!(!b||b.cleared||d==="unfold")){var F=c(E,w,b);f.on(F,"mousedown",function(g){O.clear(),f.e_preventDefault(g)});var O=E.markText(b.from,b.to,{replacedWith:F,clearOnEnter:C(E,w,"clearOnEnter"),__isFold:!0});O.on("clear",function(g,y){f.signal(E,"unfold",E,g,y)}),f.signal(E,"fold",E,b.from,b.to)}}function c(E,S,w){var d=C(E,S,"widget");if(typeof d=="function"&&(d=d(w.from,w.to)),typeof d=="string"){var l=document.createTextNode(d);d=document.createElement("span"),d.appendChild(l),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}f.newFoldFunction=function(E,S){return function(w,d){s(w,d,{rangeFinder:E,widget:S})}},f.defineExtension("foldCode",function(E,S,w){s(this,E,S,w)}),f.defineExtension("isFolded",function(E){for(var S=this.findMarksAt(E),w=0;w<S.length;++w)if(S[w].__isFold)return!0}),f.commands.toggleFold=function(E){E.foldCode(E.getCursor())},f.commands.fold=function(E){E.foldCode(E.getCursor(),null,"fold")},f.commands.unfold=function(E){E.foldCode(E.getCursor(),{scanUp:!1},"unfold")},f.commands.foldAll=function(E){E.operation(function(){for(var S=E.firstLine(),w=E.lastLine();S<=w;S++)E.foldCode(f.Pos(S,0),{scanUp:!1},"fold")})},f.commands.unfoldAll=function(E){E.operation(function(){for(var S=E.firstLine(),w=E.lastLine();S<=w;S++)E.foldCode(f.Pos(S,0),{scanUp:!1},"unfold")})},f.registerHelper("fold","combine",function(){var E=Array.prototype.slice.call(arguments,0);return function(S,w){for(var d=0;d<E.length;++d){var l=E[d](S,w);if(l)return l}}}),f.registerHelper("fold","auto",function(E,S){for(var w=E.getHelpers(S,"fold"),d=0;d<w.length;d++){var l=w[d](E,S);if(l)return l}});var T={rangeFinder:f.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};f.defineOption("foldOptions",null);function C(E,S,w){if(S&&S[w]!==void 0)return S[w];var d=E.options.foldOptions;return d&&d[w]!==void 0?d[w]:T[w]}f.defineExtension("foldOption",function(E,S){return C(this,E,S)})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],f):f(CodeMirror)})(function(f){f.defineOption("foldGutter",!1,function(O,g,y){y&&y!=f.Init&&(O.clearGutter(O.state.foldGutter.options.gutter),O.state.foldGutter=null,O.off("gutterClick",l),O.off("changes",_),O.off("viewportChange",b),O.off("fold",F),O.off("unfold",F),O.off("swapDoc",_),O.off("optionChange",u)),g&&(O.state.foldGutter=new c(T(g)),d(O),O.on("gutterClick",l),O.on("changes",_),O.on("viewportChange",b),O.on("fold",F),O.on("unfold",F),O.on("swapDoc",_),O.on("optionChange",u))});var s=f.Pos;function c(O){this.options=O,this.from=this.to=0}function T(O){return O===!0&&(O={}),O.gutter==null&&(O.gutter="CodeMirror-foldgutter"),O.indicatorOpen==null&&(O.indicatorOpen="CodeMirror-foldgutter-open"),O.indicatorFolded==null&&(O.indicatorFolded="CodeMirror-foldgutter-folded"),O}function C(O,g){for(var y=O.findMarks(s(g,0),s(g+1,0)),W=0;W<y.length;++W)if(y[W].__isFold){var D=y[W].find(-1);if(D&&D.line===g)return y[W]}}function E(O){if(typeof O=="string"){var g=document.createElement("div");return g.className=O+" CodeMirror-guttermarker-subtle",g}else return O.cloneNode(!0)}function S(O,g,y){var W=O.state.foldGutter.options,D=g-1,z=O.foldOption(W,"minFoldSize"),H=O.foldOption(W,"rangeFinder"),U=typeof W.indicatorFolded=="string"&&w(W.indicatorFolded),Z=typeof W.indicatorOpen=="string"&&w(W.indicatorOpen);O.eachLine(g,y,function(ot){++D;var rt=null,I=ot.gutterMarkers;if(I&&(I=I[W.gutter]),C(O,D)){if(U&&I&&U.test(I.className))return;rt=E(W.indicatorFolded)}else{var R=s(D,0),k=H&&H(O,R);if(k&&k.to.line-k.from.line>=z){if(Z&&I&&Z.test(I.className))return;rt=E(W.indicatorOpen)}}!rt&&!I||O.setGutterMarker(ot,W.gutter,rt)})}function w(O){return new RegExp("(^|\\\\s)"+O+"(?:\$|\\\\s)\\\\s*")}function d(O){var g=O.getViewport(),y=O.state.foldGutter;y&&(O.operation(function(){S(O,g.from,g.to)}),y.from=g.from,y.to=g.to)}function l(O,g,y){var W=O.state.foldGutter;if(W){var D=W.options;if(y==D.gutter){var z=C(O,g);z?z.clear():O.foldCode(s(g,0),D)}}}function u(O,g){g=="mode"&&_(O)}function _(O){var g=O.state.foldGutter;if(g){var y=g.options;g.from=g.to=0,clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){d(O)},y.foldOnChangeTimeSpan||600)}}function b(O){var g=O.state.foldGutter;if(g){var y=g.options;clearTimeout(g.changeUpdate),g.changeUpdate=setTimeout(function(){var W=O.getViewport();g.from==g.to||W.from-g.to>20||g.from-W.to>20?d(O):O.operation(function(){W.from<g.from&&(S(O,W.from,g.from),g.from=W.from),W.to>g.to&&(S(O,g.to,W.to),g.to=W.to)})},y.updateViewportTimeSpan||400)}}function F(O,g){var y=O.state.foldGutter;if(y){var W=g.line;W>=y.from&&W<y.to&&S(O,W,W+1)}}});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){var s="CodeMirror-hint",c="CodeMirror-hint-active";f.showHint=function(g,y,W){if(!y)return g.showHint(W);W&&W.async&&(y.async=!0);var D={hint:y};if(W)for(var z in W)D[z]=W[z];return g.showHint(D)},f.defineExtension("showHint",function(g){g=S(this,this.getCursor("start"),g);var y=this.listSelections();if(!(y.length>1)){if(this.somethingSelected()){if(!g.hint.supportsSelection)return;for(var W=0;W<y.length;W++)if(y[W].head.line!=y[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new T(this,g);D.options.hint&&(f.signal(this,"startCompletion",this),D.update(!0))}}),f.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function T(g,y){if(this.cm=g,this.options=y,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;g.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}var C=window.requestAnimationFrame||function(g){return setTimeout(g,1e3/60)},E=window.cancelAnimationFrame||clearTimeout;T.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&f.signal(this.data,"close"),this.widget&&this.widget.close(),f.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(g,y){var W=g.list[y],D=this;this.cm.operation(function(){W.hint?W.hint(D.cm,g,W):D.cm.replaceRange(w(W),W.from||g.from,W.to||g.to,"complete"),f.signal(g,"pick",W),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(E(this.debounce),this.debounce=0);var g=this.startPos;this.data&&(g=this.data.from);var y=this.cm.getCursor(),W=this.cm.getLine(y.line);if(y.line!=this.startPos.line||W.length-y.ch!=this.startLen-this.startPos.ch||y.ch<g.ch||this.cm.somethingSelected()||!y.ch||this.options.closeCharacters.test(W.charAt(y.ch-1)))this.close();else{var D=this;this.debounce=C(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(g){if(this.tick!=null){var y=this,W=++this.tick;b(this.options.hint,this.cm,this.options,function(D){y.tick==W&&y.finishUpdate(D,g)})}},finishUpdate:function(g,y){this.data&&f.signal(this.data,"update");var W=this.widget&&this.widget.picked||y&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=g,g&&g.list.length&&(W&&g.list.length==1?this.pick(g,0):(this.widget=new u(this,g),f.signal(g,"shown")))}};function S(g,y,W){var D=g.options.hintOptions,z={};for(var H in O)z[H]=O[H];if(D)for(var H in D)D[H]!==void 0&&(z[H]=D[H]);if(W)for(var H in W)W[H]!==void 0&&(z[H]=W[H]);return z.hint.resolve&&(z.hint=z.hint.resolve(g,y)),z}function w(g){return typeof g=="string"?g:g.text}function d(g,y){var W={Up:function(){y.moveFocus(-1)},Down:function(){y.moveFocus(1)},PageUp:function(){y.moveFocus(-y.menuSize()+1,!0)},PageDown:function(){y.moveFocus(y.menuSize()-1,!0)},Home:function(){y.setFocus(0)},End:function(){y.setFocus(y.length-1)},Enter:y.pick,Tab:y.pick,Esc:y.close},D=/Mac/.test(navigator.platform);D&&(W["Ctrl-P"]=function(){y.moveFocus(-1)},W["Ctrl-N"]=function(){y.moveFocus(1)});var z=g.options.customKeys,H=z?{}:W;function U(rt,I){var R;typeof I!="string"?R=function(k){return I(k,y)}:W.hasOwnProperty(I)?R=W[I]:R=I,H[rt]=R}if(z)for(var Z in z)z.hasOwnProperty(Z)&&U(Z,z[Z]);var ot=g.options.extraKeys;if(ot)for(var Z in ot)ot.hasOwnProperty(Z)&&U(Z,ot[Z]);return H}function l(g,y){for(;y&&y!=g;){if(y.nodeName.toUpperCase()==="LI"&&y.parentNode==g)return y;y=y.parentNode}}function u(g,y){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=g,this.data=y,this.picked=!1;var W=this,D=g.cm,z=D.getInputField().ownerDocument,H=z.defaultView||z.parentWindow,U=this.hints=z.createElement("ul");U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.id=this.id;var Z=g.cm.options.theme;U.className="CodeMirror-hints "+Z,this.selectedHint=y.selectedHint||0;for(var ot=y.list,rt=0;rt<ot.length;++rt){var I=U.appendChild(z.createElement("li")),R=ot[rt],k=s+(rt!=this.selectedHint?"":" "+c);R.className!=null&&(k=R.className+" "+k),I.className=k,rt==this.selectedHint&&I.setAttribute("aria-selected","true"),I.id=this.id+"-"+rt,I.setAttribute("role","option"),R.render?R.render(I,y,R):I.appendChild(z.createTextNode(R.displayText||w(R))),I.hintId=rt}var K=g.options.container||z.body,L=D.cursorCoords(g.options.alignWithWord?y.from:null),Q=L.left,it=L.bottom,J=!0,lt=0,A=0;if(K!==z.body){var \$=["absolute","relative","fixed"].indexOf(H.getComputedStyle(K).position)!==-1,dt=\$?K:K.offsetParent,wt=dt.getBoundingClientRect(),Nt=z.body.getBoundingClientRect();lt=wt.left-Nt.left-dt.scrollLeft,A=wt.top-Nt.top-dt.scrollTop}U.style.left=Q-lt+"px",U.style.top=it-A+"px";var kt=H.innerWidth||Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),ft=H.innerHeight||Math.max(z.body.offsetHeight,z.documentElement.offsetHeight);K.appendChild(U),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var at=g.options.moveOnOverlap?U.getBoundingClientRect():new DOMRect,_t=g.options.paddingForScrollbar?U.scrollHeight>U.clientHeight+1:!1,vt;setTimeout(function(){vt=D.getScrollInfo()});var ee=at.bottom-ft;if(ee>0){var Et=at.bottom-at.top,Rt=at.top-(L.bottom-L.top)-2;ft-at.top<Rt?(Et>Rt&&(U.style.height=(Et=Rt)+"px"),U.style.top=(it=L.top-Et)+A+"px",J=!1):U.style.height=ft-at.top-2+"px"}var Ee=at.right-kt;if(_t&&(Ee+=D.display.nativeBarWidth),Ee>0&&(at.right-at.left>kt&&(U.style.width=kt-5+"px",Ee-=at.right-at.left-kt),U.style.left=(Q=Math.max(L.left-Ee-lt,0))+"px"),_t)for(var we=U.firstChild;we;we=we.nextSibling)we.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=d(g,{moveFocus:function(It,mt){W.changeActive(W.selectedHint+It,mt)},setFocus:function(It){W.changeActive(It)},menuSize:function(){return W.screenAmount()},length:ot.length,close:function(){g.close()},pick:function(){W.pick()},data:y})),g.options.closeOnUnfocus){var xe;D.on("blur",this.onBlur=function(){xe=setTimeout(function(){g.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(xe)})}D.on("scroll",this.onScroll=function(){var It=D.getScrollInfo(),mt=D.getWrapperElement().getBoundingClientRect();vt||(vt=D.getScrollInfo());var Ge=it+vt.top-It.top,on=Ge-(H.pageYOffset||(z.documentElement||z.body).scrollTop);if(J||(on+=U.offsetHeight),on<=mt.top||on>=mt.bottom)return g.close();U.style.top=Ge+"px",U.style.left=Q+vt.left-It.left+"px"}),f.on(U,"dblclick",function(It){var mt=l(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),W.pick())}),f.on(U,"click",function(It){var mt=l(U,It.target||It.srcElement);mt&&mt.hintId!=null&&(W.changeActive(mt.hintId),g.options.completeOnSingleClick&&W.pick())}),f.on(U,"mousedown",function(){setTimeout(function(){D.focus()},20)});var ce=this.getSelectedHintRange();return(ce.from!==0||ce.to!==0)&&this.scrollToActive(),f.signal(y,"select",ot[this.selectedHint],U.childNodes[this.selectedHint]),!0}u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var g=this.completion.cm.getInputField();g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns");var y=this.completion.cm;this.completion.options.closeOnUnfocus&&(y.off("blur",this.onBlur),y.off("focus",this.onFocus)),y.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var g=this;this.keyMap={Enter:function(){g.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(g,y){if(g>=this.data.list.length?g=y?this.data.list.length-1:0:g<0&&(g=y?0:this.data.list.length-1),this.selectedHint!=g){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+c,""),W.removeAttribute("aria-selected")),W=this.hints.childNodes[this.selectedHint=g],W.className+=" "+c,W.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",W.id),this.scrollToActive(),f.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var g=this.getSelectedHintRange(),y=this.hints.childNodes[g.from],W=this.hints.childNodes[g.to],D=this.hints.firstChild;y.offsetTop<this.hints.scrollTop?this.hints.scrollTop=y.offsetTop-D.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var g=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-g),to:Math.min(this.data.list.length-1,this.selectedHint+g)}}};function _(g,y){if(!g.somethingSelected())return y;for(var W=[],D=0;D<y.length;D++)y[D].supportsSelection&&W.push(y[D]);return W}function b(g,y,W,D){if(g.async)g(y,D,W);else{var z=g(y,W);z&&z.then?z.then(D):D(z)}}function F(g,y){var W=g.getHelpers(y,"hint"),D;if(W.length){var z=function(H,U,Z){var ot=_(H,W);function rt(I){if(I==ot.length)return U(null);b(ot[I],H,Z,function(R){R&&R.list.length>0?U(R):rt(I+1)})}rt(0)};return z.async=!0,z.supportsSelection=!0,z}else return(D=g.getHelper(g.getCursor(),"hintWords"))?function(H){return f.hint.fromList(H,{words:D})}:f.hint.anyword?function(H,U){return f.hint.anyword(H,U)}:function(){}}f.registerHelper("hint","auto",{resolve:F}),f.registerHelper("hint","fromList",function(g,y){var W=g.getCursor(),D=g.getTokenAt(W),z,H=f.Pos(W.line,D.start),U=W;D.start<W.ch&&/\\w/.test(D.string.charAt(W.ch-D.start-1))?z=D.string.substr(0,W.ch-D.start):(z="",H=W);for(var Z=[],ot=0;ot<y.words.length;ot++){var rt=y.words[ot];rt.slice(0,z.length)==z&&Z.push(rt)}if(Z.length)return{list:Z,from:H,to:U}}),f.commands.autocomplete=f.showHint;var O={hint:f.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\\s()\\[\\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};f.defineOption("hintOptions",null)});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(c){return function(T,C){var E=C.line,S=T.getLine(E);function w(F){for(var O,g=C.ch,y=0;;){var W=g<=0?-1:S.lastIndexOf(F[0],g-1);if(W==-1){if(y==1)break;y=1,g=S.length;continue}if(y==1&&W<C.ch)break;if(O=T.getTokenTypeAt(f.Pos(E,W+1)),!/^(comment|string)/.test(O))return{ch:W+1,tokenType:O,pair:F};g=W-1}}function d(F){var O=1,g=T.lastLine(),y,W=F.ch,D;t:for(var z=E;z<=g;++z)for(var H=T.getLine(z),U=z==E?W:0;;){var Z=H.indexOf(F.pair[0],U),ot=H.indexOf(F.pair[1],U);if(Z<0&&(Z=H.length),ot<0&&(ot=H.length),U=Math.min(Z,ot),U==H.length)break;if(T.getTokenTypeAt(f.Pos(z,U+1))==F.tokenType){if(U==Z)++O;else if(!--O){y=z,D=U;break t}}++U}return y==null||E==y?null:{from:f.Pos(E,W),to:f.Pos(y,D)}}for(var l=[],u=0;u<c.length;u++){var _=w(c[u]);_&&l.push(_)}l.sort(function(F,O){return F.ch-O.ch});for(var u=0;u<l.length;u++){var b=d(l[u]);if(b)return b}return null}}f.registerHelper("fold","brace",s([["{","}"],["[","]"]])),f.registerHelper("fold","brace-paren",s([["{","}"],["[","]"],["(",")"]])),f.registerHelper("fold","import",function(c,T){function C(u){if(u<c.firstLine()||u>c.lastLine())return null;var _=c.getTokenAt(f.Pos(u,1));if(/\\S/.test(_.string)||(_=c.getTokenAt(f.Pos(u,_.end+1))),_.type!="keyword"||_.string!="import")return null;for(var b=u,F=Math.min(c.lastLine(),u+10);b<=F;++b){var O=c.getLine(b),g=O.indexOf(";");if(g!=-1)return{startCh:_.end,end:f.Pos(b,g)}}}var E=T.line,S=C(E),w;if(!S||C(E-1)||(w=C(E-2))&&w.end.line==E-1)return null;for(var d=S.end;;){var l=C(d.line+1);if(l==null)break;d=l.end}return{from:c.clipPos(f.Pos(E,S.startCh+1)),to:d}}),f.registerHelper("fold","include",function(c,T){function C(l){if(l<c.firstLine()||l>c.lastLine())return null;var u=c.getTokenAt(f.Pos(l,1));if(/\\S/.test(u.string)||(u=c.getTokenAt(f.Pos(l,u.end+1))),u.type=="meta"&&u.string.slice(0,8)=="#include")return u.start+8}var E=T.line,S=C(E);if(S==null||C(E-1)!=null)return null;for(var w=E;;){var d=C(w+1);if(d==null)break;++w}return{from:f.Pos(E,S+1),to:c.clipPos(f.Pos(w))}})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function s(c,T){var C=c.getLine(T),E=C.search(/\\S/);return E==-1||/\\bcomment\\b/.test(c.getTokenTypeAt(f.Pos(T,E+1)))?-1:f.countColumn(C,null,c.getOption("tabSize"))}f.registerHelper("fold","indent",function(c,T){var C=s(c,T.line);if(!(C<0)){for(var E=null,S=T.line+1,w=c.lastLine();S<=w;++S){var d=s(c,S);if(d!=-1)if(d>C)E=S;else break}if(E)return{from:f.Pos(T.line,c.getLine(T.line).length),to:f.Pos(E,c.getLine(E).length)}}})});(function(f){typeof exports=="object"&&typeof module=="object"?f(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){f.registerGlobalHelper("fold","comment",function(s){return s.blockCommentStart&&s.blockCommentEnd},function(s,c){var T=s.getModeAt(c),C=T.blockCommentStart,E=T.blockCommentEnd;if(!(!C||!E)){for(var S=c.line,w=s.getLine(S),d,l=c.ch,u=0;;){var _=l<=0?-1:w.lastIndexOf(C,l-1);if(_==-1){if(u==1)return;u=1,l=w.length;continue}if(u==1&&_<c.ch)return;if(/comment/.test(s.getTokenTypeAt(f.Pos(S,_+1)))&&(_==0||w.slice(_-E.length,_)==E||!/comment/.test(s.getTokenTypeAt(f.Pos(S,_))))){d=_+C.length;break}l=_-1}var b=1,F=s.lastLine(),O,g;t:for(var y=S;y<=F;++y)for(var W=s.getLine(y),D=y==S?d:0;;){var z=W.indexOf(C,D),H=W.indexOf(E,D);if(z<0&&(z=W.length),H<0&&(H=W.length),D=Math.min(z,H),D==W.length)break;if(D==z)++b;else if(!--b){O=y,g=D;break t}++D}if(!(O==null||S==O&&g==d))return{from:f.Pos(S,d),to:f.Pos(O,g)}}})});const uc={theme_ttcn:{ar:"فاتح ١",en:"TTCN"},theme_default:{ar:"فاتح ٢",en:"CodeMirror Default"},theme_solarized_light:{ar:"فاتح ٣",en:"Solarized (Light)"},theme_eclipse:{ar:"فاتح ٤",en:"Eclipse"},theme_midnight:{ar:"غامق ١",en:"Midnight"},theme_panda_syntax:{ar:"غامق ٢",en:"Panda Syntax"},theme_tomorrow_night_eighties:{ar:"غامق ٣",en:"Tommorrow Night Eighties"},theme_night:{ar:"غامق ٤",en:"Night"},theme_colorforth:{ar:"غامق ٥",en:"colorForth"},theme_monokai:{ar:"غامق ٦",en:"Monokai"},theme_the_matrix:{ar:"غامق ٧",en:"The Matrix"},theme_ayu_dark:{ar:"غامق ٨",en:"Ayu Dark"},theme_moxer:{ar:"غامق ٩",en:"Moxer"},theme_mbo:{ar:"غامق ١٠",en:"MBO"}},lc={new_file:{ar:"ملف جديد",en:"New File"},new_proj:{ar:"مشروع جديد",en:"New Project"},open:{ar:"فتح",en:"Open"},open_file:{ar:"فتح ملف",en:"Open File"},open_proj:{ar:"فتح مشروع",en:"Open Project"},new:{ar:"جديد",en:"New"},save:{ar:"حفظ",en:"Save"},compile:{ar:"ترجمة",en:"Compile"},build:{ar:"بناء",en:"Build"},terminate:{ar:"إنهاء",en:"Terminate"},output_label:{ar:"المخرجات",en:"Output"},lang_label:{ar:"لغة المحرر",en:"Editor Langauge"},lang_ar:{ar:"العربية - Arabic",en:"Arabic - العربية"},lang_en:{ar:"الانجليزية - English",en:"English - الانجليزية"},س:{ar:"س",en:"س"},...uc},hc={theme:{ar:"المظهر",en:"Theme"},run:{ar:"تشغيل",en:"Run"},srccode:{ar:"رِماز",en:"Code"},clear:{ar:"مسح",en:"Clear"}};function cc(f,s){for(let[c,T]of Object.entries(f)){let C=document.querySelector(\`#\${c}\`);C&&(C.textContent=T[s])}}function fc(f,s){for(let[c,T]of Object.entries(f)){let C=document.querySelector(\`#\${c}\`);C&&(C.title=T[s])}}class _c{msg;start_loc;end_loc;constructor(s,c,T){this.msg=s,this.start_loc=c,this.end_loc=T}}const fu={"???":"as",صحيح:"true",غير_صحيح:"false",عندما:"when",حيث:"where",احضر:"use",عرف:"let",ثابت:"const",متغير:"var",دل:"fn",نوع:"type",سمة:"trait","???":"impl",رد:"return",نفذ:"do"},pc={as:"???",true:"صحيح",false:"غير_صحيح",when:"عندما",where:"حيث",use:"احضر",let:"عرف",const:"ثابت",var:"متغير",fn:"دل",type:"نوع",trait:"سمة",impl:"???",return:"رد",do:"نفذ"},hi=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Wn=["0","1","2","3","4","5","6","7","8","9"],dc="ـ",Us=regexp("\\\\p{L}"),gc=regexp("\\\\p{N}");function Br(f){return f==null}function Ks(f){return f instanceof Array}function Gt(f,s){return f.includes(s)}function vc(f,s,c){f[s]=c}function Zs(f){return Array.isArray(f)&&f.length===0}function At(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function _u(f,s){f==null?console.log("undefined"):console.log(JSON.stringify(f))}function St(f){throw new Error(f)}function sn(f){return{...f}}function mc(f){return f.toLowerCase()}class pu{line;column;constructor(s,c){return this.line=s,this.column=c,this}}class bc{v;loc;constructor(s,c){return this.v=s,this.loc=c,this}}class yc{lang;code;start_loc;end_loc;tokens;errs;current_index;current;lookbehind;ignore_cmts_ws;constructor(s,c,T,C,E,S,w,d,l,u){return this.lang=s,this.code=c,this.start_loc=T,this.end_loc=C,this.tokens=E,this.errs=S,this.current_index=w,this.current=d,this.lookbehind=l,this.ignore_cmts_ws=u,this}init(s,c,T){this.lang=s,this.code=c,this.start_loc=new pu(1,1),this.end_loc=new pu(1,1),this.tokens=[],this.errs=[],this.current_index=-1,this.current=null,this.lookbehind=null,this.ignore_cmts_ws=T}run(){this.lang==="ar"?this.ar():this.lang==="en"&&this.en(),this.start_loc=sn(this.end_loc),this.add_token("\$eof")}add_token(s){const c=new bc(s,sn(this.start_loc));this.tokens.push(c)}next(){this.lookbehind=this.current,this.current_index+=1;const s=this.code[this.current_index];return this.current=s,s===\`
\`?(this.end_loc.line+=1,this.end_loc.column=1):this.end_loc.column+=1,this.current}lookahead(){return this.code[this.current_index+1]}skip(s){for(;s>0;)this.next(),s-=1}insert_err(s){const c=new _c(s,sn(this.start_loc),sn(this.end_loc));this.errs.push(c)}last_token(){return this.tokens[this.tokens.length-1]}skip_invalid_num_or_id(){for(;this.expect_letter()||this.expect_num()||this.expect_underscore();)this.skip(1)}expect_tatweel(){return this.lookahead()===dc}expect_nl_behind(){return this.lookbehind===\`
\`}expect_none_behind(){return Br(this.lookbehind)}expect_none_ahead(){return Br(this.lookahead())}expect_ws_behind(){return this.lookbehind===\`
\`||this.lookbehind===" "||this.lookbehind==="\\r"||this.lookbehind==="	"}expect_space_ahead(){return this.lookahead()===" "||this.lookahead()==="	"}expect_ws_ahead(){return this.lookahead()===\`
\`||this.lookahead()===" "||this.lookahead()==="\\r"||this.lookahead()==="	"}expect_nl_ahead(){return this.lookahead()===\`
\`}expect_separator_behind(){return this.lookbehind===","||this.lookbehind===";"||this.lookbehind===";;"||this.lookbehind===":"||this.lookbehind==="("||this.lookbehind==="["||this.lookbehind==="{"||this.lookbehind==="<"}expect_separator_ahead(){return this.lookahead()===","||this.lookahead()===";"||this.lookahead()===";;"||this.lookahead()===":"||this.lookahead()===")"||this.lookahead()==="]"||this.lookahead()==="}"||this.lookahead()===">"}expect_open_bracket(){return this.lookahead()==="["}expect_open_paren(){return this.lookahead()==="("}expect_letter(){if(this.lookahead())return this.lookahead().match(Us)}expect_num(){return this.lookahead().match(gc)}expect_underscore(){return this.lookahead()==="_"}expect_eof(){return Br(this.lookahead())}expect_eol(){return this.lookahead()===\`
\`||this.lookahead()==="\\r"||this.expect_eof()}multi_comment(){if(this.lookahead()==="-"){let s="";const c=[];for(;!this.expect_eof();)if(this.current==="{"&&this.lookahead()==="-")s+=this.next()+this.next(),c.push(sn(this.end_loc));else if(this.current==="-"&&this.lookahead()==="}")if(c.length>1)s+=this.next()+this.next(),c.pop();else{s+=this.next(),c.pop();break}else s+=this.next();const T=c.pop();return T&&(this.start_loc=sn(T),this.insert_err("unclosed comment")),this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_escape_char(){if(this.current==="٪"){let s=this.next();switch(s){case"(":switch(s=this.next(),s){case"س":s=\`
\`;break;case"ر":s="\\r";break;case"ج":s="	";break;case"‹":s="‹";break;case"›":s="›";break;case"«":s="«";break;case"»":s="»";break}this.next()!==")"&&this.insert_err("invalid_escape_character: "+s);break;case"٪":s="٪";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s)}return s}else return this.current}en_escape_char(){if(this.current==="%"){let s=this.next();switch(s){case"n":s=\`
\`;break;case"r":s="\\r";break;case"t":s="	";break;case"'":s="'";break;case'"':s='"';break;case"%":s="%";break;case"{":s="\${";break;default:this.insert_err("invalid escape character: "+s);break}return s}else return this.current}enclosed_val(s){let c="";for(;!this.expect_eof()&&(this.next(),s!==this.current);){if(this.expect_eol()){this.insert_err("unclosed literal, expecting: "+s);break}this.lang==="ar"?c+=this.ar_escape_char():c+=this.en_escape_char()}return c}ar_str(){this.lookahead()==="«"?this.ar_multi_str():this.add_token(["str",this.enclosed_val("»")])}en_str(){this.lookahead()==='"'?this.en_multi_str():this.add_token(["str",this.enclosed_val("'")])}multi_str(s){let c="",T="";for(;!this.expect_eof();){if(this.next(),this.expect_eof()){this.insert_err("unclosed multiline String literal, expecting "+s);break}if(s===this.current&&s===this.lookahead())if(this.skip(1),this.lookahead()===s){this.skip(1),this.add_token(["str",T]);break}else c+=s+s;else this.lang==="ar"?T+=this.ar_escape_char():T+=this.en_escape_char(),T+=c}}ar_multi_str(s){this.skip(1),this.lookahead()==="«"?(this.skip(1),this.multi_str("»")):this.add_token(["str",""])}en_multi_str(s){this.skip(1),this.lookahead()==='"'?(this.skip(1),this.multi_str('"')):this.add_token(["str",""])}equal(){const s=[];for(;this.lookahead()==="=";)s.push(this.next());if(s.length===0)this.add_token("=");else if(s.length===1)this.add_token("==");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["===",s.length+1]);else return!1;return!0}thick_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("=>"),!0}add_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("+="),!0}add(){return this.add_token("+"),!0}sub_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("-="),!0}thin_arrow(){if(this.lookahead()===">")return this.next(),this.add_token("->"),!0}dash(){const s=[];for(;this.lookahead()==="-";)s.push(this.next());if(s.length===0)this.add_token("-");else if(s.length>1)this.ignore_cmts_ws||this.add_token(["---",s.length+1]);else return!1;return!0}tilde(){if(this.lookahead()==="~")return this.next(),this.add_token("~"),!0}mul_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("*="),!0}mul(){return this.add_token("*"),!0}asterisk(){let s="*";for(;this.lookahead()==="*";)s+=this.next();if(s.length===1)this.mul();else return!1;return!0}ar_div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("\\\\="),!0}div_asgmt(){if(this.lookahead()==="=")return this.next(),this.add_token("/="),!0}comment(){if(this.lookahead()==="-"){let s="";for(;!this.expect_eof()&&!this.expect_eol();)s+=this.next();return this.ignore_cmts_ws||this.add_token(["--",s]),!0}}ar_div(){return this.add_token("\\\\"),!0}div(){return this.add_token("/"),!0}ne(){if(this.lookahead()==="=")return this.next(),this.add_token("!="),!0}exclamation(){return this.add_token("!"),!0}ge(){if(this.lookahead()==="=")return this.next(),this.add_token(">="),!0}gt(){return this.add_token(">"),!0}le(){if(this.lookahead()==="=")return this.next(),this.add_token("<="),!0}lt(){return this.add_token("<"),!0}and(){return this.lookahead()==="&"?(this.skip(1),this.add_token("&&"),!0):(this.add_token("&"),!0)}or_listpipe(){if(this.lookahead()==="|")return this.skip(1),this.lookahead()===">"?(this.skip(1),this.add_token("||>"),!0):(this.add_token("||"),!0)}pipe(){if(this.lookahead()===">")return this.skip(1),this.add_token("|>"),!0}bar(){return this.add_token("|"),!0}mashriq_float(){Gt(hi,this.lookahead())?(v=this.current+this.mashriq_fract(),this.add_token(["float",v])):this.insert_err("ill-formed floating point number")}maghrib_float(){if(Gt(Wn,this.lookahead()))return v=this.current+this.maghrib_fract(),this.add_token(["float",v]),!0}ddot(){if(this.lookahead()===".")return this.skip(1),this.add_token(".."),!0}dot(){return this.add_token("."),!0}deconstruct(){if(this.lookahead()===">")return this.skip(1),this.add_token(":>"),!0}decl(){if(this.lookahead()==="=")return this.skip(1),this.add_token(":="),!0}dcolon(){if(this.lookahead()===":")return this.skip(1),this.lookahead()==="="?(this.skip(1),this.add_token("::=")):this.add_token("::"),!0}colon(){return this.add_token(":"),!0}ar_semicolon(){return this.add_token(";"),!0}en_semicolon(){return this.add_token(";"),!0}mashriq_num(){let s=this.current;for(;;){if(Gt(hi,this.lookahead()))s+=this.next();else if(Gt(Wn,this.lookahead()))this.insert_err("you can either use Mashriq digits (٠ - ٩) or Maghrib digits (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===",")s+=this.next(),s+=this.maghrib_fract();else break;if(this.expect_eof())break}this.is_float?this.add_token(["float",s]):this.add_token(["int",s])}maghrib_num(){let s=this.current,c=!1;for(;;){if(Gt(Wn,this.lookahead()))s+=this.next();else if(Gt(hi,this.lookahead()))this.insert_err("you can either use Eastern Arabic digits (٠ - ٩) or Western (0 - 9) but not a mix: "+this.current),this.skip_invalid_num_or_id();else if(this.lookahead()===".")s+=this.next(),c=!0,s+=this.maghrib_fract();else break;if(this.expect_eof())break}c?this.add_token(["float",s]):this.add_token(["int",s])}ar_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)this.expect_tatweel()?Gt(["ف","ل","اه","ك"],s)?s+=this.next():this.skip(1):s+=this.next();fu[s]?this.add_token(["key",fu[s]]):this.add_token(["id",s])}en_id(){let s=this.current;for(;!this.expect_eof()&&(this.expect_letter()||this.expect_num()||this.expect_underscore());)s+=this.next();pc[s]?this.add_token(["key",s]):this.add_token(["id",s])}mashriq_fract(){let s="";for(;!this.expect_eof()&&Gt(hi,this.lookahead());)s+=this.next();return s}maghrib_float(){if(Gt(Wn,this.lookahead())){const s=this.current+this.maghrib_fract();return this.add_token(["float",s]),!0}}maghrib_fract(){let s="";for(;!this.expect_eof()&&Gt(Wn,this.lookahead());)s+=this.next();return s}new_line(){let s=1;for(;;)if(this.lookahead()===\`
\`)this.skip(1),s+=1;else{this.last_token()&&this.last_token().v!==\`
\`&&this.add_token([\`
\`,s]);break}}ar(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const s=this.next();switch(s){case"؟":this.add_token("?");break;case"٪":this.add_token("%");break;case",":this.mashriq_float();break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case"،":this.add_token(",");break;case"×":this.mul_asgmt()||this.mul();break;case"*":this.mul_asgmt()||this.asterisk();break;case"÷":case"/":this.div_asgmt()||this.div();break;case"\\\\":this.ar_div_asgmt()||this.ar_div();break;case"؛":this.ar_semicolon();break;case"«":this.ar_str();break;default:Gt(hi,s)?this.mashriq_num():Gt(Wn,s)?this.maghrib_num():s==="_"||s.match(Us)?this.ar_id():this.common(s)}}}en(){for(;!this.expect_eof();){this.start_loc=sn(this.end_loc);const s=this.next();switch(s){case"?":this.add_token("?");break;case"%":this.add_token("%");break;case".":this.maghrib_float()||this.ddot()||this.dot();break;case",":this.add_token(",");break;case"*":this.mul_asgmt()||this.asterisk();break;case"/":this.div_asgmt()||this.div();break;case";":this.en_semicolon();break;case"'":this.en_str();break;default:Gt(Wn,s)?this.maghrib_num():Gt(hi,s)?(this.insert_err("only English Numerals are allowed in English source files: "+this.current),this.skip_invalid_num_or_id()):s==="_"||s.match(Us)?this.en_id():this.common(s)}}}common(s){switch(s){case\`
\`:this.new_line();break;case"\\r":case"	":case" ":this.ignore_cmts_ws||this.add_token(s);break;case"&":this.and();break;case"|":this.pipe()||this.or_listpipe()||this.bar();break;case"+":this.add_asgmt()||this.add();break;case"-":this.comment()||this.sub_asgmt()||this.thin_arrow()||this.dash();break;case"~":this.tilde();break;case"^":this.add_token("^");break;case"=":this.thick_arrow()||this.equal();break;case"!":this.ne()||this.exclamation();break;case">":this.ge()||this.gt();break;case"<":this.le()||this.lt();break;case":":this.deconstruct()||this.decl()||this.dcolon()||this.colon();break;case"\`":this.transl();break;case"\$":this.add_token("\$");break;case"[":this.add_token("[");break;case"]":this.add_token("]");break;case"(":this.add_token("(");break;case")":this.add_token(")");break;case"{":this.multi_comment()||this.add_token("{");break;case"}":this.add_token("}");break;default:this.insert_err("unrecognized character: "+this.current)}}}class wc{fns;structs;constructor(){this.fns=[],this.structs=[]}insert_fn(s){this.fns.push(s)}insert_struct(s){this.structs.push(s)}}class ht{id;t;v;constructor(s,c,T){this.id=s,this.t=c,this.v=T}}class du{t;o;constructor(s,c){this.t=s,this.o=c}}class xc{name;fields;children;constructor(s,c,T){this.name=s,this.fields=c,this.children=T}}class kc{fields;o;constructor(s,c){this.fields=s,this.o=c}}class Sc{t;ts;o;constructor(s,c,T){this.t=s,this.ts=c,this.o=T}}class Ec{name;variant;constructor(s,c){this.name=s,this.variant=c}}class gu{k;v;constructor(s,c){this.k=s,this.v=c}}class rn{opr;op;constructor(s,c){this.opr=s,this.op=c}}class Gs{lopr;op;ropr;constructor(s,c,T){this.lopr=s,this.op=c,this.ropr=T}}class Xs{name;params;ret_types;body;constructor(s,c,T,C){this.name=s,this.params=c,this.ret_types=T,this.body=C}}class vu{_pat;t;constructor(s,c){this._pat=s,this.t=c}}class Tc{k;v;constructor(s,c){this.k=s,this.v=c}}class mu{lhs;t;rhs;constructor(s,c,T){this.lhs=s,this.t=c,this.rhs=T}}class Cc{expr;arms;constructor(s,c){this.expr=s,this.arms=c}}class Ac{pats;expr;constructor(s,c){this.pats=s,this.expr=c}}const Lc=["+","-","*","/","[","~=","::",":=","=","+=","-=","*=","/=","|=","&=","==","!=",">",">=","<","<=","|","||","|>","||>",":>","&","&&",".",".."],Oc=[".","!","not","-","+"],Nc=["?","!","%"],Rc=["=",":","::",":=","~=","+=","-=","*=","/=","÷=","&=","&&=","|=","||="];class Fc{tokens;current_index;skipped_new_line;current;ast;symtab;attrs;errs;init(s){this.tokens=s,this.current_index=-1,this.skipped_new_line=!1,this.current=null,this.ast=[],this.symtab=new wc,this.attrs=[],this.errs=[]}run(){for(this.next();!this.is_eof();){let s=!1;this.maybe_attrs()?(this.maybe_modifier(),s=this.maybe_typedef()||this.maybe_global_const()||this.maybe_global_fn()):this.is_modifier()?(this.maybe_modifier(),s=this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef()):s=this.maybe_use()||this.maybe_global_const()||this.maybe_global_fn()||this.maybe_typedef(),s||St("invalid syntax: "+At(this.current))}}next(s){this.current_index+=1;const c=this.tokens[this.current_index];return this.current=c,c.v[0]===\`
\`?(this.skipped_new_line=!0,this.next(!0)):s||(this.skipped_new_line=!1),this.current}backtrack(){this.current_index-=1;const s=this.tokens[this.current_index];this.current=s,s.v[0]===\`
\`&&this.backtrack()}skip(){return this.next()}lookahead(){return this.lookahead_n(1)}lookahead_n(s){let c=this.current_index;for(;s>0;){for(c+=1;;){const T=this.tokens[c];let C;if(T&&(C=T.v[0]===\`
\`),C)c+=1;else break}s-=1}return this.tokens[c]}lookahead_ws(){const s=this.current_index+1;return this.tokens[s]}is_eof(){return this.current.v==="\$eof"}is_newline(){return this.skipped_new_line}is_asterisk(){return this.current.v==="*"}is_asgmt(){return this.current.v==="="}is_hash(){return this.current.v==="--"}is_percent(){return this.current.v==="%"}is_dpercent(){return this.current.v==="%%"}is_behind_none(){return Br(this.lookbehind)}is_behind_nl(){return this.lookbehind===\`
\`}is_dot(){return this.current.v==="."}is_colon(){return this.current.v===":"}is_dcolon(){return this.current.v==="::"}is_caret(){return this.current.v==="^"}is_semicolon(){return this.current.v===";"}is_comma(){return this.current.v===","}is_backtick(){return this.current.v==="\`"}is_tbacktick(){return this.current.v[0]==="\`\`\`"}is_underscore(){return this.is_id()&&this.current.v[1]==="_"}is_plus(){return this.current.v==="+"}is_minus(){return this.current.v==="-"}is_exclamation(){return this.current.v==="!"}is_question(){return this.current.v==="?"}is_bar(){return this.current.v==="|"}is_thin_arrow(){return this.current.v==="->"}is_thick_arrow(){return this.current.v==="=>"}is_tilde(){return this.current.v==="~"}is_or(){return this.is_keyword("or")}is_and(){return this.is_keyword("and")}is_not(){return this.is_keyword("not")}is_use(){return this.is_keyword("use")}is_let(){return this.is_keyword("let")}is_if_let(){return this.is_keyword("if_let")}is_const(){return this.is_keyword("const")}is_var(){return this.is_keyword("var")}is_then(){return this.is_keyword("then")}is_do(){return this.is_keyword("do")}is_end(){return this.is_keyword("end")}is_fn(){return this.is_keyword("fn")}is_alias(){return this.is_keyword("alias")}is_typedef(){return this.is_keyword("type")}is_open_paren(){return this.current.v==="("}is_close_paren(){return this.current.v===")"}is_open_curly(){return this.current.v==="{"}is_close_curly(){return this.current.v==="}"}is_open_bracket(){return this.current.v==="["}is_close_bracket(){return this.current.v==="]"}is_open_angle(){return this.current.v==="<"}is_close_angle(){return this.current.v===">"}is_double_close_angle(){return this.current.v===">>"}is_if(){return this.is_keyword("if")}is_else(){return this.is_keyword("else")}is_ret(){return this.is_keyword("return")}is_break(){return this.is_keyword("break")}is_when(){return this.is_keyword("when")}is_for(){return this.is_keyword("for")}is_in(){return this.is_keyword("in")}is_while(){return this.is_keyword("while")}is_bool(){return this.is_keyword("true")||this.is_keyword("false")}is_char(){return this.current.v[0]==="char"}is_str(){return this.current.v[0]==="str"}is_int(){return this.current.v[0]==="int"}is_float(){return this.current.v[0]==="float"}is_modifier(){const s=this.expect_plus()||this.expect_minus()&&this.lookahead_n(2).v===")";return this.is_open_paren()&&s}is_this(){return this.is_keyword("this")}is_keyword(s){return this.current.v[0]==="key"&&this.current.v[1]===s}is_id(){return this.current.v[0]==="id"}is_id_pat(){return this.current.v[0]==="id"}is_bool_pat(){return this.current.v[0]==="bool"}is_char_pat(){return this.current.v[0]==="char"}is_str_pat(){return this.current.v[0]==="str"}is_int_pat(){return this.current.v[0]==="int"}is_float_pat(){return this.current.v[0]==="float"}is_tuple_pat(){return this.is_open_paren()}is_list_pat(){return this.is_open_bracket()}is_structl_pat(){return this.is_open_curly()}is_enum_pat(){return this.is_dot()}is_pat(){return this.is_bool_pat()||this.is_char_pat()||this.is_str_pat()||this.is_int_pat()||this.is_float_pat()||this.is_list_pat()||this.is_tuple_pat()||this.is_structl_pat()||this.is_enum_pat()||this.is_id_pat()||this.is_underscore()}is_assoc_fn(){if(Ks(this.current.v))return this.is_fn()&&this.lookahead().v==="^"}is_method(){if(Ks(this.current.v))return this.is_fn()&&this.lookahead().v!=="^"}expect_short_asgmt(){return this.lookahead().v===":="}expect_colon(){return this.lookahead().v===":"}expect_comma(){return this.lookahead().v===","}expect_plus(){return this.lookahead().v==="+"}expect_minus(){return this.lookahead().v==="-"}expect_id(){return this.lookahead().v[0]==="id"}expect_str(){return this.lookahead().v[0]==="str"}expect_eof(){return this.lookahead().v==="\$eof"}expect_close_paren(){return this.lookahead().v===")"}expect_close_bracket(){return this.lookahead().v==="]"}expect_open_curly(){return this.lookahead().v==="{"}expect_close_curly(){return this.lookahead().v==="}"}expect_astrisk(){return this.lookahead().v==="*"}expect_asgmt(){return this.lookahead().v==="="}maybe_asgmt(){if(this.is_asgmt())return this.next(),!0}maybe_comma(){if(this.is_comma())return this.next(),!0}optional_comma(){return this.is_newline()||this.is_close_curly()||this.is_close_paren()||this.is_close_bracket()||this.is_close_angle()||this.is_thin_arrow()||this.is_thick_arrow()?this.maybe_comma():this.req_comma()}maybe_colon(){if(this.is_colon())return this.next(),!0}maybe_open_curly(){if(this.is_open_curly())return this.next(),!0}maybe_id(){if(this.is_id()){const s=this.current;return this.next(),s}}maybe_asterisk(){if(this.is_asterisk())return this.current,this.next(),this.asterisk}maybe_open_paren(){if(is_open_paren())return this.next(),!0}maybe_modifier(){if(!this.is_modifier())return;this.next();const s=new ht("modif","",this.current);return this.next(),this.req_close_paren(),this.ast.push(s),!0}maybe_attrs(){for(;this.is_hash();){this.skip();const s=this.maybe_id();if(this.id||St("expecting an id: "+At(this.current)),this.attrs.push(s),this.lookahead().v!==",")return null;this.skip()}if(this.attrs.length>0)return!0}maybe_pat(){if(this.is_pat())return this.prim_pat()}req_in(){if(this.is_in())return this.next(),!0;St('expecting "in" : '+At(this.current))}req_asgmt(){return this.maybe_asgmt()||St("expecting '=' : "+At(this.current)),!0}req_comma(){if(this.is_comma())return this.next(),!0;St("expecting ',' after : "+At(this.current))}req_backtick(){if(this.is_backtick())return this.next(),!0;St("expecting '\`' after : "+At(this.current))}req_tbacktick(){if(this.is_tbacktick())return this.next(),!0;St("expecting '\`\`\`' after : "+At(this.current))}req_terminator(){return this.is_newline()||this.is_eof()}req_open_paren(){if(this.is_open_paren())return this.next(),!0;St("expecting '(' : "+At(this.current))}req_close_paren(){if(this.is_close_paren())return this.next(),!0;St("expecting ')' : "+At(this.current))}req_open_curly(){if(this.is_open_curly())return this.next(),!0;St("expecting '{' : "+At(this.current))}req_close_curly(){if(this.is_close_curly())return this.next(),!0;St("expecting '}' : "+At(this.current))}req_close_angle(){if(this.is_close_angle())return this.next(),!0;St("expecting '>' : "+At(this.current))}req_colon(){if(this.is_colon())return this.next(),!0;St("expecting a colon ':' "+At(this.current))}req_dcolon(){if(this.is_dcolon())return this.next(),!0;St("expecting a double colon '::' "+At(this.current))}req_open_bracket(){if(this.is_open_bracket())return this.next(),!0;St("expecting '[' : "+At(this.current))}req_close_bracket(){if(this.is_close_bracket())return this.next(),!0;St("expecting ']' : "+At(this.current))}req_thin_arrow(){if(this.is_thin_arrow())return this.next(),!0;St("expecting '->' : "+At(this.current))}req_thick_arrow(){if(this.is_thick_arrow())return this.next(),!0;St("expecting '=>' : "+At(this.current))}req_then(){if(this.is_then())return this.next(),!0;St("expecting 'then' : "+At(this.current))}req_pat(){const s=this.maybe_pat();if(s)return s;St("expecting a pattern: "+At(this.current))}prim_pat(){if(this.is_underscore()){const s=new ht("_","pat","");return this.next(),s}else{if(this.is_bool_pat())return this.bool_pat();if(this.is_char_pat())return this.char_pat();if(this.is_str_pat())return this.str_pat();if(this.is_int_pat())return this.int_pat();if(this.is_float_pat())return this.float_pat();if(this.is_list_pat())return this.list_pat();if(this.is_tuple_pat())return this.tuple_pat();if(this.is_structl_pat())return this.structl_pat();if(this.is_enum_pat())return this.enum_pat();if(this.is_id_pat())return this.id_pat()}}bool_pat(){const s=new ht("bool","pat",this.current);return this.next(),s}char_pat(){const s=new ht("char","pat",this.current);return this.next(),s}str_pat(){const s=new ht("str","pat",this.current);return this.next(),s}int_pat(){const s=new ht("int","pat",this.current);return this.next(),s}float_pat(){const s=new ht("float","pat",this.current);return this.next(),s}list_pat(){if(!this.is_open_bracket())return;this.next();const s=[];for(this.maybe_comma();;){if(s.length>0&&!this.req_comma())return;const c=this.maybe_pat();if(c)return s.push(c);break}return this.maybe_comma(),this.req_close_bracket(),new ht("[","pat",s)}tuple_pat(){if(!this.is_open_paren())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&this.req_comma();const c=this.maybe_pat();if(c)return s.push(c);break}return this.maybe_comma(),this.req_close_paren(),new ht("(","pat",s)}structl_pat(){if(!this.is_open_curly())return;this.next();const s=[];for(this.maybe_comma();;){s.length>0&&(this.maybe_comma()||this.req_terminator());const c=this.maybe_id();if(!c)break;let T;this.is_colon()&&(this.next(),T=this.req_pat());const C=new Tc(c,T);s.push(C)}return this.maybe_comma(),this.req_close_curly(),new ht("{","pat",s)}enum_pat(){St("enum patterns are not supported yet");const s=this.current;this.next();const c=new Ec(s,_pat);if(_pat)return new ht("enum_pat","pat",c)}id_pat(){const s=this.current;return this.next(),new ht("id","pat",s)}req_body(){const s=this.stmts();return new ht("body","body",s)}req_body_ret(){const s=this.req_body();return this.implicit_return(s.v),s}maybe_stmt(){if(!(this.is_eof()||this.is_modifier()))return this.maybe_break()||this.maybe_const()||this.maybe_let()||this.maybe_expr()||this.maybe_semicolon()}req_stmts(){const s=this.current,c=this.stmts();if(Zs(c))St("expecting a statement : "+At(s));else return c}stmts(){let s=[],c;for(;c=this.maybe_stmt(),c&&s.push(c),!!c;);return s}maybe_ret(){if(!this.is_ret())return;this.next();const s=this.maybe_expr();return new ht("return","expr",s)}maybe_break(){return this.is_break()?(this.next(),new ht("break","stmt",null)):void 0}maybe_global_const(){let s=this.maybe_const();return s?(this.ast.push(s),!0):!1}maybe_global_fn(){let s=this.maybe_fn();return s?(this.ast.push(s),!0):!1}maybe_const(){if(!this.is_const())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),C=new mu(s,c,T);return new ht("const","stmt",C)}maybe_let(){if(!this.is_let())return;this.next();const s=this.req_pat(),c=this.maybe_tannotation();this.req_asgmt();const T=this.req_expr(),C=new mu(s,c,T);return new ht("var","stmt",C)}req_expr(){const s=this.current,c=this.maybe_expr();if(c)return c;St("expecting expression : "+At(s))}maybe_do_block_ret(){const s=this.maybe_do_block();if(s)return this.implicit_return(s.v),s}req_do_block_ret(){const s=this.req_do_block();return this.implicit_return(s.v),s}maybe_do_block(){if(!this.is_do())return;this.next();const s=[];for(this.req_open_curly();!(this.is_eof()||this.is_close_curly());){const c=this.maybe_stmt();if(c)s.push(c);else break}return this.req_close_curly(),new ht("do_block","expr",s)}req_do_block(){const s=this.current,c=this.maybe_do_block();if(c)return c;St("expecting 'do' block : "+At(s))}maybe_block(){if(!this.is_open_curly())return;this.next();const s=[];for(;!(this.is_eof()||this.is_end());){const c=this.maybe_stmt();if(c)s.push(c);else break}return this.implicit_return(s),this.req_end(),new ht("block","expr",s)}maybe_semicolon(){if(!this.is_semicolon())return;const s=this.next();return new ht(";","expr",s)}is_bin_op(){if(this.current.v==="("||this.current.v==="{"||this.current.v==="["){if(!this.is_newline())return!0}else return Gt(Lc,this.current.v)}is_postfix_uni_op(){return Gt(Nc,this.current.v)}req_list_index(){const s=this.req_expr();if(s){if(this.req_close_bracket())return s}else St("expecting  an index [...]: "+At(this.current))}req_access(s){return this.req_expr()}req_call_args(){const s=[];for(;!(this.is_eof()||this.is_close_paren());){s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma());let c=this.maybe_expr();c&&s.push(c)}return this.req_close_paren(),new ht("args","expr",s)}maybe_lopr_prefix_postfix(s,c){const T=s.v.opr,C=s.v.op;if(s.id==="prefix")if(this.prec_uni(c)>=this.prec_uni(C)){const E=new rn(T,c),S=new ht("postfix","expr",E),w=new rn(S,C),d=new ht("prefix","expr",w);return this.next(),d}else{const E=new rn(s,c),S=new ht("postfix","expr",E);return this.next(),S}}maybe_lopr_bin_postfix(s,c){if(s.id==="bin"){const T=s.v.op,C=s.v.ropr,E=s.v.lopr;if(this.prec_uni(c)>=this.prec_bin(T)){const S=new rn(C,c),w=new ht("postfix","expr",S),d=new Gs(E,T,w),l=new ht("bin","expr",d);return this.next(),l}else{const S=new rn(s,c),w=new ht("postfix","expr",S);return this.next(),w}}}maybe_lopr_prefix_bin(s,c){const T=s.v.op;let C=s.v.opr;if(s.id==="prefix")if(this.prec_uni(T)>=this.prec_bin(c)){C=this.req_op(C);const E=new rn(C,T);return new ht("prefix","expr",E)}else{const E=this.req_ropr(s),S=new Gs(C,c,E),w=new ht("bin","expr",S),d=new rn(w,T);return new ht("prefix","expr",d)}}get_lopr(s,c){let T=this.maybe_lopr_prefix_postfix(s,c);if(!T&&(T=this.maybe_lopr_bin_postfix(s,c),!T)){const C=new rn(s,c);T=new ht("postfix","expr",C),this.next()}return T}req_ropr(s){let c;const T=this.current;return this.is_open_bracket()?(this.next(),c=this.req_list_index()):this.is_dot()?(this.next(),c=this.req_access(s)):this.is_open_paren()?(this.next(),c=this.req_call_args()):(this.next(),c=this.maybe_expr()),c||St("expecting right operand: "+At(T)),c}prec_uni(s){switch(s.v){case"%":return 60;case".":return 50;case"!":case"?":return 16;case"+":case"-":case"_!":case"not":return 15;case"⏎":return 0;default:St("unexpected unary operator: "+At(s))}}prec_bin(s){switch(s.v){case"[":return 20;case"(":case"{":return 19;case".":return 18;case"*":case"×":case"/":case"÷":return 13;case"+":case"-":return 12;case"<":case"<=":case">":case">=":return 11;case"==":case"!=":return 10;case"<<":case">>":return 8;case"&":return 7;case"**":case"⊕":return 6;case"|":return 5;case"&&":return 4;case"||":return 3;case"|>":case"||>":case":>":return 2;case"=":case":=":case"::":case"~=":case"+=":case"-=":case"*=":case"×=":case"/=":case"÷=":case"&=":case"|=":case"^=":case">>=":case"<<=":return 1;default:St("unexpected binary operator: "+At(s))}}is_bin_rassoc(s){return Gt(Rc,s)}maybe_op(s){const c=this.current;if(this.is_postfix_uni_op())return this.get_lopr(s,c);if(this.is_bin_op()){const T=this.maybe_lopr_prefix_bin(s,c);if(T)return T;let C=this.req_ropr(s);C&&(C.id==="bin"?C=this.while_op(C,this.prec_bin(C.v.op)>this.prec_bin(c)||this.prec_bin(C.v.op)===this.prec_bin(c)&&this.is_bin_rassoc(C.v.op)):C.id==="prefix"?C=this.while_op(C,this.prec_bin(c)>this.prec_uni(C.v.op)||this.is_bin_rassoc(c)):C=this.while_op(C,!1));const E=new Gs(s,c,C);return new ht("bin","expr",E)}}req_op(s){const c=this.maybe_op(s);if(c)return c;St("expect an operation: "+At(this.lookahead()))}while_op(s,c){let T=sn(s);if(this.is_eof())return T;for(;(this.is_bin_op()||this.is_postfix_uni_op())&&c!==!1;)T=this.req_op(T);return T}maybe_expr(){let s=this.maybe_prim();if(s)return s=this.while_op(s),s}req_id(){const s=this.maybe_id();if(s)return s;St("expecting an ID: "+At(this.current))}maybe_unit(){if(this.is_open_paren()&&this.expect_close_paren())return this.next(),this.next(),new ht("()","expr","()")}maybe_afn(s){const c=()=>{if(!s)return;Ks(s)||(s=[s]);const T=[];return s.forEach(C=>{C.id="id",C.type="pat",T.push(new ht("param","pat",new vu(C)))}),T};if(this.is_thick_arrow()){const T=c();this.next(),this.req_open_curly();const C=this.req_body_ret();this.req_close_curly();const E=new Xs("",T,null,C);return new ht("afn","expr",E)}}maybe_tuple_afn_group(){if(this.is_open_paren()){const s=this.current.loc;if(this.next(),this.is_id()&&this.expect_colon())return this.req_named_tuple();{let c=null;if(c=this.maybe_expr(),c){let T=c;if(this.is_comma()){const C=[T];for(;;){const E=this.is_comma()&&this.expect_close_paren();if(this.is_eof()||this.is_close_paren()||E)break;this.req_comma(),T=this.maybe_expr(),T?C.push(T):St("expected an argument: "+s)}return this.maybe_comma(),this.req_close_paren(),this.maybe_afn(C)||new ht("tuple","expr",C)}else return this.req_close_paren(),this.maybe_afn(c)||(c.grouped=!0,c)}}}}req_named_tuple(){let s=[];for(;!(this.is_eof()||this.is_close_paren());){let c=this.req_id();this.req_colon();let T=this.req_expr();s.push([c,T]),this.optional_comma()}return this.req_close_paren(),new ht("named_tuple","expr",s)}is_prefix_uni_op(){return Gt(Oc,this.current.v)}maybe_prefix_uni_op(){if(this.is_prefix_uni_op()){const s=this.current;this.next();const c=new rn(this.req_prim(),s);return new ht("prefix","expr",c)}}maybe_literal(){let s=this.maybe_primitivel();return s||(s=this.maybe_list()),s||(s=this.maybe_tuple()),s}maybe_primitivel(){let s=this.maybe_bool();return s||(s=this.maybe_char()),s||(s=this.maybe_str()),s||(s=this.maybe_int()),s||(s=this.maybe_float()),s}maybe_bool(){if(this.is_bool()){const s=new ht("bool","expr",this.current);return this.next(),s}}maybe_char(){if(this.is_char()){const s=new ht("char","expr",this.current);return this.next(),s}}maybe_str(){if(this.is_str()){const s=new ht("str","expr",this.current);return this.next(),s}}maybe_int(){if(this.is_int()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("int","expr",[s,c])}}maybe_float(){if(this.is_float()){const s=this.current;this.next();let c;return this.is_id()&&!this.is_newline()&&(c=this.current,this.next()),new ht("float","expr",[s,c])}}maybe_list(){if(this.is_open_bracket()){const s=[];for(this.next(),this.maybe_comma();;){const c=this.is_comma()&&this.expect_close_bracket();if(this.is_eof()||this.is_close_bracket()||c)break;s.length>0&&(this.is_newline()?this.maybe_comma():this.req_comma()),s.push(this.req_expr())}return this.maybe_comma(),this.req_close_bracket(),new ht("[","expr",s)}}maybe_tuple(){if(this.is_open_paren()){const s=[];this.skip(),this.maybe_comma();let c=!1;for(this.is_id&&this.expect_colon()&&(c=!0);;){s.length>0&&this.req_comma();let T;c&&(T=this.req_id(),this.req_colon());let C=this.req_expr();if(c?s.push([T,C]):s.push([C]),this.is_close_paren())break}return this.maybe_comma(),this.req_close_paren(),c?new ht("(:","expr",s):new ht("(","expr",s)}}maybe_call(s){const c=()=>{const S=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let w;this.is_id()&&this.expect_colon()&&(w=this.current,this.next(),this.next());let d;if(w?d=new ht("named_arg","expr",[w,this.req_expr()]):d=this.maybe_expr(),!d)break;S.push(d),this.optional_comma()}return this.req_close_paren(),S}},T=S=>{if(!this.is_open_curly())return;this.next();const w=[];for(;!(this.is_eof()||this.is_close_curly());){const d=this.maybe_expr();if(!d)break;w.push(d),this.optional_comma()}return this.req_close_curly(),w.push(),w},C=c(),E=T();return C||E?new ht("call","expr",[s,C,E]):void 0}req_ref(){const s=this.current;return this.next(),new ht("ref","expr",s)}maybe_call_or_ref(){if(this.is_id()){const s=this.req_ref();return this.maybe_call(s)||s}}maybe_when_arm(){const s=[];for(;!this.is_thin_arrow()&&(s.push(this.req_pat()),this.is_bar());)this.next();this.req_thin_arrow();const c=this.req_expr(),T=new Ac(s,c);return new ht("arm","",T)}maybe_when(){if(!this.is_when())return;this.next(),this.req_open_paren();const s=this.maybe_expr();this.req_close_paren(),this.req_open_curly();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly()||c.length>0&&(this.optional_comma(),this.is_eof()||this.is_close_curly()));){const C=this.maybe_when_arm();if(C)c.push(C);else break}this.maybe_comma(),this.req_close_curly();const T=new Cc(s,c);return new ht("when","expr",T)}maybe_prim(){let s=this.maybe_unit();return s||(s=this.maybe_tuple_afn_group()),s||(s=this.maybe_prefix_uni_op()),s||(s=this.maybe_call_or_ref()),s||(s=this.maybe_literal()),s||(s=this.maybe_when()),s||(s=this.maybe_do_block_ret()),s||(s=this.maybe_ret()),s||(s=this.maybe_semicolon()),s}req_prim(){const s=this.maybe_prim();return s||St("expecting an expression: "+At(this.current)),s}maybe_fn(){if(this.current,!this.is_fn())return;this.next();const s=this.req_fn();return s&&Gt(["main","بدء"],s.v.name.v[1])?new ht("main","fn",s.v):new ht("fn","fn",s.v)}maybe_use(){if(!this.is_use())return;this.next();const s=[];if(!this.is_id())return!1;for(;this.is_id()&&(s.push(this.current),this.next(),this.is_dot());)this.skip(),this.is_id()||St("expecting an idnetifier after "+At(this.current));const c=new ht("use","stmt",s);return this.ast.push(c),!0}maybe_optional(){if(this.is_question())return this.next(),!0}maybe_type(){let s;if(this.is_open_bracket()){this.next();const c=this.req_type();this.req_close_bracket();const T=new du(c,this.maybe_optional());s=new ht("[","t",T)}else if(this.is_open_curly()){this.next();const c=[];for(this.maybe_comma();!(this.is_eof()||this.is_close_curly());){c.length>0&&this.req_comma();const C=this.maybe_id();let E;C&&this.is_colon()&&(this.next(),E=this.req_type());const S=new gu(C,E);c.push(S)}this.maybe_comma(),this.req_close_curly();const T=new kc(c,this.maybe_optional());s=new ht("{","t",T)}else if(this.is_id()){const c=this.req_id();if(this.is_open_angle()){const T=[];for(this.next(),this.maybe_comma();!(this.is_eof()||this.is_close_angle());)T.length>0&&this.req_comma(),T.push(this.req_type());this.maybe_comma(),this.req_close_angle();const C=new Sc(c,T,this.maybe_optional());s=new ht("<","t",C)}else{const T=new du(c,this.maybe_optional());s=new ht("t","t",T)}}return s}req_type(){let s=this.maybe_type();return s||St("type required: "+At(this.current)),s}maybe_tannotation(){if(this.is_colon())return this.next(),this.maybe_type()}req_tannotation(){const s=this.maybe_tannotation();return s||St("requires type annotation: "+At(this.current)),s}maybe_fn_params(){const s=[];if(!this.is_open_paren())return s;for(this.next(),this.maybe_comma();!(this.is_close_paren()||this.is_eof());){s.length>0&&this.req_comma();const c=this.req_pat(),T=this.maybe_tannotation(),C=new vu(c,T),E=new ht("param","pat",C);c.id!=="id"&&St("only parameters with id patterns are currently supported"),s.push(E)}return this.maybe_comma(),this.req_close_paren(),s}maybe_fn_ret_types(){const s=[];if(this.is_thin_arrow())for(this.next();this.is_id();){let c=this.next();this.is_exclamation()?(this.next(),s.push({id:c,_t:"throw"})):s.push({id:c,_t:"ret_type"}),this.optional_comma()}return s}req_fn(){const s=this.req_id();symtab.insert_fn(s.v[1]);const c=this.maybe_fn_params(),T=this.maybe_fn_ret_types();if(this.is_open_curly()){this.next();const C=this.req_body_ret(),E=new Xs(s,c,T,C),S=new ht("fn","fn",E);return this.req_close_curly(),S}else{this.req_asgmt();const C=this.req_body_ret(),E=new Xs(s,c,T,C);return new ht("fn","fn",E)}}maybe_fields(){const s=[];for(;this.is_id();){const c=new ht("id","expr",this.req_id()),T=this.req_tannotation(),C=new gu(c,T),E=new ht("field","",C);if(s.push(E),this.is_close_paren())break;this.optional_comma()}return s}maybe_typedef(){const s=()=>{const d=[];if(this.is_open_paren()){for(this.next();!(this.is_eof()||this.is_close_paren());){let l;this.is_id()&&this.expect_colon()&&(l=this.current,this.next(),this.next());let u;if(l?u=new ht("field","expr",[l,this.req_type()]):u=this.maybe_expr(),!u)break;d.push(u),this.optional_comma()}return this.req_close_paren(),d}},c=()=>{if(!this.is_open_curly())return;this.next();const d=[];for(;!(this.is_eof()||this.is_close_curly());){const l=this.maybe_expr();if(!l)break;d.push(l),this.optional_comma()}return this.req_close_curly(),d.push(),d};if(!this.is_typedef())return;this.next();const T=this.req_id();symtab.symtab_struct(T.v[1]);let C=s()||[];const E=c();if(!(C||E))return;if(E){const d={v:["id","__children"],loc:{line:0,column:0}},l={id:"[",t:"t",v:{t:{id:"t",t:"t",v:{t:{v:["id","any"],loc:{line:0,column:0}}}}}},u=new ht("field","expr",[d,l]);C.push(u)}const S=new xc(T,C,E),w=new ht("type","def",S);return this.ast.push(w),!0}implicit_return(s){if(!s||s.length<=0)return;const c=s.length-1,T=s[c];if(!(Gt(["when","while","if","for","return","let","var","const"],T.id)||T.id==="bin"&&T.v.op.v===":=")&&T.id!==";"&&!(T.id==="bin"&&T.v.op.v==="=")&&!(T.id==="bin"&&T.v.lopr.id==="ref"&&Gt(["println","اطبع_سطر"],T.v.lopr.v.v[1]))&&T.t==="expr"){const C=new ht("iret","expr",T);return vc(s,c,C)}}}const Nu=["readonly"],Dc=["html","body","div","span","p","textarea","field"],Mc=["0","1","2","3","4","5","6","7","8","9"];regexp("\\\\p{L}"),regexp("\\\\p{N}");function Pc(f){return Wc(Mc,f[0])}function Ru(f){if(Pc(f))return f;{let s="",c=0;for(;c<f.length;){switch(f[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:Oe()}c+=1}return s}}function Fu(f){return f instanceof Array}function Wc(f,s){return f.includes(s)}function Ke(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function Oe(f){throw new Error(f)}function Du(f,s,c){switch(f.id){case"call":let T=f.v[0].v.v[1],C=f.v[1]||[],E=f.v[2]||[];if(T==="br")return s+="<br>";switch(T){case"select":s=Ic(C,s)+"} ";break;case"font_face":s=zc(C,s);break;case"keyframes":s=Hc(C,E,s);break;default:s+=\`<\${T}\`,C.forEach((S,w)=>{if(w===0&&S.id==="str")s+=\` id='\${S.v.v[1]}'\`;else if(S.id==="named_arg"){const d=S.v[0].v[1];if(Nu.includes(d))s+=\` \${d} \`;else if(s+=\` \${d}= \`,S.v[1].id==="str")s+=\`'\${S.v[1].v.v[1]}'\`;else if(S.v[1].id==="int"||S.v[1].id==="float"){const l=S.v[1].v[0].v[1],u=S.v[1].v[1].v[1]||"";s+=\`\${l}\${u}\`}else S.v[1].id==="bool"?s+=\`\${d}\`:Oe("not supported: "+Ke(S))}else Oe("not supported: "+Ke(S))}),s+=">",E.forEach(S=>{s=Du(S,s)}),s+=\`</\${T}>\`}break;case"str":s+=f.v.v[1];break;default:Oe("unknown html element: "+Ke(f))}return s}function Ic(f,s){return f.forEach(c=>{const T=Sn(c.v[0].v[1]),C=c.v[1];T==="element"?(s=Bc(C,s),s+=" {"):(s+=\`\${T} : \`,s=xn(C,s),s+="; ")}),s}function Bc(f,s){return Fu(f.v)?(s+=" ",f.v.forEach((c,T)=>{s+=\`\${c.v.v[1]} \`,T<f.v.length-1&&(s+=",")})):s+=\` \${f.v.v[1]}\`,s}function xn(f,s){switch(f.id){case"int":case"float":const c=f.v[0].v[1],T=f.v[1]&&f.v[1].v[1]||"";s+=c+T;break;case"prefix":s+=f.v.op.v,s=xn(f.v.opr,s);break;case"postfix":s=xn(f.v.opr,s),s+=f.v.op.v;break;case"str":s+=f.v.v[1];break;case"ref":s+=Sn(f.v.v[1]);break;case"tuple":f.v.forEach(d=>{s=xn(d,s+" ")});break;case"call":const C=f.v[0].v.v[1],E=f.v[1];s+=\` \${C}(\`,E.forEach(d=>{s=xn(d,s)}),s+=")";break;case"bin":const S=new JSGen;S.init(),S.write_expr(f);const w=S.get_code();pprint(w),s+="\${"+w+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(f)}\`)}return s}function zc(f,s){return s+="@font-face { ",s=write_ar_css(f,s),s+="}",s}function Hc(f,s,c){return c+=\` @keyframes \${f[0].v.v[1]} { \`,s&&s.forEach(T=>{const C=T.v[0].v.v[1],E=T.v[1];switch(C){case"at":const S=E[0],w=E[1].v||[];c=xn(S,c),c+=" {",w.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=Sn(l[0].v[1]),_=l[1];c+=\` \${u} : \`,c=xn(_,c),c+="; "});else{const l=Sn(d[0].v[1]),u=d[1];c+=\` \${l} : \`,c=xn(u,c),c+="; "}}),c+="} ";break;default:Oe("unsupported element: "+Ke(C))}}),c+="}",c}const Js={صفحة_الشبكة:"html",راس:"head",نسق:"style",متن:"body",منطقة_النص:"textarea",عنوان_راسي٣:"h3",قسم:"div",سطر:"br"},bu=f=>{switch(f){case"صنف":return"class";case"اعمدة":return"cols";case"صفوف":return"rows";case"للقراءة_فقط":return"readonly";default:return f}},yu={حوم:"hover"},qc=f=>{switch(f){case"عند":return"at";case"ازاحة_س":return"translateX";case"عنوان":return"url";default:return f}},Mu=f=>{switch(f){case"ع_ص":return"px";case"ع_ط":return"vh";case"م_ج":return"rem";case"ث":return"s";case"٪":return"%";default:return f}},Vs=f=>{switch(f){case"عنصر":return"element";case"عرض":return"width";case"ادنى_عرض":return"min_width";case"ارتفاع":return"height";case"ادنى_ارتفاع":return"min_height";case"لون":return"color";case"اتجاه":return"direction";case"خلفية":return"background";case"لون_الخلفية":return"background_color";case"صورة_الخلفية":return"background_image";case"موقع_الخلفية":return"background_position";case"تكرار_الخلفية":return"background_repeat";case"ارفاق_الخلفية":return"background_attachment";case"ملائمة_العنصر":return"object_fit";case"حجم_الخلفية":return"background_size";case"_آبل_حجم_الخلفية":return"_webkite_background_size";case"فائض":return"overflow";case"عتامة":return"opacity";case"اظهار":return"display";case"هامش":return"margin";case"هامش_علوي":return"margin_top";case"هامش_سفلي":return"margin_bottom";case"هامش_ايمن":return"margin_right";case"هامش_ايسر":return"margin_left";case"بطانة":return"padding";case"تحجيم_الصندوق":return"box_sizing";case"ضبط_المحتوى":return"justify_content";case"ضبط_العناصر":return"justify_items";case"ضبط_النص":return"text_justify";case"محاذاة_العناصر":return"align_items";case"محاذاة_النص":return"text_align";case"حجم_الخط":return"font_size";case"فصيلة_الخط":return"font_family";case"فجوة":return"gap";case"حدود":return"border";case"قطر_الحدود":return"border_radius";case"نسق_الحدود":return"border_style";case"حدود_خارجية":return"outline";case"موضع":return"position";case"تحريك":return"animation";case"تحول":return"transform";case"اعادة_تحجيم":return"resize";case"مصدر":return"src";case"نسبة_س_ص":return"aspect_ratio";case"مرن_باتجاه":return"flex_direction";case"شريط_التمرير_عرض":return"scrollbar_width";case"قدرة_اختيار_النص":return"user_select";case"_مايكروسوفت_قدرة_اختيار_النص":return"_ms_user_select";case"_آبل_قدرة_اختيار_النص":return"_webkit_user_select";case"_موزيلا_قدرة_اختيار_النص":return"_moz_user_select";case"خيال_الصندوق":return"box_shadow";case"_آبل_خيال_الصندوق":return"_webkit_box_shadow";case"_موزيلا_خيال_الصندوق":return"_moz_box_shadow";default:return f}},Qi=f=>{switch(f){case"تلقائي":return"auto";case"حدود_الصندوق":return"border_box";case"بلا_قيمة":return"none";case"مطلق":return"absolute";case"مرن":return"flex";case"مخفي":return"hidden";case"مركز":return"center";case"مسافة_بين":return"space_between";case"بداية":return"start";case"نهاية":return"end";case"بارز":return"ridge";case"لا_نهاية":return"infinite";case"لا_تكرار":return"no_repeat";case"احتواء":return"contain";case"قطع":return"clip";case"ضعف":return"double";case"ضبط":return"justify";case"بين_الكلمات":return"inter_word";case"مهم":return"important";case"غير_مهم":return"!important";case"مثبت":return"fixed";case"من_اليمين":return"rtl";case"عمودي":return"column";case"افقي":return"row";case"سماوي_فاتح":return"lightskyblue";case"ابيض":return"white";case"اصفر":return"yellow";case"اسود":return"black";case"برتقالي":return"orange";default:return f}},Pu=f=>{switch(f){case"متن":return"body";case"صفحة_الشبكة":return"html";default:return f}};function Wu(f,s,c){switch(f.id){case"call":const T=f.v[0].v.v[1],C=Js[T]||T,E=f.v[1]||[],S=f.v[2]||[];if(C==="br")return s+="<br>";switch(C){case"اختر":s=Iu(E,s)+"} ";break;case"عرف_خط":s=Uc(E,s);break;case"اطارات_رئيسية":s=Kc(E,S,s);break;default:s+=\`<\${C}\`,Dc.includes(C)&&(s+=" dir='rtl'"),E.forEach((w,d)=>{if(d===0&&w.id==="str")s+=\` id='\${w.v.v[1]}'\`;else if(w.id==="named_arg"){const l=bu(w.v[0].v[1]);if(Nu.includes(l))s+=\` \${l} \`;else if(s+=\` \${l}= \`,w.v[1].id==="str")s+=\`'\${w.v[1].v.v[1]}'\`;else if(w.v[1].id==="int"||w.v[1].id==="float"){const u=Ru(w.v[1].v[0].v[1]),_=w.v[1].v[1]&&Mu(w.v[1].v[1].v[1])||"";s+=\`\${u}\${_}\`}else w.v[1].id==="bool"?s+=\`\${bu(l)}\`:Oe("not supported: "+Ke(w))}else Oe("not supported: "+Ke(w))}),s+=">",S.forEach(w=>{s=Wu(w,s)}),s+=\`</\${C}>\`}break;case"str":s+=f.v.v[1];break;default:Oe("unknown html element: "+Ke(f))}return s}function Iu(f,s){return f.forEach(c=>{const T=Sn(Vs(c.v[0].v[1])),C=c.v[1];T==="element"?(s=jc(C,s),s+=" {"):(s+=\`\${T} : \`,s=kn(C,s),s+="; ")}),s}function jc(f,s){const c=T=>{const C=E=>RegExp(\`(?<![p{L}\\\\p{N}_])\${E}(?![\\\\p{L}\\\\p{N}_])\`,"ug");return Object.keys(Js).forEach(E=>{T=T.replaceAll(C(E),Js[E])}),Object.keys(yu).forEach(E=>{T=T.replaceAll(C(E),yu[E])}),T};if(Fu(f.v))s+=" ",f.v.forEach((T,C)=>{let E=T.v.v[1];s+=c(E),C<f.v.length-1&&(s+=",")});else{const T=f.v.v[1];s+=c(T)}return s}function kn(f,s){switch(f.id){case"bool":Oe();break;case"int":case"float":const c=Ru(f.v[0].v[1]),T=Mu(f.v[1]&&f.v[1].v[1])||"";s+=c+T;break;case"prefix":s+=f.v.op.v,s=kn(f.v.opr,s);break;case"postfix":s=kn(f.v.opr,s),s+=f.v.op.v;break;case"str":s+=Pu(f.v.v[1]);break;case"ref":s+=Sn(Qi(f.v.v[1]));break;case"tuple":f.v.forEach(w=>{s=kn(w,s+" ")});break;case"call":const C=qc(f.v[0].v.v[1]),E=f.v[1];s+=\` \${C}(\`,E.forEach(w=>{s=kn(w,s)}),s+=")";break;case"bin":jsGen.init(),jsGen.write_expr(f);const S=jsGen.get_code();s+="\${"+S+"}".trim();break;default:Oe(\`not supported: html generations:  \${Ke(f)}\`)}return s}function Uc(f,s){return s+="@font-face { ",s=Iu(f,s),s+="}",s}function Kc(f,s,c){return c+=\` @keyframes \${f[0].v.v[1]} { \`,s&&s.forEach(T=>{const C=T.v[0].v.v[1],E=Qi(T.v[1]);switch(C){case"عند":const S=E[0],w=E[1].v||[];c=kn(S,c),c+=" {",w.forEach(d=>{if(d.id==="named_tuple")d.v.forEach(l=>{const u=Sn(Vs(l[0].v[1])),_=Qi(l[1]);c+=\` \${u} : \`,c=kn(_,c),c+="; "});else{const l=Sn(Vs(d[0].v[1])),u=Qi(d[1]);c+=\` \${l} : \`,c=kn(u,c),c+="; "}}),c+="} ";break;default:Oe("unsupported element: "+Ke(C))}}),c+="}",c}class Gc{write_html;write_ar_html;CSS_value_en;CSS_str_en;constructor(){this.write_html=Du,this.write_ar_html=Wu,this.CSS_value_en=Qi,this.CSS_str_en=Pu}}function Sn(f){return HYPHENATED.includes(f)?f.replaceAll("_","-"):f}const Xc=["0","1","2","3","4","5","6","7","8","9"];regexp("\\\\p{L}"),regexp("\\\\p{N}");function \$c(f){return Bu(Xc,f[0])}function wu(f){if(\$c(f))return f;{let s="",c=0;for(;c<f.length;){switch(f[c]){case"٠":s+="0";break;case"١":s+="1";break;case"٢":s+="2";break;case"٣":s+="3";break;case"٤":s+="4";break;case"٥":s+="5";break;case"٦":s+="6";break;case"٧":s+="7";break;case"٨":s+="8";break;case"٩":s+="9";break;case",":s+=".";break;default:wn()}c+=1}return s}}function Yc(f){return f instanceof Array}function Bu(f,s){return f.includes(s)}function In(f,s){let c=[];const T=(C,E)=>{if(E&&typeof E=="object"){if(c.includes(E))return"[CIRCULAR]";c.push(E)}return E};return s?JSON.stringify(f,T,s):JSON.stringify(f,T)}function wn(f){throw new Error(f)}function Qc(f,s){return f.repeat(s)}const Zc=\`
//------------------------------------------------------------------------------
// js helper functions injected to workaround missing seen features that are yet to be added.
function is_none(x) { return x == null }        
function is_list(x) { return x instanceof Array }
function replace(array, i, v) {  array[i] = v }
function to_int(str) { return parseInt(str) }
function assign(x,y) { x = y }
function concat(x,y,id) { x[id] = x[id].concat(y[id]) }
function del(array, i) { delete array[i] }
function regexp(expr) { return RegExp(expr, 'ug') }
function match_regexp(v, expr) {return expr.exec(v) }
function print(v) { throw new Error('print() is not implemeted')}
function اطبع_سطر(v) { println(v) }
function println(v) {         
    if(v == null ) { console.log("undefined") } else { console.log(v) }
}
function panic(v) { throw new Error(v)}
function clone(obj) { return {...obj} }
function contains(list, el) { return list.includes(el) }
function is_empty(list) { return Array.isArray(list) && list.length === 0 }
function اطبع_تفاصيل(obj, indent) { pprint(obj, indent) }
function pprint(obj, indent) { 
    if( obj == null ) {
        console.log("undefined")
    } else {
        if(indent) {
            console.log(JSON.stringify(obj, null, indent)) 
        } else {
            console.log(JSON.stringify(obj)) 
        }       
    }
}
function to_str(obj, indent) { 
let objects = []
function eliminateCircular(k, v) {
    if (v && typeof v === 'object') {
        if (objects.includes(v)) { return "[CIRCULAR]" } else { objects.push(v) }
    }
    return v
}
if(indent) {
    return JSON.stringify(obj, eliminateCircular, indent)
} else {
    return JSON.stringify(obj, eliminateCircular)
}
}
function repeat(str, times) { return str.repeat(times) }
function c0_to_uppercase(str){ return str.charAt(0).toUpperCase() + str.slice(1) }
function to_lowercase(str) {return str.toLowerCase()}
function عرض_اولي(code, preview_id){ preview(code, preview_id) }
function preview(code, preview_id) { window.parent.document.querySelector(preview_id).srcdoc = code }
function هات_الافرع(س) {
    return س.__children
}
function اختر(س,دالة) {
    return س.filter(دالة)
}
function هات(ق,فهرس) { return ق[فهرس]}
function عدد_العناصر(ق) { return ق.length}
async function read_url(url) {
    const response = await fetch(url);
    return response.text()
}

//------------------------------------------------------------------------------
\`,xu={بدء:"main",اطبع_سطر:"println",تعبير_نمطي:"regex",هذا:"this",مشيّد:"constructor",انهاء:"panic"},Jc=4;class Hr{current;indent_level;stack;astructs;ast;symtab;html_gen;main_args;opts;constructor(s,c,T,C,E,S,w,d){return this.current=s,this.indent_level=c,this.stack=T,this.astructs=C,this.ast=E,this.symtab=S,this.html_gen=w,this.opts=d,this}init(s,c,T,C,E){this.current="",this.indent_level=0,this.stack=[],this.astructs=[],this.ast=s,this.symtab=c,this.html_gen=T,this.main_args=C,this.opts=E}run(){this.strict_mode();let s,c=0;for(;c<this.ast.length;){const T=this.ast[c];if(T){const C=T.v;switch(T.id){case"use":this.write_use(C);break;case"modif":this.write_modifier(C);break;case"main":s=C;break;case"const":this.write_const(C);break;case"fn":this.write_fn(C);break;case"type":this.write_typedef(C);break;default:wn("unsupported node: "+this.ast[c].id)}}c+=1}return this.write_helper_fns(),s&&this.write_main(s),this.get_code()}to_en_id(s){!s.v&&!Yc(s.v)||xu[s.v[1]]&&(s.v[1]=xu[s.v[1]])}push(){this.stack.push(this.current),this.current=""}pop(){this.current=this.stack.pop()+this.current}pop_prepend(){this.current=this.current+this.stack.pop()}append(s){this.current+=s}appendi(s){this.current+=this.spaces(),this.current+=s}spaces(s){return s||(s=this.indent_level),Qc(" ",s*Jc)}strict_mode(){this.append(\`"use strict";

\`)}write_id_pat(s){const c=s.v.v[1];this.append(c==="_"?"default":c)}write_char_pat(s){this.append("'"+s.v.v[1]+"'")}write_str_pat(s){this.append('"'+s.v.v[1]+'"')}write_tuple_pat(s){this.append("(");let c=0;for(;c<s.v.length;)this.write_pat(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append(")")}write_pat(s){switch(s.id){case"id":this.write_id_pat(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v.v[1][0]));break;case"char":this.write_char_pat(s);break;case"str":this.write_str_pat(s);break;case"tuple":this.write_tuple_pat(s);break;case"_":this.append("default");break;default:wn("unsupported pattern "+In(s))}}write_modifier(s){this.opts.ignore_export||s.v==="+"&&this.appendi("export ")}write_use(s){}write_main(s){this.push(),this.appendi("("),this.write_fn(s,this.main_args),this.appendi(\`)()
\`),this.pop()}write_params(s){this.append("(");let c=0;for(;c<s.length;)c>0&&this.append(", "),this.write_pat(s[c].v._pat),c+=1;this.append(")")}write_do_block(s){this.append("(()=>"),this.write_block(s),this.append(\`)() 
\`)}write_block(s){this.append(\` {
\`),this.push(),this.indent_level+=1;let c=0;const T=s.v.length;for(;c<T;){const C=s.v[c];this.write_stmt(C),c+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_fn(s,c){this.push(),s.t==="fn"&&this.appendi("static "),this.to_en_id(s.name),this.append("function "+s.name.v[1]),c?this.append("()"):this.write_params(s.params),this.write_body(s.body,s.name==="main",c),this.pop()}write_fields(s){const c=[];s.forEach(T=>{const C=T.v[0].v[1];c.push(C)}),c.forEach(T=>{this.appendi(this.spaces()+""+T+\`
\`)}),this.write_init(c)}write_init(s){this.append(\`
\`),this.appendi("constructor(");let c=0;for(;c<s.length;)this.append(s[c]),c<s.length-1&&this.append(", "),c+=1;for(this.append(\`) {
\`),this.indent_level+=1,c=0;c<s.length;)this.appendi("this."+s[c]+" = "+s[c]+\`
\`),c+=1;this.appendi(\`return this
\`),this.indent_level-=1,this.appendi(\`}
\`)}write_typedef(s){this.appendi("class "+s.name.v[1]+\` {
\`),this.indent_level+=1,s.fields&&this.write_fields(s.fields),this.indent_level-=1,this.appendi(\`}

\`)}write_const(s){this.appendi("const "),this.write_pat(s.lhs),this.append(" = "),this.write_expr(s.rhs),this.append(\`
\`)}write_var(s){this.appendi("let "),this.write_pat(s.lhs),s.rhs&&(this.append(" = "),this.write_expr(s.rhs)),this.append(\`
\`)}write_ret(s){this.append("return "),s.v&&this.write_expr(s.v)}write_break(s){this.append("break")}write_stmt(s){s.t==="expr"?(this.appendi(""),this.write_expr(s),this.append(\`
\`)):s.id==="const"?this.write_const(s.v):s.id==="var"?this.write_var(s.v):s.id==="break"?this.write_break(s):wn("cannot write stmt: "+In(s))}write_body(s,c,T){if(this.append(\` {
\`),this.push(),this.indent_level+=1,T)for(const[S,w]of Object.entries(T))this.append(\`const \${S} = '\${w}'
\`);let C=0;const E=s.v.length;for(;C<E;){const S=s.v[C];this.write_stmt(S),C+=1}this.pop(),this.indent_level-=1,this.appendi(\`}
\`)}write_id(s){this.append(s.v[1])}write_ref(s){const c=s.v.v[1];this.append(c)}write_str(s){const c=s.v.v[1],T=c.indexOf("\${")===-1?'"':"\`";this.append(T+c+T)}write_str_id(s){this.append(symbol+s.v.v[1]+symbol)}is_call(s){return s.v.id==="bin"&&s.v.v.op.v==="("}write_iret(s){Bu(["when","while","if","for","return"],s.v.node)||s.v.t==="()"||this.is_call(s)||s.semicolon||this.append("return "),this.is_call(s)?(this.append("const temp_seen_var = "),this.write_expr(s.v),this.append(\`
\`),this.append("return temp_seen_var")):this.write_expr(s.v)}write_list(s){this.append("[");let c=0;const T=s.v.length;for(;c<T;)this.write_expr(s.v[c]),c<s.v.length-1&&this.append(", "),c+=1;this.append("]")}write_structl(s){const c=s.v;this.append("{");let T=0;for(;T<c.length;){const C=c[T],E=C.k;E.v.v[1]?this.write_id(E.v):this.write_str_id(E.v);const S=C.v;this.append(": "),this.write_expr(S),T<c.length-1&&this.append(", "),T+=1}this.append("}")}write_args(s){this.append("(");let c=0;for(;c<s.v.length;){let T=s.v[c];T.v.op&&T.v.op.v===":"&&(T=T.v.ropr),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append(")")}write_named_arg(s){s.v[0].v[1];const c=s.v[1];this.write_expr(c)}write_tuple(s){this.append("[");let c=0;for(;c<s.v.length;){let T=s.v[c];T.id==="narg"&&(T=s.v[c].v[1]),this.write_expr(T),c<s.v.length-1&&this.append(", "),c+=1}this.append("]")}write_named_tuple(s){this.append("{"),s.v.forEach((c,T)=>{const C=c[0].v[1],E=c[1];this.append(C),this.append(": "),this.write_expr(E),T<s.v.length&&this.append(",")}),this.append("}")}write_when(s){this.appendi("switch("),this.write_expr(s.v.expr),this.append(\`) {
\`),this.indent_level+=1;let c=0;for(;c<s.v.arms.length;){const T=s.v.arms[c],C=T.v.pats,E=T.v.expr;let S=0;for(;S<C.length;)C[S].id!=="_"&&this.appendi("case "),this.write_pat(C[S]),this.append(\` :
\`),S+=1;this.indent_level+=1,this.appendi(""),this.write_expr(E),this.append(\`
\`),this.appendi(\`break
\`),this.indent_level-=1,c+=1}this.indent_level-=1,this.appendi(\`}
\`)}write_prefix_uni(s){const c=s.v.op.v;switch(c){case".":if(s.v.opr.v.v[1]==="none"){this.append("null");return}else wn("enum variants are not supported, found : (."+s.v.opr.v.v[1]+")");break;case"not":this.append("!");break;case"!":case"-":this.append(c);break;default:wn("unsupported op: "+c);break}this.write_expr(s.v.opr)}write_pipe(s){for(;s.length>0;){let c=s.pop();switch(c.id){case"ref":this.write_expr(c),s.length>0&&(this.append("("),this.write_pipe(s),this.append(")"));break;case"call":const T=c.v[0],C=c.v[1];this.write_expr(T),this.append("("),this.write_pipe(s),this.current.slice(-1)!=="("&&C.length>0&&this.append(", "),C.forEach((E,S)=>{this.write_expr(E),S<C.length-1&&this.append(", ")}),this.append(")");break;case"int":case"float":case"str":case"[":case"tuple":case"named_tuple":this.write_expr(c);break;default:throw new Error("syntax error |> :"+In(c))}}}write_call(s){if(this.to_en_id(s.v[0].v),s.v[0].v.v[1]==="html"){const T=html_gen.write_html(s,"",Hr());this.append(\` (() => \\\`\${T}\\\`)() \`);return}else if(s.v[0].v.v[1]==="صفحة_الشبكة"){const T=html_gen.write_ar_html(s,"",Hr());this.append(\`(() => \\\`\${T}\\\`)()\`);return}else symtab.structs.includes(s.v[0].v.v[1])&&this.append("new ");this.write_expr(s.v[0]),this.append("(");const c=s.v[1];c&&c.forEach((T,C)=>{this.write_expr(T),C<c.length-1&&this.append(", ")}),s.v[2]&&(c&&this.append(", "),this.write_children(s.v[2])),this.append(")")}write_children(s){!s||s.length===0||(this.append("["),s.forEach(c=>{this.write_expr(c),this.append(",")}),this.append("]"))}write_bin(s){const c=s.v.op.v;switch(c){case"[":this.write_expr(s.v.lopr),this.append("["),this.write_expr(s.v.ropr),this.append("]");break;case"=":this.write_expr(s.v.lopr),this.append("="),this.write_expr(s.v.ropr);break;case":=":this.append("let "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case"::":this.appendi("const "),this.write_expr(s.v.lopr),this.append(" = "),this.write_expr(s.v.ropr),this.append(\`
\`);break;case":":this.appendi("let "),this.write_expr(s.v.lopr),this.append(\`
\`);break;case"|>":{let T=[],C=s.v.lopr,E=s.v.ropr;for(;;)if(T.push(C),E.id==="bin"&&E.v.op.v==="|>")C=E.v.lopr,E=E.v.ropr;else{T.push(E);break}this.write_pipe(T);break}case"||>":throw new Error(" ||> : WIP , "+In(s));case":>":throw new Error(" :> : WIP , "+In(s));case"==":case"!=":case"<":case"<=":case">":case">=":case"|":case"||":case"&":case"&&":case"+":case"-":case"/":case"*":case"+=":case"-=":case"*=":case"\\\\=":case".":this.write_expr(s.v.lopr),this.append(c),(c==="=="||c==="!=")&&this.append("="),this.write_expr(s.v.ropr);break;default:wn("cannot write binary operation: "+In(s));break}}write_afn(s){this.push(),this.write_params(s.v.params),this.append("=>"),this.write_body(s.v.body),this.pop()}write_expr(s){switch(s.grouped&&this.append("("),s.id){case"()":break;case";":break;case"ref":this.write_ref(s);break;case"bool":this.append(s.v.v[1]);break;case"int":case"float":this.append(wu(s.v[0].v[1]));break;case"char":this.append("'"+s.v.v[1]+"'");break;case"str":this.write_str(s);break;case"return":this.write_ret(s);break;case"iret":this.write_iret(s);break;case"[":this.write_list(s);break;case"{":this.write_structl(s);break;case"args":this.write_args(s);break;case"named_arg":this.write_named_arg(s);break;case"tuple":this.write_tuple(s);break;case"named_tuple":this.write_named_tuple(s);break;case"when":this.write_when(s);break;case"do_block":this.write_do_block(s);break;case"block":this.write_block(s);break;case"prefix":this.write_prefix_uni(s);break;case"call":this.write_call(s);break;case"bin":this.write_bin(s);break;case"afn":this.write_afn(s);break;default:wn("cannot write expr: "+In(s))}s.grouped&&this.append(")")}write_helper_fns(){this.append(Zc)}get_code(){return this.current}}class Vc{run(s,c,T,C){const E=Gc(),S=Hr();return S.init(s,c,E,T,C),S.run()}}class tf{ast;symtab;main_args;target;target_opts;init(s,c,T,C,E){this.ast=s,this.symtab=c,this.main_args=T,this.target=C,this.target_opts=E}run(){let s;switch(mc(this.target)){case"js":s=new Vc;break;default:St('target "'+this.target+'" is not supported');break}return s.run(this.ast,this.symtab,this.main_args,this.target_opts)}}class ef{src;main_args;target;target_opts;lang;tokens;ast;symtab;gen_code;constructor(s,c,T,C,E,S,w,d,l,u){return this.src=s,this.main_args=c,this.target=T,this.target_opts=C,this.lang=E,this.tokens=S,this.ast=w,this.symtab=d,this.transltab=l,this.gen_code=u,this}init(s,c,T,C){this.src=s,this.main_args=c,this.target="js",this.target_opts=C||{},this.lang=T||"en"}init_ar(s,c,T){this.init(s,c,"ar",T)}get_code(){return this.gen_code||this.compile(),this.gen_code}compile(){this.scan(!0),this.parse(),this.generate(this.target)}scan(s){const c=new yc;c.init(this.lang,this.src,s),c.run(),this.tokens=c.tokens,Zs(c.errs)||(_u(c.errs),St(""))}parse(){const s=new Fc;s.init(this.tokens),s.run(),this.ast=s.ast,this.symtab=s.symtab,Zs(s.errs)||(_u(s.errs),St(""))}generate(s){const c=new tf;c.init(this.ast,this.symtab,this.main_args,s,this.target_opts),this.gen_code=c.run()}}const ku="panda-syntax",nf="ttcn_modified",rf=["mode","lang","theme","statusbar"],sf={lang:"en",mode:"code",theme:"light",output:!1,toolbar:!1,readonly:!0,statusbar:!0,copy:!1},af={lang:"en",mode:"editor",theme:"light",output:!0,toolbar:!0,readonly:!1,statusbar:!0,copy:!1},qr=window.opts,Su=qr.mode||"code";let ci;switch(Su){case"code":ci=sf;break;case"editor":ci=af;break;default:throw new Error("invalid mode! : "+Su)}let of=new URLSearchParams(window.location.search).get("lang"),ta=of||qr.lang;Object.keys(qr).forEach(f=>{if(!rf.includes(f))throw new Error("invalid option: "+f);ci[f]=qr[f]});window.console.log=f=>Zi(f);window.console.error=f=>{ff(),Zi(f.message,Eu)};const Eu="rgb(217 83 77)",uf="rgb(108 141 211)",lf={indent_size:"4",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!1,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1},hf={"Ctrl-9":f=>f.foldCode(f.getCursor()),Tab:()=>xf(),"Shift-Tab":()=>kf(),"Ctrl-'":()=>{wf("«»")},"Ctrl-0":()=>{ca()},"Ctrl-=":()=>{Uu()},"Ctrl--":()=>{Ku()}},zu=["findCtrl"],Tu=document.querySelector("#eval"),Hu=document.querySelector("#preview_area"),cf=new MutationObserver((f,s)=>{ea?ea=!1:Af()});cf.observe(Hu,{characterData:!1,childList:!0,attributes:!0});const Yt=CodeMirror.fromTextArea(document.querySelector("#code"),{lineNumbers:!0,lineWrapping:!0,direction:jr(ta),scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumberFormatter:fa(jr(ta)),extraKeys:{...hf},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:zu}),Bn=CodeMirror.fromTextArea(document.querySelector("#target_code"),{lineNumbers:!0,lineWrapping:!0,direction:"ltr",scrollbarStyle:"simple",indentUnit:4,tabSize:4,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,mode:"javascript",lineNumberFormatter:fa("ltr"),foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],commands:zu});Bn.setSize(460);let zr={},qu,oa,fi,an,\$s,ea;function ff(){return!!navigator.userAgentData}function jr(f){return f==="ar"?"rtl":"ltr"}const Cu={ar:\`دل بدء {
    اطبع_سطر(«السلام عليكم!»)  
  }\`,en:\`fn main { 
    println('hello world') 
  }\`};await _f(ta);await Df();async function _f(f){qu=f==="ar_m",oa=f.startsWith("ar");let s=f.startsWith("ar")?"ar":"en";fi=14,an=s,\$s="",ea=!0,document.querySelector("#right_side").style.display="none",document.querySelector("#preview").style.display="none",document.querySelector("body").style.visibility="hidden",await vf(s),document.querySelector("#left_side_label").innerText=an==="ar"?"س":"seen",document.querySelector("#preview_label").innerText=an==="ar"?"العرض الأولي":"Preview",la(fi),mf(s),yf(s),cc(lc,s),fc(hc,s),Tf(s),Yt.setValue(s==="ar"?Cu.ar:Cu.en),Yt.clearHistory(),bf(s),ju(1,1),\$s&&openProj(\$s),await ua(ci.theme),pf()&&gf(),ci.statusbar||df(),document.querySelector("body").style.visibility="visible"}function pf(){return ci.mode==="code"}function df(){document.querySelector("#status_bar").setAttribute("style","display: none;")}function gf(){document.querySelector("#output_container").setAttribute("style","display: none;"),document.querySelector("#editor_toolbar").setAttribute("style","display: none;"),document.querySelector("#left_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#right_side_titlebar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#tabs_toolbar").setAttribute("style","display: none;"),document.querySelector("#side_by_side").setAttribute("style","margin-top: 0;")}async function vf(f){an=f}async function mf(f,s){f==="ar"?(s=s===void 0?"محرر س":s,document.title=s):(s=s===void 0?"Seen Editor":s,document.title=s)}async function bf(f){f==="ar"&&(document.querySelector("#left_side_label").innerText="س",document.querySelector("#left_side_label").style.fontSize="17px",document.querySelector("#left_side_label").style.marginLeft="0px",document.querySelector("#left_side_label").style.marginRight="5px",document.querySelector("#right_side_label").style.marginLeft="0px",document.querySelector("#right_side_label").style.marginRight="5px",document.querySelector("#right_side_close").style.cssFloat="left",document.querySelector("#right_side_toolbar").style.cssFloat="left",document.querySelector("#preview_label").style.marginLeft="0px",document.querySelector("#preview_label").style.marginRight="5px",document.querySelector("#preview_close").style.cssFloat="left")}async function yf(f){let s=jr(f);Yt.setOption("direction",s),document.querySelector("html").setAttribute("dir",s),document.querySelector("#container").setAttribute("dir",s),document.querySelector("#editor_output").setAttribute("dir",s),document.querySelector("#preview").setAttribute("dir",s),document.querySelector("#preview_area").setAttribute("dir",s),document.querySelector("#output").setAttribute("dir",s),document.querySelector("#status_bar").setAttribute("dir",s),document.querySelector("#status_bar").style.textAlign=s==="rtl"?"left":"right"}function ju(f,s){document.querySelector("#status_bar").textContent=an==="ar"?\`سطر \${Ys(f)}, عمودي \${Ys(s)}\`:\`Ln \${f}, Col \${s}\`}function wf(f){let s=f;if(oa){const c=Yt.doc.getCursor(),T=c.line;Yt.doc.replaceRange(s,c),Yt.doc.setCursor(T,c.ch+s.length)}else return CodeMirror.Pass}function xf(){if(Yt.somethingSelected()){var f=Yt.getSelection(\`
\`);if(f.length>0&&(f.indexOf(\`
\`)>-1||f.length===Yt.getLine(Yt.getCursor().line).length))return Yt.indentSelection("add"),CodeMirror.Pass}var s=Array(Yt.getOption("indentUnit")+1).join(" ");Yt.replaceSelection(s)}function kf(){Yt.indentSelection("subtract")}function Uu(){fi++,la(fi)}function Ku(){fi--,la(fi)}async function Sf(){let f=document.querySelector("#theme"),s=f.options[f.selectedIndex].value;await ua(s)}async function ua(f){f==="dark"?(f=ku,document.querySelector("#theme").value=ku):f==="light"&&(f=nf,document.querySelector("#theme").value="ttcn");const s=(T,C)=>{[...T.classList].forEach(E=>{E.startsWith("cm-s")&&T.classList.remove(E)}),C.split(" ").forEach(E=>{T.classList.add(\`cm-s-\${E}\`)})};Yt.setOption("theme",f),Bn.setOption("theme",f),s(document.querySelector("#wrapper"),f),s(document.querySelector("#editor_output"),f),s(document.querySelector("#output"),f),Ef();const c=window.getComputedStyle(document.querySelector("#run")).getPropertyValue("color");document.querySelector("#theme").style.backgroundImage=\`url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='\${c}'%20d='M512%20256c0%20.9%200%201.8%200%202.7c-.4%2036.5-33.6%2061.3-70.1%2061.3L344%20320c-26.5%200-48%2021.5-48%2048c0%203.4%20.4%206.7%201%209.9c2.1%2010.2%206.5%2020%2010.8%2029.9c6.1%2013.8%2012.1%2027.5%2012.1%2042c0%2031.8-21.6%2060.7-53.4%2062c-3.5%20.1-7%20.2-10.6%20.2C114.6%20512%200%20397.4%200%20256S114.6%200%20256%200S512%20114.6%20512%20256zM128%20288a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm0-96a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064zM288%2096a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200zm96%2096a32%2032%200%201%200%200-64%2032%2032%200%201%200%200%2064z'/%3e%3c/svg%3e")\`}function Ef(){const f=document.querySelector("#status_bar"),s=window.getComputedStyle(document.querySelector("#output"));f.style.fontSize=s.getPropertyValue("font-size"),f.style.color=s.getPropertyValue("color"),f.style.backgroundColor=s.getPropertyValue("background-color")}function la(f){let s=document.querySelectorAll(".CodeMirror");s=[...s,...document.querySelectorAll("button")],s.push(document.querySelector("#status_bar")),s.forEach(c=>{c.style.fontSize=\`\${f}px\`})}function Tf(f){const s=f==="ar"?"seen-ar":"seen-en";Yt.setOption("mode",s)}function Cf(){document.querySelector("#right_side").style.display="flex"}function ha(){document.querySelector("#right_side").style.display="none"}function Af(){document.querySelector("#preview").style.display="flex"}function Kr(){document.querySelector("#preview").style.display="none"}function Gu(){output.replaceChildren()}function Lf(f){Tu.replaceChildren();const s=document.createElement("iframe");Tu.appendChild(s),s.contentWindow;const c=s.contentDocument||s.contentWindow.document,T=\` <head>
        <script>window.console=window.parent.console<\\/script>
        <script>\${f}<\\/script>
      </head>
      <body>
      </body>\`;c.open(),c.write(T),c.close()}async function ca(){ha(),Kr(),Gu();try{let f=await Xu();Lf(f.get_code());const s=an==="ar"?"انتهى":"End";Zi(\`
\`),Zi(\`--- \${s} ---
\`,uf)}catch(f){console.error(f)}}async function Of(){ha(),Bn.setValue("")}async function Nf(){Kr(),Hu.replaceChildren()}async function Rf(){Kr(),Cf(),await Xu()}async function Xu(){let f=Yt.getValue(),s=new ef,c={ignore_export:!0};const T={preview_id:"#preview_area",معرف_منطقة_العرض:"#preview_area"};s.init(f,T,an,c),s.compile(),document.querySelector("#right_side_label").innerText=an==="ar"?"نص البرنامج":"Code";let C=js_beautify(s.gen_code,lf);return Bn.setOption("mode","javascript"),Bn.setOption("direction","ltr"),Bn.setOption("lineNumberFormatter",fa("ltr")),Bn.setValue(C),s}async function Ff(){document.querySelector("#output").innerHTML=""}async function Df(){document.querySelector("body").addEventListener("keydown",f=>Mf(f)),document.querySelector("body").addEventListener("keyup",f=>{zr[f.key]=!1}),document.querySelector("#theme").addEventListener("change",()=>Sf()),document.querySelector("#run").addEventListener("click",()=>ca()),document.querySelector("#srccode").addEventListener("click",()=>Rf()),document.querySelector("#right_side_close").addEventListener("click",()=>Of()),document.querySelector("#preview_close").addEventListener("click",()=>Nf()),document.querySelector("#clear").addEventListener("click",()=>Ff()),Yt.on("cursorActivity",f=>{let{line:s,ch:c}=Yt.getCursor();s+=1,c+=1,ju(s,c)})}function fa(f){return f==="rtl"?s=>Ys(s):s=>s}function Mf(f){zr[f.key]=!0;let s="";switch(Object.entries(zr).forEach(([c,T])=>{zr[c]&&(s+=c)}),s.toLowerCase()){case"0control":case"control0":ca();break;case"-control":case"control-":Uu();break;case"=control":case"control=":Ku();break}}function Pf(f){var s=document.querySelector("#output");s.appendChild(f),s.scrollTop=s.scrollHeight}function Zi(f,s){f===""&&console.log(\`
\`),oa&&(f&&(f=Wf(f)),qu||f&&(f=If(f)));const c=document.createElement("p");c.textContent=f,c.setAttribute("dir",jr(an)),c.style.whiteSpace="pre-wrap",s&&(c.style.color=s),Pf(c)}function Wf(f){const s=/["'](.*?)["']/gi;return f.toString().replace(s,(c,T)=>c?\`«\${T}»\`:f)}function If(f){function s(T){let C="",E=0;for(;E<T.length;){switch(T[E]){case"0":C+="٠";break;case"1":C+="١";break;case"2":C+="٢";break;case"3":C+="٣";break;case"4":C+="٤";break;case"5":C+="٥";break;case"6":C+="٦";break;case"7":C+="٧";break;case"8":C+="٨";break;case"9":C+="٩";break;case".":C+="٫";break;default:Bf()}E+=1}return C}const c=/([0123456789]+)(\\.)?([0123456789]+)?/gi;return f=f.replace(c,(T,C,E,S)=>{if(T){let w=\`\${s(C)}\`;return E&&(w+=",",S&&(w+=\`\${s(S)}\`)),w}else return f}),f}function Bf(f){throw new Error(f)}function zf(f){Yt.setValue(f)}window.setEditorValue=zf;window.hideRightSide=ha;window.hidePreview=Kr;window.resetOutput=Gu;window.setTheme=ua;
</script>
		<style rel="stylesheet" crossorigin>.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-simplescroll-horizontal div,.CodeMirror-simplescroll-vertical div{position:absolute;background:#ccc;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbb;border-radius:2px}.CodeMirror-simplescroll-horizontal,.CodeMirror-simplescroll-vertical{position:absolute;z-index:6;background:#eee}.CodeMirror-simplescroll-horizontal{bottom:0;left:0;height:8px}.CodeMirror-simplescroll-horizontal div{bottom:0;height:100%}.CodeMirror-simplescroll-vertical{right:0;top:0;width:8px}.CodeMirror-simplescroll-vertical div{right:0;width:100%}.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler,.CodeMirror-overlayscroll .CodeMirror-gutter-filler{display:none}.CodeMirror-overlayscroll-horizontal div,.CodeMirror-overlayscroll-vertical div{position:absolute;background:#bcd;border-radius:3px}.CodeMirror-overlayscroll-horizontal,.CodeMirror-overlayscroll-vertical{position:absolute;z-index:6}.CodeMirror-overlayscroll-horizontal{bottom:0;left:0;height:6px}.CodeMirror-overlayscroll-horizontal div{bottom:0;height:100%}.CodeMirror-overlayscroll-vertical{right:0;top:0;width:6px}.CodeMirror-overlayscroll-vertical div{right:0;width:100%}.CodeMirror-foldmarker{color:#00f;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-open,.CodeMirror-foldgutter-folded{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"▾"}.CodeMirror-foldgutter-folded:after{content:"▸"}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px #0003;border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto;box-sizing:border-box}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}*{box-sizing:border-box}.CodeMirror{flex-grow:1;font-family:monospace;border:solid 1px}html,body{width:100%;height:100%;margin:0;padding:0}body{display:flex;flex-direction:column;font-family:monospace}#wrapper{flex-grow:1;display:flex;flex-direction:column;margin:0;padding:0}#container{flex-grow:1;display:flex;flex-direction:row}#project_label{margin-left:5px;margin-right:5px;border:1px solid}.icon{width:20px;height:20px}#theme{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-top:15px;font-size:0px;background:transparent;background-repeat:no-repeat;margin-top:1px;cursor:pointer}option{font-size:15px}#theme:focus{outline:none}#editor_output{flex-grow:1;display:flex;flex-direction:column}#side_by_side{display:flex;flex-grow:1;flex-direction:row;margin-top:5px}#preview{height:100%;flex-grow:1;display:flex;flex-direction:column;margin-left:5px;margin-right:5px;overflow:scroll;-webkit-scrollbar:none;-ms-overflow-style:none;scrollbar-width:none}#preview_area{border:none;display:flex;overflow:auto;outline:1px solid;height:100%;margin:5px}#left_side_label,#right_side_label{overflow:auto}#left_side,#right_side{display:flex;flex-direction:column;justify-content:stretch}#left_side{flex-grow:3;width:0}#right_side{flex-grow:auto}#tabs_toolbar{overflow:hidden;border-bottom:1px solid}.tab{flex-shrink:0;flex-grow:0;overflow:hidden;align-items:flex-start;cursor:pointer}#editor_toolbar{margin:5px}#left_side_toolbar{display:inline-block}#right_side_toolbar{overflow:hidden;float:right;display:inline-block}#path{margin-left:10px;border-bottom:1px solid}#output_area{display:flex;justify-content:space-between}#output_toolbar{margin-left:5px;margin-right:5px}#right_side_close{float:right;margin:0;line-height:0px}#preview_titlebar{display:flex;justify-content:space-between;padding-left:5px;padding-right:5px}#output{max-height:150px;overflow:auto;word-break:break-all;flex-grow:none}#status_bar{padding-right:5px;padding-left:5px}p{margin:5px 10px 0}.btn-link{cursor:pointer;background:none;border:none}.btn-link:hover{text-decoration:underline}button,select,option,.icon,.divider{color:inherit;background-color:inherit;border:none}button{cursor:pointer}button:hover,#theme:hover{filter:invert(50%) contrast(100%)}#eval{display:none}.divider{margin-top:25px;display:flex;flex-direction:row;-webkit-user-select:none;-ms-user-select:none;user-select:none}.divider-content{color:#6c8dd3;overflow:nowrap;text-align:center;text-justify:center}.divider-part{display:inline;border:.5px solid inherit;flex-grow:3}.cm-s-colorforth.CodeMirror{background:#000;color:#f8f8f8}.cm-s-colorforth .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-colorforth .CodeMirror-guttermarker{color:#ffbd40}.cm-s-colorforth .CodeMirror-guttermarker-subtle{color:#78846f}.cm-s-colorforth .CodeMirror-linenumber{color:#bababa}.cm-s-colorforth .CodeMirror-cursor{border-left:1px solid white}.cm-s-colorforth span.cm-comment{color:#ededed}.cm-s-colorforth span.cm-def{color:#ff1c1c;font-weight:700}.cm-s-colorforth span.cm-keyword{color:#ffd900}.cm-s-colorforth span.cm-builtin{color:#00d95a}.cm-s-colorforth span.cm-variable{color:#73ff00}.cm-s-colorforth span.cm-string{color:#007bff}.cm-s-colorforth span.cm-number{color:#00c4ff}.cm-s-colorforth span.cm-atom{color:#606060}.cm-s-colorforth span.cm-variable-2{color:#eee}.cm-s-colorforth span.cm-variable-3,.cm-s-colorforth span.cm-type{color:#ddd}.cm-s-colorforth span.cm-meta{color:#ff0}.cm-s-colorforth span.cm-qualifier{color:#fff700}.cm-s-colorforth span.cm-bracket{color:#cc7}.cm-s-colorforth span.cm-tag{color:#ffbd40}.cm-s-colorforth span.cm-attribute{color:#fff700}.cm-s-colorforth span.cm-error{color:red}.cm-s-colorforth div.CodeMirror-selected{background:#333d53}.cm-s-colorforth span.cm-compilation{background:#ffffff1f}.cm-s-colorforth .CodeMirror-activeline-background{background:#253540}.cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3,.cm-s-eclipse span.cm-type{color:#0000c0}.cm-s-eclipse span.cm-property,.cm-s-eclipse span.cm-operator{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}.cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:#49483efc}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:#49483efc}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0px}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-comment.cm-attribute{color:#97b757}.cm-s-monokai span.cm-comment.cm-def{color:#bc9262}.cm-s-monokai span.cm-comment.cm-tag{color:#bc6283}.cm-s-monokai span.cm-comment.cm-type{color:#5998a6}.cm-s-monokai span.cm-property,.cm-s-monokai span.cm-attribute{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3,.cm-s-monokai span.cm-type{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:#444477fc}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:#444477fc}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid white}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-number,.cm-s-night span.cm-attribute{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-variable-2,.cm-s-night span.cm-tag{color:#99b2ff}.cm-s-night span.cm-variable-3,.cm-s-night span.cm-def,.cm-s-night span.cm-type{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3,.cm-s-solarized .cm-type{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:#073642fc}.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection,.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection{background:#073642fc}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::selection,.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection{background:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection,.cm-s-light .CodeMirror-line>span::-moz-selection,.cm-s-light .CodeMirror-line>span>span::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{-moz-box-shadow:inset 7px 0 12px -6px #000;-webkit-box-shadow:inset 7px 0 12px -6px #000;box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:#ffffff0f}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:#0000000f}.cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #00FF00}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #00FF00}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3,.cm-s-the-matrix span.cm-type{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}.cm-s-ttcn .cm-quote{color:#f00000}.cm-s-ttcn .cm-header,.cm-strong{font-weight:700}.cm-s-ttcn .cm-link{text-decoration:underline}.cm-s-ttcn .cm-header{color:#00f000;font-weight:700}.cm-s-ttcn .cm-atom{color:#219}.cm-s-ttcn .cm-attribute{color:#00c000}.cm-s-ttcn .cm-bracket{color:#997000}.cm-s-ttcn .cm-comment{color:green}.cm-s-ttcn .cm-def{color:#00f000}.cm-s-ttcn .cm-em{font-style:italic}.cm-s-ttcn .cm-error{color:#f00000}.cm-s-ttcn .cm-hr{color:#999000}.cm-s-ttcn .cm-keyword{color:purple;font-weight:700}.cm-s-ttcn .cm-link{color:#00c;text-decoration:underline}.cm-s-ttcn .cm-meta{color:#555000}.cm-s-ttcn .cm-negative{color:#d44000}.cm-s-ttcn .cm-positive{color:#292000}.cm-s-ttcn .cm-qualifier{color:#555000}.cm-s-ttcn .cm-strikethrough{text-decoration:line-through}.cm-s-ttcn .cm-string{color:#8b0000}.cm-s-ttcn .cm-string-2{color:#f50000}.cm-s-ttcn .cm-strong{font-weight:700}.cm-s-ttcn .cm-tag{color:#170}.cm-s-ttcn .cm-variable{color:olive}.cm-s-ttcn .cm-variable-2{color:#05a000}.cm-s-ttcn .cm-variable-3,.cm-s-ttcn .cm-type{color:#085000}.cm-s-ttcn .cm-invalidchar{color:#f00000}.cm-s-ttcn .cm-accessTypes,.cm-s-ttcn .cm-compareTypes{color:#27408b}.cm-s-ttcn .cm-cmipVerbs{color:#8b2252}.cm-s-ttcn .cm-modifier{color:#d2691e}.cm-s-ttcn .cm-status{color:#8b4545}.cm-s-ttcn .cm-storage{color:#a020f0}.cm-s-ttcn .cm-tags{color:#006400}.cm-s-ttcn .cm-externalCommands{color:#8b4545;font-weight:700}.cm-s-ttcn .cm-fileNCtrlMaskOptions,.cm-s-ttcn .cm-sectionTitle{color:#2e8b57;font-weight:700}.cm-s-ttcn .cm-booleanConsts,.cm-s-ttcn .cm-otherConsts,.cm-s-ttcn .cm-verdictConsts{color:#006400}.cm-s-ttcn .cm-configOps,.cm-s-ttcn .cm-functionOps,.cm-s-ttcn .cm-portOps,.cm-s-ttcn .cm-sutOps,.cm-s-ttcn .cm-timerOps,.cm-s-ttcn .cm-verdictOps{color:#00f}.cm-s-ttcn .cm-preprocessor,.cm-s-ttcn .cm-templateMatch,.cm-s-ttcn .cm-ttcn3Macros{color:#27408b}.cm-s-ttcn .cm-types{color:brown;font-weight:700}.cm-s-ttcn .cm-visibilityModifiers{font-weight:700}.cm-s-ayu-dark.CodeMirror{background:#0a0e14;color:#b3b1ad}.cm-s-ayu-dark div.CodeMirror-selected{background:#273747}.cm-s-ayu-dark .CodeMirror-line::selection,.cm-s-ayu-dark .CodeMirror-line>span::selection,.cm-s-ayu-dark .CodeMirror-line>span>span::selection{background:#273747}.cm-s-ayu-dark .CodeMirror-line::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span::-moz-selection,.cm-s-ayu-dark .CodeMirror-line>span>span::-moz-selection{background:#273747}.cm-s-ayu-dark .CodeMirror-gutters{background:#0a0e14;border-right:0px}.cm-s-ayu-dark .CodeMirror-guttermarker{color:#fff}.cm-s-ayu-dark .CodeMirror-guttermarker-subtle,.cm-s-ayu-dark .CodeMirror-linenumber{color:#3d424d}.cm-s-ayu-dark .CodeMirror-cursor{border-left:1px solid #e6b450}.cm-s-ayu-dark.cm-fat-cursor .CodeMirror-cursor,.cm-s-ayu-dark .cm-animate-fat-cursor{background-color:#a2a8a175!important}.cm-s-ayu-dark span.cm-comment{color:#626a73}.cm-s-ayu-dark span.cm-atom{color:#ae81ff}.cm-s-ayu-dark span.cm-number{color:#e6b450}.cm-s-ayu-dark span.cm-comment.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-comment.cm-def,.cm-s-ayu-dark span.cm-comment.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-comment.cm-type{color:#5998a6}.cm-s-ayu-dark span.cm-property,.cm-s-ayu-dark span.cm-attribute{color:#ffb454}.cm-s-ayu-dark span.cm-keyword{color:#ff8f40}.cm-s-ayu-dark span.cm-builtin{color:#e6b450}.cm-s-ayu-dark span.cm-string{color:#c2d94c}.cm-s-ayu-dark span.cm-variable{color:#b3b1ad}.cm-s-ayu-dark span.cm-variable-2{color:#f07178}.cm-s-ayu-dark span.cm-variable-3{color:#39bae6}.cm-s-ayu-dark span.cm-type{color:#ff8f40}.cm-s-ayu-dark span.cm-def{color:#fe9}.cm-s-ayu-dark span.cm-bracket{color:#f8f8f2}.cm-s-ayu-dark span.cm-tag{color:#39bae6}.cm-s-ayu-dark span.cm-header{color:#c2d94c}.cm-s-ayu-dark span.cm-link{color:#39bae6}.cm-s-ayu-dark span.cm-error{color:#f33}.cm-s-ayu-dark .CodeMirror-activeline-background{background:#01060e}.cm-s-ayu-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716c62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:#716c62fc}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:#716c62fc}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0px}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:gray}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-property,.cm-s-mbo span.cm-attribute{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:#ffffff5e}.cm-s-midnight .CodeMirror-activeline-background{background:#253540}.cm-s-midnight.CodeMirror{background:#0f192a;color:#d1edff}.cm-s-midnight div.CodeMirror-selected{background:#314d67}.cm-s-midnight .CodeMirror-line::selection,.cm-s-midnight .CodeMirror-line>span::selection,.cm-s-midnight .CodeMirror-line>span>span::selection{background:#314d67fc}.cm-s-midnight .CodeMirror-line::-moz-selection,.cm-s-midnight .CodeMirror-line>span::-moz-selection,.cm-s-midnight .CodeMirror-line>span>span::-moz-selection{background:#314d67fc}.cm-s-midnight .CodeMirror-gutters{background:#0f192a;border-right:1px solid}.cm-s-midnight .CodeMirror-guttermarker{color:#fff}.cm-s-midnight .CodeMirror-guttermarker-subtle,.cm-s-midnight .CodeMirror-linenumber{color:#d0d0d0}.cm-s-midnight .CodeMirror-cursor{border-left:1px solid #F8F8F0}.cm-s-midnight span.cm-comment{color:#428bdd}.cm-s-midnight span.cm-atom{color:#ae81ff}.cm-s-midnight span.cm-number{color:#d1edff}.cm-s-midnight span.cm-property,.cm-s-midnight span.cm-attribute{color:#a6e22e}.cm-s-midnight span.cm-keyword{color:#e83737}.cm-s-midnight span.cm-string{color:#1dc116}.cm-s-midnight span.cm-variable,.cm-s-midnight span.cm-variable-2{color:#ffaa3e}.cm-s-midnight span.cm-def{color:#4dd}.cm-s-midnight span.cm-bracket{color:#d1edff}.cm-s-midnight span.cm-tag{color:#449}.cm-s-midnight span.cm-link{color:#ae81ff}.cm-s-midnight span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-midnight .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-moxer.CodeMirror{background-color:#090a0f;color:#8e95b4;line-height:1.8}.cm-s-moxer .CodeMirror-gutters{background:#090a0f;color:#35394b;border:none}.cm-s-moxer .CodeMirror-guttermarker,.cm-s-moxer .CodeMirror-guttermarker-subtle,.cm-s-moxer .CodeMirror-linenumber{color:#35394b}.cm-s-moxer .CodeMirror-cursor{border-left:1px solid #FFCC00}.cm-s-moxer div.CodeMirror-selected{background:#80cbc433}.cm-s-moxer.CodeMirror-focused div.CodeMirror-selected{background:#212431}.cm-s-moxer .CodeMirror-line::selection,.cm-s-moxer .CodeMirror-line>span::selection,.cm-s-moxer .CodeMirror-line>span>span::selection{background:#212431}.cm-s-moxer .CodeMirror-line::-moz-selection,.cm-s-moxer .CodeMirror-line>span::-moz-selection,.cm-s-moxer .CodeMirror-line>span>span::-moz-selection{background:#212431}.cm-s-moxer .CodeMirror-activeline-background,.cm-s-moxer .CodeMirror-activeline-gutter .CodeMirror-linenumber{background:#21243180}.cm-s-moxer .cm-keyword,.cm-s-moxer .cm-operator{color:#d46c6c}.cm-s-moxer .cm-variable-2{color:#81c5da}.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#f07178}.cm-s-moxer .cm-builtin{color:#ffcb6b}.cm-s-moxer .cm-atom{color:#a99be2}.cm-s-moxer .cm-number{color:#7ca4c0}.cm-s-moxer .cm-def{color:#f5dfa5}.cm-s-moxer .CodeMirror-line .cm-def~.cm-def{color:#81c5da}.cm-s-moxer .cm-string{color:#b2e4ae}.cm-s-moxer .cm-string-2{color:#f07178}.cm-s-moxer .cm-comment{color:#3f445a}.cm-s-moxer .cm-variable{color:#8e95b4}.cm-s-moxer .cm-tag{color:#ff5370}.cm-s-moxer .cm-meta{color:#ffcb6b}.cm-s-moxer .cm-attribute{color:#c792ea}.cm-s-moxer .cm-property{color:#81c5da}.cm-s-moxer .cm-qualifier,.cm-s-moxer .cm-variable-3,.cm-s-moxer .cm-type{color:#decb6b}.cm-s-moxer .cm-error{color:#fff;background-color:#ff5370}.cm-s-moxer .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}.cm-s-panda-syntax{background:#292a2b;color:#e6e6e6;font-family:Operator Mono,Source Code Pro,Menlo,Monaco,Consolas,Courier New,monospace}.cm-s-panda-syntax .CodeMirror-cursor{border-color:#ff2c6d}.cm-s-panda-syntax .CodeMirror-activeline-background{background:#637b9c1a}.cm-s-panda-syntax .CodeMirror-selected{background:#fff}.cm-s-panda-syntax .cm-comment{font-style:italic;color:#676b79}.cm-s-panda-syntax .cm-operator{color:#f3f3f3}.cm-s-panda-syntax .cm-string{color:#19f9d8}.cm-s-panda-syntax .cm-string-2{color:#ffb86c}.cm-s-panda-syntax .cm-tag{color:#ff2c6d}.cm-s-panda-syntax .cm-meta{color:#b084eb}.cm-s-panda-syntax .cm-number{color:#ffb86c}.cm-s-panda-syntax .cm-atom{color:#ff2c6d}.cm-s-panda-syntax .cm-keyword{color:#ff75b5}.cm-s-panda-syntax .cm-variable{color:#ffb86c}.cm-s-panda-syntax .cm-variable-2,.cm-s-panda-syntax .cm-variable-3,.cm-s-panda-syntax .cm-type{color:#ff9ac1}.cm-s-panda-syntax .cm-def{color:#e6e6e6}.cm-s-panda-syntax .cm-property{color:#f3f3f3}.cm-s-panda-syntax .cm-unit,.cm-s-panda-syntax .cm-attribute{color:#ffb86c}.cm-s-panda-syntax .CodeMirror-matchingbracket{border-bottom:1px dotted #19F9D8;padding-bottom:2px;color:#e6e6e6}.cm-s-panda-syntax .CodeMirror-gutters{background:#292a2b;border-right-color:#ffffff1a}.cm-s-panda-syntax .CodeMirror-linenumber{color:#e6e6e6;opacity:.6}.cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:#2d2d2dfc}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0px}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-property,.cm-s-tomorrow-night-eighties span.cm-attribute{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}
</style>
	</head>
	<body style="visibility: hidden;">
		<div id="wrapper" class="CodeMirror">
			<div id="container">							
				<div id="editor_output">
					<div id="tabs_toolbar">
					<div id="editor_toolbar">
						<div id="left_side_toolbar" >
							<button id="run">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
							</button>
						</div>
						<div id="right_side_toolbar">
							<button id="srccode">
								<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 640 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
							</button>
							<select name="theme" id="theme" class="icon">
								<option id="theme_ttcn" value="ttcn"></option>
								<option id="theme_default" value="default"></option>
								<option id="theme_solarized_light" value="solarized"></option>
								<option id="theme_eclipse" value="eclipse"></option>
								<option id="theme_midnight" value="midnight"></option>
								<option id="theme_panda_syntax" value="panda-syntax"></option>
								<option id="theme_tomorrow_night_eighties" value="tomorrow-night-eighties"></option>
								<option id="theme_night" value="night"></option>
								<option id="theme_colorforth" value="colorforth"></option>								
								<option id="theme_monokai" value="monokai"></option>
								<option id="theme_the_matrix" value="the-matrix"></option>
								<option id="theme_ayu_dark" value="ayu-dark"></option>
								<option id="theme_moxer" value="moxer"></option>
								<option id="theme_mbo" value="mbo"></option>						
							</select>					
						</div>
					</div>		
					</div>
					<div id="side_by_side">
						<div id="left_side">
							<div id="left_side_titlebar">
								<label id="left_side_label"></label>
								<span id="src_opts">
								</span>
							</div>
							<textarea id="code" name="code"></textarea>
					    </div>
						<div id="right_side">
							<div id = "right_side_titlebar">
								<label id="right_side_label"></label>
								 <button id="right_side_close">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								 </button>
							</div>
							<textarea id="target_code" name="target_code"></textarea>
						</div>
						<div id="preview">
							<div id="preview_titlebar">
								<label id="preview_label"></label>
								<button id="preview_close" class="icon" style="padding: 0px; margin: 0px;">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>
								</button>
							</div>
							<iframe id="preview_area"></iframe>							
							
						</div>
					</div>			
					<div id="output_container">
						<div id="output_area">
							<label id="output_label"></label>		
							<div id="output_toolbar">
								<button id="clear">
									<svg class="icon" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 576 512">!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"/></svg>
								</button>
							</div>		
						</div>	
						<div id="output" class="CodeMirror"></div>
					</div>
				</div>
			</div>
		</div>	
		<footer id="status_bar"></footer>		
		<div id="eval"></div>
	</body>
</html>`
                const iframe = document.createElement('iframe');
                iframe.id = id;
                iframe.sandbox = 'allow-forms allow-scripts allow-same-origin';
                iframe.setAttribute("style","width:100%; height: 100%;");
                // iframe.src = 'data:text/html,'; 
                parent.replaceChildren()
                parent.appendChild(iframe)
                const iframe_win = iframe.contentWindow || iframe;                
                // iframe_win.opts = opts ;
                iframe.srcdoc = ` ${code.replace("'%SEEN_EDITOR__OPTS%'", `${JSON.stringify(opts)}`)} `;
                return iframe
              }                
              